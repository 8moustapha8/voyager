<!-- <div>{{projection.key}}</div> -->
<div ng-repeat="(akey, cluster) in Visrec.chartClusters" class="vis-list-item card">
  <div ng-if="cluster && cluster[0]">
    <div class="aggregate-header">{{ fieldSet.key }}</div>
    <div class="vis-{{akey}}">
      {{pkey}}-{{akey}}
      <!-- {{cluster[0][0] | compactJSON }} -->
      <vl-plot vis-class="vis-list" show-copy="true"
        vl-spec="cluster[0][0].vlSpec"
        vg-spec="cluster[0][0].vgSpec"></vl-plot>
    </div>
    <div class="right">
      &nbsp;
      <a ng-href="{{ { type: 'vl', encoding: cluster[0][0].vlSpec } | reportUrl }}" target="_blank" class="command">Report an issue</a>
      <a class="command" ui-zeroclip zeroclip-model="cluster[0][0].vlSpec | compactJSON">Copy</a>
      <a ng-click="select(cluster, $index)" class="command">Select</a>
    </div>
  </div>
</div>

<encoding-variations></encoding-variations>
