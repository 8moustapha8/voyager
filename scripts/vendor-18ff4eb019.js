/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Q.type(e);return"function"===n||Q.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(Q.isFunction(t))return Q.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Q.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return Q.filter(t,e,n);t=Q.filter(t,e)}return Q.grep(e,function(e){return V.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t=pe[e]={};return Q.each(e.match(he)||[],function(e,n){t[n]=!0}),t}function o(){J.removeEventListener("DOMContentLoaded",o,!1),e.removeEventListener("load",o,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+s.uid++}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(xe,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:be.test(n)?Q.parseJSON(n):n}catch(i){}ye.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function f(){try{return J.activeElement}catch(e){}}function d(e,t){return Q.nodeName(e,"table")&&Q.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function h(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function p(e){var t=Re.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,r=e.length;r>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function m(e,t){var n,r,i,a,o,s,u,l;if(1===t.nodeType){if(ve.hasData(e)&&(a=ve.access(e),o=ve.set(t,a),l=a.events)){delete o.handle,o.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)Q.event.add(t,i,l[i][n])}ye.hasData(e)&&(s=ye.access(e),u=Q.extend({},s),ye.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Q.nodeName(e,t)?Q.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&_e.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var r,i=Q(n.createElement(t)).appendTo(n.body),a=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:Q.css(i[0],"display");return i.detach(),a}function x(e){var t=J,n=Ue[e];return n||(n=b(e,t),"none"!==n&&n||(Fe=(Fe||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Fe[0].contentDocument,t.write(),t.close(),n=b(e,t),Fe.detach()),Ue[e]=n),n}function w(e,t,n){var r,i,a,o,s=e.style;return n=n||He(e),n&&(o=n.getPropertyValue(t)||n[t]),n&&(""!==o||Q.contains(e.ownerDocument,e)||(o=Q.style(e,t)),qe.test(o)&&ze.test(t)&&(r=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=i,s.maxWidth=a)),void 0!==o?o+"":o}function $(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function k(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Xe.length;i--;)if(t=Xe[i]+n,t in e)return t;return r}function _(e,t,n){var r=We.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function S(e,t,n,r,i){for(var a=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>a;a+=2)"margin"===n&&(o+=Q.css(e,n+$e[a],!0,i)),r?("content"===n&&(o-=Q.css(e,"padding"+$e[a],!0,i)),"margin"!==n&&(o-=Q.css(e,"border"+$e[a]+"Width",!0,i))):(o+=Q.css(e,"padding"+$e[a],!0,i),"padding"!==n&&(o+=Q.css(e,"border"+$e[a]+"Width",!0,i)));return o}function E(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,a=He(e),o="border-box"===Q.css(e,"boxSizing",!1,a);if(0>=i||null==i){if(i=w(e,t,a),(0>i||null==i)&&(i=e.style[t]),qe.test(i))return i;r=o&&(K.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+S(e,t,n||(o?"border":"content"),r,a)+"px"}function C(e,t){for(var n,r,i,a=[],o=0,s=e.length;s>o;o++)r=e[o],r.style&&(a[o]=ve.get(r,"olddisplay"),n=r.style.display,t?(a[o]||"none"!==n||(r.style.display=""),""===r.style.display&&ke(r)&&(a[o]=ve.access(r,"olddisplay",x(r.nodeName)))):(i=ke(r),"none"===n&&i||ve.set(r,"olddisplay",i?n:Q.css(r,"display"))));for(o=0;s>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?a[o]||"":"none"));return e}function M(e,t,n,r,i){return new M.prototype.init(e,t,n,r,i)}function T(){return setTimeout(function(){Ke=void 0}),Ke=Q.now()}function O(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=$e[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function A(e,t,n){for(var r,i=(nt[t]||[]).concat(nt["*"]),a=0,o=i.length;o>a;a++)if(r=i[a].call(n,t,e))return r}function N(e,t,n){var r,i,a,o,s,u,l,c,f=this,d={},h=e.style,p=e.nodeType&&ke(e),g=ve.get(e,"fxshow");n.queue||(s=Q._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,Q.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],l=Q.css(e,"display"),c="none"===l?ve.get(e,"olddisplay")||x(e.nodeName):l,"inline"===c&&"none"===Q.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Ze.exec(i)){if(delete t[r],a=a||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}d[r]=g&&g[r]||Q.style(e,r)}else l=void 0;if(Q.isEmptyObject(d))"inline"===("none"===l?x(e.nodeName):l)&&(h.display=l);else{g?"hidden"in g&&(p=g.hidden):g=ve.access(e,"fxshow",{}),a&&(g.hidden=!p),p?Q(e).show():f.done(function(){Q(e).hide()}),f.done(function(){var t;ve.remove(e,"fxshow");for(t in d)Q.style(e,t,d[t])});for(r in d)o=A(p?g[r]:0,r,f),r in g||(g[r]=o.start,p&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function D(e,t){var n,r,i,a,o;for(n in e)if(r=Q.camelCase(n),i=t[r],a=e[n],Q.isArray(a)&&(i=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),o=Q.cssHooks[r],o&&"expand"in o){a=o.expand(a),delete e[r];for(n in a)n in e||(e[n]=a[n],t[n]=i)}else t[r]=i}function L(e,t,n){var r,i,a=0,o=tt.length,s=Q.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Ke||T(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,a=1-r,o=0,u=l.tweens.length;u>o;o++)l.tweens[o].run(a);return s.notifyWith(e,[l,a,n]),1>a&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ke||T(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Q.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(D(c,l.opts.specialEasing);o>a;a++)if(r=tt[a].call(l,e,c,l.opts))return r;return Q.map(c,A,l),Q.isFunction(l.opts.start)&&l.opts.start.call(e,l),Q.fx.timer(Q.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function I(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,a=t.toLowerCase().match(he)||[];if(Q.isFunction(n))for(;r=a[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var u;return a[s]=!0,Q.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||a[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var a={},o=e===bt;return i(t.dataTypes[0])||!a["*"]&&i("*")}function P(e,t){var n,r,i=Q.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Q.extend(!0,e,r),e}function j(e,t,n){for(var r,i,a,o,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)a=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){a=i;break}o||(o=i)}a=a||o}return a?(a!==u[0]&&u.unshift(a),n[a]):void 0}function F(e,t,n,r){var i,a,o,s,u,l={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)l[o.toLowerCase()]=e.converters[o];for(a=c.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=a,a=c.shift())if("*"===a)a=u;else if("*"!==u&&u!==a){if(o=l[u+" "+a]||l["* "+a],!o)for(i in l)if(s=i.split(" "),s[1]===a&&(o=l[u+" "+s[0]]||l["* "+s[0]])){o===!0?o=l[i]:l[i]!==!0&&(a=s[0],c.unshift(s[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(f){return{state:"parsererror",error:o?f:"No conversion from "+u+" to "+a}}}return{state:"success",data:t}}function U(e,t,n,r){var i;if(Q.isArray(t))Q.each(t,function(t,i){n||_t.test(e)?r(e,i):U(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Q.type(t))r(e,t);else for(i in t)U(e+"["+i+"]",t[i],n,r)}function z(e){return Q.isWindow(e)?e:9===e.nodeType&&e.defaultView}var q=[],H=q.slice,B=q.concat,W=q.push,V=q.indexOf,Y={},G=Y.toString,X=Y.hasOwnProperty,K={},J=e.document,Z="2.1.4",Q=function(e,t){return new Q.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};Q.fn=Q.prototype={jquery:Z,constructor:Q,selector:"",length:0,toArray:function(){return H.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:H.call(this)},pushStack:function(e){var t=Q.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Q.each(this,e,t)},map:function(e){return this.pushStack(Q.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(H.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:q.sort,splice:q.splice},Q.extend=Q.fn.extend=function(){var e,t,n,r,i,a,o=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[s]||{},s++),"object"==typeof o||Q.isFunction(o)||(o={}),s===u&&(o=this,s--);u>s;s++)if(null!=(e=arguments[s]))for(t in e)n=o[t],r=e[t],o!==r&&(l&&r&&(Q.isPlainObject(r)||(i=Q.isArray(r)))?(i?(i=!1,a=n&&Q.isArray(n)?n:[]):a=n&&Q.isPlainObject(n)?n:{},o[t]=Q.extend(l,a,r)):void 0!==r&&(o[t]=r));return o},Q.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Q.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Q.type(e)||e.nodeType||Q.isWindow(e)?!1:e.constructor&&!X.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Y[G.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Q.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,a=0,o=e.length,s=n(e);if(r){if(s)for(;o>a&&(i=t.apply(e[a],r),i!==!1);a++);else for(a in e)if(i=t.apply(e[a],r),i===!1)break}else if(s)for(;o>a&&(i=t.call(e[a],a,e[a]),i!==!1);a++);else for(a in e)if(i=t.call(e[a],a,e[a]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Q.merge(r,"string"==typeof e?[e]:e):W.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:V.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],a=0,o=e.length,s=!n;o>a;a++)r=!t(e[a],a),r!==s&&i.push(e[a]);return i},map:function(e,t,r){var i,a=0,o=e.length,s=n(e),u=[];if(s)for(;o>a;a++)i=t(e[a],a,r),null!=i&&u.push(i);else for(a in e)i=t(e[a],a,r),null!=i&&u.push(i);return B.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),Q.isFunction(e)?(r=H.call(arguments,2),i=function(){return e.apply(t||this,r.concat(H.call(arguments)))},i.guid=e.guid=e.guid||Q.guid++,i):void 0},now:Date.now,support:K}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()});var ie=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(e){function t(e,t,n,r){var i,a,o,s,u,l,f,h,p,g;if((t?t.ownerDocument||t:U)!==N&&A(t),t=t||N,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&L){if(11!==s&&(i=ye.exec(e)))if(o=i[1]){if(9===s){if(a=t.getElementById(o),!a||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(o))&&j(t,a)&&a.id===o)return n.push(a),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((o=i[3])&&w.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(o)),n}if(w.qsa&&(!I||!I.test(e))){if(h=f=F,p=t,g=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=S(e),(f=t.getAttribute("id"))?h=f.replace(xe,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",u=l.length;u--;)l[u]=h+d(l[u]);p=be.test(e)&&c(t.parentNode)||t,g=l.join(",")}if(g)try{return Z.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{f||t.removeAttribute("id")}}}return C(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>$.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[F]=!0,e}function i(e){var t=N.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),r=e.length;r--;)$.attrHandle[n[r]]=t}function o(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,a=e([],n.length,t),o=a.length;o--;)n[i=a[o]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function d(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===r,a=q++;return t.first?function(t,n,a){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,a)}:function(t,n,o){var s,u,l=[z,a];if(o){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,o))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[F]||(t[F]={}),(s=u[r])&&s[0]===z&&s[1]===a)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,o))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,a=n.length;a>i;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var a,o=[],s=0,u=e.length,l=null!=t;u>s;s++)(a=e[s])&&(!n||n(a,r,i))&&(o.push(a),l&&t.push(s));return o}function v(e,t,n,i,a,o){return i&&!i[F]&&(i=v(i)),a&&!a[F]&&(a=v(a,o)),r(function(r,o,s,u){var l,c,f,d=[],h=[],p=o.length,v=r||g(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:m(v,d,e,s,u),b=n?a||(r?e:p||i)?[]:o:y;if(n&&n(y,b,s,u),i)for(l=m(b,h),i(l,[],s,u),c=l.length;c--;)(f=l[c])&&(b[h[c]]=!(y[h[c]]=f));if(r){if(a||e){if(a){for(l=[],c=b.length;c--;)(f=b[c])&&l.push(y[c]=f);a(null,b=[],l,u)}for(c=b.length;c--;)(f=b[c])&&(l=a?ee(r,f):d[c])>-1&&(r[l]=!(o[l]=f))}}else b=m(b===o?b.splice(p,b.length):b),a?a(null,o,b,u):Z.apply(o,b)})}function y(e){for(var t,n,r,i=e.length,a=$.relative[e[0].type],o=a||$.relative[" "],s=a?1:0,u=h(function(e){return e===t},o,!0),l=h(function(e){return ee(t,e)>-1},o,!0),c=[function(e,n,r){var i=!a&&(r||n!==M)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=$.relative[e[s].type])c=[h(p(c),n)];else{if(n=$.filter[e[s].type].apply(null,e[s].matches),n[F]){for(r=++s;i>r&&!$.relative[e[r].type];r++);return v(s>1&&p(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&d(e))}c.push(n)}return p(c)}function b(e,n){var i=n.length>0,a=e.length>0,o=function(r,o,s,u,l){var c,f,d,h=0,p="0",g=r&&[],v=[],y=M,b=r||a&&$.find.TAG("*",l),x=z+=null==y?1:Math.random()||.1,w=b.length;for(l&&(M=o!==N&&o);p!==w&&null!=(c=b[p]);p++){if(a&&c){for(f=0;d=e[f++];)if(d(c,o,s)){u.push(c);break}l&&(z=x)}i&&((c=!d&&c)&&h--,r&&g.push(c))}if(h+=p,i&&p!==h){for(f=0;d=n[f++];)d(g,v,o,s);if(r){if(h>0)for(;p--;)g[p]||v[p]||(v[p]=K.call(u));v=m(v)}Z.apply(u,v),l&&!r&&v.length>0&&h+n.length>1&&t.uniqueSort(u)}return l&&(z=x,M=y),g};return i?r(o):o}var x,w,$,k,_,S,E,C,M,T,O,A,N,D,L,I,R,P,j,F="sizzle"+1*new Date,U=e.document,z=0,q=0,H=n(),B=n(),W=n(),V=function(e,t){return e===t&&(O=!0),0},Y=1<<31,G={}.hasOwnProperty,X=[],K=X.pop,J=X.push,Z=X.push,Q=X.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),ae="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),fe=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(oe),he=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),$e=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},ke=function(){A()};try{Z.apply(X=Q.call(U.childNodes),U.childNodes),X[U.childNodes.length].nodeType}catch(_e){Z={apply:X.length?function(e,t){J.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},_=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},A=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:U;return r!==N&&9===r.nodeType&&r.documentElement?(N=r,D=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",ke,!1):n.attachEvent&&n.attachEvent("onunload",ke)),L=!_(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(r.getElementsByClassName),w.getById=i(function(e){return D.appendChild(e).id=F,!r.getElementsByName||!r.getElementsByName(F).length}),w.getById?($.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},$.filter.ID=function(e){var t=e.replace(we,$e);return function(e){return e.getAttribute("id")===t}}):(delete $.find.ID,$.filter.ID=function(e){var t=e.replace(we,$e);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),$.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[i++];)1===n.nodeType&&r.push(n);return r}return a},$.find.CLASS=w.getElementsByClassName&&function(e,t){return L?t.getElementsByClassName(e):void 0},R=[],I=[],(w.qsa=ve.test(r.querySelectorAll))&&(i(function(e){D.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+F+"-]").length||I.push("~="),e.querySelectorAll(":checked").length||I.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||I.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(w.matchesSelector=ve.test(P=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(e){w.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),R.push("!=",oe)}),I=I.length&&new RegExp(I.join("|")),R=R.length&&new RegExp(R.join("|")),t=ve.test(D.compareDocumentPosition),j=t||ve.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return O=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===U&&j(U,e)?-1:t===r||t.ownerDocument===U&&j(U,t)?1:T?ee(T,e)-ee(T,t):0:4&n?-1:1)}:function(e,t){if(e===t)return O=!0,0;var n,i=0,a=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!a||!s)return e===r?-1:t===r?1:a?-1:s?1:T?ee(T,e)-ee(T,t):0;if(a===s)return o(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?o(u[i],l[i]):u[i]===U?-1:l[i]===U?1:0},r):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==N&&A(e),n=n.replace(fe,"='$1']"),!(!w.matchesSelector||!L||R&&R.test(n)||I&&I.test(n)))try{var r=P.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&A(e),j(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&A(e);var n=$.attrHandle[t.toLowerCase()],r=n&&G.call($.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==r?r:w.attributes||!L?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(O=!w.detectDuplicates,T=!w.sortStable&&e.slice(0),e.sort(V),O){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return T=null,e},k=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=k(t);return n},$=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,$e),e[3]=(e[3]||e[4]||e[5]||"").replace(we,$e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,$e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var a=t.attr(i,e);return null==a?"!="===n:n?(a+="","="===n?a===r:"!="===n?a!==r:"^="===n?r&&0===a.indexOf(r):"*="===n?r&&a.indexOf(r)>-1:"$="===n?r&&a.slice(-r.length)===r:"~="===n?(" "+a.replace(se," ")+" ").indexOf(r)>-1:"|="===n?a===r||a.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,d,h,p,g=a!==o?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(m){if(a){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&y){for(c=m[F]||(m[F]={}),l=c[e]||[],h=l[0]===z&&l[1],d=l[0]===z&&l[2],f=h&&m.childNodes[h];f=++h&&f&&f[g]||(d=h=0)||p.pop();)if(1===f.nodeType&&++d&&f===t){c[e]=[z,h,d];break}}else if(y&&(l=(t[F]||(t[F]={}))[e])&&l[0]===z)d=l[1];else for(;(f=++h&&f&&f[g]||(d=h=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(y&&((f[F]||(f[F]={}))[e]=[z,d]),f!==t)););return d-=i,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(e,n){var i,a=$.pseudos[e]||$.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[F]?a(n):a.length>1?(i=[e,e,"",n],$.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=a(e,n),o=i.length;o--;)r=ee(e,i[o]),e[r]=!(t[r]=i[o])}):function(e){return a(e,0,i)}):a}},pseudos:{not:r(function(e){var t=[],n=[],i=E(e.replace(ue,"$1"));return i[F]?r(function(e,t,n,r){for(var a,o=i(e,null,r,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,r,a){return t[0]=e,i(t,null,a,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,$e),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:r(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,$e).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!$.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},$.pseudos.nth=$.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})$.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})$.pseudos[x]=u(x);return f.prototype=$.filters=$.pseudos,$.setFilters=new f,S=t.tokenize=function(e,n){var r,i,a,o,s,u,l,c=B[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=$.preFilter;s;){(!r||(i=le.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(a=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),a.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));for(o in $.filter)!(i=pe[o].exec(s))||l[o]&&!(i=l[o](i))||(r=i.shift(),a.push({value:r,type:o,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):B(e,u).slice(0)},E=t.compile=function(e,t){var n,r=[],i=[],a=W[e+" "];if(!a){for(t||(t=S(e)),n=t.length;n--;)a=y(t[n]),a[F]?r.push(a):i.push(a);a=W(e,b(i,r)),a.selector=e}return a},C=t.select=function(e,t,n,r){var i,a,o,s,u,l="function"==typeof e&&e,f=!r&&S(e=l.selector||e);if(n=n||[],1===f.length){if(a=f[0]=f[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&w.getById&&9===t.nodeType&&L&&$.relative[a[1].type]){if(t=($.find.ID(o.matches[0].replace(we,$e),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(i=pe.needsContext.test(e)?0:a.length;i--&&(o=a[i],!$.relative[s=o.type]);)if((u=$.find[s])&&(r=u(o.matches[0].replace(we,$e),be.test(a[0].type)&&c(t.parentNode)||t))){if(a.splice(i,1),e=r.length&&d(a),!e)return Z.apply(n,r),n;break}}return(l||E(e,f))(r,t,!L,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=F.split("").sort(V).join("")===F,w.detectDuplicates=!!O,A(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(N.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||a(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Q.find=ie,Q.expr=ie.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=ie.uniqueSort,Q.text=ie.getText,Q.isXMLDoc=ie.isXML,Q.contains=ie.contains;var ae=Q.expr.match.needsContext,oe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Q.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Q.find.matchesSelector(r,e)?[r]:[]:Q.find.matches(e,Q.grep(t,function(e){return 1===e.nodeType}))},Q.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(Q(e).filter(function(){for(t=0;n>t;t++)if(Q.contains(i[t],this))return!0}));for(t=0;n>t;t++)Q.find(e,i[t],r);return r=this.pushStack(n>1?Q.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ae.test(e)?Q(e):e||[],!1).length}});var ue,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Q.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:le.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ue).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Q?t[0]:t,Q.merge(this,Q.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),oe.test(n[1])&&Q.isPlainObject(t))for(n in t)Q.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=J.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?"undefined"!=typeof ue.ready?ue.ready(e):e(Q):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))};ce.prototype=Q.fn,ue=Q(J);var fe=/^(?:parents|prev(?:Until|All))/,de={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Q(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Q.fn.extend({has:function(e){var t=Q(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Q.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,a=[],o=ae.test(e)||"string"!=typeof e?Q(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?Q.unique(a):a)},index:function(e){return e?"string"==typeof e?V.call(Q(e),this[0]):V.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Q.unique(Q.merge(this.get(),Q(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Q.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Q.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Q.dir(e,"previousSibling",n)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(n,r){var i=Q.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Q.filter(r,i)),this.length>1&&(de[e]||Q.unique(i),fe.test(e)&&i.reverse()),this.pushStack(i)}});var he=/\S+/g,pe={};Q.Callbacks=function(e){e="string"==typeof e?pe[e]||a(e):Q.extend({},e);var t,n,r,i,o,s,u=[],l=!e.once&&[],c=function(a){for(t=e.memory&&a,n=!0,s=i||0,i=0,o=u.length,r=!0;u&&o>s;s++)if(u[s].apply(a[0],a[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function a(t){Q.each(t,function(t,n){var r=Q.type(n);"function"===r?e.unique&&f.has(n)||u.push(n):n&&n.length&&"string"!==r&&a(n)})}(arguments),r?o=u.length:t&&(i=n,c(t))}return this},remove:function(){return u&&Q.each(arguments,function(e,t){for(var n;(n=Q.inArray(t,u,n))>-1;)u.splice(n,1),r&&(o>=n&&o--,s>=n&&s--)}),this},has:function(e){return e?Q.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],o=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||f.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(n){Q.each(t,function(t,a){var o=Q.isFunction(e[t])&&e[t];i[a[1]](function(){var e=o&&o.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,r):r}},i={};return r.pipe=r.then,Q.each(t,function(e,a){var o=a[2],s=a[3];r[a[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[a[0]]=function(){return i[a[0]+"With"](this===i?r:this,arguments),this},i[a[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,a=H.call(arguments),o=a.length,s=1!==o||e&&Q.isFunction(e.promise)?o:0,u=1===s?e:Q.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?H.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(o>1)for(t=new Array(o),n=new Array(o),r=new Array(o);o>i;i++)a[i]&&Q.isFunction(a[i].promise)?a[i].promise().done(l(i,r,a)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,a),u.promise()}});var ge;Q.fn.ready=function(e){return Q.ready.promise().done(e),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){(e===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,e!==!0&&--Q.readyWait>0||(ge.resolveWith(J,[Q]),Q.fn.triggerHandler&&(Q(J).triggerHandler("ready"),Q(J).off("ready"))))}}),Q.ready.promise=function(t){return ge||(ge=Q.Deferred(),"complete"===J.readyState?setTimeout(Q.ready):(J.addEventListener("DOMContentLoaded",o,!1),e.addEventListener("load",o,!1))),ge.promise(t)},Q.ready.promise();var me=Q.access=function(e,t,n,r,i,a,o){var s=0,u=e.length,l=null==n;if("object"===Q.type(n)){i=!0;for(s in n)Q.access(e,t,s,n[s],!0,a,o)}else if(void 0!==r&&(i=!0,Q.isFunction(r)||(o=!0),l&&(o?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(Q(e),n)})),t))for(;u>s;s++)t(e[s],n,o?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):a};Q.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,Q.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),a=this.cache[i];if("string"==typeof t)a[t]=n;else if(Q.isEmptyObject(a))Q.extend(this.cache[i],t);else for(r in t)a[r]=t[r];return a},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,Q.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,a=this.key(e),o=this.cache[a];if(void 0===t)this.cache[a]={};else{Q.isArray(t)?r=t.concat(t.map(Q.camelCase)):(i=Q.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(he)||[])),n=r.length;for(;n--;)delete o[r[n]]}},hasData:function(e){return!Q.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new s,ye=new s,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;Q.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Q.fn.extend({data:function(e,t){var n,r,i,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(i=ye.get(a),1===a.nodeType&&!ve.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(r=o[n].name,0===r.indexOf("data-")&&(r=Q.camelCase(r.slice(5)),u(a,r,i[r])));ve.set(a,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ye.set(this,e)}):me(this,function(t){var n,r=Q.camelCase(e);if(a&&void 0===t){if(n=ye.get(a,e),void 0!==n)return n;if(n=ye.get(a,r),void 0!==n)return n;if(n=u(a,r,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,r);ye.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),Q.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ve.get(e,t),n&&(!r||Q.isArray(n)?r=ve.access(e,t,Q.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Q.queue(e,t),r=n.length,i=n.shift(),a=Q._queueHooks(e,t),o=function(){Q.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete a.stop,i.call(e,o,a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Q.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Q.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Q.queue(this[0],e):void 0===t?this:this.each(function(){var n=Q.queue(this,e,t);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Q.Deferred(),a=this,o=this.length,s=function(){--r||i.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)n=ve.get(a[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$e=["Top","Right","Bottom","Left"],ke=function(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)},_e=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),K.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Se="undefined";K.focusinBubbles="onfocusin"in e;var Ee=/^key/,Ce=/^(?:mouse|pointer|contextmenu)|click/,Me=/^(?:focusinfocus|focusoutblur)$/,Te=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,t,n,r,i){var a,o,s,u,l,c,f,d,h,p,g,m=ve.get(e);if(m)for(n.handler&&(a=n,n=a.handler,i=a.selector),n.guid||(n.guid=Q.guid++),(u=m.events)||(u=m.events={}),(o=m.handle)||(o=m.handle=function(t){return typeof Q!==Se&&Q.event.triggered!==t.type?Q.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(he)||[""],l=t.length;l--;)s=Te.exec(t[l])||[],h=g=s[1],p=(s[2]||"").split(".").sort(),h&&(f=Q.event.special[h]||{},h=(i?f.delegateType:f.bindType)||h,f=Q.event.special[h]||{},c=Q.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Q.expr.match.needsContext.test(i),namespace:p.join(".")},a),(d=u[h])||(d=u[h]=[],d.delegateCount=0,f.setup&&f.setup.call(e,r,p,o)!==!1||e.addEventListener&&e.addEventListener(h,o,!1)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),Q.event.global[h]=!0)},remove:function(e,t,n,r,i){var a,o,s,u,l,c,f,d,h,p,g,m=ve.hasData(e)&&ve.get(e);if(m&&(u=m.events)){for(t=(t||"").match(he)||[""],l=t.length;l--;)if(s=Te.exec(t[l])||[],h=g=s[1],p=(s[2]||"").split(".").sort(),h){for(f=Q.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,d=u[h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=d.length;a--;)c=d[a],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(a,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(e,c));o&&!d.length&&(f.teardown&&f.teardown.call(e,p,m.handle)!==!1||Q.removeEvent(e,h,m.handle),delete u[h])}else for(h in u)Q.event.remove(e,h+t[l],n,r,!0);Q.isEmptyObject(u)&&(delete m.handle,ve.remove(e,"events"))}},trigger:function(t,n,r,i){var a,o,s,u,l,c,f,d=[r||J],h=X.call(t,"type")?t.type:t,p=X.call(t,"namespace")?t.namespace.split("."):[];if(o=s=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!Me.test(h+Q.event.triggered)&&(h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),l=h.indexOf(":")<0&&"on"+h,t=t[Q.expando]?t:new Q.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),
n=null==n?[t]:Q.makeArray(n,[t]),f=Q.event.special[h]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!Q.isWindow(r)){for(u=f.delegateType||h,Me.test(u+h)||(o=o.parentNode);o;o=o.parentNode)d.push(o),s=o;s===(r.ownerDocument||J)&&d.push(s.defaultView||s.parentWindow||e)}for(a=0;(o=d[a++])&&!t.isPropagationStopped();)t.type=a>1?u:f.bindType||h,c=(ve.get(o,"events")||{})[t.type]&&ve.get(o,"handle"),c&&c.apply(o,n),c=l&&o[l],c&&c.apply&&Q.acceptData(o)&&(t.result=c.apply(o,n),t.result===!1&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||f._default&&f._default.apply(d.pop(),n)!==!1||!Q.acceptData(r)||l&&Q.isFunction(r[h])&&!Q.isWindow(r)&&(s=r[l],s&&(r[l]=null),Q.event.triggered=h,r[h](),Q.event.triggered=void 0,s&&(r[l]=s)),t.result}},dispatch:function(e){e=Q.event.fix(e);var t,n,r,i,a,o=[],s=H.call(arguments),u=(ve.get(this,"events")||{})[e.type]||[],l=Q.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(o=Q.event.handlers.call(this,e,u),t=0;(i=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(a=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,r=((Q.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,a,o=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;s>n;n++)a=t[n],i=a.selector+" ",void 0===r[i]&&(r[i]=a.needsContext?Q(i,this).index(u)>=0:Q.find(i,this,null,[u]).length),r[i]&&r.push(a);r.length&&o.push({elem:u,handlers:r})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,a=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||J,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[Q.expando])return e;var t,n,r,i=e.type,a=e,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=Ce.test(i)?this.mouseHooks:Ee.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new Q.Event(a),t=r.length;t--;)n=r[t],e[n]=a[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,a):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Q.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=Q.extend(new Q.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Q.event.trigger(i,null,t):Q.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Q.Event=function(e,t){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?l:c):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(e,t)},Q.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=l,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,a=e.handleObj;return(!i||i!==r&&!Q.contains(r,i))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),K.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ve.access(r,t);i||r.addEventListener(e,n,!0),ve.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ve.access(r,t)-1;i?ve.access(r,t,i):(r.removeEventListener(e,n,!0),ve.remove(r,t))}}}),Q.fn.extend({on:function(e,t,n,r,i){var a,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(a=r,r=function(e){return Q().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Q(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){Q.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Q.event.trigger(e,t,n,!0):void 0}});var Oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ae=/<([\w:]+)/,Ne=/<|&#?\w+;/,De=/<(?:script|style|link)/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^$|\/(?:java|ecma)script/i,Re=/^true\/(.*)/,Pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,je={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};je.optgroup=je.option,je.tbody=je.tfoot=je.colgroup=je.caption=je.thead,je.th=je.td,Q.extend({clone:function(e,t,n){var r,i,a,o,s=e.cloneNode(!0),u=Q.contains(e.ownerDocument,e);if(!(K.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(o=v(s),a=v(e),r=0,i=a.length;i>r;r++)y(a[r],o[r]);if(t)if(n)for(a=a||v(e),o=o||v(s),r=0,i=a.length;i>r;r++)m(a[r],o[r]);else m(e,s);return o=v(s,"script"),o.length>0&&g(o,!u&&v(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,a,o,s,u,l,c=t.createDocumentFragment(),f=[],d=0,h=e.length;h>d;d++)if(i=e[d],i||0===i)if("object"===Q.type(i))Q.merge(f,i.nodeType?[i]:i);else if(Ne.test(i)){for(a=a||c.appendChild(t.createElement("div")),o=(Ae.exec(i)||["",""])[1].toLowerCase(),s=je[o]||je._default,a.innerHTML=s[1]+i.replace(Oe,"<$1></$2>")+s[2],l=s[0];l--;)a=a.lastChild;Q.merge(f,a.childNodes),a=c.firstChild,a.textContent=""}else f.push(t.createTextNode(i));for(c.textContent="",d=0;i=f[d++];)if((!r||-1===Q.inArray(i,r))&&(u=Q.contains(i.ownerDocument,i),a=v(c.appendChild(i),"script"),u&&g(a),n))for(l=0;i=a[l++];)Ie.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,a=Q.event.special,o=0;void 0!==(n=e[o]);o++){if(Q.acceptData(n)&&(i=n[ve.expando],i&&(t=ve.cache[i]))){if(t.events)for(r in t.events)a[r]?Q.event.remove(n,r):Q.removeEvent(n,r,t.handle);ve.cache[i]&&delete ve.cache[i]}delete ye.cache[n[ye.expando]]}}}),Q.fn.extend({text:function(e){return me(this,function(e){return void 0===e?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Q.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(t&&Q.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Q.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return me(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!De.test(e)&&!je[(Ae.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Oe,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(Q.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Q.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=B.apply([],e);var n,r,i,a,o,s,u=0,l=this.length,c=this,f=l-1,d=e[0],g=Q.isFunction(d);if(g||l>1&&"string"==typeof d&&!K.checkClone&&Le.test(d))return this.each(function(n){var r=c.eq(n);g&&(e[0]=d.call(this,n,r.html())),r.domManip(e,t)});if(l&&(n=Q.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Q.map(v(n,"script"),h),a=i.length;l>u;u++)o=n,u!==f&&(o=Q.clone(o,!0,!0),a&&Q.merge(i,v(o,"script"))),t.call(this[u],o,u);if(a)for(s=i[i.length-1].ownerDocument,Q.map(i,p),u=0;a>u;u++)o=i[u],Ie.test(o.type||"")&&!ve.access(o,"globalEval")&&Q.contains(s,o)&&(o.src?Q._evalUrl&&Q._evalUrl(o.src):Q.globalEval(o.textContent.replace(Pe,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(e){for(var n,r=[],i=Q(e),a=i.length-1,o=0;a>=o;o++)n=o===a?this:this.clone(!0),Q(i[o])[t](n),W.apply(r,n.get());return this.pushStack(r)}});var Fe,Ue={},ze=/^margin/,qe=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),He=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",i.appendChild(a);var t=e.getComputedStyle(o,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(a)}var n,r,i=J.documentElement,a=J.createElement("div"),o=J.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===o.style.backgroundClip,a.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",a.appendChild(o),e.getComputedStyle&&Q.extend(K,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=o.appendChild(J.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",i.appendChild(a),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(a),o.removeChild(n),t}}))}(),Q.swap=function(e,t,n,r){var i,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];i=n.apply(e,r||[]);for(a in t)e.style[a]=o[a];return i};var Be=/^(none|table(?!-c[ea]).+)/,We=new RegExp("^("+we+")(.*)$","i"),Ve=new RegExp("^([+-])=("+we+")","i"),Ye={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,o,s=Q.camelCase(t),u=e.style;return t=Q.cssProps[s]||(Q.cssProps[s]=k(u,s)),o=Q.cssHooks[t]||Q.cssHooks[s],void 0===n?o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:u[t]:(a=typeof n,"string"===a&&(i=Ve.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Q.css(e,t)),a="number"),null!=n&&n===n&&("number"!==a||Q.cssNumber[s]||(n+="px"),K.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,r))||(u[t]=n)),void 0)}},css:function(e,t,n,r){var i,a,o,s=Q.camelCase(t);return t=Q.cssProps[s]||(Q.cssProps[s]=k(e.style,s)),o=Q.cssHooks[t]||Q.cssHooks[s],o&&"get"in o&&(i=o.get(e,!0,n)),void 0===i&&(i=w(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(a=parseFloat(i),n===!0||Q.isNumeric(a)?a||0:i):i}}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,n,r){return n?Be.test(Q.css(e,"display"))&&0===e.offsetWidth?Q.swap(e,Ye,function(){return E(e,t,r)}):E(e,t,r):void 0},set:function(e,n,r){var i=r&&He(e);return _(e,n,r?S(e,t,r,"border-box"===Q.css(e,"boxSizing",!1,i),i):0)}}}),Q.cssHooks.marginRight=$(K.reliableMarginRight,function(e,t){return t?Q.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(n){for(var r=0,i={},a="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+$e[r]+t]=a[r]||a[r-2]||a[0];return i}},ze.test(e)||(Q.cssHooks[e+t].set=_)}),Q.fn.extend({css:function(e,t){return me(this,function(e,t,n){var r,i,a={},o=0;if(Q.isArray(t)){for(r=He(e),i=t.length;i>o;o++)a[t[o]]=Q.css(e,t[o],!1,r);return a}return void 0!==n?Q.style(e,t,n):Q.css(e,t)},e,t,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ke(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=M,M.prototype={constructor:M,init:function(e,t,n,r,i,a){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(Q.cssNumber[n]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,n=M.propHooks[this.prop];return this.pos=t=this.options.duration?Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.fx=M.prototype.init,Q.fx.step={};var Ke,Je,Ze=/^(?:toggle|show|hide)$/,Qe=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[N],nt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Qe.exec(t),a=i&&i[3]||(Q.cssNumber[e]?"":"px"),o=(Q.cssNumber[e]||"px"!==a&&+r)&&Qe.exec(Q.css(n.elem,e)),s=1,u=20;if(o&&o[3]!==a){a=a||o[3],i=i||[],o=+r||1;do s=s||".5",o/=s,Q.style(n.elem,e,o+a);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(o=n.start=+o||+r||0,n.unit=a,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};Q.Animation=Q.extend(L,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Q.speed=function(e,t,n){var r=e&&"object"==typeof e?Q.extend({},e):{complete:n||!n&&t||Q.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Q.isFunction(t)&&t};return r.duration=Q.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Q.fx.speeds?Q.fx.speeds[r.duration]:Q.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Q.isFunction(r.old)&&r.old.call(this),r.queue&&Q.dequeue(this,r.queue)},r},Q.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ke).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Q.isEmptyObject(e),a=Q.speed(t,n,r),o=function(){var t=L(this,Q.extend({},e),a);(i||ve.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",a=Q.timers,o=ve.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&et.test(i)&&r(o[i]);for(i=a.length;i--;)a[i].elem!==this||null!=e&&a[i].queue!==e||(a[i].anim.stop(n),t=!1,a.splice(i,1));(t||!n)&&Q.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],a=Q.timers,o=r?r.length:0;for(n.finish=!0,Q.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(e,t){var n=Q.fn[t];Q.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(O(t,!0),e,r,i)}}),Q.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Q.timers=[],Q.fx.tick=function(){var e,t=0,n=Q.timers;for(Ke=Q.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Q.fx.stop(),Ke=void 0},Q.fx.timer=function(e){Q.timers.push(e),e()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Je||(Je=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Je),Je=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(e,t){return e=Q.fx?Q.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",K.checkOn=""!==e.value,K.optSelected=n.selected,t.disabled=!0,K.optDisabled=!n.disabled,e=J.createElement("input"),e.value="t",e.type="radio",K.radioValue="t"===e.value}();var rt,it,at=Q.expr.attrHandle;Q.fn.extend({attr:function(e,t){return me(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})}}),Q.extend({attr:function(e,t,n){var r,i,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===Se?Q.prop(e,t,n):(1===a&&Q.isXMLDoc(e)||(t=t.toLowerCase(),r=Q.attrHooks[t]||(Q.expr.match.bool.test(t)?it:rt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=Q.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Q.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,a=t&&t.match(he);if(a&&1===e.nodeType)for(;n=a[i++];)r=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!K.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),it={set:function(e,t,n){return t===!1?Q.removeAttr(e,n):e.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(e,t){var n=at[t]||Q.find.attr;at[t]=function(e,t,r){var i,a;return r||(a=at[t],at[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,at[t]=a),i}});var ot=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(e,t){return me(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Q.propFix[e]||e]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,a,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return a=1!==o||!Q.isXMLDoc(e),a&&(t=Q.propFix[t]||t,i=Q.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||ot.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),K.optSelected||(Q.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(e){var t,n,r,i,a,o,s="string"==typeof e&&e,u=0,l=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(he)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=Q.trim(r),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,r,i,a,o,s=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(he)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");o=e?Q.trim(r):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(Q.isFunction(e)?function(n){Q(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=Q(this),a=e.match(he)||[];t=a[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Se||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var ut=/\r/g;Q.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=Q.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Q(this).val()):e,null==i?i="":"number"==typeof i?i+="":Q.isArray(i)&&(i=Q.map(i,function(e){return null==e?"":e+""})),t=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=Q.valHooks[i.type]||Q.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ut,""):null==n?"":n)}}}),Q.extend({valHooks:{option:{get:function(e){var t=Q.find.attr(e,"value");return null!=t?t:Q.trim(Q.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,a="select-one"===e.type||0>i,o=a?null:[],s=a?i+1:r.length,u=0>i?s:a?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(K.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Q.nodeName(n.parentNode,"optgroup"))){if(t=Q(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,r,i=e.options,a=Q.makeArray(t),o=i.length;o--;)r=i[o],(r.selected=Q.inArray(r.value,a)>=0)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(e,t){return Q.isArray(t)?e.checked=Q.inArray(Q(e).val(),t)>=0:void 0}},K.checkOn||(Q.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Q.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var lt=Q.now(),ct=/\?/;Q.parseJSON=function(e){return JSON.parse(e+"")},Q.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+e),t};var ft=/#.*$/,dt=/([?&])_=[^&]*/,ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,mt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yt={},bt={},xt="*/".concat("*"),wt=e.location.href,$t=vt.exec(wt.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt,type:"GET",isLocal:pt.test($t[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?P(P(e,Q.ajaxSettings),t):P(Q.ajaxSettings,e)},ajaxPrefilter:I(yt),ajaxTransport:I(bt),ajax:function(e,t){function n(e,t,n,o){var u,c,v,y,x,$=t;2!==b&&(b=2,s&&clearTimeout(s),r=void 0,a=o||"",w.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(y=j(f,w,n)),y=F(f,y,w,u),u?(f.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(Q.lastModified[i]=x),x=w.getResponseHeader("etag"),x&&(Q.etag[i]=x)),204===e||"HEAD"===f.type?$="nocontent":304===e?$="notmodified":($=y.state,c=y.data,v=y.error,u=!v)):(v=$,(e||!$)&&($="error",0>e&&(e=0))),w.status=e,w.statusText=(t||$)+"",u?p.resolveWith(d,[c,$,w]):p.rejectWith(d,[w,$,v]),w.statusCode(m),m=void 0,l&&h.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?c:v]),g.fireWith(d,[w,$]),l&&(h.trigger("ajaxComplete",[w,f]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,a,o,s,u,l,c,f=Q.ajaxSetup({},t),d=f.context||f,h=f.context&&(d.nodeType||d.jquery)?Q(d):Q.event,p=Q.Deferred(),g=Q.Callbacks("once memory"),m=f.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!o)for(o={};t=ht.exec(a);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return r&&r.abort(t),n(0,t),this}};if(p.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||wt)+"").replace(ft,"").replace(mt,$t[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=Q.trim(f.dataType||"*").toLowerCase().match(he)||[""],null==f.crossDomain&&(u=vt.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===$t[1]&&u[2]===$t[2]&&(u[3]||("http:"===u[1]?"80":"443"))===($t[3]||("http:"===$t[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Q.param(f.data,f.traditional)),R(yt,f,t,w),2===b)return w;l=Q.event&&f.global,l&&0===Q.active++&&Q.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!gt.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(ct.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=dt.test(i)?i.replace(dt,"$1_="+lt++):i+(ct.test(i)?"&":"?")+"_="+lt++)),f.ifModified&&(Q.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Q.lastModified[i]),Q.etag[i]&&w.setRequestHeader("If-None-Match",Q.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+xt+"; q=0.01":""):f.accepts["*"]);for(c in f.headers)w.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(f.beforeSend.call(d,w,f)===!1||2===b))return w.abort();x="abort";for(c in{success:1,error:1,complete:1})w[c](f[c]);if(r=R(bt,f,t,w)){w.readyState=1,l&&h.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},f.timeout));try{b=1,r.send(v,n)}catch($){if(!(2>b))throw $;n(-1,$)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return Q.get(e,t,n,"json")},getScript:function(e,t){return Q.get(e,void 0,t,"script")}}),Q.each(["get","post"],function(e,t){Q[t]=function(e,n,r,i){return Q.isFunction(n)&&(i=i||r,r=n,n=void 0),Q.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),Q._evalUrl=function(e){return Q.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(e){var t;return Q.isFunction(e)?this.each(function(t){Q(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Q(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Q.isFunction(e)?function(t){Q(this).wrapInner(e.call(this,t))}:function(){var t=Q(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(n){Q(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)};var kt=/%20/g,_t=/\[\]$/,St=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,Ct=/^(?:input|select|textarea|keygen)/i;Q.param=function(e,t){var n,r=[],i=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t);

};if(void 0===t&&(t=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){i(this.name,this.value)});else for(n in e)U(n,e[n],t,i);return r.join("&").replace(kt,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&Ct.test(this.nodeName)&&!Et.test(e)&&(this.checked||!_e.test(e))}).map(function(e,t){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:n.replace(St,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Mt=0,Tt={},Ot={0:200,1223:204},At=Q.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Tt)Tt[e]()}),K.cors=!!At&&"withCredentials"in At,K.ajax=At=!!At,Q.ajaxTransport(function(e){var t;return K.cors||At&&!e.crossDomain?{send:function(n,r){var i,a=e.xhr(),o=++Mt;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)a[i]=e.xhrFields[i];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)a.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Tt[o],t=a.onload=a.onerror=null,"abort"===e?a.abort():"error"===e?r(a.status,a.statusText):r(Ot[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:void 0,a.getAllResponseHeaders()))}},a.onload=t(),a.onerror=t("error"),t=Tt[o]=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Q.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=Q("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Nt=[],Dt=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Nt.pop()||Q.expando+"_"+lt++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(t,n,r){var i,a,o,s=t.jsonp!==!1&&(Dt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=Q.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Dt,"$1"+i):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||Q.error(i+" was not called"),o[0]},t.dataTypes[0]="json",a=e[i],e[i]=function(){o=arguments},r.always(function(){e[i]=a,t[i]&&(t.jsonpCallback=n.jsonpCallback,Nt.push(i)),o&&Q.isFunction(a)&&a(o[0]),o=a=void 0}),"script"):void 0}),Q.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var r=oe.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=Q.buildFragment([e],t,i),i&&i.length&&Q(i).remove(),Q.merge([],r.childNodes))};var Lt=Q.fn.load;Q.fn.load=function(e,t,n){if("string"!=typeof e&&Lt)return Lt.apply(this,arguments);var r,i,a,o=this,s=e.indexOf(" ");return s>=0&&(r=Q.trim(e.slice(s)),e=e.slice(0,s)),Q.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),o.length>0&&Q.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){a=arguments,o.html(r?Q("<div>").append(Q.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,a||[e.responseText,t,e])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length};var It=e.document.documentElement;Q.offset={setOffset:function(e,t,n){var r,i,a,o,s,u,l,c=Q.css(e,"position"),f=Q(e),d={};"static"===c&&(e.style.position="relative"),s=f.offset(),a=Q.css(e,"top"),u=Q.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(a+u).indexOf("auto")>-1,l?(r=f.position(),o=r.top,i=r.left):(o=parseFloat(a)||0,i=parseFloat(u)||0),Q.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+o),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):f.css(d)}},Q.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},a=r&&r.ownerDocument;if(a)return t=a.documentElement,Q.contains(t,r)?(typeof r.getBoundingClientRect!==Se&&(i=r.getBoundingClientRect()),n=z(a),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Q.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Q.nodeName(e[0],"html")||(r=e.offset()),r.top+=Q.css(e[0],"borderTopWidth",!0),r.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Q.css(n,"marginTop",!0),left:t.left-r.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||It;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||It})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Q.fn[t]=function(i){return me(this,function(t,i,a){var o=z(t);return void 0===a?o?o[n]:t[i]:void(o?o.scrollTo(r?e.pageXOffset:a,r?a:e.pageYOffset):t[i]=a)},t,i,arguments.length,null)}}),Q.each(["top","left"],function(e,t){Q.cssHooks[t]=$(K.pixelPosition,function(e,n){return n?(n=w(e,t),qe.test(n)?Q(e).position()[t]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(e,t){Q.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Q.fn[r]=function(r,i){var a=arguments.length&&(n||"boolean"!=typeof r),o=n||(r===!0||i===!0?"margin":"border");return me(this,function(t,n,r){var i;return Q.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?Q.css(t,n,o):Q.style(t,n,r,o)},t,a?r:void 0,a,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Rt=e.jQuery,Pt=e.$;return Q.noConflict=function(t){return e.$===Q&&(e.$=Pt),t&&e.jQuery===Q&&(e.jQuery=Rt),Q},typeof t===Se&&(e.jQuery=e.$=Q),Q}),/**
 * @license AngularJS v1.3.17
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";function r(e,t){return t=t||Error,function(){var n,r,i=arguments[0],a="["+(e?e+":":"")+i+"] ",o=arguments[1],s=arguments;for(n=a+o.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t+2<s.length?de(s[t+2]):e}),n=n+"\nhttp://errors.angularjs.org/1.3.17/"+(e?e+"/":"")+i,r=2;r<arguments.length;r++)n=n+(2==r?"?":"&")+"p"+(r-2)+"="+encodeURIComponent(de(arguments[r]));return new t(n)}}function i(e){if(null==e||S(e))return!1;var t="length"in Object(e)&&e.length;return e.nodeType===br&&t?!0:x(e)||dr(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function a(e,t,n){var r,o;if(e)if(k(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(dr(e)||i(e)){var s="object"!=typeof e;for(r=0,o=e.length;o>r;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==a)e.forEach(t,n,e);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);return e}function o(e){return Object.keys(e).sort()}function s(e,t,n){for(var r=o(e),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function u(e){return function(t,n){e(n,t)}}function l(){return++cr}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function f(e){for(var t=e.$$hashKey,n=1,r=arguments.length;r>n;n++){var i=arguments[n];if(i)for(var a=Object.keys(i),o=0,s=a.length;s>o;o++){var u=a[o];e[u]=i[u]}}return c(e,t),e}function d(e){return parseInt(e,10)}function h(e,t){return f(Object.create(e),t)}function p(){}function g(e){return e}function m(e){return function(){return e}}function v(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function b(e){return null!==e&&"object"==typeof e}function x(e){return"string"==typeof e}function w(e){return"number"==typeof e}function $(e){return"[object Date]"===sr.call(e)}function k(e){return"function"==typeof e}function _(e){return"[object RegExp]"===sr.call(e)}function S(e){return e&&e.window===e}function E(e){return e&&e.$evalAsync&&e.$watch}function C(e){return"[object File]"===sr.call(e)}function M(e){return"[object FormData]"===sr.call(e)}function T(e){return"[object Blob]"===sr.call(e)}function O(e){return"boolean"==typeof e}function A(e){return e&&k(e.then)}function N(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function D(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function L(e){return Xn(e.nodeName||e[0]&&e[0].nodeName)}function I(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),t}function R(e,t,n,r){if(S(e)||E(e))throw ur("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw ur("cpi","Can't copy! Source and destination are identical.");if(n=n||[],r=r||[],b(e)){var i=n.indexOf(e);if(-1!==i)return r[i];n.push(e),r.push(t)}var o;if(dr(e)){t.length=0;for(var s=0;s<e.length;s++)o=R(e[s],null,n,r),b(e[s])&&(n.push(e[s]),r.push(o)),t.push(o)}else{var u=t.$$hashKey;dr(t)?t.length=0:a(t,function(e,n){delete t[n]});for(var l in e)e.hasOwnProperty(l)&&(o=R(e[l],null,n,r),b(e[l])&&(n.push(e[l]),r.push(o)),t[l]=o);c(t,u)}}else if(t=e,e)if(dr(e))t=R(e,[],n,r);else if($(e))t=new Date(e.getTime());else if(_(e))t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex;else if(b(e)){var f=Object.create(Object.getPrototypeOf(e));t=R(e,f,n,r)}return t}function P(e,t){if(dr(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(b(e)){t=t||{};for(var i in e)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=e[i])}return t||e}function j(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,i,a,o=typeof e,s=typeof t;if(o==s&&"object"==o){if(!dr(e)){if($(e))return $(t)?j(e.getTime(),t.getTime()):!1;if(_(e))return _(t)?e.toString()==t.toString():!1;if(E(e)||E(t)||S(e)||S(t)||dr(t)||$(t)||_(t))return!1;a={};for(i in e)if("$"!==i.charAt(0)&&!k(e[i])){if(!j(e[i],t[i]))return!1;a[i]=!0}for(i in t)if(!a.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t[i]!==n&&!k(t[i]))return!1;return!0}if(!dr(t))return!1;if((r=e.length)==t.length){for(i=0;r>i;i++)if(!j(e[i],t[i]))return!1;return!0}}return!1}function F(e,t,n){return e.concat(ir.call(t,n))}function U(e,t){return ir.call(e,t||0)}function z(e,t){var n=arguments.length>2?U(arguments,2):[];return!k(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,F(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function q(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:S(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":E(r)&&(i="$SCOPE"),i}function H(e,t){return"undefined"==typeof e?n:(w(t)||(t=t?2:null),JSON.stringify(e,q,t))}function B(e){return x(e)?JSON.parse(e):e}function W(e){e=tr(e).clone();try{e.empty()}catch(t){}var n=tr("<div>").append(e).html();try{return e[0].nodeType===wr?Xn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Xn(t)})}catch(t){return Xn(n)}}function V(e){try{return decodeURIComponent(e)}catch(t){}}function Y(e){var t,n,r={};return a((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),n=V(t[0]),y(n))){var i=y(t[1])?V(t[1]):!0;Kn.call(r,n)?dr(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function G(e){var t=[];return a(e,function(e,n){dr(e)?a(e,function(e){t.push(K(n,!0)+(e===!0?"":"="+K(e,!0)))}):t.push(K(n,!0)+(e===!0?"":"="+K(e,!0)))}),t.length?t.join("&"):""}function X(e){return K(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function K(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function J(e,t){var n,r,i=mr.length;for(e=tr(e),r=0;i>r;++r)if(n=mr[r]+t,x(n=e.attr(n)))return n;return null}function Z(e,t){var n,r,i={};a(mr,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),a(mr,function(t){var i,a=t+"app";!n&&(i=e.querySelector("["+a.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(a))}),n&&(i.strictDi=null!==J(n,"strict-di"),t(n,r?[r]:[],i))}function Q(n,r,i){b(i)||(i={});var o={strictDi:!1};i=f(o,i);var s=function(){if(n=tr(n),n.injector()){var e=n[0]===t?"document":W(n);throw ur("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var a=Be(r,i.strictDi);return a.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),a},u=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&u.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(u,"")),e&&!l.test(e.name)?s():(e.name=e.name.replace(l,""),lr.resumeBootstrap=function(e){return a(e,function(e){r.push(e)}),s()},void(k(lr.resumeDeferredBootstrap)&&lr.resumeDeferredBootstrap()))}function ee(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function te(e){var t=lr.element(e).injector();if(!t)throw ur("test","no injector found for element argument to getTestability");return t.get("$$testability")}function ne(e,t){return t=t||"_",e.replace(vr,function(e,n){return(n?t:"")+e.toLowerCase()})}function re(){var t;yr||(nr=e.jQuery,nr&&nr.fn.on?(tr=nr,f(nr.fn,{scope:Fr.scope,isolateScope:Fr.isolateScope,controller:Fr.controller,injector:Fr.injector,inheritedData:Fr.inheritedData}),t=nr.cleanData,nr.cleanData=function(e){var n;if(fr)fr=!1;else for(var r,i=0;null!=(r=e[i]);i++)n=nr._data(r,"events"),n&&n.$destroy&&nr(r).triggerHandler("$destroy");t(e)}):tr=xe,lr.element=tr,yr=!0)}function ie(e,t,n){if(!e)throw ur("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function ae(e,t,n){return n&&dr(e)&&(e=e[e.length-1]),ie(k(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function oe(e,t){if("hasOwnProperty"===e)throw ur("badname","hasOwnProperty is not a valid {0} name",t)}function se(e,t,n){if(!t)return e;for(var r,i=t.split("."),a=e,o=i.length,s=0;o>s;s++)r=i[s],e&&(e=(a=e)[r]);return!n&&k(e)?z(a,e):e}function ue(e){var t=e[0],n=e[e.length-1],r=[t];do{if(t=t.nextSibling,!t)break;r.push(t)}while(t!==n);return tr(r)}function le(){return Object.create(null)}function ce(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng"),a=t(e,"angular",Object);return a.$$minErr=a.$$minErr||r,t(a,"module",function(){var e={};return function(r,a,o){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),a&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,n,r,i){return i||(i=t),function(){return i[r||"push"]([e,n,arguments]),l}}if(!a)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var t=[],i=[],s=[],u=e("$injector","invoke","push",i),l={_invokeQueue:t,_configBlocks:i,_runBlocks:s,requires:a,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:u,run:function(e){return s.push(e),this}};return o&&u(o),l})}})}function fe(e){var t=[];return JSON.stringify(e,function(e,n){if(n=q(e,n),b(n)){if(t.indexOf(n)>=0)return"<<already seen>>";t.push(n)}return n})}function de(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?fe(e):e}function he(t){f(t,{bootstrap:Q,copy:R,extend:f,equals:j,element:tr,forEach:a,injector:Be,noop:p,bind:z,toJson:H,fromJson:B,identity:g,isUndefined:v,isDefined:y,isString:x,isFunction:k,isObject:b,isNumber:w,isElement:N,isArray:dr,version:Sr,isDate:$,lowercase:Xn,uppercase:Jn,callbacks:{counter:0},getTestability:te,$$minErr:r,$$csp:gr,reloadWithDebugInfo:ee}),rr=ce(e);try{rr("ngLocale")}catch(n){rr("ngLocale",[]).provider("$locale",mt)}rr("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Gt}),e.provider("$compile",Je).directive({a:Ai,input:Gi,textarea:Gi,form:Ri,script:Pa,select:Ua,style:qa,option:za,ngBind:Ji,ngBindHtml:Qi,ngBindTemplate:Zi,ngClass:ta,ngClassEven:ra,ngClassOdd:na,ngCloak:ia,ngController:aa,ngForm:Pi,ngHide:Aa,ngIf:ua,ngInclude:la,ngInit:fa,ngNonBindable:Sa,ngPluralize:Ea,ngRepeat:Ca,ngShow:Oa,ngStyle:Na,ngSwitch:Da,ngSwitchWhen:La,ngSwitchDefault:Ia,ngOptions:Fa,ngTransclude:Ra,ngModel:$a,ngList:da,ngChange:ea,pattern:Ba,ngPattern:Ba,required:Ha,ngRequired:Ha,minlength:Va,ngMinlength:Va,maxlength:Wa,ngMaxlength:Wa,ngValue:Ki,ngModelOptions:_a}).directive({ngInclude:ca}).directive(Ni).directive(oa),e.provider({$anchorScroll:We,$animate:Xr,$browser:Ge,$cacheFactory:Xe,$controller:tt,$document:nt,$exceptionHandler:rt,$filter:sn,$interpolate:pt,$interval:gt,$http:ct,$httpBackend:dt,$location:Ot,$log:At,$parse:qt,$rootScope:Yt,$q:Ht,$$q:Bt,$sce:Zt,$sceDelegate:Jt,$sniffer:Qt,$templateCache:Ke,$templateRequest:en,$$testability:tn,$timeout:nn,$window:on,$$rAF:Vt,$$asyncCallback:Ve,$$jqLite:Fe})}])}function pe(){return++Cr}function ge(e){return e.replace(Or,function(e,t,n,r){return r?n.toUpperCase():n}).replace(Ar,"Moz$1")}function me(e){return!Ir.test(e)}function ve(e){var t=e.nodeType;return t===br||!t||t===kr}function ye(e,t){var n,r,i,o,s=t.createDocumentFragment(),u=[];if(me(e))u.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),r=(Rr.exec(e)||["",""])[1].toLowerCase(),i=jr[r]||jr._default,n.innerHTML=i[1]+e.replace(Pr,"<$1></$2>")+i[2],o=i[0];o--;)n=n.lastChild;u=F(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",a(u,function(e){s.appendChild(e)}),s}function be(e,n){n=n||t;var r;return(r=Lr.exec(e))?[n.createElement(r[1])]:(r=ye(e,n))?r.childNodes:[]}function xe(e){if(e instanceof xe)return e;var t;if(x(e)&&(e=hr(e),t=!0),!(this instanceof xe)){if(t&&"<"!=e.charAt(0))throw Dr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new xe(e)}t?Oe(this,be(e)):Oe(this,e)}function we(e){return e.cloneNode(!0)}function $e(e,t){if(t||_e(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)_e(n[r])}function ke(e,t,n,r){if(y(r))throw Dr("offargs","jqLite#off() does not support the `selector` argument");var i=Se(e),o=i&&i.events,s=i&&i.handle;if(s)if(t)a(t.split(" "),function(t){if(y(n)){var r=o[t];if(I(r||[],n),r&&r.length>0)return}Tr(e,t,s),delete o[t]});else for(t in o)"$destroy"!==t&&Tr(e,t,s),delete o[t]}function _e(e,t){var r=e.ng339,i=r&&Er[r];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),ke(e)),delete Er[r],e.ng339=n}}function Se(e,t){var r=e.ng339,i=r&&Er[r];return t&&!i&&(e.ng339=r=pe(),i=Er[r]={events:{},data:{},handle:n}),i}function Ee(e,t,n){if(ve(e)){var r=y(n),i=!r&&t&&!b(t),a=!t,o=Se(e,!i),s=o&&o.data;if(r)s[t]=n;else{if(a)return s;if(i)return s&&s[t];f(s,t)}}}function Ce(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Me(e,t){t&&e.setAttribute&&a(t.split(" "),function(t){e.setAttribute("class",hr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+hr(t)+" "," ")))})}function Te(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");a(t.split(" "),function(e){e=hr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",hr(n))}}function Oe(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Ae(e,t){return Ne(e,"$"+(t||"ngController")+"Controller")}function Ne(e,t,r){e.nodeType==kr&&(e=e.documentElement);for(var i=dr(t)?t:[t];e;){for(var a=0,o=i.length;o>a;a++)if((r=tr.data(e,i[a]))!==n)return r;e=e.parentNode||e.nodeType===_r&&e.host}}function De(e){for($e(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Le(e,t){t||$e(e);var n=e.parentNode;n&&n.removeChild(e)}function Ie(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):tr(n).on("load",t)}function Re(e,t){var n=Ur[t.toLowerCase()];return n&&zr[L(e)]&&n}function Pe(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&qr[t]}function je(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],a=i?i.length:0;if(a){if(v(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},a>1&&(i=P(i));for(var s=0;a>s;s++)n.isImmediatePropagationStopped()||i[s].call(e,n)}};return n.elem=e,n}function Fe(){this.$get=function(){return f(xe,{hasClass:function(e,t){return e.attr&&(e=e[0]),Ce(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Te(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Me(e,t)}})}}function Ue(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||l)():r+":"+e}function ze(e,t){if(t){var n=0;this.nextUid=function(){return++n}}a(e,this.put,this)}function qe(e){var t=e.toString().replace(Vr,""),n=t.match(Hr);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function He(e,t,n){var r,i,o,s;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw x(n)&&n||(n=e.name||qe(e)),Yr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=e.toString().replace(Vr,""),o=i.match(Hr),a(o[1].split(Br),function(e){e.replace(Wr,function(e,t,n){r.push(n)})})}e.$inject=r}}else dr(e)?(s=e.length-1,ae(e[s],"fn"),r=e.slice(0,s)):ae(e,"fn",!0);return r}function Be(e,t){function r(e){return function(t,n){return b(t)?void a(t,u(e)):e(t,n)}}function i(e,t){if(oe(e,"service"),(k(t)||dr(t))&&(t=E.instantiate(t)),!t.$get)throw Yr("pget","Provider '{0}' must define $get factory method.",e);return S[e+w]=t}function o(e,t){return function(){var n=M.invoke(t,this);if(v(n))throw Yr("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return i(e,{$get:n!==!1?o(e,t):t})}function l(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return s(e,m(t),!1)}function f(e,t){oe(e,"constant"),S[e]=t,C[e]=t}function d(e,t){var n=E.get(e+w),r=n.$get;n.$get=function(){var e=M.invoke(r,n);return M.invoke(t,null,{$delegate:e})}}function h(e){var t,n=[];return a(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=E.get(r[0]);i[r[1]].apply(i,r[2])}}if(!_.get(e)){_.put(e,!0);try{x(e)?(t=rr(e),n=n.concat(h(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):k(e)?n.push(E.invoke(e)):dr(e)?n.push(E.invoke(e)):ae(e,"module")}catch(i){throw dr(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Yr("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function g(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===y)throw Yr("cdep","Circular dependency found: {0}",t+" <- "+$.join(" <- "));return e[t]}try{return $.unshift(t),e[t]=y,e[t]=n(t,r)}catch(i){throw e[t]===y&&delete e[t],i}finally{$.shift()}}function i(e,n,i,a){"string"==typeof i&&(a=i,i=null);var o,s,u,l=[],c=Be.$$annotate(e,t,a);for(s=0,o=c.length;o>s;s++){if(u=c[s],"string"!=typeof u)throw Yr("itkn","Incorrect injection token! Expected service name as string, got {0}",u);l.push(i&&i.hasOwnProperty(u)?i[u]:r(u,a))}return dr(e)&&(e=e[o]),e.apply(n,l)}function a(e,t,n){var r=Object.create((dr(e)?e[e.length-1]:e).prototype||null),a=i(e,r,t,n);return b(a)||k(a)?a:r}return{invoke:i,instantiate:a,get:r,annotate:Be.$$annotate,has:function(t){return S.hasOwnProperty(t+w)||e.hasOwnProperty(t)}}}t=t===!0;var y={},w="Provider",$=[],_=new ze([],!0),S={$provide:{provider:r(i),factory:r(s),service:r(l),value:r(c),constant:r(f),decorator:d}},E=S.$injector=g(S,function(e,t){throw lr.isString(t)&&$.push(t),Yr("unpr","Unknown provider: {0}",$.join(" <- "))}),C={},M=C.$injector=g(C,function(e,t){var r=E.get(e+w,t);return M.invoke(r.$get,r,n,e)});return a(h(e),function(e){M.invoke(e||p)}),M}function We(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===L(e)?(t=e,!0):void 0}),t}function a(){var e=s.yOffset;if(k(e))e=e();else if(N(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else w(e)||(e=0);return e}function o(e){if(e){e.scrollIntoView();var n=a();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(){var e,t=n.hash();t?(e=u.getElementById(t))?o(e):(e=i(u.getElementsByName(t)))?o(e):"top"===t&&o(null):o(null)}var u=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&Ie(function(){r.$evalAsync(s)})}),s}]}function Ve(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Ye(e,t,r,i){function o(e){try{e.apply(null,U(arguments,1))}finally{if(_--,0===_)for(;S.length;)try{S.pop()()}catch(t){r.error(t)}}}function s(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function u(e,t){!function n(){a(C,function(e){e()}),E=t(n,e)}()}function l(){f(),d()}function c(){try{return b.state}catch(e){}}function f(){M=c(),M=v(M)?null:M,j(M,I)&&(M=I),I=M}function d(){(O!==g.url()||T!==M)&&(O=g.url(),T=M,a(D,function(e){e(g.url(),M)}))}function h(e){try{return decodeURIComponent(e)}catch(t){return e}}var g=this,m=t[0],y=e.location,b=e.history,w=e.setTimeout,$=e.clearTimeout,k={};g.isMock=!1;var _=0,S=[];g.$$completeOutstandingRequest=o,g.$$incOutstandingRequestCount=function(){_++},g.notifyWhenNoOutstandingRequests=function(e){a(C,function(e){e()}),0===_?e():S.push(e)};var E,C=[];g.addPollFn=function(e){return v(E)&&u(100,w),C.push(e),e};var M,T,O=y.href,A=t.find("base"),N=null;f(),T=M,g.url=function(t,n,r){if(v(r)&&(r=null),y!==e.location&&(y=e.location),b!==e.history&&(b=e.history),t){var a=T===r;if(O===t&&(!i.history||a))return g;var o=O&&wt(O)===wt(t);return O=t,T=r,!i.history||o&&a?((!o||N)&&(N=t),n?y.replace(t):o?y.hash=s(t):y.href=t):(b[n?"replaceState":"pushState"](r,"",t),f(),T=M),g}return N||y.href.replace(/%27/g,"'")},g.state=function(){return M};var D=[],L=!1,I=null;g.onUrlChange=function(t){return L||(i.history&&tr(e).on("popstate",l),tr(e).on("hashchange",l),L=!0),D.push(t),t},g.$$checkUrlChange=d,g.baseHref=function(){var e=A.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var R={},P="",F=g.baseHref();g.cookies=function(e,t){var i,a,o,s,u;if(!e){if(m.cookie!==P)for(P=m.cookie,a=P.split("; "),R={},s=0;s<a.length;s++)o=a[s],u=o.indexOf("="),u>0&&(e=h(o.substring(0,u)),R[e]===n&&(R[e]=h(o.substring(u+1))));return R}t===n?m.cookie=encodeURIComponent(e)+"=;path="+F+";expires=Thu, 01 Jan 1970 00:00:00 GMT":x(t)&&(i=(m.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path="+F).length+1,i>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},g.defer=function(e,t){var n;return _++,n=w(function(){delete k[n],o(e)},t||0),k[n]=!0,n},g.defer.cancel=function(e){return k[e]?(delete k[e],$(e),o(p),!0):!1}}function Ge(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Ye(e,r,t,n)}]}function Xe(){this.$get=function(){function e(e,n){function i(e){e!=d&&(h?h==e&&(h=e.n):h=e,a(e.n,e.p),a(e,d),d=e,d.n=null)}function a(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var o=0,s=f({},n,{id:e}),u={},l=n&&n.capacity||Number.MAX_VALUE,c={},d=null,h=null;return t[e]={put:function(e,t){if(l<Number.MAX_VALUE){var n=c[e]||(c[e]={key:e});i(n)}if(!v(t))return e in u||o++,u[e]=t,o>l&&this.remove(h.key),t},get:function(e){if(l<Number.MAX_VALUE){var t=c[e];if(!t)return;i(t)}return u[e]},remove:function(e){if(l<Number.MAX_VALUE){var t=c[e];if(!t)return;t==d&&(d=t.p),t==h&&(h=t.n),a(t.n,t.p),delete c[e]}delete u[e],o--},removeAll:function(){u={},o=0,c={},d=h=null},destroy:function(){u=null,s=null,c=null,delete t[e]},info:function(){return f({},s,{size:o})}}}var t={};return e.info=function(){var e={};return a(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Ke(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Je(e,r){function i(e,t){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return a(e,function(e,i){var a=e.match(n);if(!a)throw Kr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,i,e);r[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i}}),r}function o(e){var t=e.charAt(0);if(!t||t!==Xn(t))throw Kr("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);return e}var s={},l="Directive",c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,d=/(([\w\-]+)(?:\:([^;]+))?;?)/,v=D("ngSrc,ngSrcset,src,srcset"),w=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,$=/^(on[a-z]+|formaction)$/;this.directive=function S(t,n){return oe(t,"directive"),x(t)?(o(t),ie(n,"directiveFactory"),s.hasOwnProperty(t)||(s[t]=[],e.factory(t+l,["$injector","$exceptionHandler",function(e,n){var r=[];return a(s[t],function(a,o){try{var s=e.invoke(a);k(s)?s={compile:m(s)}:!s.compile&&s.link&&(s.compile=m(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",b(s.scope)&&(s.$$isolateBindings=i(s.scope,s.name)),r.push(s)}catch(u){n(u)}}),r}])),s[t].push(n)):a(t,u(S)),this},this.aHrefSanitizationWhitelist=function(e){return y(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var _=!0;this.debugInfoEnabled=function(e){return y(e)?(_=e,this):_},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,i,o,u,m,y,S,C,M,T){function O(e,t){try{e.addClass(t)}catch(n){}}function A(e,t,n,r,i){e instanceof tr||(e=tr(e)),a(e,function(t,n){t.nodeType==wr&&t.nodeValue.match(/\S+/)&&(e[n]=tr(t).wrap("<span></span>").parent()[0])});var o=D(e,t,e,n,r,i);A.$$addScopeClass(e);var s=null;return function(t,n,r){ie(t,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,a=r.transcludeControllers,u=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=N(u));var l;if(l="html"!==s?tr(Z(s,tr("<div>").append(e).html())):n?Fr.clone.call(e):e,a)for(var c in a)l.data("$"+c+"Controller",a[c].instance);return A.$$addScopeInfo(l,t),n&&n(l,t),o&&o(t,l,l,i),l}}function N(e){var t=e&&e[0];return t&&"foreignobject"!==L(t)&&t.toString().match(/SVG/)?"svg":"html"}function D(e,t,r,i,a,o){function s(e,r,i,a){var o,s,u,l,c,f,d,h,m;if(p){var v=r.length;for(m=new Array(v),c=0;c<g.length;c+=3)d=g[c],m[d]=r[d]}else m=r;for(c=0,f=g.length;f>c;)u=m[g[c++]],o=g[c++],s=g[c++],o?(o.scope?(l=e.$new(),A.$$addScopeInfo(tr(u),l)):l=e,h=o.transcludeOnThisElement?R(e,o.transclude,a,o.elementTranscludeOnThisElement):!o.templateOnThisElement&&a?a:!a&&t?R(e,t):null,o(s,l,u,i,h)):s&&s(e,u.childNodes,n,a)}for(var u,l,c,f,d,h,p,g=[],m=0;m<e.length;m++)u=new oe,l=P(e[m],[],u,0===m?i:n,a),c=l.length?q(l,e[m],u,t,r,null,[],[],o):null,c&&c.scope&&A.$$addScopeClass(u.$$element),d=c&&c.terminal||!(f=e[m].childNodes)||!f.length?null:D(f,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||d)&&(g.push(m,c,d),h=!0,p=p||c),o=null;return h?s:null}function R(e,t,n,r){var i=function(r,i,a,o,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:o})};return i}function P(e,t,n,r,i){var a,o,s=e.nodeType,u=n.$attr;switch(s){case br:B(t,Ze(L(e)),"E",r,i);for(var l,f,h,p,g,m,v=e.attributes,y=0,w=v&&v.length;w>y;y++){var $=!1,k=!1;l=v[y],f=l.name,g=hr(l.value),p=Ze(f),(m=fe.test(p))&&(f=f.replace(Jr,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var _=p.replace(/(Start|End)$/,"");V(_)&&p===_+"Start"&&($=f,k=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),h=Ze(f.toLowerCase()),u[h]=f,(m||!n.hasOwnProperty(h))&&(n[h]=g,Re(e,h)&&(n[h]=!0)),ee(e,t,g,h,m),B(t,h,"A",r,i,$,k)}if(o=e.className,b(o)&&(o=o.animVal),x(o)&&""!==o)for(;a=d.exec(o);)h=Ze(a[2]),B(t,h,"C",r,i)&&(n[h]=hr(a[3])),o=o.substr(a.index+a[0].length);break;case wr:J(t,e.nodeValue);break;case $r:try{a=c.exec(e.nodeValue),a&&(h=Ze(a[1]),B(t,h,"M",r,i)&&(n[h]=hr(a[2])))}catch(S){}}return t.sort(X),t}function F(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Kr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==br&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return tr(r)}function z(e,t,n){return function(r,i,a,o,s){return i=F(i[0],t,n),e(r,i,a,o,s)}}function q(e,o,s,l,c,f,d,h,p){function g(e,t,n,r){e&&(n&&(e=z(e,n,r)),e.require=S.require,e.directiveName=C,(L===S||S.$$isolateScope)&&(e=re(e,{isolateScope:!0})),d.push(e)),t&&(n&&(t=z(t,n,r)),t.require=S.require,t.directiveName=C,(L===S||S.$$isolateScope)&&(t=re(t,{isolateScope:!0})),h.push(t))}function v(e,t,n,r){var i,o,s="data",u=!1,l=n;if(x(t)){if(o=t.match(w),t=t.substring(o[0].length),o[3]&&(o[1]?o[3]=null:o[1]=o[3]),"^"===o[1]?s="inheritedData":"^^"===o[1]&&(s="inheritedData",l=n.parent()),"?"===o[2]&&(u=!0),i=null,r&&"data"===s&&(i=r[t])&&(i=i.instance),i=i||l[s]("$"+t+"Controller"),!i&&!u)throw Kr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return i||null}return dr(t)&&(i=[],a(t,function(t){i.push(v(e,t,n,r))})),i}function y(e,t,i,l,c){function f(e,t,r){var i;return E(e)||(r=t,t=e,e=n),V&&(i=w),r||(r=V?k.parent():k),c(e,t,i,r,T)}var p,g,y,b,x,w,$,k,S;if(o===i?(S=s,k=s.$$element):(k=tr(i),S=new oe(k,s)),L&&(x=t.$new(!0)),c&&($=f,$.$$boundTransclude=c),D&&(_={},w={},a(D,function(e){var n,r={$scope:e===L||e.$$isolateScope?x:t,$element:k,$attrs:S,$transclude:$};b=e.controller,"@"==b&&(b=S[e.name]),n=m(b,r,!0,e.controllerAs),w[e.name]=n,V||k.data("$"+e.name+"Controller",n.instance),_[e.name]=n})),L){A.$$addScopeInfo(k,x,!0,!(I&&(I===L||I===L.$$originalDirective))),A.$$addScopeClass(k,!0);var C=_&&_[L.name],M=x;C&&C.identifier&&L.bindToController===!0&&(M=C.instance),a(x.$$isolateBindings=L.$$isolateBindings,function(e,n){var i,a,o,s,l=e.attrName,c=e.optional,f=e.mode;switch(f){case"@":S.$observe(l,function(e){M[n]=e}),S.$$observers[l].$$scope=t,S[l]&&(M[n]=r(S[l])(t));break;case"=":if(c&&!S[l])return;a=u(S[l]),s=a.literal?j:function(e,t){return e===t||e!==e&&t!==t},o=a.assign||function(){throw i=M[n]=a(t),Kr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",S[l],L.name)},i=M[n]=a(t);var d=function(e){return s(e,M[n])||(s(e,i)?o(t,e=M[n]):M[n]=e),i=e};d.$stateful=!0;var h;h=e.collection?t.$watchCollection(S[l],d):t.$watch(u(S[l],d),null,a.literal),x.$on("$destroy",h);break;case"&":a=u(S[l]),M[n]=function(e){return a(t,e)}}})}for(_&&(a(_,function(e){e()}),_=null),p=0,g=d.length;g>p;p++)y=d[p],ae(y,y.isolateScope?x:t,k,S,y.require&&v(y.directiveName,y.require,k,w),$);var T=t;for(L&&(L.template||null===L.templateUrl)&&(T=x),e&&e(T,i.childNodes,n,c),p=h.length-1;p>=0;p--)y=h[p],ae(y,y.isolateScope?x:t,k,S,y.require&&v(y.directiveName,y.require,k,w),$)}p=p||{};for(var $,_,S,C,M,T,O,N=-Number.MAX_VALUE,D=p.controllerDirectives,L=p.newIsolateScopeDirective,I=p.templateDirective,R=p.nonTlbTranscludeDirective,q=!1,B=!1,V=p.hasElementTranscludeDirective,X=s.$$element=tr(o),J=f,Q=l,ee=0,ne=e.length;ne>ee;ee++){S=e[ee];var ie=S.$$start,se=S.$$end;if(ie&&(X=F(o,ie,se)),M=n,N>S.priority)break;if((O=S.scope)&&(S.templateUrl||(b(O)?(K("new/isolated scope",L||$,S,X),L=S):K("new/isolated scope",L,S,X)),$=$||S),C=S.name,!S.templateUrl&&S.controller&&(O=S.controller,D=D||{},K("'"+C+"' controller",D[C],S,X),D[C]=S),(O=S.transclude)&&(q=!0,S.$$tlb||(K("transclusion",R,S,X),R=S),"element"==O?(V=!0,N=S.priority,M=X,X=s.$$element=tr(t.createComment(" "+C+": "+s[C]+" ")),o=X[0],te(c,U(M),o),Q=A(M,l,N,J&&J.name,{nonTlbTranscludeDirective:R})):(M=tr(we(o)).contents(),X.empty(),Q=A(M,l))),S.template)if(B=!0,K("template",I,S,X),I=S,O=k(S.template)?S.template(X,s):S.template,O=ce(O),S.replace){if(J=S,M=me(O)?[]:et(Z(S.templateNamespace,hr(O))),o=M[0],1!=M.length||o.nodeType!==br)throw Kr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",C,"");te(c,X,o);var ue={$attr:{}},le=P(o,[],ue),fe=e.splice(ee+1,e.length-(ee+1));L&&H(le),e=e.concat(le).concat(fe),Y(s,ue),ne=e.length}else X.html(O);if(S.templateUrl)B=!0,K("template",I,S,X),I=S,S.replace&&(J=S),y=G(e.splice(ee,e.length-ee),X,s,c,q&&Q,d,h,{controllerDirectives:D,newIsolateScopeDirective:L,templateDirective:I,nonTlbTranscludeDirective:R}),ne=e.length;else if(S.compile)try{T=S.compile(X,s,Q),k(T)?g(null,T,ie,se):T&&g(T.pre,T.post,ie,se)}catch(de){i(de,W(X))}S.terminal&&(y.terminal=!0,N=Math.max(N,S.priority))}return y.scope=$&&$.scope===!0,y.transcludeOnThisElement=q,y.elementTranscludeOnThisElement=V,y.templateOnThisElement=B,y.transclude=Q,p.hasElementTranscludeDirective=V,y}function H(e){for(var t=0,n=e.length;n>t;t++)e[t]=h(e[t],{$$isolateScope:!0})}function B(t,r,a,o,u,c,f){
if(r===u)return null;var d=null;if(s.hasOwnProperty(r))for(var p,g=e.get(r+l),m=0,v=g.length;v>m;m++)try{p=g[m],(o===n||o>p.priority)&&-1!=p.restrict.indexOf(a)&&(c&&(p=h(p,{$$start:c,$$end:f})),t.push(p),d=p)}catch(y){i(y)}return d}function V(t){if(s.hasOwnProperty(t))for(var n,r=e.get(t+l),i=0,a=r.length;a>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function Y(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;a(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),a(t,function(t,a){"class"==a?(O(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==a?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==a.charAt(0)||e.hasOwnProperty(a)||(e[a]=t,r[a]=n[a])})}function G(e,t,n,r,i,s,u,l){var c,f,d=[],p=t[0],g=e.shift(),m=h(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=k(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,y=g.templateNamespace;return t.empty(),o(v).then(function(o){var h,x,w,$;if(o=ce(o),g.replace){if(w=me(o)?[]:et(Z(y,hr(o))),h=w[0],1!=w.length||h.nodeType!==br)throw Kr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);x={$attr:{}},te(r,t,h);var k=P(h,[],x);b(g.scope)&&H(k),e=k.concat(e),Y(n,x)}else h=p,t.html(o);for(e.unshift(m),c=q(e,h,n,i,t,g,s,u,l),a(r,function(e,n){e==h&&(r[n]=t[0])}),f=D(t[0].childNodes,i);d.length;){var _=d.shift(),S=d.shift(),E=d.shift(),C=d.shift(),M=t[0];if(!_.$$destroyed){if(S!==p){var T=S.className;l.hasElementTranscludeDirective&&g.replace||(M=we(h)),te(E,tr(S),M),O(tr(M),T)}$=c.transcludeOnThisElement?R(_,c.transclude,C):C,c(f,_,M,r,$)}}d=null}),function(e,t,n,r,i){var a=i;t.$$destroyed||(d?d.push(t,n,r,a):(c.transcludeOnThisElement&&(a=R(t,c.transclude,i)),c(f,t,n,r,a)))}}function X(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function K(e,t,n,r){if(t)throw Kr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,W(r))}function J(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&A.$$addBindingClass(t),function(e,t){var i=t.parent();r||A.$$addBindingClass(i),A.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function Z(e,n){switch(e=Xn(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function Q(e,t){if("srcdoc"==t)return C.HTML;var n=L(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?C.RESOURCE_URL:void 0}function ee(e,t,n,i,a){var o=Q(e,i);a=v[i]||a;var s=r(n,!0,o,a);if(s){if("multiple"===i&&"select"===L(e))throw Kr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",W(e));t.push({priority:100,compile:function(){return{pre:function(e,t,u){var l=u.$$observers||(u.$$observers={});if($.test(i))throw Kr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=u[i];c!==n&&(s=c&&r(c,!0,o,a),n=c),s&&(u[i]=s(e),(l[i]||(l[i]=[])).$$inter=!0,(u.$$observers&&u.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?u.$updateClass(e,t):u.$set(i,e)}))}}}})}}function te(e,n,r){var i,a,o=n[0],s=n.length,u=o.parentNode;if(e)for(i=0,a=e.length;a>i;i++)if(e[i]==o){e[i++]=r;for(var l=i,c=l+s-1,f=e.length;f>l;l++,c++)f>c?e[l]=e[c]:delete e[l];e.length-=s-1,e.context===o&&(e.context=r);break}u&&u.replaceChild(r,o);var d=t.createDocumentFragment();d.appendChild(o),tr(r).data(tr(o).data()),nr?(fr=!0,nr.cleanData([o])):delete tr.cache[o[tr.expando]];for(var h=1,p=n.length;p>h;h++){var g=n[h];tr(g).remove(),d.appendChild(g),delete n[h]}n[0]=r,n.length=1}function re(e,t){return f(function(){return e.apply(null,arguments)},e,t)}function ae(e,t,n,r,a,o){try{e(t,n,r,a,o)}catch(s){i(s,W(n))}}var oe=function(e,t){if(t){var n,r,i,a=Object.keys(t);for(n=0,r=a.length;r>n;n++)i=a[n],this[i]=t[i]}else this.$attr={};this.$$element=e};oe.prototype={$normalize:Ze,$addClass:function(e){e&&e.length>0&&M.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&M.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Qe(e,t);n&&n.length&&M.addClass(this.$$element,n);var r=Qe(t,e);r&&r.length&&M.removeClass(this.$$element,r)},$set:function(e,t,r,o){var s,u=this.$$element[0],l=Re(u,e),c=Pe(u,e),f=e;if(l?(this.$$element.prop(e,t),o=l):c&&(this[c]=t,f=c),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=ne(e,"-"))),s=L(this.$$element),"a"===s&&"href"===e||"img"===s&&"src"===e)this[e]=t=T(t,"src"===e);else if("img"===s&&"srcset"===e){for(var d="",h=hr(t),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,g=/\s/.test(h)?p:/(,)/,m=h.split(g),v=Math.floor(m.length/2),y=0;v>y;y++){var b=2*y;d+=T(hr(m[b]),!0),d+=" "+hr(m[b+1])}var x=hr(m[2*y]).split(/\s/);d+=T(hr(x[0]),!0),2===x.length&&(d+=" "+hr(x[1])),this[e]=t=d}r!==!1&&(null===t||t===n?this.$$element.removeAttr(o):this.$$element.attr(o,t));var w=this.$$observers;w&&a(w[f],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=le()),i=r[e]||(r[e]=[]);return i.push(t),y.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(e)&&t(n[e])}),function(){I(i,t)}}};var se=r.startSymbol(),ue=r.endSymbol(),ce="{{"==se||"}}"==ue?g:function(e){return e.replace(/\{\{/g,se).replace(/}}/g,ue)},fe=/^ngAttr[A-Z]/;return A.$$addBindingInfo=_?function(e,t){var n=e.data("$binding")||[];dr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:p,A.$$addBindingClass=_?function(e){O(e,"ng-binding")}:p,A.$$addScopeInfo=_?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:p,A.$$addScopeClass=_?function(e,t){O(e,t?"ng-isolate-scope":"ng-scope")}:p,A}]}function Ze(e){return ge(e.replace(Jr,""))}function Qe(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var a=0;a<r.length;a++){for(var o=r[a],s=0;s<i.length;s++)if(o==i[s])continue e;n+=(n.length>0?" ":"")+o}return n}function et(e){e=tr(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===$r&&ar.call(e,t,1)}return e}function tt(){var e={},t=!1,i=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){oe(t,"controller"),b(t)?f(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(a,o){function s(e,t,n,i){if(!e||!b(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}return function(r,u,l,c){var d,h,p,g;if(l=l===!0,c&&x(c)&&(g=c),x(r)){if(h=r.match(i),!h)throw Zr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);p=h[1],g=g||h[3],r=e.hasOwnProperty(p)?e[p]:se(u.$scope,p,!0)||(t?se(o,p,!0):n),ae(r,p,!0)}if(l){var m=(dr(r)?r[r.length-1]:r).prototype;return d=Object.create(m||null),g&&s(u,g,d,p||r.name),f(function(){return a.invoke(r,d,u,p),d},{instance:d,identifier:g})}return d=a.instantiate(r,u,p),g&&s(u,g,d,p||r.name),d}}]}function nt(){this.$get=["$window",function(e){return tr(e.document)}]}function rt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function it(e,t){if(x(e)){var n=e.replace(ri,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Qr)||at(n))&&(e=B(n))}}return e}function at(e){var t=e.match(ti);return t&&ni[t[0]].test(e)}function ot(e){var t,n,r,i=le();return e?(a(e.split("\n"),function(e){r=e.indexOf(":"),t=Xn(hr(e.substr(0,r))),n=hr(e.substr(r+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}function st(e){var t=b(e)?e:n;return function(n){if(t||(t=ot(e)),n){var r=t[Xn(n)];return void 0===r&&(r=null),r}return t}}function ut(e,t,n,r){return k(r)?r(e,t,n):(a(r,function(r){e=r(e,t,n)}),e)}function lt(e){return e>=200&&300>e}function ct(){var e=this.defaults={transformResponse:[it],transformRequest:[function(e){return!b(e)||C(e)||T(e)||M(e)?e:H(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:P(ei),put:P(ei),patch:P(ei)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},t=!1;this.useApplyAsync=function(e){return y(e)?(t=!!e,this):t};var i=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(o,u,l,c,d,h){function p(t){function i(e){var t=f({},e);return t.data=e.data?ut(e.data,e.headers,e.status,u.transformResponse):e.data,lt(e.status)?t:d.reject(t)}function o(e){var t,n={};return a(e,function(e,r){k(e)?(t=e(),null!=t&&(n[r]=t)):n[r]=e}),n}function s(t){var n,r,i,a=e.headers,s=f({},t.headers);a=f({},a.common,a[Xn(t.method)]);e:for(n in a){r=Xn(n);for(i in s)if(Xn(i)===r)continue e;s[n]=a[n]}return o(s)}if(!lr.isObject(t))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var u=f({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},t);u.headers=s(t),u.method=Jn(u.method);var l=function(t){var r=t.headers,o=ut(t.data,st(r),n,t.transformRequest);return v(o)&&a(r,function(e,t){"content-type"===Xn(t)&&delete r[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),w(t,o).then(i,i)},c=[l,n],h=d.when(u);for(a(E,function(e){(e.request||e.requestError)&&c.unshift(e.request,e.requestError),(e.response||e.responseError)&&c.push(e.response,e.responseError)});c.length;){var p=c.shift(),g=c.shift();h=h.then(p,g)}return h.success=function(e){return ae(e,"fn"),h.then(function(t){e(t.data,t.status,t.headers,u)}),h},h.error=function(e){return ae(e,"fn"),h.then(null,function(t){e(t.data,t.status,t.headers,u)}),h},h}function g(e){a(arguments,function(e){p[e]=function(t,n){return p(f(n||{},{method:e,url:t}))}})}function m(e){a(arguments,function(e){p[e]=function(t,n,r){return p(f(r||{},{method:e,url:t,data:n}))}})}function w(r,i){function a(e,n,r,i){function a(){s(n,e,r,i)}h&&(lt(e)?h.put($,[e,n,ot(r),i]):h.remove($)),t?c.$applyAsync(a):(a(),c.$$phase||c.$apply())}function s(e,t,n,i){t=Math.max(t,0),(lt(t)?m.resolve:m.reject)({data:e,status:t,headers:st(n),config:r,statusText:i})}function l(e){s(e.data,e.status,P(e.headers()),e.statusText)}function f(){var e=p.pendingRequests.indexOf(r);-1!==e&&p.pendingRequests.splice(e,1)}var h,g,m=d.defer(),x=m.promise,w=r.headers,$=_(r.url,r.params);if(p.pendingRequests.push(r),x.then(f,f),!r.cache&&!e.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(h=b(r.cache)?r.cache:b(e.cache)?e.cache:S),h&&(g=h.get($),y(g)?A(g)?g.then(l,l):dr(g)?s(g[1],g[0],P(g[2]),g[3]):s(g,200,{},"OK"):h.put($,x)),v(g)){var k=an(r.url)?u.cookies()[r.xsrfCookieName||e.xsrfCookieName]:n;k&&(w[r.xsrfHeaderName||e.xsrfHeaderName]=k),o(r.method,$,i,a,w,r.timeout,r.withCredentials,r.responseType)}return x}function _(e,t){if(!t)return e;var n=[];return s(t,function(e,t){null===e||v(e)||(dr(e)||(e=[e]),a(e,function(e){b(e)&&(e=$(e)?e.toISOString():H(e)),n.push(K(t)+"="+K(e))}))}),n.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var S=l("$http"),E=[];return a(i,function(e){E.unshift(x(e)?h.get(e):h.invoke(e))}),p.pendingRequests=[],g("get","delete","head","jsonp"),m("post","put","patch"),p.defaults=e,p}]}function ft(){return new e.XMLHttpRequest}function dt(){this.$get=["$browser","$window","$document",function(e,t,n){return ht(e,ft,e.defer,t.angular.callbacks,n[0])}]}function ht(e,t,r,i,o){function s(e,t,n){var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=e,r.async=!0,a=function(e){Tr(r,"load",a),Tr(r,"error",a),o.body.removeChild(r),r=null;var s=-1,u="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),u=e.type,s="error"===e.type?404:200),n&&n(s,u)},Mr(r,"load",a),Mr(r,"error",a),o.body.appendChild(r),a}return function(o,u,l,c,f,d,h,g){function m(){x&&x(),w&&w.abort()}function v(t,i,a,o,s){_!==n&&r.cancel(_),x=w=null,t(i,a,o,s),e.$$completeOutstandingRequest(p)}if(e.$$incOutstandingRequestCount(),u=u||e.url(),"jsonp"==Xn(o)){var b="_"+(i.counter++).toString(36);i[b]=function(e){i[b].data=e,i[b].called=!0};var x=s(u.replace("JSON_CALLBACK","angular.callbacks."+b),b,function(e,t){v(c,e,i[b].data,"",t),i[b]=p})}else{var w=t();w.open(o,u,!0),a(f,function(e,t){y(e)&&w.setRequestHeader(t,e)}),w.onload=function(){var e=w.statusText||"",t="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=t?200:"file"==rn(u).protocol?404:0),v(c,n,t,w.getAllResponseHeaders(),e)};var $=function(){v(c,-1,null,null,"")};if(w.onerror=$,w.onabort=$,h&&(w.withCredentials=!0),g)try{w.responseType=g}catch(k){if("json"!==g)throw k}w.send(l||null)}if(d>0)var _=r(m,d);else A(d)&&d.then(m)}}function pt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function a(e){return"\\\\\\"+e}function o(a,o,d,h){function p(n){return n.replace(l,e).replace(c,t)}function g(e){try{return e=T(e),h&&!y(e)?e:O(e)}catch(t){var n=ii("interr","Can't interpolate: {0}\n{1}",a,t.toString());r(n)}}h=!!h;for(var m,b,x,w=0,$=[],_=[],S=a.length,E=[],C=[];S>w;){if(-1==(m=a.indexOf(e,w))||-1==(b=a.indexOf(t,m+s))){w!==S&&E.push(p(a.substring(w)));break}w!==m&&E.push(p(a.substring(w,m))),x=a.substring(m+s,b),$.push(x),_.push(n(x,g)),w=b+u,C.push(E.length),E.push("")}if(d&&E.length>1)throw ii("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a);if(!o||$.length){var M=function(e){for(var t=0,n=$.length;n>t;t++){if(h&&v(e[t]))return;E[C[t]]=e[t]}return E.join("")},T=function(e){return d?i.getTrusted(d,e):i.valueOf(e)},O=function(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=H(e)}return e};return f(function(e){var t=0,n=$.length,i=new Array(n);try{for(;n>t;t++)i[t]=_[t](e);return M(i)}catch(o){var s=ii("interr","Can't interpolate: {0}\n{1}",a,o.toString());r(s)}},{exp:a,expressions:$,$$watchDelegate:function(e,t,n){var r;return e.$watchGroup(_,function(n,i){var a=M(n);k(t)&&t.call(this,a,n!==i?r:a,e),r=a},n)}})}}var s=e.length,u=t.length,l=new RegExp(e.replace(/./g,a),"g"),c=new RegExp(t.replace(/./g,a),"g");return o.startSymbol=function(){return e},o.endSymbol=function(){return t},o}]}function gt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){function i(i,o,s,u){var l=t.setInterval,c=t.clearInterval,f=0,d=y(u)&&!u,h=(d?r:n).defer(),p=h.promise;return s=y(s)?s:0,p.then(null,null,i),p.$$intervalId=l(function(){h.notify(f++),s>0&&f>=s&&(h.resolve(f),c(p.$$intervalId),delete a[p.$$intervalId]),d||e.$apply()},o),a[p.$$intervalId]=h,p}var a={};return i.cancel=function(e){return e&&e.$$intervalId in a?(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0):!1},i}]}function mt(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(e){return 1===e?"one":"other"}}}}function vt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=X(t[n]);return t.join("/")}function yt(e,t){var n=rn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=d(n.port)||oi[n.protocol]||null}function bt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=rn(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=Y(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function xt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function wt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function $t(e){return e.replace(/(#.+)|#$/,"$1")}function kt(e){return e.substr(0,wt(e).lastIndexOf("/")+1)}function _t(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function St(e,t){this.$$html5=!0,t=t||"";var r=kt(e);yt(e,this),this.$$parse=function(e){var t=xt(r,e);if(!x(t))throw si("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,r);bt(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=G(this.$$search),t=this.$$hash?"#"+X(this.$$hash):"";this.$$url=vt(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,a){if(a&&"#"===a[0])return this.hash(a.slice(1)),!0;var o,s,u;return(o=xt(e,i))!==n?(s=o,u=(o=xt(t,o))!==n?r+(xt("/",o)||o):e+s):(o=xt(r,i))!==n?u=r+o:r==i+"/"&&(u=r),u&&this.$$parse(u),!!u}}function Et(e,t){var n=kt(e);yt(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var a,o=xt(e,r)||xt(n,r);v(o)||"#"!==o.charAt(0)?this.$$html5?a=o:(a="",v(o)&&(e=r,this.replace())):(a=xt(t,o),v(a)&&(a=o)),bt(a,this),this.$$path=i(this.$$path,a,e),this.$$compose()},this.$$compose=function(){var n=G(this.$$search),r=this.$$hash?"#"+X(this.$$hash):"";this.$$url=vt(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return wt(e)==wt(t)?(this.$$parse(t),!0):!1}}function Ct(e,t){this.$$html5=!0,Et.apply(this,arguments);var n=kt(e);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var a,o;return e==wt(r)?a=r:(o=xt(n,r))?a=e+t+o:n===r+"/"&&(a=n),a&&this.$$parse(a),!!a},this.$$compose=function(){var n=G(this.$$search),r=this.$$hash?"#"+X(this.$$hash):"";this.$$url=vt(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+t+this.$$url}}function Mt(e){return function(){return this[e]}}function Tt(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Ot(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return O(e)?(t.enabled=e,this):b(e)?(O(e.enabled)&&(t.enabled=e.enabled),O(e.requireBase)&&(t.requireBase=e.requireBase),O(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,a,o){function s(e,t,n){var i=l.url(),a=l.$$state;try{r.url(e,t,n),l.$$state=r.state()}catch(o){throw l.url(i),l.$$state=a,o}}function u(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}var l,c,f,d=r.baseHref(),h=r.url();if(t.enabled){if(!d&&t.requireBase)throw si("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=_t(h)+(d||"/"),c=i.history?St:Ct}else f=wt(h),c=Et;l=new c(f,"#"+e),l.$$parseLinkUrl(h,h),l.$$state=r.state();var p=/^\s*(javascript|mailto):/i;a.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=tr(e.target);"a"!==L(i[0]);)if(i[0]===a[0]||!(i=i.parent())[0])return;var s=i.prop("href"),u=i.attr("href")||i.attr("xlink:href");b(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=rn(s.animVal).href),p.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(s,u)&&(e.preventDefault(),l.absUrl()!=r.url()&&(n.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}),$t(l.absUrl())!=$t(h)&&r.url(l.absUrl(),!0);var g=!0;return r.onUrlChange(function(e,t){n.$evalAsync(function(){var r,i=l.absUrl(),a=l.$$state;l.$$parse(e),l.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,a).defaultPrevented,l.absUrl()===e&&(r?(l.$$parse(i),l.$$state=a,s(i,!1,a)):(g=!1,u(i,a)))}),n.$$phase||n.$digest()}),n.$watch(function(){var e=$t(r.url()),t=$t(l.absUrl()),a=r.state(),o=l.$$replace,c=e!==t||l.$$html5&&i.history&&a!==l.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var t=l.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,l.$$state,a).defaultPrevented;l.absUrl()===t&&(r?(l.$$parse(e),l.$$state=a):(c&&s(t,o,a===l.$$state?null:l.$$state),u(e,a)))})),l.$$replace=!1}),l}]}function At(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||p,o=!1;try{o=!!i.apply}catch(s){}return o?function(){var e=[];return a(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Nt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw li("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Dt(e,t){if(e){if(e.constructor===e)throw li("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw li("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw li("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw li("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Lt(e,t){if(e){if(e.constructor===e)throw li("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===ci||e===fi||e===di)throw li("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function It(e){return e.constant}function Rt(e,t,n,r,i){Dt(e,i),Dt(t,i);for(var a,o=n.split("."),s=0;o.length>1;s++){a=Nt(o.shift(),i);var u=0===s&&t&&t[a]||e[a];u||(u={},e[a]=u),e=Dt(u,i)}return a=Nt(o.shift(),i),Dt(e[a],i),e[a]=r,r}function Pt(e){return"constructor"==e}function jt(e,t,r,i,a,o,s){Nt(e,o),Nt(t,o),Nt(r,o),Nt(i,o),Nt(a,o);var u=function(e){return Dt(e,o)},l=s||Pt(e)?u:g,c=s||Pt(t)?u:g,f=s||Pt(r)?u:g,d=s||Pt(i)?u:g,h=s||Pt(a)?u:g;return function(o,s){var u=s&&s.hasOwnProperty(e)?s:o;return null==u?u:(u=l(u[e]),t?null==u?n:(u=c(u[t]),r?null==u?n:(u=f(u[r]),i?null==u?n:(u=d(u[i]),a?null==u?n:u=h(u[a]):u):u):u):u)}}function Ft(e,t){return function(n,r){return e(n,r,Dt,t)}}function Ut(e,t,r){var i=t.expensiveChecks,o=i?bi:yi,s=o[e];if(s)return s;var u=e.split("."),l=u.length;if(t.csp)s=6>l?jt(u[0],u[1],u[2],u[3],u[4],r,i):function(e,t){var a,o=0;do a=jt(u[o++],u[o++],u[o++],u[o++],u[o++],r,i)(e,t),t=n,e=a;while(l>o);return a};else{var c="";i&&(c+="s = eso(s, fe);\nl = eso(l, fe);\n");var f=i;a(u,function(e,t){Nt(e,r);var n=(t?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+"."+e;(i||Pt(e))&&(n="eso("+n+", fe)",f=!0),c+="if(s == null) return undefined;\ns="+n+";\n"}),c+="return s;";var d=new Function("s","l","eso","fe",c);d.toString=m(c),f&&(d=Ft(d,r)),s=d}return s.sharedGetter=!0,s.assign=function(t,n,r){return Rt(t,r,e,n,e)},o[e]=s,s}function zt(e){return k(e.valueOf)?e.valueOf():xi.call(e)}function qt(){var e=le(),t=le();this.$get=["$filter","$sniffer",function(n,r){function i(e){var t=e;return e.sharedGetter&&(t=function(t,n){return e(t,n)},t.literal=e.literal,t.constant=e.constant,t.assign=e.assign),t}function o(e,t){for(var n=0,r=e.length;r>n;n++){var i=e[n];i.constant||(i.inputs?o(i.inputs,t):-1===t.indexOf(i)&&t.push(i))}return t}function s(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=zt(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function u(e,t,n,r){var i,a=r.$$inputs||(r.$$inputs=o(r.inputs,[]));if(1===a.length){var u=s;return a=a[0],e.$watch(function(e){var t=a(e);return s(t,u)||(i=r(e),u=t&&zt(t)),i},t,n)}for(var l=[],c=0,f=a.length;f>c;c++)l[c]=s;return e.$watch(function(e){for(var t=!1,n=0,o=a.length;o>n;n++){var u=a[n](e);(t||(t=!s(u,l[n])))&&(l[n]=u&&zt(u))}return t&&(i=r(e)),i},t,n)}function l(e,t,n,r){var i,a;return i=e.$watch(function(e){return r(e)},function(e,n,r){a=e,k(t)&&t.apply(this,arguments),y(e)&&r.$$postDigest(function(){y(a)&&i()})},n)}function c(e,t,n,r){function i(e){var t=!0;return a(e,function(e){y(e)||(t=!1)}),t}var o,s;return o=e.$watch(function(e){return r(e)},function(e,n,r){s=e,k(t)&&t.call(this,e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&o()})},n)}function f(e,t,n,r){var i;return i=e.$watch(function(e){return r(e)},function(e,n,r){k(t)&&t.apply(this,arguments),i()},n)}function d(e,t){if(!t)return e;var n=e.$$watchDelegate,r=n!==c&&n!==l,i=r?function(n,r){var i=e(n,r);return t(i,n,r)}:function(n,r){var i=e(n,r),a=t(i,n,r);return y(i)?a:i};return e.$$watchDelegate&&e.$$watchDelegate!==u?i.$$watchDelegate=e.$$watchDelegate:t.$stateful||(i.$$watchDelegate=u,i.inputs=[e]),i}var h={csp:r.csp,expensiveChecks:!1},g={csp:r.csp,expensiveChecks:!0};return function(r,a,o){var s,m,v;switch(typeof r){case"string":v=r=r.trim();var y=o?t:e;if(s=y[v],!s){":"===r.charAt(0)&&":"===r.charAt(1)&&(m=!0,r=r.substring(2));var b=o?g:h,x=new mi(b),w=new vi(x,n,b);s=w.parse(r),s.constant?s.$$watchDelegate=f:m?(s=i(s),s.$$watchDelegate=s.literal?c:l):s.inputs&&(s.$$watchDelegate=u),y[v]=s}return d(s,a);case"function":return d(r,a);default:return d(p,a)}}}]}function Ht(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Wt(function(t){e.$evalAsync(t)},t)}]}function Bt(){this.$get=["$browser","$exceptionHandler",function(e,t){return Wt(function(t){e.defer(t)},t)}]}function Wt(e,t){function i(e,t,n){function r(t){return function(n){i||(i=!0,t.call(e,n))}}var i=!1;return[r(t),r(n)]}function o(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function u(e){var r,i,a;a=e.pending,e.processScheduled=!1,e.pending=n;for(var o=0,s=a.length;s>o;++o){i=a[o][0],r=a[o][e.status];try{k(r)?i.resolve(r(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(u){i.reject(u),t(u)}}}function l(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){u(t)}))}function c(){this.promise=new o,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function f(e){var t=new c,n=0,r=dr(e)?[]:{};return a(e,function(e,i){n++,v(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var d=r("$q",TypeError),h=function(){return new c};o.prototype={then:function(e,t,n){var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&l(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return m(t,!0,e)},function(t){return m(t,!1,e)},t)}},c.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(b(e)||k(e))&&(n=e&&e.then),k(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,l(this.promise.$$state))}catch(a){r[1](a),t(a)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,a=0,o=r.length;o>a;a++){i=r[a][0],e=r[a][3];try{i.notify(k(e)?e(n):n)}catch(s){t(s)}}})}};var p=function(e){var t=new c;return t.reject(e),t.promise},g=function(e,t){var n=new c;return t?n.resolve(e):n.reject(e),n.promise},m=function(e,t,n){var r=null;try{k(n)&&(r=n())}catch(i){return g(i,!1)}return A(r)?r.then(function(){return g(e,t)},function(e){return g(e,!1)}):g(e,t)},v=function(e,t,n,r){var i=new c;return i.resolve(e),i.promise.then(t,n,r)},y=function x(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!k(e))throw d("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof x))return new x(e);var r=new c;return e(t,n),r.promise};return y.defer=h,y.reject=p,y.when=v,y.all=f,y}function Vt(){this.$get=["$window","$timeout",function(e,t){function n(){for(var e=0;e<c.length;e++){var t=c[e];t&&(c[e]=null,t())}l=c.length=0}function r(e){var t=c.length;return l++,c.push(e),0===t&&(u=s(n)),function(){t>=0&&(c[t]=null,t=null,0===--l&&u&&(u(),u=null,c.length=0))}}var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame,a=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,o=!!i,s=o?function(e){var t=i(e);return function(){a(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};r.supported=o;var u,l=0,c=[];return r}]}function Yt(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=l(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),o=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,u,c,f){function d(e){e.currentScope.$$destroyed=!0}function h(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function g(e){if(_.$$phase)throw n("inprog","{0} already in progress",_.$$phase);_.$$phase=e}function m(){_.$$phase=null}function y(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function x(){}function w(){for(;C.length;)try{C.shift()()}catch(e){u(e)}s=null}function $(){null===s&&(s=f.defer(function(){_.$apply(w)}))}h.prototype={constructor:h,$new:function(t,n){var r;return n=n||this,t?(r=new h,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",d),r},$watch:function(e,t,n){var r=c(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r);var i=this,a=i.$$watchers,s={fn:t,last:x,get:r,exp:e,eq:!!n};return o=null,k(t)||(s.fn=p),a||(a=i.$$watchers=[]),a.unshift(s),function(){I(a,s),o=null}},$watchGroup:function(e,t){function n(){u=!1,l?(l=!1,t(i,i,s)):t(i,r,s)}var r=new Array(e.length),i=new Array(e.length),o=[],s=this,u=!1,l=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(i,i,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,a){i[0]=e,r[0]=n,t(i,e===n?i:r,a)}):(a(e,function(e,t){var a=s.$watch(e,function(e,a){i[t]=e,r[t]=a,u||(u=!0,s.$evalAsync(n))});o.push(a)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(e,t){function n(e){a=e;var t,n,r,s,u;if(!v(a)){if(b(a))if(i(a)){o!==h&&(o=h,m=o.length=0,f++),t=a.length,m!==t&&(f++,o.length=m=t);for(var l=0;t>l;l++)u=o[l],s=a[l],r=u!==u&&s!==s,r||u===s||(f++,o[l]=s)}else{o!==p&&(o=p={},m=0,f++),t=0;for(n in a)a.hasOwnProperty(n)&&(t++,s=a[n],u=o[n],n in o?(r=u!==u&&s!==s,r||u===s||(f++,o[n]=s)):(m++,o[n]=s,f++));if(m>t){f++;for(n in o)a.hasOwnProperty(n)||(m--,delete o[n])}}else o!==a&&(o=a,
f++);return f}}function r(){if(g?(g=!1,t(a,a,u)):t(a,s,u),l)if(b(a))if(i(a)){s=new Array(a.length);for(var e=0;e<a.length;e++)s[e]=a[e]}else{s={};for(var n in a)Kn.call(a,n)&&(s[n]=a[n])}else s=a}n.$stateful=!0;var a,o,s,u=this,l=t.length>1,f=0,d=c(e,n),h=[],p={},g=!0,m=0;return this.$watch(d,r)},$digest:function(){var e,r,i,a,l,c,d,h,p,v,y=t,b=this,$=[];g("$digest"),f.$$checkUrlChange(),this===_&&null!==s&&(f.defer.cancel(s),w()),o=null;do{for(c=!1,h=b;S.length;){try{v=S.shift(),v.scope.$eval(v.expression,v.locals)}catch(C){u(C)}o=null}e:do{if(a=h.$$watchers)for(l=a.length;l--;)try{if(e=a[l])if((r=e.get(h))===(i=e.last)||(e.eq?j(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(e===o){c=!1;break e}}else c=!0,o=e,e.last=e.eq?R(r,null):r,e.fn(r,i===x?r:i,h),5>y&&(p=4-y,$[p]||($[p]=[]),$[p].push({msg:k(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:i}))}catch(C){u(C)}if(!(d=h.$$childHead||h!==b&&h.$$nextSibling))for(;h!==b&&!(d=h.$$nextSibling);)h=h.$parent}while(h=d);if((c||S.length)&&!y--)throw m(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,$)}while(c||S.length);for(m();E.length;)try{E.shift()()}catch(C){u(C)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==_){for(var t in this.$$listenerCount)y(this,this.$$listenerCount[t],t);e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){_.$$phase||S.length||f.defer(function(){S.length&&_.$digest()}),S.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){E.push(e)},$apply:function(e){try{return g("$apply"),this.$eval(e)}catch(t){u(t)}finally{m();try{_.$digest()}catch(t){throw u(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&C.push(t),$()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,y(i,1,e))}},$emit:function(e,t){var n,r,i,a=[],o=this,s=!1,l={name:e,targetScope:o,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=F([l],arguments,1);do{for(n=o.$$listeners[e]||a,l.currentScope=o,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,c)}catch(f){u(f)}else n.splice(r,1),r--,i--;if(s)return l.currentScope=null,l;o=o.$parent}while(o);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,r=n,i=n,a={name:e,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return a;for(var o,s,l,c=F([a],arguments,1);r=i;){for(a.currentScope=r,o=r.$$listeners[e]||[],s=0,l=o.length;l>s;s++)if(o[s])try{o[s].apply(null,c)}catch(f){u(f)}else o.splice(s,1),s--,l--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var _=new h,S=_.$$asyncQueue=[],E=_.$$postDigestQueue=[],C=_.$$applyAsyncQueue=[];return _}]}function Gt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,a=r?t:e;return i=rn(n).href,""===i||i.match(a)?n:"unsafe:"+i}}}function Xt(e){if("self"===e)return e;if(x(e)){if(e.indexOf("***")>-1)throw wi("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=pr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(_(e))return new RegExp("^"+e.source+"$");throw wi("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Kt(e){var t=[];return y(e)&&a(e,function(e){t.push(Xt(e))}),t}function Jt(){this.SCE_CONTEXTS=$i;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Kt(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Kt(e)),t},this.$get=["$injector",function(r){function i(e,t){return"self"===e?an(t):!!e.exec(t.href)}function a(n){var r,a,o=rn(n.toString()),s=!1;for(r=0,a=e.length;a>r;r++)if(i(e[r],o)){s=!0;break}if(s)for(r=0,a=t.length;a>r;r++)if(i(t[r],o)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var r=d.hasOwnProperty(e)?d[e]:null;if(!r)throw wi("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw wi("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)}function u(e){return e instanceof f?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||t===n||""===t)return t;var r=d.hasOwnProperty(e)?d[e]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(e===$i.RESOURCE_URL){if(a(t))return t;throw wi("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===$i.HTML)return c(t);throw wi("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(e){throw wi("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(c=r.get("$sanitize"));var f=o(),d={};return d[$i.HTML]=o(f),d[$i.CSS]=o(f),d[$i.URL]=o(f),d[$i.JS]=o(f),d[$i.RESOURCE_URL]=o(d[$i.URL]),{trustAs:s,getTrusted:l,valueOf:u}}]}function Zt(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>er)throw wi("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=P($i);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=g),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,o=r.getTrusted,s=r.trustAs;return a($i,function(e,t){var n=Xn(t);r[ge("parse_as_"+n)]=function(t){return i(e,t)},r[ge("get_trusted_"+n)]=function(t){return o(e,t)},r[ge("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function Qt(){this.$get=["$window","$document",function(e,t){var n,r,i={},a=d((/android (\d+)/.exec(Xn((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,c=!1,f=!1;if(l){for(var h in l)if(r=u.exec(h)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),c=!!("transition"in l||n+"Transition"in l),f=!!("animation"in l||n+"Animation"in l),!a||c&&f||(c=x(s.body.style.webkitTransition),f=x(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>a||o),hasEvent:function(e){if("input"===e&&11>=er)return!1;if(v(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:gr(),vendorPrefix:n,transitions:c,animations:f,android:a}}]}function en(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,r){function i(a,o){function s(e){if(!o)throw Kr("tpload","Failed to load template: {0}",a);return n.reject(e)}i.totalPendingRequests++,x(a)&&e.get(a)||(a=r.getTrustedResourceUrl(a));var u=t.defaults&&t.defaults.transformResponse;dr(u)?u=u.filter(function(e){return e!==it}):u===it&&(u=null);var l={cache:e,transformResponse:u};return t.get(a,l)["finally"](function(){i.totalPendingRequests--}).then(function(e){return e.data},s)}return i.totalPendingRequests=0,i}]}function tn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return a(r,function(e){var r=lr.element(e).data("$binding");r&&a(r,function(r){if(n){var a=new RegExp("(^|\\s)"+pr(t)+"(\\s|\\||$)");a.test(r)&&i.push(e)}else-1!=r.indexOf(t)&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var a=n?"=":"*=",o="["+r[i]+"model"+a+'"'+t+'"]',s=e.querySelectorAll(o);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function nn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function a(a,s,u){var l,c=y(u)&&!u,f=(c?r:n).defer(),d=f.promise;return l=t.defer(function(){try{f.resolve(a())}catch(t){f.reject(t),i(t)}finally{delete o[d.$$timeoutId]}c||e.$apply()},s),d.$$timeoutId=l,o[l]=f,d}var o={};return a.cancel=function(e){return e&&e.$$timeoutId in o?(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},a}]}function rn(e){var t=e;return er&&(ki.setAttribute("href",t),t=ki.href),ki.setAttribute("href",t),{href:ki.href,protocol:ki.protocol?ki.protocol.replace(/:$/,""):"",host:ki.host,search:ki.search?ki.search.replace(/^\?/,""):"",hash:ki.hash?ki.hash.replace(/^#/,""):"",hostname:ki.hostname,port:ki.port,pathname:"/"===ki.pathname.charAt(0)?ki.pathname:"/"+ki.pathname}}function an(e){var t=x(e)?rn(e):e;return t.protocol===_i.protocol&&t.host===_i.host}function on(){this.$get=m(e)}function sn(e){function t(r,i){if(b(r)){var o={};return a(r,function(e,n){o[n]=t(n,e)}),o}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",fn),t("date",_n),t("filter",un),t("json",Sn),t("limitTo",En),t("lowercase",Ti),t("number",dn),t("orderBy",Cn),t("uppercase",Oi)}function un(){return function(e,t,n){if(!dr(e))return e;var r,i,a=null!==t?typeof t:"null";switch(a){case"function":r=t;break;case"boolean":case"null":case"number":case"string":i=!0;case"object":r=ln(t,n,i);break;default:return e}return e.filter(r)}}function ln(e,t,n){var r,i=b(e)&&"$"in e;return t===!0?t=j:k(t)||(t=function(e,t){return v(e)?!1:null===e||null===t?e===t:b(e)||b(t)?!1:(e=Xn(""+e),t=Xn(""+t),-1!==e.indexOf(t))}),r=function(r){return i&&!b(r)?cn(r,e.$,t,!1):cn(r,e,t,n)}}function cn(e,t,n,r,i){var a=null!==e?typeof e:"null",o=null!==t?typeof t:"null";if("string"===o&&"!"===t.charAt(0))return!cn(e,t.substring(1),n,r);if(dr(e))return e.some(function(e){return cn(e,t,n,r)});switch(a){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&cn(e[s],t,n,!0))return!0;return i?!1:cn(e,t,n,!1)}if("object"===o){for(s in t){var u=t[s];if(!k(u)&&!v(u)){var l="$"===s,c=l?e:e[s];if(!cn(c,u,n,l,l))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function fn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return v(n)&&(n=t.CURRENCY_SYM),v(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:hn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function dn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:hn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function hn(e,t,n,r,i){if(!isFinite(e)||b(e))return"";var a=0>e;e=Math.abs(e);var o=e+"",s="",u=[],l=!1;if(-1!==o.indexOf("e")){var c=o.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>i+1?e=0:(s=o,l=!0)}if(l)i>0&&1>e&&(s=e.toFixed(i),e=parseFloat(s));else{var f=(o.split(Si)[1]||"").length;v(i)&&(i=Math.min(Math.max(t.minFrac,f),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i);var d=(""+e).split(Si),h=d[0];d=d[1]||"";var p,g=0,m=t.lgSize,y=t.gSize;if(h.length>=m+y)for(g=h.length-m,p=0;g>p;p++)(g-p)%y===0&&0!==p&&(s+=n),s+=h.charAt(p);for(p=g;p<h.length;p++)(h.length-p)%m===0&&0!==p&&(s+=n),s+=h.charAt(p);for(;d.length<i;)d+="0";i&&"0"!==i&&(s+=r+d.substr(0,i))}return 0===e&&(a=!1),u.push(a?t.negPre:t.posPre,s,a?t.negSuf:t.posSuf),u.join("")}function pn(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function gn(e,t,n,r){return n=n||0,function(i){var a=i["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),pn(a,t,r)}}function mn(e,t){return function(n,r){var i=n["get"+e](),a=Jn(t?"SHORT"+e:e);return r[a][i]}}function vn(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=pn(Math[t>0?"floor":"ceil"](t/60),2)+pn(Math.abs(t%60),2)}function yn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function bn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function xn(e){return function(t){var n=yn(t.getFullYear()),r=bn(t),i=+r-+n,a=1+Math.round(i/6048e5);return pn(a,e)}}function wn(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function $n(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function kn(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function _n(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,a=0,o=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=d(t[9]+t[10]),a=d(t[9]+t[11])),o.call(r,d(t[1]),d(t[2])-1,d(t[3]));var u=d(t[4]||0)-i,l=d(t[5]||0)-a,c=d(t[6]||0),f=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,u,l,c,f),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var o,s,u="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,x(n)&&(n=Mi.test(n)?d(n):t(n)),w(n)&&(n=new Date(n)),!$(n))return n;for(;r;)s=Ci.exec(r),s?(l=F(l,s,1),r=l.pop()):(l.push(r),r=null);return i&&"UTC"===i&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),a(l,function(t){o=Ei[t],u+=o?o(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function Sn(){return function(e,t){return v(t)&&(t=2),H(e,t)}}function En(){return function(e,t){return w(e)&&(e=e.toString()),dr(e)||x(e)?(t=Math.abs(Number(t))===1/0?Number(t):d(t),t?t>0?e.slice(0,t):e.slice(t):x(e)?"":[]):e}}function Cn(e){return function(t,n,r){function a(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(0!==i)return i}return 0}function o(e,t){return t?function(t,n){return e(n,t)}:e}function s(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function u(e){return null===e?"null":"function"==typeof e.valueOf&&(e=e.valueOf(),s(e))?e:"function"==typeof e.toString&&(e=e.toString(),s(e))?e:""}function l(e,t){var n=typeof e,r=typeof t;return n===r&&"object"===n&&(e=u(e),t=u(t)),n===r?("string"===n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):r>n?-1:1}return i(t)?(n=dr(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(t){var n=!1,r=t||g;if(x(t)){if(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),""===t)return o(l,n);if(r=e(t),r.constant){var i=r();return o(function(e,t){return l(e[i],t[i])},n)}}return o(function(e,t){return l(r(e),r(t))},n)}),ir.call(t).sort(o(a,r))):t}}function Mn(e){return k(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function Tn(e,t){e.$name=t}function On(e,t,r,i,o){var s=this,u=[],l=s.$$parentForm=e.parent().controller("form")||Di;s.$error={},s.$$success={},s.$pending=n,s.$name=o(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,l.$addControl(s),s.$rollbackViewValue=function(){a(u,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){a(u,function(e){e.$commitViewValue()})},s.$addControl=function(e){oe(e.$name,"input"),u.push(e),e.$name&&(s[e.$name]=e)},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],a(s.$pending,function(t,n){s.$setValidity(n,null,e)}),a(s.$error,function(t,n){s.$setValidity(n,null,e)}),a(s.$$success,function(t,n){s.$setValidity(n,null,e)}),I(u,e)},Wn({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(I(r,n),0===r.length&&delete e[t])},parentForm:l,$animate:i}),s.$setDirty=function(){i.removeClass(e,ga),i.addClass(e,ma),s.$dirty=!0,s.$pristine=!1,l.$setDirty()},s.$setPristine=function(){i.setClass(e,ga,ma+" "+Li),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,a(u,function(e){e.$setPristine()})},s.$setUntouched=function(){a(u,function(e){e.$setUntouched()})},s.$setSubmitted=function(){i.addClass(e,Li),s.$submitted=!0,l.$setSubmitted()}}function An(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Nn(e,t,n,r,i,a){Dn(e,t,n,r,i,a),An(r)}function Dn(e,t,n,r,i,a){var o=Xn(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(e){s=!0}),t.on("compositionend",function(){s=!1,u()})}var u=function(e){if(l&&(a.defer.cancel(l),l=null),!s){var i=t.val(),u=e&&e.type;"password"===o||n.ngTrim&&"false"===n.ngTrim||(i=hr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))t.on("input",u);else{var l,c=function(e,t,n){l||(l=a.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),r.$render=function(){t.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function Ln(e,t){if($(e))return e;if(x(e)){Bi.lastIndex=0;var n=Bi.exec(e);if(n){var r=+n[1],i=+n[2],a=0,o=0,s=0,u=0,l=yn(r),c=7*(i-1);return t&&(a=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),u=t.getMilliseconds()),new Date(r,0,l.getDate()+c,a,o,s,u)}}return 0/0}function In(e,t){return function(n,r){var i,o;if($(n))return n;if(x(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ji.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),o=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},a(i,function(e,n){n<t.length&&(o[t[n]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return 0/0}}function Rn(e,t,r,i){return function(a,o,s,u,l,c,f){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function h(e){return y(e)?$(e)?e:r(e):n}Pn(a,o,s,u),Dn(a,o,s,u,l,c);var p,g=u&&u.$options&&u.$options.timezone;if(u.$$parserName=e,u.$parsers.push(function(e){if(u.$isEmpty(e))return null;if(t.test(e)){var i=r(e,p);return"UTC"===g&&i.setMinutes(i.getMinutes()-i.getTimezoneOffset()),i}return n}),u.$formatters.push(function(e){if(e&&!$(e))throw xa("datefmt","Expected `{0}` to be a date",e);if(d(e)){if(p=e,p&&"UTC"===g){var t=6e4*p.getTimezoneOffset();p=new Date(p.getTime()+t)}return f("date")(e,i,g)}return p=null,""}),y(s.min)||s.ngMin){var m;u.$validators.min=function(e){return!d(e)||v(m)||r(e)>=m},s.$observe("min",function(e){m=h(e),u.$validate()})}if(y(s.max)||s.ngMax){var b;u.$validators.max=function(e){return!d(e)||v(b)||r(e)<=b},s.$observe("max",function(e){b=h(e),u.$validate()})}}}function Pn(e,t,r,i){var a=t[0],o=i.$$hasNativeValidators=b(a.validity);o&&i.$parsers.push(function(e){var r=t.prop(Gn)||{};return r.badInput&&!r.typeMismatch?n:e})}function jn(e,t,r,i,a,o){if(Pn(e,t,r,i),Dn(e,t,r,i,a,o),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:zi.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!w(e))throw xa("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),y(r.min)||r.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||v(s)||e>=s},r.$observe("min",function(e){y(e)&&!w(e)&&(e=parseFloat(e,10)),s=w(e)&&!isNaN(e)?e:n,i.$validate()})}if(y(r.max)||r.ngMax){var u;i.$validators.max=function(e){return i.$isEmpty(e)||v(u)||u>=e},r.$observe("max",function(e){y(e)&&!w(e)&&(e=parseFloat(e,10)),u=w(e)&&!isNaN(e)?e:n,i.$validate()})}}function Fn(e,t,n,r,i,a){Dn(e,t,n,r,i,a),An(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Fi.test(n)}}function Un(e,t,n,r,i,a){Dn(e,t,n,r,i,a),An(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Ui.test(n)}}function zn(e,t,n,r){v(n.name)&&t.attr("name",l());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function qn(e,t,n,i,a){var o;if(y(i)){if(o=e(i),!o.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(t)}return a}function Hn(e,t,n,r,i,a,o,s){var u=qn(s,e,"ngTrueValue",n.ngTrueValue,!0),l=qn(s,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return j(e,u)}),r.$parsers.push(function(e){return e?u:l})}function Bn(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],a=0;a<t.length;a++)if(i==t[a])continue e;n.push(i)}return n}function i(e){if(dr(e))return e;if(x(e))return e.split(" ");if(b(e)){var t=[];return a(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}return e}return{restrict:"AC",link:function(o,s,u){function l(e){var t=f(e,1);u.$addClass(t)}function c(e){var t=f(e,-1);u.$removeClass(t)}function f(e,t){var n=s.data("$classCounts")||{},r=[];return a(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function d(e,t){var i=r(t,e),a=r(e,t);i=f(i,1),a=f(a,-1),i&&i.length&&n.addClass(s,i),a&&a.length&&n.removeClass(s,a)}function h(e){if(t===!0||o.$index%2===t){var n=i(e||[]);if(p){if(!j(e,p)){var r=i(p);d(r,n)}}else l(n)}p=P(e)}var p;o.$watch(u[e],h,!0),u.$observe("class",function(t){h(o.$eval(u[e]))}),"ngClass"!==e&&o.$watch("$index",function(n,r){var a=1&n;if(a!==(1&r)){var s=i(o.$eval(u[e]));a===t?l(s):c(s)}})}}}]}function Wn(e){function t(e,t,u){t===n?r("$pending",e,u):i("$pending",e,u),O(t)?t?(f(s.$error,e,u),c(s.$$success,e,u)):(c(s.$error,e,u),f(s.$$success,e,u)):(f(s.$error,e,u),f(s.$$success,e,u)),s.$pending?(a(ba,!0),s.$valid=s.$invalid=n,o("",null)):(a(ba,!1),s.$valid=Vn(s.$error),s.$invalid=!s.$valid,o("",s.$valid));var l;l=s.$pending&&s.$pending[e]?n:s.$error[e]?!1:s.$$success[e]?!0:null,o(e,l),d.$setValidity(e,l,s)}function r(e,t,n){s[e]||(s[e]={}),c(s[e],t,n)}function i(e,t,r){s[e]&&f(s[e],t,r),Vn(s[e])&&(s[e]=n)}function a(e,t){t&&!l[e]?(h.addClass(u,e),l[e]=!0):!t&&l[e]&&(h.removeClass(u,e),l[e]=!1)}function o(e,t){e=e?"-"+ne(e,"-"):"",a(ha+e,t===!0),a(pa+e,t===!1)}var s=e.ctrl,u=e.$element,l={},c=e.set,f=e.unset,d=e.parentForm,h=e.$animate;l[pa]=!(l[ha]=u.hasClass(ha)),s.$setValidity=t}function Vn(e){if(e)for(var t in e)return!1;return!0}var Yn=/^\/(.+)\/([a-z]*)$/,Gn="validity",Xn=function(e){return x(e)?e.toLowerCase():e},Kn=Object.prototype.hasOwnProperty,Jn=function(e){return x(e)?e.toUpperCase():e},Zn=function(e){return x(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Qn=function(e){return x(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Xn=Zn,Jn=Qn);var er,tr,nr,rr,ir=[].slice,ar=[].splice,or=[].push,sr=Object.prototype.toString,ur=r("ng"),lr=e.angular||(e.angular={}),cr=0;er=t.documentMode,p.$inject=[],g.$inject=[];var fr,dr=Array.isArray,hr=function(e){return x(e)?e.trim():e},pr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},gr=function(){if(y(gr.isActive_))return gr.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return gr.isActive_=e},mr=["ng-","data-ng-","ng:","x-ng-"],vr=/[A-Z]/g,yr=!1,br=1,xr=2,wr=3,$r=8,kr=9,_r=11,Sr={full:"1.3.17",major:1,minor:3,dot:17,codeName:"tsktskskly-euouae"};xe.expando="ng339";var Er=xe.cache={},Cr=1,Mr=function(e,t,n){e.addEventListener(t,n,!1)},Tr=function(e,t,n){e.removeEventListener(t,n,!1)};xe._data=function(e){return this.cache[e[this.expando]]||{}};var Or=/([\:\-\_]+(.))/g,Ar=/^moz([A-Z])/,Nr={mouseleave:"mouseout",mouseenter:"mouseover"},Dr=r("jqLite"),Lr=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ir=/<|&#?\w+;/,Rr=/<([\w:]+)/,Pr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};jr.optgroup=jr.option,jr.tbody=jr.tfoot=jr.colgroup=jr.caption=jr.thead,jr.th=jr.td;var Fr=xe.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),xe(e).on("load",r))},toString:function(){var e=[];return a(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return tr(e>=0?this[e]:this[this.length+e])},length:0,push:or,sort:[].sort,splice:[].splice},Ur={};a("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Ur[Xn(e)]=e});var zr={};a("input,select,option,textarea,button,form,details".split(","),function(e){zr[e]=!0});var qr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};a({data:Ee,removeData:_e},function(e,t){xe[t]=e}),a({data:Ee,inheritedData:Ne,scope:function(e){return tr.data(e,"$scope")||Ne(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return tr.data(e,"$isolateScope")||tr.data(e,"$isolateScopeNoTemplate")},controller:Ae,injector:function(e){return Ne(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Ce,css:function(e,t,n){return t=ge(t),y(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,r){var i=e.nodeType;if(i!==wr&&i!==xr&&i!==$r){var a=Xn(t);if(Ur[a]){if(!y(r))return e[t]||(e.attributes.getNamedItem(t)||p).specified?a:n;r?(e[t]=!0,e.setAttribute(t,a)):(e[t]=!1,e.removeAttribute(a))}else if(y(r))e.setAttribute(t,r);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?n:o}}},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return n===br||n===wr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===L(e)){var n=[];return a(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:($e(e,!0),void(e.innerHTML=t))},empty:De},function(e,t){xe.prototype[t]=function(t,r){var i,a,o=this.length;if(e!==De&&(2==e.length&&e!==Ce&&e!==Ae?t:r)===n){if(b(t)){for(i=0;o>i;i++)if(e===Ee)e(this[i],t);else for(a in t)e(this[i],a,t[a]);return this}for(var s=e.$dv,u=s===n?Math.min(o,1):o,l=0;u>l;l++){var c=e(this[l],t,r);s=s?s+c:c}return s}for(i=0;o>i;i++)e(this[i],t,r);return this}}),a({removeData:_e,on:function Ya(e,t,n,r){if(y(r))throw Dr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ve(e)){var i=Se(e,!0),a=i.events,o=i.handle;o||(o=i.handle=je(e,a));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],u=s.length;u--;){t=s[u];var l=a[t];l||(a[t]=[],"mouseenter"===t||"mouseleave"===t?Ya(e,Nr[t],function(e){var n=this,r=e.relatedTarget;(!r||r!==n&&!n.contains(r))&&o(e,t)}):"$destroy"!==t&&Mr(e,t,o),l=a[t]),l.push(n)}}},off:ke,one:function(e,t,n){e=tr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;$e(e),a(new xe(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return a(e.childNodes,function(e){e.nodeType===br&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===br||n===_r){t=new xe(t);for(var r=0,i=t.length;i>r;r++){var a=t[r];e.appendChild(a)}}},prepend:function(e,t){if(e.nodeType===br){var n=e.firstChild;a(new xe(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=tr(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:Le,detach:function(e){Le(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new xe(t);for(var i=0,a=t.length;a>i;i++){var o=t[i];r.insertBefore(o,n.nextSibling),n=o}},addClass:Te,removeClass:Me,toggleClass:function(e,t,n){t&&a(t.split(" "),function(t){var r=n;v(r)&&(r=!Ce(e,t)),(r?Te:Me)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==_r?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:we,triggerHandler:function(e,t,n){var r,i,o,s=t.type||t,u=Se(e),l=u&&u.events,c=l&&l[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:s,target:e},t.type&&(r=f(r,t)),i=P(c),o=n?[r].concat(n):[r],a(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){xe.prototype[t]=function(t,n,r){for(var i,a=0,o=this.length;o>a;a++)v(i)?(i=e(this[a],t,n,r),y(i)&&(i=tr(i))):Oe(i,e(this[a],t,n,r));return y(i)?i:this},xe.prototype.bind=xe.prototype.on,xe.prototype.unbind=xe.prototype.off}),ze.prototype={put:function(e,t){this[Ue(e,this.nextUid)]=t},get:function(e){return this[Ue(e,this.nextUid)]},remove:function(e){var t=this[e=Ue(e,this.nextUid)];return delete this[e],t}};var Hr=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Br=/,/,Wr=/^\s*(_?)(\S+?)\1\s*$/,Vr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Yr=r("$injector");Be.$$annotate=He;var Gr=r("$animate"),Xr=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var r=t+"-animation";if(t&&"."!=t.charAt(0))throw Gr("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=r,e.factory(r,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(e,t,n){function r(t){var r,i=e.defer();return i.promise.$$cancelFn=function(){r&&r()},n.$$postDigest(function(){r=t(function(){i.resolve()})}),i.promise}function i(e,t){var n=[],r=[],i=le();return a((e.attr("class")||"").split(/\s+/),function(e){i[e]=!0}),a(t,function(e,t){var a=i[t];e===!1&&a?r.push(t):e!==!0||a||n.push(t)}),n.length+r.length>0&&[n.length?n:null,r.length?r:null]}function o(e,t,n){for(var r=0,i=t.length;i>r;++r){var a=t[r];e[a]=n}}function s(){return l||(l=e.defer(),t(function(){l.resolve(),l=null})),l.promise}function u(e,t){if(lr.isObject(t)){var n=f(t.from||{},t.to||{});e.css(n)}}var l;return{animate:function(e,t,n){return u(e,{from:t,to:n}),s()},enter:function(e,t,n,r){return u(e,r),n?n.after(e):t.prepend(e),s()},leave:function(e,t){return u(e,t),e.remove(),s()},move:function(e,t,n,r){return this.enter(e,t,n,r)},addClass:function(e,t,n){return this.setClass(e,t,[],n)},$$addClassImmediately:function(e,t,n){return e=tr(e),t=x(t)?t:dr(t)?t.join(" "):"",a(e,function(e){Te(e,t)}),u(e,n),s()},removeClass:function(e,t,n){
return this.setClass(e,[],t,n)},$$removeClassImmediately:function(e,t,n){return e=tr(e),t=x(t)?t:dr(t)?t.join(" "):"",a(e,function(e){Me(e,t)}),u(e,n),s()},setClass:function(e,t,n,a){var s=this,u="$$animateClasses",l=!1;e=tr(e);var c=e.data(u);c?a&&c.options&&(c.options=lr.extend(c.options||{},a)):(c={classes:{},options:a},l=!0);var f=c.classes;return t=dr(t)?t:t.split(" "),n=dr(n)?n:n.split(" "),o(f,t,!0),o(f,n,!1),l&&(c.promise=r(function(t){var n=e.data(u);if(e.removeData(u),n){var r=i(e,n.classes);r&&s.$$setClassImmediately(e,r[0],r[1],n.options)}t()}),e.data(u,c)),c.promise},$$setClassImmediately:function(e,t,n,r){return t&&this.$$addClassImmediately(e,t),n&&this.$$removeClassImmediately(e,n),u(e,r),s()},enabled:p,cancel:p}}]}],Kr=r("$compile");Je.$inject=["$provide","$$sanitizeUriProvider"];var Jr=/^((?:x|data)[\:\-_])/i,Zr=r("$controller"),Qr="application/json",ei={"Content-Type":Qr+";charset=utf-8"},ti=/^\[|^\{(?!\{)/,ni={"[":/]$/,"{":/}$/},ri=/^\)\]\}',?\n/,ii=r("$interpolate"),ai=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,oi={http:80,https:443,ftp:21},si=r("$location"),ui={$$html5:!1,$$replace:!1,absUrl:Mt("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=ai.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Mt("$$protocol"),host:Mt("$$host"),port:Mt("$$port"),path:Tt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(x(e)||w(e))e=e.toString(),this.$$search=Y(e);else{if(!b(e))throw si("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=R(e,{}),a(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Tt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};a([Ct,Et,St],function(e){e.prototype=Object.create(ui),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==St||!this.$$html5)throw si("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var li=r("$parse"),ci=Function.prototype.call,fi=Function.prototype.apply,di=Function.prototype.bind,hi=le();a({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(e,t){e.constant=e.literal=e.sharedGetter=!0,hi[t]=e}),hi["this"]=function(e){return e},hi["this"].sharedGetter=!0;var pi=f(le(),{"+":function(e,t,r,i){return r=r(e,t),i=i(e,t),y(r)?y(i)?r+i:r:y(i)?i:n},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),(y(n)?n:0)-(y(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"!":function(e,t,n){return!n(e,t)},"=":!0,"|":!0}),gi={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},mi=function(e){this.options=e};mi.prototype={constructor:mi,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=pi[t],a=pi[n],o=pi[r];if(i||a||o){var s=o?r:a?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw li("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Xn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(r+=a,i){if("u"===a){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{var s=gi[a];n+=s||a}i=!1}else if("\\"===a)i=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",t)}};var vi=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};vi.ZERO=f(function(){return 0},{sharedGetter:!0,constant:!0}),vi.prototype={constructor:vi,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.peek().identifier&&this.peek().text in hi?e=hi[this.consume().text]:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t,n;t=this.expect("(","[",".");)"("===t.text?(e=this.functionCall(e,n),n=null):"["===t.text?(n=e,e=this.objectIndex(e)):"."===t.text?(n=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw li("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw li("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var a=this.tokens[e],o=a.text;if(o===t||o===n||o===r||o===i||!t&&!n&&!r&&!i)return a}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},consume:function(e){if(0===this.tokens.length)throw li("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},unaryFn:function(e,t){var n=pi[e];return f(function(e,r){return n(e,r,t)},{constant:t.constant,inputs:[t]})},binaryFn:function(e,t,n,r){var i=pi[t];return f(function(t,r){return i(t,r,e,n)},{constant:e.constant&&n.constant,inputs:!r&&[e,n]})},identifier:function(){for(var e=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)e+=this.consume().text+this.consume().text;return Ut(e,this.options,this.text)},constant:function(){var e=this.consume().value;return f(function(){return e},{constant:!0,literal:!0})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var r,i=0,a=e.length;a>i;i++)r=e[i](t,n);return r}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},filter:function(e){var t,r,i=this.$filter(this.consume().text);if(this.peek(":"))for(t=[],r=[];this.expect(":");)t.push(this.expression());var a=[e].concat(t||[]);return f(function(a,o){var s=e(a,o);if(r){r[0]=s;for(var u=t.length;u--;)r[u+1]=t[u](a,o);return i.apply(n,r)}return i(s)},{constant:!i.$stateful&&a.every(It),inputs:!i.$stateful&&a})},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),f(function(t,r){return n.assign(t,e(t,r),r)},{inputs:[n,e]})):n},ternary:function(){var e,t,n=this.logicalOR();if((t=this.expect("?"))&&(e=this.assignment(),this.consume(":"))){var r=this.assignment();return f(function(t,i){return n(t,i)?e(t,i):r(t,i)},{constant:n.constant&&e.constant&&r.constant})}return n},logicalOR:function(){for(var e,t=this.logicalAND();e=this.expect("||");)t=this.binaryFn(t,e.text,this.logicalAND(),!0);return t},logicalAND:function(){for(var e,t=this.equality();e=this.expect("&&");)t=this.binaryFn(t,e.text,this.equality(),!0);return t},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t=this.binaryFn(t,e.text,this.relational());return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t=this.binaryFn(t,e.text,this.additive());return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.text,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.text,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(vi.ZERO,e.text,this.unary()):(e=this.expect("!"))?this.unaryFn(e.text,this.unary()):this.primary()},fieldAccess:function(e){var t=this.identifier();return f(function(r,i,a){var o=a||e(r,i);return null==o?n:t(o)},{assign:function(n,r,i){var a=e(n,i);return a||e.assign(n,a={},i),t.assign(a,r)}})},objectIndex:function(e){var t=this.text,r=this.expression();return this.consume("]"),f(function(i,a){var o,s=e(i,a),u=r(i,a);return Nt(u,t),s?o=Dt(s[u],t):n},{assign:function(n,i,a){var o=Nt(r(n,a),t),s=Dt(e(n,a),t);return s||e.assign(n,s={},a),s[o]=i}})},functionCall:function(e,t){var r=[];if(")"!==this.peekToken().text)do r.push(this.expression());while(this.expect(","));this.consume(")");var i=this.text,a=r.length?[]:null;return function(o,s){var u=t?t(o,s):y(t)?n:o,l=e(o,s,u)||p;if(a)for(var c=r.length;c--;)a[c]=Dt(r[c](o,s),i);Dt(u,i),Lt(l,i);var f=l.apply?l.apply(u,a):l(a[0],a[1],a[2],a[3],a[4]);return a&&(a.length=0),Dt(f,i)}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),f(function(t,n){for(var r=[],i=0,a=e.length;a>i;i++)r.push(e[i](t,n));return r},{literal:!0,constant:e.every(It),inputs:e})},object:function(){var e=[],t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?e.push(n.value):n.identifier?e.push(n.text):this.throwError("invalid key",n),this.consume(":"),t.push(this.expression())}while(this.expect(","));return this.consume("}"),f(function(n,r){for(var i={},a=0,o=t.length;o>a;a++)i[e[a]]=t[a](n,r);return i},{literal:!0,constant:t.every(It),inputs:t})}};var yi=le(),bi=le(),xi=Object.prototype.valueOf,wi=r("$sce"),$i={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Kr=r("$compile"),ki=t.createElement("a"),_i=rn(e.location.href);sn.$inject=["$provide"],fn.$inject=["$locale"],dn.$inject=["$locale"];var Si=".",Ei={yyyy:gn("FullYear",4),yy:gn("FullYear",2,0,!0),y:gn("FullYear",1),MMMM:mn("Month"),MMM:mn("Month",!0),MM:gn("Month",2,1),M:gn("Month",1,1),dd:gn("Date",2),d:gn("Date",1),HH:gn("Hours",2),H:gn("Hours",1),hh:gn("Hours",2,-12),h:gn("Hours",1,-12),mm:gn("Minutes",2),m:gn("Minutes",1),ss:gn("Seconds",2),s:gn("Seconds",1),sss:gn("Milliseconds",3),EEEE:mn("Day"),EEE:mn("Day",!0),a:wn,Z:vn,ww:xn(2),w:xn(1),G:$n,GG:$n,GGG:$n,GGGG:kn},Ci=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Mi=/^\-?\d+$/;_n.$inject=["$locale"];var Ti=m(Xn),Oi=m(Jn);Cn.$inject=["$parse"];var Ai=m({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref||t.name?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===sr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Ni={};a(Ur,function(e,t){if("multiple"!=e){var n=Ze("ng-"+t);Ni[n]=function(){return{restrict:"A",priority:100,link:function(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}}}}}),a(qr,function(e,t){Ni[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(Yn);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),a(["src","srcset","href"],function(e){var t=Ze("ng-"+e);Ni[t]=function(){return{priority:99,link:function(n,r,i){var a=e,o=e;"href"===e&&"[object SVGAnimatedString]"===sr.call(r.prop("href"))&&(o="xlinkHref",i.$attr[o]="xlink:href",a=null),i.$observe(t,function(t){return t?(i.$set(o,t),void(er&&a&&r.prop(a,i[o]))):void("href"===e&&i.$set(o,null))})}}}});var Di={$addControl:p,$$renameControl:Tn,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},Li="ng-submitted";On.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ii=function(e){return["$timeout",function(t){var r={name:"form",restrict:e?"EAC":"E",controller:On,compile:function(r,i){r.addClass(ga).addClass(ha);var a=i.name?"name":e&&i.ngForm?"ngForm":!1;return{pre:function(e,r,i,o){if(!("action"in i)){var s=function(t){e.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),t.preventDefault()};Mr(r[0],"submit",s),r.on("$destroy",function(){t(function(){Tr(r[0],"submit",s)},0,!1)})}var u=o.$$parentForm;a&&(Rt(e,null,o.$name,o,o.$name),i.$observe(a,function(t){o.$name!==t&&(Rt(e,null,o.$name,n,o.$name),u.$$renameControl(o,t),Rt(e,null,o.$name,o,o.$name))})),r.on("$destroy",function(){u.$removeControl(o),a&&Rt(e,null,i[a],n,o.$name),f(o,Di)})}}}};return r}]},Ri=Ii(),Pi=Ii(!0),ji=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Fi=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Ui=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,zi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,qi=/^(\d{4})-(\d{2})-(\d{2})$/,Hi=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Bi=/^(\d{4})-W(\d\d)$/,Wi=/^(\d{4})-(\d\d)$/,Vi=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Yi={text:Nn,date:Rn("date",qi,In(qi,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Rn("datetimelocal",Hi,In(Hi,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Rn("time",Vi,In(Vi,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Rn("week",Bi,Ln,"yyyy-Www"),month:Rn("month",Wi,In(Wi,["yyyy","MM"]),"yyyy-MM"),number:jn,url:Fn,email:Un,radio:zn,checkbox:Hn,hidden:p,button:p,submit:p,reset:p,file:p},Gi=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,a,o,s){s[0]&&(Yi[Xn(o.type)]||Yi.text)(i,a,o,s[0],t,e,n,r)}}}}],Xi=/^(true|false|\d+)$/,Ki=function(){return{restrict:"A",priority:100,compile:function(e,t){return Xi.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Ji=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,r,i){e.$$addBindingInfo(r,i.ngBind),r=r[0],t.$watch(i.ngBind,function(e){r.textContent=e===n?"":e})}}}}],Zi=["$interpolate","$compile",function(e,t){return{compile:function(r){return t.$$addBindingClass(r),function(r,i,a){var o=e(i.attr(a.$attr.ngBindTemplate));t.$$addBindingInfo(i,o.expressions),i=i[0],a.$observe("ngBindTemplate",function(e){i.textContent=e===n?"":e})}}}}],Qi=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var a=t(i.ngBindHtml),o=t(i.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(o,function(){r.html(e.getTrustedHtml(a(t))||"")})}}}}],ea=m({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),ta=Bn("",!0),na=Bn("Odd",0),ra=Bn("Even",1),ia=Mn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),aa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],oa={},sa={blur:!0,focus:!0};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Ze("ng-"+e);oa[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,a){var o=n(a[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){o(t,{$event:n})};sa[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var ua=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,a,o){var s,u,l;n.$watch(i.ngIf,function(n){n?u||o(function(n,a){u=a,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)}):(l&&(l.remove(),l=null),u&&(u.$destroy(),u=null),s&&(l=ue(s.clone),e.leave(l).then(function(){l=null}),s=null))})}}}],la=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:lr.noop,compile:function(r,i){var a=i.ngInclude||i.src,o=i.onload||"",s=i.autoscroll;return function(r,i,u,l,c){var f,d,h,p=0,g=function(){d&&(d.remove(),d=null),f&&(f.$destroy(),f=null),h&&(n.leave(h).then(function(){d=null}),d=h,h=null)};r.$watch(a,function(a){var u=function(){!y(s)||s&&!r.$eval(s)||t()},d=++p;a?(e(a,!0).then(function(e){if(d===p){var t=r.$new();l.template=e;var s=c(t,function(e){g(),n.enter(e,null,i).then(u)});f=t,h=s,f.$emit("$includeContentLoaded",a),r.$eval(o)}},function(){d===p&&(g(),r.$emit("$includeContentError",a))}),r.$emit("$includeContentRequested",a)):(g(),l.template=null)})}}}}],ca=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,a){return/SVG/.test(r[0].toString())?(r.empty(),void e(ye(a.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(a.template),void e(r.contents())(n))}}}],fa=Mn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),da=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var o=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,u=s?hr(o):o,l=function(e){if(!v(e)){var t=[];return e&&a(e.split(u),function(e){e&&t.push(s?hr(e):e)}),t}};i.$parsers.push(l),i.$formatters.push(function(e){return dr(e)?e.join(o):n}),i.$isEmpty=function(e){return!e||!e.length}}}},ha="ng-valid",pa="ng-invalid",ga="ng-pristine",ma="ng-dirty",va="ng-untouched",ya="ng-touched",ba="ng-pending",xa=new r("ngModel"),wa=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,o,s,u,l,c,f){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=f(r.name||"",!1)(e);var d,h=o(r.ngModel),g=h.assign,m=h,b=g,x=null,$=this;this.$$setOptions=function(e){if($.$options=e,e&&e.getterSetter){var t=o(r.ngModel+"()"),n=o(r.ngModel+"($$$p)");m=function(e){var n=h(e);return k(n)&&(n=t(e)),n},b=function(e,t){k(h(e))?n(e,{$$$p:$.$modelValue}):g(e,$.$modelValue)}}else if(!h.assign)throw xa("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,W(i))},this.$render=p,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e};var _=i.inheritedData("$formController")||Di,S=0;Wn({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:_,$animate:s}),this.$setPristine=function(){$.$dirty=!1,$.$pristine=!0,s.removeClass(i,ma),s.addClass(i,ga)},this.$setDirty=function(){$.$dirty=!0,$.$pristine=!1,s.removeClass(i,ga),s.addClass(i,ma),_.$setDirty()},this.$setUntouched=function(){$.$touched=!1,$.$untouched=!0,s.setClass(i,va,ya)},this.$setTouched=function(){$.$touched=!0,$.$untouched=!1,s.setClass(i,ya,va)},this.$rollbackViewValue=function(){u.cancel(x),$.$viewValue=$.$$lastCommittedViewValue,$.$render()},this.$validate=function(){if(!w($.$modelValue)||!isNaN($.$modelValue)){var e=$.$$lastCommittedViewValue,t=$.$$rawModelValue,r=$.$valid,i=$.$modelValue,a=$.$options&&$.$options.allowInvalid;$.$$runValidators(t,e,function(e){a||r===e||($.$modelValue=e?t:n,$.$modelValue!==i&&$.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function i(){var e=$.$$parserName||"parse";return d!==n?(d||(a($.$validators,function(e,t){u(t,null)}),a($.$asyncValidators,function(e,t){u(t,null)})),u(e,d),d):(u(e,null),!0)}function o(){var n=!0;return a($.$validators,function(r,i){var a=r(e,t);n=n&&a,u(i,a)}),n?!0:(a($.$asyncValidators,function(e,t){u(t,null)}),!1)}function s(){var r=[],i=!0;a($.$asyncValidators,function(a,o){var s=a(e,t);if(!A(s))throw xa("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);u(o,n),r.push(s.then(function(){u(o,!0)},function(e){i=!1,u(o,!1)}))}),r.length?c.all(r).then(function(){l(i)},p):l(!0)}function u(e,t){f===S&&$.$setValidity(e,t)}function l(e){f===S&&r(e)}S++;var f=S;return i()&&o()?void s():void l(!1)},this.$commitViewValue=function(){var e=$.$viewValue;u.cancel(x),($.$$lastCommittedViewValue!==e||""===e&&$.$$hasNativeValidators)&&($.$$lastCommittedViewValue=e,$.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){$.$modelValue!==o&&$.$$writeModelToScope()}var r=$.$$lastCommittedViewValue,i=r;if(d=v(i)?n:!0)for(var a=0;a<$.$parsers.length;a++)if(i=$.$parsers[a](i),v(i)){d=!1;break}w($.$modelValue)&&isNaN($.$modelValue)&&($.$modelValue=m(e));var o=$.$modelValue,s=$.$options&&$.$options.allowInvalid;$.$$rawModelValue=i,s&&($.$modelValue=i,t()),$.$$runValidators(i,$.$$lastCommittedViewValue,function(e){s||($.$modelValue=e?i:n,t())})},this.$$writeModelToScope=function(){b(e,$.$modelValue),a($.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){$.$viewValue=e,(!$.$options||$.$options.updateOnDefault)&&$.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=$.$options;i&&y(i.debounce)&&(n=i.debounce,w(n)?r=n:w(n[t])?r=n[t]:w(n["default"])&&(r=n["default"])),u.cancel(x),r?x=u(function(){$.$commitViewValue()},r):l.$$phase?$.$commitViewValue():e.$apply(function(){$.$commitViewValue()})},e.$watch(function(){var t=m(e);if(t!==$.$modelValue&&($.$modelValue===$.$modelValue||t===t)){$.$modelValue=$.$$rawModelValue=t,d=n;for(var r=$.$formatters,i=r.length,a=t;i--;)a=r[i](a);$.$viewValue!==a&&($.$viewValue=$.$$lastCommittedViewValue=a,$.$render(),$.$$runValidators(t,a,p))}return t})}],$a=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:wa,priority:1,compile:function(t){return t.addClass(ga).addClass(va).addClass(ha),{pre:function(e,t,n,r){var i=r[0],a=r[1]||Di;i.$$setOptions(r[2]&&r[2].$options),a.$addControl(i),n.$observe("name",function(e){i.$name!==e&&a.$$renameControl(i,e)}),e.$on("$destroy",function(){a.$removeControl(i)})},post:function(t,n,r,i){var a=i[0];a.$options&&a.$options.updateOn&&n.on(a.$options.updateOn,function(e){a.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){a.$touched||(e.$$phase?t.$evalAsync(a.$setTouched):t.$apply(a.$setTouched))})}}}}}],ka=/(\s+|^)default(\s+|$)/,_a=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var r=this;this.$options=e.$eval(t.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=hr(this.$options.updateOn.replace(ka,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Sa=Mn({terminal:!0,priority:1e3}),Ea=["$locale","$interpolate",function(e,t){var n=/{}/g,r=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(i,o,s){function u(e){o.text(e||"")}var l,c=s.count,f=s.$attr.when&&o.attr(s.$attr.when),d=s.offset||0,h=i.$eval(f)||{},p={},g=t.startSymbol(),m=t.endSymbol(),v=g+c+"-"+d+m,y=lr.noop;a(s,function(e,t){var n=r.exec(t);if(n){var i=(n[1]?"-":"")+Xn(n[2]);h[i]=o.attr(s.$attr[t])}}),a(h,function(e,r){p[r]=t(e.replace(n,v))}),i.$watch(c,function(t){var n=parseFloat(t),r=isNaN(n);r||n in h||(n=e.pluralCat(n-d)),n===l||r&&isNaN(l)||(y(),y=i.$watch(p[n],u),l=n)})}}}],Ca=["$parse","$animate",function(e,o){var s="$$NG_REMOVED",u=r("ngRepeat"),l=function(e,t,n,r,i,a,o){e[n]=r,i&&(e[i]=a),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},c=function(e){return e.clone[0]},f=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,d){var h=d.ngRepeat,p=t.createComment(" end ngRepeat: "+h+" "),g=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw u("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var m=g[1],v=g[2],y=g[3],b=g[4];if(g=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw u("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var x=g[3]||g[1],w=g[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw u("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var $,k,_,S,E={$id:Ue};return b?$=e(b):(_=function(e,t){return Ue(t)},S=function(e){return e}),function(e,t,r,d,g){$&&(k=function(t,n,r){return w&&(E[w]=t),E[x]=n,E.$index=r,$(e,E)});var m=le();e.$watchCollection(v,function(r){var d,v,b,$,E,C,M,T,O,A,N,D,L=t[0],I=le();if(y&&(e[y]=r),i(r))O=r,T=k||_;else{T=k||S,O=[];for(var R in r)r.hasOwnProperty(R)&&"$"!=R.charAt(0)&&O.push(R);O.sort()}for($=O.length,N=new Array($),d=0;$>d;d++)if(E=r===O?d:O[d],C=r[E],M=T(E,C,d),m[M])A=m[M],delete m[M],I[M]=A,N[d]=A;else{if(I[M])throw a(N,function(e){e&&e.scope&&(m[e.id]=e)}),u("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,M,C);N[d]={id:M,scope:n,clone:n},I[M]=!0}for(var P in m){if(A=m[P],D=ue(A.clone),o.leave(D),D[0].parentNode)for(d=0,v=D.length;v>d;d++)D[d][s]=!0;A.scope.$destroy()}for(d=0;$>d;d++)if(E=r===O?d:O[d],C=r[E],A=N[d],A.scope){b=L;do b=b.nextSibling;while(b&&b[s]);c(A)!=b&&o.move(ue(A.clone),null,tr(L)),L=f(A),l(A.scope,d,x,C,w,E,$)}else g(function(e,t){A.scope=t;var n=p.cloneNode(!1);e[e.length++]=n,o.enter(e,null,tr(L)),L=n,A.clone=e,I[A.id]=A,l(A.scope,d,x,C,w,E,$)});m=I})}}}}],Ma="ng-hide",Ta="ng-hide-animate",Oa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,Ma,{tempClasses:Ta})})}}}],Aa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,Ma,{tempClasses:Ta})})}}}],Na=Mn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&a(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Da=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){var s=i.ngSwitch||i.on,u=[],l=[],c=[],f=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=c.length;i>r;++r)e.cancel(c[r]);for(c.length=0,r=0,i=f.length;i>r;++r){var s=ue(l[r].clone);f[r].$destroy();var h=c[r]=e.leave(s);h.then(d(c,r))}l.length=0,f.length=0,(u=o.cases["!"+n]||o.cases["?"])&&a(u,function(n){n.transclude(function(r,i){f.push(i);var a=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");var o={clone:r};l.push(o),e.enter(r,a.parent(),a)})})})}}}],La=Mn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Ia=Mn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Ra=Mn({restrict:"EAC",link:function(e,t,n,i,a){if(!a)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",W(t));a(function(e){t.empty(),t.append(e)})}}),Pa=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],ja=r("ngOptions"),Fa=m({restrict:"A",terminal:!0}),Ua=["$compile","$parse",function(e,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:p};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r,i,a=this,o={},u=s;a.databound=n.ngModel,a.init=function(e,t,n){u=e,r=t,i=n},a.addOption=function(t,n){oe(t,'"option value"'),o[t]=!0,u.$viewValue==t&&(e.val(t),i.parent()&&i.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},a.removeOption=function(e){this.hasOption(e)&&(delete o[e],u.$viewValue===e&&this.renderUnknownOption(e))},a.renderUnknownOption=function(t){var n="? "+Ue(t)+" ?";i.val(n),e.prepend(i),e.val(n),i.prop("selected",!0)},a.hasOption=function(e){return o.hasOwnProperty(e)},t.$on("$destroy",function(){a.renderUnknownOption=p})}],link:function(s,u,l,c){function f(e,t,n,r){n.$render=function(){var e=n.$viewValue;r.hasOption(e)?(_.parent()&&_.remove(),t.val(e),""===e&&p.prop("selected",!0)):null==e&&p?t.val(""):r.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){_.parent()&&_.remove(),n.$setViewValue(t.val())})})}function d(e,t,n){var r;n.$render=function(){var e=new ze(n.$viewValue);a(t.find("option"),function(t){t.selected=y(e.get(t.value))})},e.$watch(function(){j(r,n.$viewValue)||(r=P(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){
var e=[];a(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function h(t,s,u){function l(e,n,r){return j[C]=r,O&&(j[O]=n),e(t,j)}function c(){t.$apply(function(){var e,n=D(t)||[];if(v)e=[],a(s.val(),function(t){t=I?R[t]:t,e.push(f(t,n[t]))});else{var r=I?R[s.val()]:s.val();e=f(r,n[r])}u.$setViewValue(e),_()})}function f(e,t){if("?"===e)return n;if(""===e)return null;var r=T?T:N;return l(r,e,t)}function d(){var e,n=D(t);if(n&&dr(n)){e=new Array(n.length);for(var r=0,i=n.length;i>r;r++)e[r]=l(E,r,n[r]);return e}if(n){e={};for(var a in n)n.hasOwnProperty(a)&&(e[a]=l(E,a,n[a]))}return e}function h(e){var t;if(v)if(I&&dr(e)){t=new ze([]);for(var n=0;n<e.length;n++)t.put(l(I,null,e[n]),!0)}else t=new ze(e);else I&&(e=l(I,null,e));return function(n,r){var i;return i=I?I:T?T:N,v?y(t.remove(l(i,n,r))):e===l(i,n,r)}}function p(){w||(t.$$postDigest(_),w=!0)}function m(e,t,n){e[t]=e[t]||0,e[t]+=n?1:-1}function _(){w=!1;var e,n,r,i,c,f,d,p,b,_,S,C,M,T,N,L,F,U={"":[]},z=[""],q=u.$viewValue,H=D(t)||[],B=O?o(H):H,W={},V=h(q),Y=!1;for(R={},C=0;_=B.length,_>C;C++)d=C,O&&(d=B[C],"$"===d.charAt(0))||(p=H[d],e=l(A,d,p)||"",(n=U[e])||(n=U[e]=[],z.push(e)),M=V(d,p),Y=Y||M,L=l(E,d,p),L=y(L)?L:"",F=I?I(t,j):O?B[C]:C,I&&(R[F]=d),n.push({id:F,label:L,selected:M}));for(v||(x||null===q?U[""].unshift({id:"",label:"",selected:!Y}):Y||U[""].unshift({id:"?",label:"",selected:!0})),S=0,b=z.length;b>S;S++){for(e=z[S],n=U[e],P.length<=S?(i={element:k.clone().attr("label",e),label:n.label},c=[i],P.push(c),s.append(i.element)):(c=P[S],i=c[0],i.label!=e&&i.element.attr("label",i.label=e)),T=null,C=0,_=n.length;_>C;C++)r=n[C],(f=c[C+1])?(T=f.element,f.label!==r.label&&(m(W,f.label,!1),m(W,r.label,!0),T.text(f.label=r.label),T.prop("label",f.label)),f.id!==r.id&&T.val(f.id=r.id),T[0].selected!==r.selected&&(T.prop("selected",f.selected=r.selected),er&&T.prop("selected",f.selected))):(""===r.id&&x?N=x:(N=$.clone()).val(r.id).prop("selected",r.selected).attr("selected",r.selected).prop("label",r.label).text(r.label),c.push(f={element:N,label:r.label,id:r.id,selected:r.selected}),m(W,r.label,!0),T?T.after(N):i.element.append(N),T=N);for(C++;c.length>C;)r=c.pop(),m(W,r.label,!1),r.element.remove()}for(;P.length>S;){for(n=P.pop(),C=1;C<n.length;++C)m(W,n[C].label,!1);n[0].element.remove()}a(W,function(e,t){e>0?g.addOption(t):0>e&&g.removeOption(t)})}var S;if(!(S=b.match(i)))throw ja("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",b,W(s));var E=r(S[2]||S[1]),C=S[4]||S[6],M=/ as /.test(S[0])&&S[1],T=M?r(M):null,O=S[5],A=r(S[3]||""),N=r(S[2]?S[1]:C),D=r(S[7]),L=S[8],I=L?r(S[8]):null,R={},P=[[{element:s,label:""}]],j={};x&&(e(x)(t),x.removeClass("ng-scope"),x.remove()),s.empty(),s.on("change",c),u.$render=_,t.$watchCollection(D,p),t.$watchCollection(d,p),v&&t.$watchCollection(function(){return u.$modelValue},p)}if(c[1]){for(var p,g=c[0],m=c[1],v=l.multiple,b=l.ngOptions,x=!1,w=!1,$=tr(t.createElement("option")),k=tr(t.createElement("optgroup")),_=$.clone(),S=0,E=u.children(),C=E.length;C>S;S++)if(""===E[S].value){p=x=E.eq(S);break}g.init(m,x,_),v&&(m.$isEmpty=function(e){return!e||0===e.length}),b?h(s,u,m):v?d(s,u,m):f(s,u,m,g)}}}}],za=["$interpolate",function(e){var t={addOption:p,removeOption:p};return{restrict:"E",priority:100,compile:function(n,r){if(v(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var a="$selectController",o=n.parent(),s=o.data(a)||o.parent().data(a);s&&s.databound||(s=t),i?e.$watch(i,function(e,t){r.$set("value",e),t!==e&&s.removeOption(t),s.addOption(e,n)}):s.addOption(r.value,n),n.on("$destroy",function(){s.removeOption(r.value)})}}}}],qa=m({restrict:"E",terminal:!1}),Ha=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Ba=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,a){if(a){var o,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(x(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,W(t));o=e||n,a.$validate()}),a.$validators.pattern=function(e){return a.$isEmpty(e)||v(o)||o.test(e)}}}}},Wa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=d(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},Va=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=d(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(re(),he(lr),void tr(t).ready(function(){Z(t,Q)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),/**
 * @license AngularJS v1.4.3
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";function r(e){return t.lowercase(e.nodeName||e[0]&&e[0].nodeName)}function i(e,n,r){a.directive(e,["$parse","$swipe",function(i,a){var o=75,s=.3,u=30;return function(l,c,f){function d(e){if(!h)return!1;var t=Math.abs(e.y-h.y),r=(e.x-h.x)*n;return p&&o>t&&r>0&&r>u&&s>t/r}var h,p,g=i(f[e]),m=["touch"];t.isDefined(f.ngSwipeDisableMouse)||m.push("mouse"),a.bind(c,{start:function(e,t){h=e,p=!0},cancel:function(e){p=!1},end:function(e,t){d(e)&&l.$apply(function(){c.triggerHandler(r),g(l,{$event:t})})}},m)}}])}var a=t.module("ngTouch",[]);a.factory("$swipe",[function(){function e(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],r=t.changedTouches&&t.changedTouches[0]||n[0];return{x:r.clientX,y:r.clientY}}function n(e,n){var r=[];return t.forEach(e,function(e){var t=i[e][n];t&&r.push(t)}),r.join(" ")}var r=10,i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(t,i,a){var o,s,u,l,c=!1;a=a||["mouse","touch"],t.on(n(a,"start"),function(t){u=e(t),c=!0,o=0,s=0,l=u,i.start&&i.start(u,t)});var f=n(a,"cancel");f&&t.on(f,function(e){c=!1,i.cancel&&i.cancel(e)}),t.on(n(a,"move"),function(t){if(c&&u){var n=e(t);if(o+=Math.abs(n.x-l.x),s+=Math.abs(n.y-l.y),l=n,!(r>o&&r>s))return s>o?(c=!1,void(i.cancel&&i.cancel(t))):(t.preventDefault(),void(i.move&&i.move(n,t)))}}),t.on(n(a,"end"),function(t){c&&(c=!1,i.end&&i.end(e(t),t))})}}}]),a.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]),a.directive("ngClick",["$parse","$timeout","$rootElement",function(e,n,i){function a(e,t,n,r){return Math.abs(e-n)<m&&Math.abs(t-r)<m}function o(e,t,n){for(var r=0;r<e.length;r+=2)if(a(e[r],e[r+1],t,n))return e.splice(r,r+2),!0;return!1}function s(e){if(!(Date.now()-c>g)){var t=e.touches&&e.touches.length?e.touches:[e],n=t[0].clientX,i=t[0].clientY;1>n&&1>i||d&&d[0]===n&&d[1]===i||(d&&(d=null),"label"===r(e.target)&&(d=[n,i]),o(f,n,i)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur()))}}function u(e){var t=e.touches&&e.touches.length?e.touches:[e],r=t[0].clientX,i=t[0].clientY;f.push(r,i),n(function(){for(var e=0;e<f.length;e+=2)if(f[e]==r&&f[e+1]==i)return void f.splice(e,e+2)},g,!1)}function l(e,t){f||(i[0].addEventListener("click",s,!0),i[0].addEventListener("touchstart",u,!0),f=[]),c=Date.now(),o(f,e,t)}var c,f,d,h=750,p=12,g=2500,m=25,v="ng-click-active";return function(n,r,i){function a(){d=!1,r.removeClass(v)}var o,s,u,c,f=e(i.ngClick),d=!1;r.on("touchstart",function(e){d=!0,o=e.target?e.target:e.srcElement,3==o.nodeType&&(o=o.parentNode),r.addClass(v),s=Date.now();var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],i=n[0];u=i.clientX,c=i.clientY}),r.on("touchcancel",function(e){a()}),r.on("touchend",function(e){var n=Date.now()-s,f=e.originalEvent||e,g=f.changedTouches&&f.changedTouches.length?f.changedTouches:f.touches&&f.touches.length?f.touches:[f],m=g[0],v=m.clientX,y=m.clientY,b=Math.sqrt(Math.pow(v-u,2)+Math.pow(y-c,2));d&&h>n&&p>b&&(l(v,y),o&&o.blur(),t.isDefined(i.disabled)&&i.disabled!==!1||r.triggerHandler("click",[e])),a()}),r.onclick=function(e){},r.on("click",function(e,t){n.$apply(function(){f(n,{$event:t||e})})}),r.on("mousedown",function(e){r.addClass(v)}),r.on("mousemove mouseup",function(e){r.removeClass(v)})}}]),i("ngSwipeLeft",-1,"swipeleft"),i("ngSwipeRight",1,"swiperight")}(window,window.angular),/**
 * @license AngularJS v1.4.3
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";/*
 * HTML Parser By Misko Hevery (misko@hevery.com)
 * based on:  HTML Parser By John Resig (ejohn.org)
 * Original code by Erik Arvidsson, Mozilla Public License
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 *
 * // Use like so:
 * htmlParser(htmlString, {
 *     start: function(tag, attrs, unary) {},
 *     end: function(tag) {},
 *     chars: function(text) {},
 *     comment: function(text) {}
 * });
 *
 */
function r(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return o(t,l(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function i(e){var n=[],r=l(n,t.noop);return r.chars(e),n.join("")}function a(e,n){var r,i={},a=e.split(",");for(r=0;r<a.length;r++)i[n?t.lowercase(a[r]):a[r]]=!0;return i}function o(e,n){function r(e,r,a,o){if(r=t.lowercase(r),S[r])for(;b.last()&&E[b.last()];)i("",b.last());_[r]&&b.last()==r&&i("",r),o=w[r]||!!o,o||b.push(r);var u={};a.replace(h,function(e,t,n,r,i){var a=n||r||i||"";u[t]=s(a)}),n.start&&n.start(r,u,o)}function i(e,r){var i,a=0;if(r=t.lowercase(r))for(a=b.length-1;a>=0&&b[a]!=r;a--);if(a>=0){for(i=b.length-1;i>=a;i--)n.end&&n.end(b[i]);b.length=a}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var a,o,u,l,b=[],x=e;for(b.last=function(){return b[b.length-1]};e;){if(l="",o=!0,b.last()&&M[b.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(e,t){return t=t.replace(m,"$1").replace(y,"$1"),n.chars&&n.chars(s(t)),""}),i("",b.last())):(0===e.indexOf("<!--")?(a=e.indexOf("--",4),a>=0&&e.lastIndexOf("-->",a)===a&&(n.comment&&n.comment(e.substring(4,a)),e=e.substring(a+3),o=!1)):v.test(e)?(u=e.match(v),u&&(e=e.replace(u[0],""),o=!1)):g.test(e)?(u=e.match(d),u&&(e=e.substring(u[0].length),u[0].replace(d,i),o=!1)):p.test(e)&&(u=e.match(f),u?(u[4]&&(e=e.substring(u[0].length),u[0].replace(f,r)),o=!1):(l+="<",e=e.substring(1))),o&&(a=e.indexOf("<"),l+=0>a?e:e.substring(0,a),e=0>a?"":e.substring(a),n.chars&&n.chars(s(l)))),e==x)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",e);x=e}i()}function s(e){return e?(L.innerHTML=e.replace(/</g,"&lt;"),L.textContent):""}function u(e){return e.replace(/&/g,"&amp;").replace(b,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(x,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,a,o){e=t.lowercase(e),!r&&M[e]&&(r=e),r||T[e]!==!0||(i("<"),i(e),t.forEach(a,function(r,a){var o=t.lowercase(a),s="img"===e&&"src"===o||"background"===o;D[o]!==!0||O[o]===!0&&!n(r,s)||(i(" "),i(a),i('="'),i(u(r)),i('"'))}),i(o?"/>":">"))},end:function(e){e=t.lowercase(e),r||T[e]!==!0||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(u(e))}}}var c=t.$$minErr("$sanitize"),f=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,h=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,g=/^<\//,m=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,y=/<!\[CDATA\[(.*?)]]>/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,x=/([^\#-~| |!])/g,w=a("area,br,col,hr,img,wbr"),$=a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=a("rp,rt"),_=t.extend({},k,$),S=t.extend({},$,a("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),E=t.extend({},k,a("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),C=a("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),M=a("script,style"),T=t.extend({},w,S,E,_,C),O=a("background,cite,href,longdesc,src,usemap,xlink:href"),A=a("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),N=a("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),D=t.extend({},O,N,A),L=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",r),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/i,r=/^mailto:/i;return function(a,o){function s(e){e&&h.push(i(e))}function u(e,n){h.push("<a "),t.isDefined(o)&&h.push('target="',o,'" '),h.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),h.push("</a>")}if(!a)return a;for(var l,c,f,d=a,h=[];l=d.match(n);)c=l[0],l[2]||l[4]||(c=(l[3]?"http://":"mailto:")+c),f=l.index,s(d.substr(0,f)),u(c,l[0].replace(r,"")),d=d.substring(f+l[0].length);return s(d),e(h.join(""))}}])}(window,window.angular),function(e,t){"function"==typeof define&&define.amd?define([],t):"undefined"!=typeof module&&module.exports?module.exports=t():e.tv4=t()}(this,function(){function e(e){return encodeURI(e).replace(/%25[0-9][0-9]/g,function(e){return"%"+e.substring(3)})}function t(t){var n="";f[t.charAt(0)]&&(n=t.charAt(0),t=t.substring(1));var r="",i="",a=!0,o=!1,s=!1;"+"===n?a=!1:"."===n?(i=".",r="."):"/"===n?(i="/",r="/"):"#"===n?(i="#",a=!1):";"===n?(i=";",r=";",o=!0,s=!0):"?"===n?(i="?",r="&",o=!0):"&"===n&&(i="&",r="&",o=!0);for(var u=[],l=t.split(","),c=[],h={},p=0;p<l.length;p++){var g=l[p],m=null;if(-1!==g.indexOf(":")){var v=g.split(":");g=v[0],m=parseInt(v[1],10)}for(var y={};d[g.charAt(g.length-1)];)y[g.charAt(g.length-1)]=!0,g=g.substring(0,g.length-1);var b={truncate:m,name:g,suffices:y};c.push(b),h[g]=b,u.push(g)}var x=function(t){for(var n="",u=0,l=0;l<c.length;l++){var f=c[l],d=t(f.name);if(null===d||void 0===d||Array.isArray(d)&&0===d.length||"object"==typeof d&&0===Object.keys(d).length)u++;else if(n+=l===u?i:r||",",Array.isArray(d)){o&&(n+=f.name+"=");for(var h=0;h<d.length;h++)h>0&&(n+=f.suffices["*"]?r||",":",",f.suffices["*"]&&o&&(n+=f.name+"=")),n+=a?encodeURIComponent(d[h]).replace(/!/g,"%21"):e(d[h])}else if("object"==typeof d){o&&!f.suffices["*"]&&(n+=f.name+"=");var p=!0;for(var g in d)p||(n+=f.suffices["*"]?r||",":","),p=!1,n+=a?encodeURIComponent(g).replace(/!/g,"%21"):e(g),n+=f.suffices["*"]?"=":",",n+=a?encodeURIComponent(d[g]).replace(/!/g,"%21"):e(d[g])}else o&&(n+=f.name,s&&""===d||(n+="=")),null!=f.truncate&&(d=d.substring(0,f.truncate)),n+=a?encodeURIComponent(d).replace(/!/g,"%21"):e(d)}return n};return x.varNames=u,{prefix:i,substitution:x}}function n(e){if(!(this instanceof n))return new n(e);for(var r=e.split("{"),i=[r.shift()],a=[],o=[],s=[];r.length>0;){var u=r.shift(),l=u.split("}")[0],c=u.substring(l.length+1),f=t(l);o.push(f.substitution),a.push(f.prefix),i.push(c),s=s.concat(f.substitution.varNames)}this.fill=function(e){for(var t=i[0],n=0;n<o.length;n++){var r=o[n];t+=r(e),t+=i[n+1]}return t},this.varNames=s,this.template=e}function r(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(Array.isArray(e)!==Array.isArray(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else{var i;for(i in e)if(void 0===t[i]&&void 0!==e[i])return!1;for(i in t)if(void 0===e[i]&&void 0!==t[i])return!1;for(i in e)if(!r(e[i],t[i]))return!1}return!0}return!1}function i(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function a(e,t){function n(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}return t=i(t||""),e=i(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+n(t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname)+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null}function o(e){return e.split("#")[0]}function s(e,t){if(e&&"object"==typeof e)if(void 0===t?t=e.id:"string"==typeof e.id&&(t=a(t,e.id),e.id=t),Array.isArray(e))for(var n=0;n<e.length;n++)s(e[n],t);else{"string"==typeof e.$ref&&(e.$ref=a(t,e.$ref));for(var r in e)"enum"!==r&&s(e[r],t)}}function u(e,t,n,r,i,a){if(Error.call(this),void 0===e)throw new Error("No code supplied for error: "+t);this.message=t,this.params=n,this.code=e,this.dataPath=r||"",this.schemaPath=i||"",this.subErrors=a||null;var o=new Error(this.message);if(this.stack=o.stack||o.stacktrace,!this.stack)try{throw o}catch(o){this.stack=o.stack||o.stacktrace}}function l(e,t){if(t.substring(0,e.length)===e){var n=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===n.charAt(0)||"?"===n.charAt(0))return!0}return!1}function c(e){var t=new h,n=e||"en",r={addFormat:function(){t.addFormat.apply(t,arguments)},language:function(e){return e?(x[e]||(e=e.split("-")[0]),x[e]?(n=e,e):!1):n},addLanguage:function(e,t){var n;for(n in m)t[n]&&!t[m[n]]&&(t[m[n]]=t[n]);var r=e.split("-")[0];if(x[r]){x[e]=Object.create(x[r]);for(n in t)"undefined"==typeof x[r][n]&&(x[r][n]=t[n]),x[e][n]=t[n]}else x[e]=t,x[r]=t;return this},freshApi:function(e){var t=c();return e&&t.language(e),t},validate:function(e,r,i,a){var o=new h(t,!1,x[n],i,a);"string"==typeof r&&(r={$ref:r}),o.addSchema("",r);var s=o.validateAll(e,r,null,null,"");return!s&&a&&(s=o.banUnknownProperties()),this.error=s,this.missing=o.missing,this.valid=null===s,this.valid},validateResult:function(){var e={};return this.validate.apply(e,arguments),e},validateMultiple:function(e,r,i,a){var o=new h(t,!0,x[n],i,a);"string"==typeof r&&(r={$ref:r}),o.addSchema("",r),o.validateAll(e,r,null,null,""),a&&o.banUnknownProperties();var s={};return s.errors=o.errors,s.missing=o.missing,s.valid=0===s.errors.length,s},addSchema:function(){return t.addSchema.apply(t,arguments)},getSchema:function(){return t.getSchema.apply(t,arguments)},getSchemaMap:function(){return t.getSchemaMap.apply(t,arguments)},getSchemaUris:function(){return t.getSchemaUris.apply(t,arguments)},getMissingUris:function(){return t.getMissingUris.apply(t,arguments)},dropSchemas:function(){t.dropSchemas.apply(t,arguments)},defineKeyword:function(){t.defineKeyword.apply(t,arguments)},defineError:function(e,t,n){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!==0||1e4>t)throw new Error("Code number must be an integer > 10000");if("undefined"!=typeof m[e])throw new Error("Error already defined: "+e+" as "+m[e]);if("undefined"!=typeof v[t])throw new Error("Error code already used: "+v[t]+" as "+t);m[e]=t,v[t]=e,b[e]=b[t]=n;for(var r in x){var i=x[r];i[e]&&(i[t]=i[t]||i[e])}},reset:function(){t.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:s,resolveUrl:a,getDocumentUri:o,errorCodes:m};return r}Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on non-object");var a=[];for(var o in i)e.call(i,o)&&a.push(o);if(t)for(var s=0;r>s;s++)e.call(i,n[s])&&a.push(n[s]);return a}}()),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&r!==1/0&&r!==-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);n>i;i++)if(i in t&&t[i]===e)return i;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(n){return!0}});var f={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},d={"*":!0};n.prototype={toString:function(){return this.template},fillFromObject:function(e){return this.fill(function(t){return e[t]})}};var h=function(e,t,n,r,i){if(this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,r&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),i&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorMessages=n,this.definedKeywords={},e)for(var a in e.definedKeywords)this.definedKeywords[a]=e.definedKeywords[a].slice(0)};h.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)},h.prototype.createError=function(e,t,n,r,i){var a=this.errorMessages[e]||b[e];if("string"!=typeof a)return new u(e,"Unknown error code "+e+": "+JSON.stringify(t),t,n,r,i);var o=a.replace(/\{([^{}]*)\}/g,function(e,n){var r=t[n];return"string"==typeof r||"number"==typeof r?r:e});return new u(e,o,t,n,r,i)},h.prototype.returnError=function(e){return e},h.prototype.collectError=function(e){return e&&this.errors.push(e),null},h.prototype.prefixErrors=function(e,t,n){for(var r=e;r<this.errors.length;r++)this.errors[r]=this.errors[r].prefixWith(t,n);return this},h.prototype.banUnknownProperties=function(){for(var e in this.unknownPropertyPaths){var t=this.createError(m.UNKNOWN_PROPERTY,{path:e},e,""),n=this.handleError(t);if(n)return n}return null},h.prototype.addFormat=function(e,t){if("object"==typeof e){for(var n in e)this.addFormat(n,e[n]);return this}this.formatValidators[e]=t},h.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if(t=t||{},t[e.$ref])return this.createError(m.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","");t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},h.prototype.getSchema=function(e,t){var n;if(void 0!==this.schemas[e])return n=this.schemas[e],this.resolveRefs(n,t);var r=e,i="";if(-1!==e.indexOf("#")&&(i=e.substring(e.indexOf("#")+1),r=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[r]){n=this.schemas[r];var a=decodeURIComponent(i);if(""===a)return this.resolveRefs(n,t);if("/"!==a.charAt(0))return void 0;for(var o=a.split("/").slice(1),s=0;s<o.length;s++){var u=o[s].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===n[u]){n=void 0;break}n=n[u]}if(void 0!==n)return this.resolveRefs(n,t)}void 0===this.missing[r]&&(this.missing.push(r),this.missing[r]=r,this.missingMap[r]=r)},h.prototype.searchSchemas=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.searchSchemas(e[n],t);else if(e&&"object"==typeof e){"string"==typeof e.id&&l(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e);for(var r in e)if("enum"!==r)if("object"==typeof e[r])this.searchSchemas(e[r],t);else if("$ref"===r){var i=o(e[r]);i&&void 0===this.schemas[i]&&void 0===this.missingMap[i]&&(this.missingMap[i]=i)}}},h.prototype.addSchema=function(e,t){if("string"!=typeof e||"undefined"==typeof t){if("object"!=typeof e||"string"!=typeof e.id)return;t=e,e=t.id}e===o(e)+"#"&&(e=o(e)),this.schemas[e]=t,delete this.missingMap[e],s(t,e),this.searchSchemas(t,e)},h.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},h.prototype.getSchemaUris=function(e){var t=[];for(var n in this.schemas)(!e||e.test(n))&&t.push(n);return t},h.prototype.getMissingUris=function(e){var t=[];for(var n in this.missingMap)(!e||e.test(n))&&t.push(n);return t},h.prototype.dropSchemas=function(){this.schemas={},this.reset()},h.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},h.prototype.validateAll=function(e,t,n,r,i){var a;if(t=this.resolveRefs(t),!t)return null;if(t instanceof u)return this.errors.push(t),t;var o,s=this.errors.length,l=null,c=null;if(this.checkRecursive&&e&&"object"==typeof e){if(a=!this.scanned.length,e[this.validatedSchemasKey]){var f=e[this.validatedSchemasKey].indexOf(t);if(-1!==f)return this.errors=this.errors.concat(e[this.validationErrorsKey][f]),null}if(Object.isFrozen(e)&&(o=this.scannedFrozen.indexOf(e),-1!==o)){var d=this.scannedFrozenSchemas[o].indexOf(t);if(-1!==d)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[o][d]),null}if(this.scanned.push(e),Object.isFrozen(e))-1===o&&(o=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),l=this.scannedFrozenSchemas[o].length,this.scannedFrozenSchemas[o][l]=t,this.scannedFrozenValidationErrors[o][l]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(h){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}c=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][c]=t,e[this.validationErrorsKey][c]=[]}}var p=this.errors.length,g=this.validateBasic(e,t,i)||this.validateNumeric(e,t,i)||this.validateString(e,t,i)||this.validateArray(e,t,i)||this.validateObject(e,t,i)||this.validateCombinations(e,t,i)||this.validateHypermedia(e,t,i)||this.validateFormat(e,t,i)||this.validateDefinedKeywords(e,t,i)||null;if(a){for(;this.scanned.length;){var m=this.scanned.pop();delete m[this.validatedSchemasKey]}this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(g||p!==this.errors.length)for(;n&&n.length||r&&r.length;){var v=n&&n.length?""+n.pop():null,y=r&&r.length?""+r.pop():null;g&&(g=g.prefixWith(v,y)),this.prefixErrors(p,v,y)}return null!==l?this.scannedFrozenValidationErrors[o][l]=this.errors.slice(s):null!==c&&(e[this.validationErrorsKey][c]=this.errors.slice(s)),this.handleError(g)},h.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var n=this.formatValidators[t.format].call(null,e,t);return"string"==typeof n||"number"==typeof n?this.createError(m.FORMAT_CUSTOM,{message:n}).prefixWith(null,"format"):n&&"object"==typeof n?this.createError(m.FORMAT_CUSTOM,{message:n.message||"?"},n.dataPath||null,n.schemaPath||"/format"):null},h.prototype.validateDefinedKeywords=function(e,t,n){for(var r in this.definedKeywords)if("undefined"!=typeof t[r])for(var i=this.definedKeywords[r],a=0;a<i.length;a++){var o=i[a],s=o(e,t[r],t,n);if("string"==typeof s||"number"==typeof s)return this.createError(m.KEYWORD_CUSTOM,{key:r,message:s}).prefixWith(null,"format");if(s&&"object"==typeof s){var u=s.code;if("string"==typeof u){if(!m[u])throw new Error("Undefined error code (use defineError): "+u);u=m[u]}else"number"!=typeof u&&(u=m.KEYWORD_CUSTOM);var l="object"==typeof s.message?s.message:{key:r,message:s.message||"?"},c=s.schemaPath||"/"+r.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(u,l,s.dataPath||null,c)}}return null},h.prototype.validateBasic=function(e,t,n){var r;return(r=this.validateType(e,t,n))?r.prefixWith(null,"type"):(r=this.validateEnum(e,t,n))?r.prefixWith(null,"type"):null},h.prototype.validateType=function(e,t){if(void 0===t.type)return null;var n=typeof e;null===e?n="null":Array.isArray(e)&&(n="array");var r=t.type;"object"!=typeof r&&(r=[r]);for(var i=0;i<r.length;i++){var a=r[i];if(a===n||"integer"===a&&"number"===n&&e%1===0)return null}return this.createError(m.INVALID_TYPE,{type:n,expected:r.join("/")})},h.prototype.validateEnum=function(e,t){if(void 0===t["enum"])return null;for(var n=0;n<t["enum"].length;n++){var i=t["enum"][n];if(r(e,i))return null}return this.createError(m.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(e):e})},h.prototype.validateNumeric=function(e,t,n){return this.validateMultipleOf(e,t,n)||this.validateMinMax(e,t,n)||this.validateNaN(e,t,n)||null};var p=Math.pow(2,-51),g=1-p;h.prototype.validateMultipleOf=function(e,t){var n=t.multipleOf||t.divisibleBy;if(void 0===n)return null;if("number"==typeof e){var r=e/n%1;if(r>=p&&g>r)return this.createError(m.NUMBER_MULTIPLE_OF,{value:e,multipleOf:n})}return null},h.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(m.NUMBER_MINIMUM,{value:e,minimum:t.minimum}).prefixWith(null,"minimum");if(t.exclusiveMinimum&&e===t.minimum)return this.createError(m.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum}).prefixWith(null,"exclusiveMinimum")}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(m.NUMBER_MAXIMUM,{value:e,maximum:t.maximum}).prefixWith(null,"maximum");if(t.exclusiveMaximum&&e===t.maximum)return this.createError(m.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum}).prefixWith(null,"exclusiveMaximum")}return null},h.prototype.validateNaN=function(e){return"number"!=typeof e?null:isNaN(e)===!0||e===1/0||e===-(1/0)?this.createError(m.NUMBER_NOT_A_NUMBER,{value:e}).prefixWith(null,"type"):null},h.prototype.validateString=function(e,t,n){return this.validateStringLength(e,t,n)||this.validateStringPattern(e,t,n)||null},h.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(m.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength}).prefixWith(null,"minLength"):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(m.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength}).prefixWith(null,"maxLength"):null},h.prototype.validateStringPattern=function(e,t){if("string"!=typeof e||void 0===t.pattern)return null;var n=new RegExp(t.pattern);return n.test(e)?null:this.createError(m.STRING_PATTERN,{pattern:t.pattern}).prefixWith(null,"pattern")},h.prototype.validateArray=function(e,t,n){return Array.isArray(e)?this.validateArrayLength(e,t,n)||this.validateArrayUniqueItems(e,t,n)||this.validateArrayItems(e,t,n)||null:null},h.prototype.validateArrayLength=function(e,t){var n;return void 0!==t.minItems&&e.length<t.minItems&&(n=this.createError(m.ARRAY_LENGTH_SHORT,{length:e.length,minimum:t.minItems}).prefixWith(null,"minItems"),this.handleError(n))?n:void 0!==t.maxItems&&e.length>t.maxItems&&(n=this.createError(m.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems}).prefixWith(null,"maxItems"),this.handleError(n))?n:null},h.prototype.validateArrayUniqueItems=function(e,t){if(t.uniqueItems)for(var n=0;n<e.length;n++)for(var i=n+1;i<e.length;i++)if(r(e[n],e[i])){var a=this.createError(m.ARRAY_UNIQUE,{match1:n,match2:i}).prefixWith(null,"uniqueItems");if(this.handleError(a))return a}return null},h.prototype.validateArrayItems=function(e,t,n){if(void 0===t.items)return null;var r,i;if(Array.isArray(t.items)){for(i=0;i<e.length;i++)if(i<t.items.length){if(r=this.validateAll(e[i],t.items[i],[i],["items",i],n+"/"+i))return r}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(r=this.createError(m.ARRAY_ADDITIONAL_ITEMS,{}).prefixWith(""+i,"additionalItems"),this.handleError(r)))return r}else if(r=this.validateAll(e[i],t.additionalItems,[i],["additionalItems"],n+"/"+i))return r}else for(i=0;i<e.length;i++)if(r=this.validateAll(e[i],t.items,[i],["items"],n+"/"+i))return r;return null},h.prototype.validateObject=function(e,t,n){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,n)||this.validateObjectRequiredProperties(e,t,n)||this.validateObjectProperties(e,t,n)||this.validateObjectDependencies(e,t,n)||null},h.prototype.validateObjectMinMaxProperties=function(e,t){var n,r=Object.keys(e);return void 0!==t.minProperties&&r.length<t.minProperties&&(n=this.createError(m.OBJECT_PROPERTIES_MINIMUM,{propertyCount:r.length,minimum:t.minProperties}).prefixWith(null,"minProperties"),this.handleError(n))?n:void 0!==t.maxProperties&&r.length>t.maxProperties&&(n=this.createError(m.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:r.length,maximum:t.maxProperties}).prefixWith(null,"maxProperties"),this.handleError(n))?n:null},h.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var n=0;n<t.required.length;n++){var r=t.required[n];if(void 0===e[r]){var i=this.createError(m.OBJECT_REQUIRED,{key:r}).prefixWith(null,""+n).prefixWith(null,"required");if(this.handleError(i))return i}}return null},h.prototype.validateObjectProperties=function(e,t,n){var r;for(var i in e){var a=n+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1"),o=!1;if(void 0!==t.properties&&void 0!==t.properties[i]&&(o=!0,r=this.validateAll(e[i],t.properties[i],[i],["properties",i],a)))return r;if(void 0!==t.patternProperties)for(var s in t.patternProperties){var u=new RegExp(s);if(u.test(i)&&(o=!0,r=this.validateAll(e[i],t.patternProperties[s],[i],["patternProperties",s],a)))return r}if(o)this.trackUnknownProperties&&(this.knownPropertyPaths[a]=!0,delete this.unknownPropertyPaths[a]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[a]=!0,delete this.unknownPropertyPaths[a]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(r=this.createError(m.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(i,"additionalProperties"),this.handleError(r)))return r}else if(r=this.validateAll(e[i],t.additionalProperties,[i],["additionalProperties"],a))return r}else this.trackUnknownProperties&&!this.knownPropertyPaths[a]&&(this.unknownPropertyPaths[a]=!0)}return null},h.prototype.validateObjectDependencies=function(e,t,n){var r;if(void 0!==t.dependencies)for(var i in t.dependencies)if(void 0!==e[i]){var a=t.dependencies[i];if("string"==typeof a){if(void 0===e[a]&&(r=this.createError(m.OBJECT_DEPENDENCY_KEY,{key:i,missing:a}).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(r)))return r}else if(Array.isArray(a))for(var o=0;o<a.length;o++){var s=a[o];if(void 0===e[s]&&(r=this.createError(m.OBJECT_DEPENDENCY_KEY,{key:i,missing:s}).prefixWith(null,""+o).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(r)))return r}else if(r=this.validateAll(e,a,[],["dependencies",i],n))return r}return null},h.prototype.validateCombinations=function(e,t,n){return this.validateAllOf(e,t,n)||this.validateAnyOf(e,t,n)||this.validateOneOf(e,t,n)||this.validateNot(e,t,n)||null},h.prototype.validateAllOf=function(e,t,n){if(void 0===t.allOf)return null;for(var r,i=0;i<t.allOf.length;i++){var a=t.allOf[i];if(r=this.validateAll(e,a,[],["allOf",i],n))return r}return null},h.prototype.validateAnyOf=function(e,t,n){if(void 0===t.anyOf)return null;var r,i,a=[],o=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var s=!0,u=0;u<t.anyOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var l=t.anyOf[u],c=this.errors.length,f=this.validateAll(e,l,[],["anyOf",u],n);if(null===f&&c===this.errors.length){if(this.errors=this.errors.slice(0,o),this.trackUnknownProperties){for(var d in this.knownPropertyPaths)i[d]=!0,delete r[d];for(var h in this.unknownPropertyPaths)i[h]||(r[h]=!0);s=!1;continue}return null}f&&a.push(f.prefixWith(null,""+u).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),s?(a=a.concat(this.errors.slice(o)),this.errors=this.errors.slice(0,o),this.createError(m.ANY_OF_MISSING,{},"","/anyOf",a)):void 0},h.prototype.validateOneOf=function(e,t,n){if(void 0===t.oneOf)return null;var r,i,a=null,o=[],s=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var u=0;u<t.oneOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var l=t.oneOf[u],c=this.errors.length,f=this.validateAll(e,l,[],["oneOf",u],n);if(null===f&&c===this.errors.length){if(null!==a)return this.errors=this.errors.slice(0,s),this.createError(m.ONE_OF_MULTIPLE,{index1:a,index2:u},"","/oneOf");if(a=u,this.trackUnknownProperties){for(var d in this.knownPropertyPaths)i[d]=!0,delete r[d];for(var h in this.unknownPropertyPaths)i[h]||(r[h]=!0)}}else f&&o.push(f)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),null===a?(o=o.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(m.ONE_OF_MISSING,{},"","/oneOf",o)):(this.errors=this.errors.slice(0,s),null)},h.prototype.validateNot=function(e,t,n){if(void 0===t.not)return null;var r,i,a=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var o=this.validateAll(e,t.not,null,null,n),s=this.errors.slice(a);return this.errors=this.errors.slice(0,a),this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),null===o&&0===s.length?this.createError(m.NOT_PASSED,{},"","/not"):null},h.prototype.validateHypermedia=function(e,t,r){if(!t.links)return null;for(var i,a=0;a<t.links.length;a++){var o=t.links[a];if("describedby"===o.rel){for(var s=new n(o.href),u=!0,l=0;l<s.varNames.length;l++)if(!(s.varNames[l]in e)){u=!1;break}if(u){var c=s.fillFromObject(e),f={$ref:c};if(i=this.validateAll(e,f,[],["links",a],r))return i}}}};var m={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},v={};for(var y in m)v[m[y]]=y;var b={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",
NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u.prototype.name="ValidationError",u.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var n=0;n<this.subErrors.length;n++)this.subErrors[n].prefixWith(e,t);return this};var x={},w=c();return w.addLanguage("en-gb",b),w.tv4=w,w}),!function(){function e(e){return e&&(e.ownerDocument||e.document||e).documentElement}function t(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function n(e,t){return t>e?-1:e>t?1:e>=t?0:0/0}function r(e){return null===e?0/0:+e}function i(e){return!isNaN(e)}function a(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}function o(e){return e.length}function s(e){for(var t=1;e*t%1;)t*=10;return t}function u(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function l(){this._=Object.create(null)}function c(e){return(e+="")===go||e[0]===mo?mo+e:e}function f(e){return(e+="")[0]===mo?e.slice(1):e}function d(e){return c(e)in this._}function h(e){return(e=c(e))in this._&&delete this._[e]}function p(){var e=[];for(var t in this._)e.push(f(t));return e}function g(){var e=0;for(var t in this._)++e;return e}function m(){for(var e in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(e){return e}function b(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function x(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=vo.length;r>n;++n){var i=vo[n]+t;if(i in e)return i}}function w(){}function $(){}function k(e){function t(){for(var t,r=n,i=-1,a=r.length;++i<a;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new l;return t.on=function(t,i){var a,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,a=n.indexOf(o)).concat(n.slice(a+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function _(){to.event.preventDefault()}function S(){for(var e,t=to.event;e=t.sourceEvent;)t=e;return t}function E(e){for(var t=new $,n=0,r=arguments.length;++n<r;)t[arguments[n]]=k(t);return t.of=function(n,r){return function(i){try{var a=i.sourceEvent=to.event;i.target=e,to.event=i,t[i.type].apply(n,r)}finally{to.event=a}}},t}function C(e){return bo(e,ko),e}function M(e){return"function"==typeof e?e:function(){return xo(e,this)}}function T(e){return"function"==typeof e?e:function(){return wo(e,this)}}function O(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function a(){this.setAttributeNS(e.space,e.local,t)}function o(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=to.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?s:o:e.local?a:i}function A(e){return e.trim().replace(/\s+/g," ")}function N(e){return new RegExp("(?:^|\\s+)"+to.requote(e)+"(?:\\s+|$)","g")}function D(e){return(e+"").trim().split(/^|\s+/)}function L(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=D(e).map(I);var i=e.length;return"function"==typeof t?r:n}function I(e){var t=N(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",A(i+" "+e))):n.setAttribute("class",A(i.replace(t," ")))}}function R(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function a(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?a:i}function P(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:r}function j(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n?t.createElementNS(n,e):t.createElement(e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=to.ns.qualify(e)).local?n:t}function F(){var e=this.parentNode;e&&e.removeChild(this)}function U(e){return{__data__:e}}function z(e){return function(){return $o(this,e)}}function q(e){return arguments.length||(e=n),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function H(e,t){for(var n=0,r=e.length;r>n;n++)for(var i,a=e[n],o=0,s=a.length;s>o;o++)(i=a[o])&&t(i,o,n);return e}function B(e){return bo(e,So),e}function W(e){var t,n;return function(r,i,a){var o,s=e[a].update,u=s.length;for(a!=n&&(n=a,t=0),i>=t&&(t=i+1);!(o=s[t])&&++t<u;);return o}}function V(e,t,n){function r(){var t=this[o];t&&(this.removeEventListener(e,t,t.$),delete this[o])}function i(){var i=u(t,ro(arguments));r.call(this),this.addEventListener(e,this[o]=i,i.$=n),i._=t}function a(){var t,n=new RegExp("^__on([^.]+)"+to.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var o="__on"+e,s=e.indexOf("."),u=Y;s>0&&(e=e.slice(0,s));var l=Eo.get(e);return l&&(e=l,u=G),s?t?i:r:t?w:a}function Y(e,t){return function(n){var r=to.event;to.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{to.event=r}}}function G(e,t){var n=Y(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function X(n){var r=".dragsuppress-"+ ++Mo,i="click"+r,a=to.select(t(n)).on("touchmove"+r,_).on("dragstart"+r,_).on("selectstart"+r,_);if(null==Co&&(Co="onselectstart"in n?!1:x(n.style,"userSelect")),Co){var o=e(n).style,s=o[Co];o[Co]="none"}return function(e){if(a.on(r,null),Co&&(o[Co]=s),e){var t=function(){a.on(i,null)};a.on(i,function(){_(),t()},!0),setTimeout(t,0)}}}function K(e,n){n.changedTouches&&(n=n.changedTouches[0]);var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();if(0>To){var a=t(e);if(a.scrollX||a.scrollY){r=to.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();To=!(o.f||o.e),r.remove()}}return To?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}var s=e.getBoundingClientRect();return[n.clientX-s.left-e.clientLeft,n.clientY-s.top-e.clientTop]}function J(){return to.event.changedTouches[0].identifier}function Z(e){return e>0?1:0>e?-1:0}function Q(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function ee(e){return e>1?0:-1>e?No:Math.acos(e)}function te(e){return e>1?Io:-1>e?-Io:Math.asin(e)}function ne(e){return((e=Math.exp(e))-1/e)/2}function re(e){return((e=Math.exp(e))+1/e)/2}function ie(e){return((e=Math.exp(2*e))-1)/(e+1)}function ae(e){return(e=Math.sin(e/2))*e}function oe(){}function se(e,t,n){return this instanceof se?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof se?new se(e.h,e.s,e.l):we(""+e,$e,se):new se(e,t,n)}function ue(e,t,n){function r(e){return e>360?e-=360:0>e&&(e+=360),60>e?a+(o-a)*e/60:180>e?o:240>e?a+(o-a)*(240-e)/60:a}function i(e){return Math.round(255*r(e))}var a,o;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+t):n+t-n*t,a=2*n-o,new ve(i(e+120),i(e),i(e-120))}function le(e,t,n){return this instanceof le?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof le?new le(e.h,e.c,e.l):e instanceof fe?he(e.l,e.a,e.b):he((e=ke((e=to.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new le(e,t,n)}function ce(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new fe(n,Math.cos(e*=Ro)*t,Math.sin(e)*t)}function fe(e,t,n){return this instanceof fe?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof fe?new fe(e.l,e.a,e.b):e instanceof le?ce(e.h,e.c,e.l):ke((e=ve(e)).r,e.g,e.b):new fe(e,t,n)}function de(e,t,n){var r=(e+16)/116,i=r+t/500,a=r-n/200;return i=pe(i)*Yo,r=pe(r)*Go,a=pe(a)*Xo,new ve(me(3.2404542*i-1.5371385*r-.4985314*a),me(-.969266*i+1.8760108*r+.041556*a),me(.0556434*i-.2040259*r+1.0572252*a))}function he(e,t,n){return e>0?new le(Math.atan2(n,t)*Po,Math.sqrt(t*t+n*n),e):new le(0/0,0/0,e)}function pe(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ge(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function me(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ve(e,t,n){return this instanceof ve?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof ve?new ve(e.r,e.g,e.b):we(""+e,ve,ue):new ve(e,t,n)}function ye(e){return new ve(e>>16,e>>8&255,255&e)}function be(e){return ye(e)+""}function xe(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function we(e,t,n){e=e.toLowerCase();var r,i,a,o=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(e))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(Se(i[0]),Se(i[1]),Se(i[2]))}return(a=Zo.get(e))?t(a.r,a.g,a.b):(null==e||"#"!==e.charAt(0)||isNaN(a=parseInt(e.slice(1),16))||(4===e.length?(o=(3840&a)>>4,o=o>>4|o,s=240&a,s=s>>4|s,u=15&a,u=u<<4|u):7===e.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,u=255&a)),t(o,s,u))}function $e(e,t,n){var r,i,a=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),s=o-a,u=(o+a)/2;return s?(i=.5>u?s/(o+a):s/(2-o-a),r=e==o?(t-n)/s+(n>t?6:0):t==o?(n-e)/s+2:(e-t)/s+4,r*=60):(r=0/0,i=u>0&&1>u?0:r),new se(r,i,u)}function ke(e,t,n){e=_e(e),t=_e(t),n=_e(n);var r=ge((.4124564*e+.3575761*t+.1804375*n)/Yo),i=ge((.2126729*e+.7151522*t+.072175*n)/Go),a=ge((.0193339*e+.119192*t+.9503041*n)/Xo);return fe(116*i-16,500*(r-i),200*(i-a))}function _e(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Se(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function Ee(e){return"function"==typeof e?e:function(){return e}}function Ce(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Me(t,n,e,r)}}function Me(e,t,n,r){function i(){var e,t=u.status;if(!t&&Oe(u)||t>=200&&300>t||304===t){try{e=n.call(a,u)}catch(r){return void o.error.call(a,r)}o.load.call(a,e)}else o.error.call(a,u)}var a={},o=to.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(e)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(e){var t=to.event;to.event=e;try{o.progress.call(a,u)}finally{to.event=t}},a.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s[e]:(null==t?delete s[e]:s[e]=t+"",a)},a.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",a):t},a.responseType=function(e){return arguments.length?(l=e,a):l},a.response=function(e){return n=e,a},["get","post"].forEach(function(e){a[e]=function(){return a.send.apply(a,[e].concat(ro(arguments)))}}),a.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=t&&u.overrideMimeType&&u.overrideMimeType(t),null!=l&&(u.responseType=l),null!=i&&a.on("error",i).on("load",function(e){i(null,e)}),o.beforesend.call(a,u),u.send(null==r?null:r),a},a.abort=function(){return u.abort(),a},to.rebind(a,o,"on"),null==r?a:a.get(Te(r))}function Te(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Oe(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function Ae(){var e=Ne(),t=De()-e;t>24?(isFinite(t)&&(clearTimeout(ns),ns=setTimeout(Ae,t)),ts=0):(ts=1,is(Ae))}function Ne(){var e=Date.now();for(rs=Qo;rs;)e>=rs.t&&(rs.f=rs.c(e-rs.t)),rs=rs.n;return e}function De(){for(var e,t=Qo,n=1/0;t;)t.f?t=e?e.n=t.n:Qo=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return es=e,n}function Le(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Ie(e,t){var n=Math.pow(10,3*po(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Re(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,a=r&&n?function(e,t){for(var i=e.length,a=[],o=0,s=r[0],u=0;i>0&&s>0&&(u+s+1>t&&(s=Math.max(1,t-u)),a.push(e.substring(i-=s,i+s)),!((u+=s+1)>t));)s=r[o=(o+1)%r.length];return a.reverse().join(n)}:y;return function(e){var n=os.exec(e),r=n[1]||" ",o=n[2]||">",s=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],f=n[7],d=n[8],h=n[9],p=1,g="",m="",v=!1,y=!0;switch(d&&(d=+d.substring(1)),(l||"0"===r&&"="===o)&&(l=r="0",o="="),h){case"n":f=!0,h="g";break;case"%":p=100,m="%",h="f";break;case"p":p=100,m="%",h="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+h.toLowerCase());case"c":y=!1;case"d":v=!0,d=0;break;case"s":p=-1,h="r"}"$"===u&&(g=i[0],m=i[1]),"r"!=h||d||(h="g"),null!=d&&("g"==h?d=Math.max(1,Math.min(21,d)):("e"==h||"f"==h)&&(d=Math.max(0,Math.min(20,d)))),h=ss.get(h)||Pe;var b=l&&f;return function(e){var n=m;if(v&&e%1)return"";var i=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===s?"":s;if(0>p){var u=to.formatPrefix(e,d);e=u.scale(e),n=u.symbol+m}else e*=p;e=h(e,d);var x,w,$=e.lastIndexOf(".");if(0>$){var k=y?e.lastIndexOf("e"):-1;0>k?(x=e,w=""):(x=e.substring(0,k),w=e.substring(k))}else x=e.substring(0,$),w=t+e.substring($+1);!l&&f&&(x=a(x,1/0));var _=g.length+x.length+w.length+(b?0:i.length),S=c>_?new Array(_=c-_+1).join(r):"";return b&&(x=a(S+x,S.length?c-w.length:1/0)),i+=g,e=x+w,("<"===o?i+e+S:">"===o?S+i+e:"^"===o?S.substring(0,_>>=1)+i+e+S.substring(_):i+(b?e:S+e))+n}}}function Pe(e){return e+""}function je(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Fe(e,t,n){function r(t){var n=e(t),r=a(n,1);return r-t>t-n?n:r}function i(n){return t(n=e(new ls(n-1)),1),n}function a(e,n){return t(e=new ls(+e),n),e}function o(e,r,a){var o=i(e),s=[];if(a>1)for(;r>o;)n(o)%a||s.push(new Date(+o)),t(o,1);else for(;r>o;)s.push(new Date(+o)),t(o,1);return s}function s(e,t,n){try{ls=je;var r=new je;return r._=e,o(r,t,n)}finally{ls=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=a,e.range=o;var u=e.utc=Ue(e);return u.floor=u,u.round=Ue(r),u.ceil=Ue(i),u.offset=Ue(a),u.range=s,e}function Ue(e){return function(t,n){try{ls=je;var r=new je;return r._=t,e(r,n)._}finally{ls=Date}}}function ze(e){function t(e){function t(t){for(var n,i,a,o=[],s=-1,u=0;++s<r;)37===e.charCodeAt(s)&&(o.push(e.slice(u,s)),null!=(i=fs[n=e.charAt(++s)])&&(n=e.charAt(++s)),(a=M[n])&&(n=a(t,null==i?"e"===n?" ":"0":i)),o.push(n),u=s+1);return o.push(e.slice(u,s)),o.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,e,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var a=null!=r.Z&&ls!==je,o=new(a?je:ls);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),a?o._:o},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,a,o,s=0,u=t.length,l=n.length;u>s;){if(r>=l)return-1;if(i=t.charCodeAt(s++),37===i){if(o=t.charAt(s++),a=T[o in fs?t.charAt(s++):o],!a||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){$.lastIndex=0;var r=$.exec(t.slice(n));return r?(e.w=k.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){x.lastIndex=0;var r=x.exec(t.slice(n));return r?(e.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,n){E.lastIndex=0;var r=E.exec(t.slice(n));return r?(e.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){_.lastIndex=0;var r=_.exec(t.slice(n));return r?(e.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,r){return n(e,M.c.toString(),t,r)}function u(e,t,r){return n(e,M.x.toString(),t,r)}function l(e,t,r){return n(e,M.X.toString(),t,r)}function c(e,t,n){var r=b.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var f=e.dateTime,d=e.date,h=e.time,p=e.periods,g=e.days,m=e.shortDays,v=e.months,y=e.shortMonths;t.utc=function(e){function n(e){try{ls=je;var t=new ls;return t._=e,r(t)}finally{ls=Date}}var r=t(e);return n.parse=function(e){try{ls=je;var t=r.parse(e);return t&&t._}finally{ls=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=st;var b=to.map(),x=He(g),w=Be(g),$=He(m),k=Be(m),_=He(v),S=Be(v),E=He(y),C=Be(y);p.forEach(function(e,t){b.set(e.toLowerCase(),t)});var M={a:function(e){return m[e.getDay()]},A:function(e){return g[e.getDay()]},b:function(e){return y[e.getMonth()]},B:function(e){return v[e.getMonth()]},c:t(f),d:function(e,t){return qe(e.getDate(),t,2)},e:function(e,t){return qe(e.getDate(),t,2)},H:function(e,t){return qe(e.getHours(),t,2)},I:function(e,t){return qe(e.getHours()%12||12,t,2)},j:function(e,t){return qe(1+us.dayOfYear(e),t,3)},L:function(e,t){return qe(e.getMilliseconds(),t,3)},m:function(e,t){return qe(e.getMonth()+1,t,2)},M:function(e,t){return qe(e.getMinutes(),t,2)},p:function(e){return p[+(e.getHours()>=12)]},S:function(e,t){return qe(e.getSeconds(),t,2)},U:function(e,t){return qe(us.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return qe(us.mondayOfYear(e),t,2)},x:t(d),X:t(h),y:function(e,t){return qe(e.getFullYear()%100,t,2)},Y:function(e,t){return qe(e.getFullYear()%1e4,t,4)},Z:at,"%":function(){return"%"}},T={a:r,A:i,b:a,B:o,c:s,d:Qe,e:Qe,H:tt,I:tt,j:et,L:it,m:Ze,M:nt,p:c,S:rt,U:Ve,w:We,W:Ye,x:u,X:l,y:Xe,Y:Ge,Z:Ke,"%":ot};return t}function qe(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",a=i.length;return r+(n>a?new Array(n-a+1).join(t)+i:i)}function He(e){return new RegExp("^(?:"+e.map(to.requote).join("|")+")","i")}function Be(e){for(var t=new l,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function We(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ve(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Ye(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Ge(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Xe(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.y=Je(+r[0]),n+r[0].length):-1}function Ke(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Je(e){return e+(e>68?1900:2e3)}function Ze(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Qe(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function et(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function tt(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function nt(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function rt(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function it(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function at(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=po(t)/60|0,i=po(t)%60;return n+qe(r,"0",2)+qe(i,"0",2)}function ot(e,t,n){hs.lastIndex=0;var r=hs.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function st(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function ut(){}function lt(e,t,n){var r=n.s=e+t,i=r-e,a=r-i;n.t=e-a+(t-i)}function ct(e,t){e&&vs.hasOwnProperty(e.type)&&vs[e.type](e,t)}function ft(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function dt(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)ft(e[n],t,1);t.polygonEnd()}function ht(){function e(e,t){e*=Ro,t=t*Ro/2+No/4;var n=e-r,o=n>=0?1:-1,s=o*n,u=Math.cos(t),l=Math.sin(t),c=a*l,f=i*u+c*Math.cos(s),d=c*o*Math.sin(s);bs.add(Math.atan2(d,f)),r=e,i=u,a=l}var t,n,r,i,a;xs.point=function(o,s){xs.point=e,r=(t=o)*Ro,i=Math.cos(s=(n=s)*Ro/2+No/4),a=Math.sin(s)},xs.lineEnd=function(){e(t,n)}}function pt(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function gt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function mt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function vt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function yt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function bt(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function xt(e){return[Math.atan2(e[1],e[0]),te(e[2])]}function wt(e,t){return po(e[0]-t[0])<Oo&&po(e[1]-t[1])<Oo}function $t(e,t){e*=Ro;var n=Math.cos(t*=Ro);kt(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function kt(e,t,n){++ws,ks+=(e-ks)/ws,_s+=(t-_s)/ws,Ss+=(n-Ss)/ws}function _t(){function e(e,i){e*=Ro;var a=Math.cos(i*=Ro),o=a*Math.cos(e),s=a*Math.sin(e),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*o-t*u)*l+(l=t*s-n*o)*l),t*o+n*s+r*u);$s+=l,Es+=l*(t+(t=o)),Cs+=l*(n+(n=s)),Ms+=l*(r+(r=u)),kt(t,n,r)}var t,n,r;Ns.point=function(i,a){i*=Ro;var o=Math.cos(a*=Ro);t=o*Math.cos(i),n=o*Math.sin(i),r=Math.sin(a),Ns.point=e,kt(t,n,r)}}function St(){Ns.point=$t}function Et(){function e(e,t){e*=Ro;var n=Math.cos(t*=Ro),o=n*Math.cos(e),s=n*Math.sin(e),u=Math.sin(t),l=i*u-a*s,c=a*o-r*u,f=r*s-i*o,d=Math.sqrt(l*l+c*c+f*f),h=r*o+i*s+a*u,p=d&&-ee(h)/d,g=Math.atan2(d,h);Ts+=p*l,Os+=p*c,As+=p*f,$s+=g,Es+=g*(r+(r=o)),Cs+=g*(i+(i=s)),Ms+=g*(a+(a=u)),kt(r,i,a)}var t,n,r,i,a;Ns.point=function(o,s){t=o,n=s,Ns.point=e,o*=Ro;var u=Math.cos(s*=Ro);r=u*Math.cos(o),i=u*Math.sin(o),a=Math.sin(s),kt(r,i,a)},Ns.lineEnd=function(){e(t,n),Ns.lineEnd=St,Ns.point=$t}}function Ct(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function Mt(){return!0}function Tt(e,t,n,r,i){var a=[],o=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(wt(n,r)){i.lineStart();for(var s=0;t>s;++s)i.point((n=e[s])[0],n[1]);return void i.lineEnd()}var u=new At(n,e,null,!0),l=new At(n,null,u,!1);u.o=l,a.push(u),o.push(l),u=new At(r,e,null,!1),l=new At(r,null,u,!0),u.o=l,a.push(u),o.push(l)}}),o.sort(t),Ot(a),Ot(o),a.length){for(var s=0,u=n,l=o.length;l>s;++s)o[s].e=u=!u;for(var c,f,d=a[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(var s=0,l=c.length;l>s;++s)i.point((f=c[s])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p){c=h.p.z;for(var s=c.length-1;s>=0;--s)i.point((f=c[s])[0],f[1])}else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);i.lineEnd()}}}function Ot(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function At(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Nt(e,t,n,r){return function(i,a){function o(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&a.point(t,n)}function s(e,t){var n=i(e,t);m.point(n[0],n[1])}function u(){y.point=s,m.lineStart()}function l(){y.point=o,m.lineEnd()}function c(e,t){g.push([e,t]);var n=i(e,t);x.point(n[0],n[1])}function f(){x.lineStart(),g=[]}function d(){c(g[0][0],g[0][1]),x.lineEnd();var e,t=x.clean(),n=b.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r)if(1&t){e=n[0];var i,r=e.length-1,o=-1;if(r>0){for(w||(a.polygonStart(),w=!0),a.lineStart();++o<r;)a.point((i=e[o])[0],i[1]);a.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Dt))}var h,p,g,m=t(a),v=i.invert(r[0],r[1]),y={point:o,lineStart:u,lineEnd:l,polygonStart:function(){y.point=c,y.lineStart=f,y.lineEnd=d,h=[],p=[]},polygonEnd:function(){y.point=o,y.lineStart=u,y.lineEnd=l,h=to.merge(h);var e=Ft(v,p);h.length?(w||(a.polygonStart(),w=!0),Tt(h,It,e,n,a)):e&&(w||(a.polygonStart(),w=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),w&&(a.polygonEnd(),w=!1),h=p=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},b=Lt(),x=t(b),w=!1;return y}}function Dt(e){return e.length>1}function Lt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:w,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function It(e,t){return((e=e.x)[0]<0?e[1]-Io-Oo:Io-e[1])-((t=t.x)[0]<0?t[1]-Io-Oo:Io-t[1])}function Rt(e){var t,n=0/0,r=0/0,i=0/0;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?No:-No,u=po(a-n);po(u-No)<Oo?(e.point(n,r=(r+o)/2>0?Io:-Io),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(a,r),t=0):i!==s&&u>=No&&(po(n-i)<Oo&&(n-=i*Oo),po(a-s)<Oo&&(a-=s*Oo),r=Pt(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=a,r=o),i=s},lineEnd:function(){e.lineEnd(),n=r=0/0},clean:function(){return 2-t}}}function Pt(e,t,n,r){var i,a,o=Math.sin(e-n);return po(o)>Oo?Math.atan((Math.sin(t)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*a*o)):(t+r)/2}function jt(e,t,n,r){var i;if(null==e)i=n*Io,r.point(-No,i),r.point(0,i),r.point(No,i),r.point(No,0),r.point(No,-i),r.point(0,-i),r.point(-No,-i),r.point(-No,0),r.point(-No,i);else if(po(e[0]-t[0])>Oo){var a=e[0]<t[0]?No:-No;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function Ft(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;bs.reset();for(var s=0,u=t.length;u>s;++s){var l=t[s],c=l.length;if(c)for(var f=l[0],d=f[0],h=f[1]/2+No/4,p=Math.sin(h),g=Math.cos(h),m=1;;){m===c&&(m=0),e=l[m];var v=e[0],y=e[1]/2+No/4,b=Math.sin(y),x=Math.cos(y),w=v-d,$=w>=0?1:-1,k=$*w,_=k>No,S=p*b;if(bs.add(Math.atan2(S*$*Math.sin(k),g*x+S*Math.cos(k))),a+=_?w+$*Do:w,_^d>=n^v>=n){var E=mt(pt(f),pt(e));bt(E);var C=mt(i,E);bt(C);var M=(_^w>=0?-1:1)*te(C[2]);(r>M||r===M&&(E[0]||E[1]))&&(o+=_^w>=0?1:-1)}if(!m++)break;d=v,p=b,g=x,f=e}}return(-Oo>a||Oo>a&&0>bs)^1&o}function Ut(e){function t(e,t){return Math.cos(e)*Math.cos(t)>a}function n(e){var n,a,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(f,d){var h,p=[f,d],g=t(f,d),m=o?g?0:i(f,d):g?i(f+(0>f?No:-No),d):0;if(!n&&(l=u=g)&&e.lineStart(),g!==u&&(h=r(n,p),(wt(n,h)||wt(p,h))&&(p[0]+=Oo,p[1]+=Oo,g=t(p[0],p[1]))),g!==u)c=0,g?(e.lineStart(),h=r(p,n),e.point(h[0],h[1])):(h=r(n,p),e.point(h[0],h[1]),e.lineEnd()),n=h;else if(s&&n&&o^g){var v;m&a||!(v=r(p,n,!0))||(c=0,o?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!g||n&&wt(n,p)||e.point(p[0],p[1]),n=p,u=g,a=m},lineEnd:function(){u&&e.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function r(e,t,n){var r=pt(e),i=pt(t),o=[1,0,0],s=mt(r,i),u=gt(s,s),l=s[0],c=u-l*l;if(!c)return!n&&e;var f=a*u/c,d=-a*l/c,h=mt(o,s),p=yt(o,f),g=yt(s,d);vt(p,g);var m=h,v=gt(p,m),y=gt(m,m),b=v*v-y*(gt(p,p)-1);if(!(0>b)){var x=Math.sqrt(b),w=yt(m,(-v-x)/y);if(vt(w,p),w=xt(w),!n)return w;var $,k=e[0],_=t[0],S=e[1],E=t[1];k>_&&($=k,k=_,_=$);var C=_-k,M=po(C-No)<Oo,T=M||Oo>C;if(!M&&S>E&&($=S,S=E,E=$),T?M?S+E>0^w[1]<(po(w[0]-k)<Oo?S:E):S<=w[1]&&w[1]<=E:C>No^(k<=w[0]&&w[0]<=_)){var O=yt(m,(-v+x)/y);return vt(O,p),[w,xt(O)]}}}function i(t,n){var r=o?e:No-e,i=0;return-r>t?i|=1:t>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var a=Math.cos(e),o=a>0,s=po(a)>Oo,u=pn(e,6*Ro);return Nt(t,n,u,o?[0,-e]:[-No,e-No])}function zt(e,t,n,r){return function(i){var a,o=i.a,s=i.b,u=o.x,l=o.y,c=s.x,f=s.y,d=0,h=1,p=c-u,g=f-l;if(a=e-u,p||!(a>0)){if(a/=p,0>p){if(d>a)return;h>a&&(h=a)}else if(p>0){if(a>h)return;a>d&&(d=a)}if(a=n-u,p||!(0>a)){if(a/=p,0>p){if(a>h)return;a>d&&(d=a)}else if(p>0){if(d>a)return;h>a&&(h=a)}if(a=t-l,g||!(a>0)){if(a/=g,0>g){if(d>a)return;h>a&&(h=a)}else if(g>0){if(a>h)return;a>d&&(d=a)}if(a=r-l,g||!(0>a)){if(a/=g,0>g){if(a>h)return;a>d&&(d=a)}else if(g>0){if(d>a)return;h>a&&(h=a)}return d>0&&(i.a={x:u+d*p,y:l+d*g}),1>h&&(i.b={x:u+h*p,y:l+h*g}),i}}}}}}function qt(e,t,n,r){function i(r,i){return po(r[0]-e)<Oo?i>0?0:3:po(r[0]-n)<Oo?i>0?2:1:po(r[1]-t)<Oo?i>0?1:0:i>0?3:2}function a(e,t){return o(e.x,t.x)}function o(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){function u(e){for(var t=0,n=m.length,r=e[1],i=0;n>i;++i)for(var a,o=1,s=m[i],u=s.length,l=s[0];u>o;++o)a=s[o],l[1]<=r?a[1]>r&&Q(l,a,e)>0&&++t:a[1]<=r&&Q(l,a,e)<0&&--t,l=a;return 0!==t}function l(a,s,u,l){var c=0,f=0;if(null==a||(c=i(a,u))!==(f=i(s,u))||o(a,s)<0^u>0){do l.point(0===c||3===c?e:n,c>1?r:t);while((c=(c+u+4)%4)!==f)}else l.point(s[0],s[1])}function c(i,a){return i>=e&&n>=i&&a>=t&&r>=a}function f(e,t){c(e,t)&&s.point(e,t)}function d(){T.point=p,m&&m.push(v=[]),_=!0,k=!1,w=$=0/0}function h(){g&&(p(y,b),x&&k&&C.rejoin(),g.push(C.buffer())),T.point=f,k&&s.lineEnd()}function p(e,t){e=Math.max(-Ls,Math.min(Ls,e)),t=Math.max(-Ls,Math.min(Ls,t));var n=c(e,t);if(m&&v.push([e,t]),_)y=e,b=t,x=n,_=!1,n&&(s.lineStart(),s.point(e,t));else if(n&&k)s.point(e,t);else{var r={a:{x:w,y:$},b:{x:e,y:t}};M(r)?(k||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),S=!1):n&&(s.lineStart(),s.point(e,t),S=!1)}w=e,$=t,k=n}var g,m,v,y,b,x,w,$,k,_,S,E=s,C=Lt(),M=zt(e,t,n,r),T={point:f,lineStart:d,lineEnd:h,polygonStart:function(){s=C,g=[],m=[],S=!0},polygonEnd:function(){s=E,g=to.merge(g);var t=u([e,r]),n=S&&t,i=g.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),i&&Tt(g,a,t,l,s),s.polygonEnd()),g=m=v=null}};return T}}function Ht(e){var t=0,n=No/3,r=on(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*No/180,n=e[1]*No/180):[t/No*180,n/No*180]},i}function Bt(e,t){function n(e,t){var n=Math.sqrt(a-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),o-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,a=1+r*(2*i-r),o=Math.sqrt(a)/i;return n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,te((a-(e*e+n*n)*i*i)/(2*i))]},n}function Wt(){function e(e,t){Rs+=i*e-r*t,r=e,i=t}var t,n,r,i;zs.point=function(a,o){zs.point=e,t=r=a,n=i=o},zs.lineEnd=function(){e(t,n)}}function Vt(e,t){Ps>e&&(Ps=e),e>Fs&&(Fs=e),js>t&&(js=t),t>Us&&(Us=t)}function Yt(){function e(e,t){o.push("M",e,",",t,a)}function t(e,t){o.push("M",e,",",t),
s.point=n}function n(e,t){o.push("L",e,",",t)}function r(){s.point=e}function i(){o.push("Z")}var a=Gt(4.5),o=[],s={point:e,lineStart:function(){s.point=t},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(e){return a=Gt(e),s},result:function(){if(o.length){var e=o.join("");return o=[],e}}};return s}function Gt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Xt(e,t){ks+=e,_s+=t,++Ss}function Kt(){function e(e,r){var i=e-t,a=r-n,o=Math.sqrt(i*i+a*a);Es+=o*(t+e)/2,Cs+=o*(n+r)/2,Ms+=o,Xt(t=e,n=r)}var t,n;Hs.point=function(r,i){Hs.point=e,Xt(t=r,n=i)}}function Jt(){Hs.point=Xt}function Zt(){function e(e,t){var n=e-r,a=t-i,o=Math.sqrt(n*n+a*a);Es+=o*(r+e)/2,Cs+=o*(i+t)/2,Ms+=o,o=i*e-r*t,Ts+=o*(r+e),Os+=o*(i+t),As+=3*o,Xt(r=e,i=t)}var t,n,r,i;Hs.point=function(a,o){Hs.point=e,Xt(t=r=a,n=i=o)},Hs.lineEnd=function(){e(t,n)}}function Qt(e){function t(t,n){e.moveTo(t+o,n),e.arc(t,n,o,0,Do)}function n(t,n){e.moveTo(t,n),s.point=r}function r(t,n){e.lineTo(t,n)}function i(){s.point=t}function a(){e.closePath()}var o=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(e){return o=e,s},result:w};return s}function en(e){function t(e){return(s?r:n)(e)}function n(t){return rn(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){b=0/0,_.point=a,t.lineStart()}function a(n,r){var a=pt([n,r]),o=e(n,r);i(b,x,y,w,$,k,b=o[0],x=o[1],y=n,w=a[0],$=a[1],k=a[2],s,t),t.point(b,x)}function o(){_.point=n,t.lineEnd()}function u(){r(),_.point=l,_.lineEnd=c}function l(e,t){a(f=e,d=t),h=b,p=x,g=w,m=$,v=k,_.point=a}function c(){i(b,x,y,w,$,k,h,p,f,g,m,v,s,t),_.lineEnd=o,o()}var f,d,h,p,g,m,v,y,b,x,w,$,k,_={point:n,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),_.lineStart=u},polygonEnd:function(){t.polygonEnd(),_.lineStart=r}};return _}function i(t,n,r,s,u,l,c,f,d,h,p,g,m,v){var y=c-t,b=f-n,x=y*y+b*b;if(x>4*a&&m--){var w=s+h,$=u+p,k=l+g,_=Math.sqrt(w*w+$*$+k*k),S=Math.asin(k/=_),E=po(po(k)-1)<Oo||po(r-d)<Oo?(r+d)/2:Math.atan2($,w),C=e(E,S),M=C[0],T=C[1],O=M-t,A=T-n,N=b*O-y*A;(N*N/x>a||po((y*O+b*A)/x-.5)>.3||o>s*h+u*p+l*g)&&(i(t,n,r,s,u,l,M,T,E,w/=_,$/=_,k,m,v),v.point(M,T),i(M,T,E,w,$,k,c,f,d,h,p,g,m,v))}}var a=.5,o=Math.cos(30*Ro),s=16;return t.precision=function(e){return arguments.length?(s=(a=e*e)>0&&16,t):Math.sqrt(a)},t}function tn(e){var t=en(function(t,n){return e([t*Po,n*Po])});return function(e){return sn(t(e))}}function nn(e){this.stream=e}function rn(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function an(e){return on(function(){return e})()}function on(e){function t(e){return e=s(e[0]*Ro,e[1]*Ro),[e[0]*d+u,l-e[1]*d]}function n(e){return e=s.invert((e[0]-u)/d,(l-e[1])/d),e&&[e[0]*Po,e[1]*Po]}function r(){s=Ct(o=cn(v,b,x),a);var e=a(g,m);return u=h-e[0]*d,l=p+e[1]*d,i()}function i(){return c&&(c.valid=!1,c=null),t}var a,o,s,u,l,c,f=en(function(e,t){return e=a(e,t),[e[0]*d+u,l-e[1]*d]}),d=150,h=480,p=250,g=0,m=0,v=0,b=0,x=0,w=Ds,$=y,k=null,_=null;return t.stream=function(e){return c&&(c.valid=!1),c=sn(w(o,f($(e)))),c.valid=!0,c},t.clipAngle=function(e){return arguments.length?(w=null==e?(k=e,Ds):Ut((k=+e)*Ro),i()):k},t.clipExtent=function(e){return arguments.length?(_=e,$=e?qt(e[0][0],e[0][1],e[1][0],e[1][1]):y,i()):_},t.scale=function(e){return arguments.length?(d=+e,r()):d},t.translate=function(e){return arguments.length?(h=+e[0],p=+e[1],r()):[h,p]},t.center=function(e){return arguments.length?(g=e[0]%360*Ro,m=e[1]%360*Ro,r()):[g*Po,m*Po]},t.rotate=function(e){return arguments.length?(v=e[0]%360*Ro,b=e[1]%360*Ro,x=e.length>2?e[2]%360*Ro:0,r()):[v*Po,b*Po,x*Po]},to.rebind(t,f,"precision"),function(){return a=e.apply(this,arguments),t.invert=a.invert&&n,r()}}function sn(e){return rn(e,function(t,n){e.point(t*Ro,n*Ro)})}function un(e,t){return[e,t]}function ln(e,t){return[e>No?e-Do:-No>e?e+Do:e,t]}function cn(e,t,n){return e?t||n?Ct(dn(e),hn(t,n)):dn(e):t||n?hn(t,n):ln}function fn(e){return function(t,n){return t+=e,[t>No?t-Do:-No>t?t+Do:t,n]}}function dn(e){var t=fn(e);return t.invert=fn(-e),t}function hn(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,u=Math.sin(e)*n,l=Math.sin(t),c=l*r+s*i;return[Math.atan2(u*a-c*o,s*r-l*i),te(c*a+u*o)]}var r=Math.cos(e),i=Math.sin(e),a=Math.cos(t),o=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,u=Math.sin(e)*n,l=Math.sin(t),c=l*a-u*o;return[Math.atan2(u*a+l*o,s*r+c*i),te(c*r-s*i)]},n}function pn(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,a,o,s){var u=o*t;null!=i?(i=gn(n,i),a=gn(n,a),(o>0?a>i:i>a)&&(i+=o*Do)):(i=e+o*Do,a=e-.5*u);for(var l,c=i;o>0?c>a:a>c;c-=u)s.point((l=xt([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function gn(e,t){var n=pt(t);n[0]-=e,bt(n);var r=ee(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Oo)%(2*Math.PI)}function mn(e,t,n){var r=to.range(e,t-Oo,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function vn(e,t,n){var r=to.range(e,t-Oo,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function yn(e){return e.source}function bn(e){return e.target}function xn(e,t,n,r){var i=Math.cos(t),a=Math.sin(t),o=Math.cos(r),s=Math.sin(r),u=i*Math.cos(e),l=i*Math.sin(e),c=o*Math.cos(n),f=o*Math.sin(n),d=2*Math.asin(Math.sqrt(ae(r-t)+i*o*ae(n-e))),h=1/Math.sin(d),p=d?function(e){var t=Math.sin(e*=d)*h,n=Math.sin(d-e)*h,r=n*u+t*c,i=n*l+t*f,o=n*a+t*s;return[Math.atan2(i,r)*Po,Math.atan2(o,Math.sqrt(r*r+i*i))*Po]}:function(){return[e*Po,t*Po]};return p.distance=d,p}function wn(){function e(e,i){var a=Math.sin(i*=Ro),o=Math.cos(i),s=po((e*=Ro)-t),u=Math.cos(s);Bs+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=r*a-n*o*u)*s),n*a+r*o*u),t=e,n=a,r=o}var t,n,r;Ws.point=function(i,a){t=i*Ro,n=Math.sin(a*=Ro),r=Math.cos(a),Ws.point=e},Ws.lineEnd=function(){Ws.point=Ws.lineEnd=w}}function $n(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),a=e(r*i);return[a*i*Math.sin(t),a*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*a,r*o),Math.asin(r&&n*a/r)]},n}function kn(e,t){function n(e,t){o>0?-Io+Oo>t&&(t=-Io+Oo):t>Io-Oo&&(t=Io-Oo);var n=o/Math.pow(i(t),a);return[n*Math.sin(a*e),o-n*Math.cos(a*e)]}var r=Math.cos(e),i=function(e){return Math.tan(No/4+e/2)},a=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),o=r*Math.pow(i(e),a)/a;return a?(n.invert=function(e,t){var n=o-t,r=Z(a)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/a,2*Math.atan(Math.pow(o/r,1/a))-Io]},n):Sn}function _n(e,t){function n(e,t){var n=a-t;return[n*Math.sin(i*e),a-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),a=r/i+e;return po(i)<Oo?un:(n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,a-Z(i)*Math.sqrt(e*e+n*n)]},n)}function Sn(e,t){return[e,Math.log(Math.tan(No/4+t/2))]}function En(e){var t,n=an(e),r=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var o=a.apply(n,arguments);if(o===n){if(t=null==e){var s=No*r(),u=i();a([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else t&&(o=null);return o},n.clipExtent(null)}function Cn(e,t){return[Math.log(Math.tan(No/4+t/2)),-e]}function Mn(e){return e[0]}function Tn(e){return e[1]}function On(e){for(var t=e.length,n=[0,1],r=2,i=2;t>i;i++){for(;r>1&&Q(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function An(e,t){return e[0]-t[0]||e[1]-t[1]}function Nn(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Dn(e,t,n,r){var i=e[0],a=n[0],o=t[0]-i,s=r[0]-a,u=e[1],l=n[1],c=t[1]-u,f=r[1]-l,d=(s*(u-l)-f*(i-a))/(f*o-s*c);return[i+d*o,u+d*c]}function Ln(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function In(){nr(this),this.edge=this.site=this.circle=null}function Rn(e){var t=ru.pop()||new In;return t.site=e,t}function Pn(e){Yn(e),eu.remove(e),ru.push(e),nr(e)}function jn(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},a=e.P,o=e.N,s=[e];Pn(e);for(var u=a;u.circle&&po(n-u.circle.x)<Oo&&po(r-u.circle.cy)<Oo;)a=u.P,s.unshift(u),Pn(u),u=a;s.unshift(u),Yn(u);for(var l=o;l.circle&&po(n-l.circle.x)<Oo&&po(r-l.circle.cy)<Oo;)o=l.N,s.push(l),Pn(l),l=o;s.push(l),Yn(l);var c,f=s.length;for(c=1;f>c;++c)l=s[c],u=s[c-1],Qn(l.edge,u.site,l.site,i);u=s[0],l=s[f-1],l.edge=Jn(u.site,l.site,null,i),Vn(u),Vn(l)}function Fn(e){for(var t,n,r,i,a=e.x,o=e.y,s=eu._;s;)if(r=Un(s,o)-a,r>Oo)s=s.L;else{if(i=a-zn(s,o),!(i>Oo)){r>-Oo?(t=s.P,n=s):i>-Oo?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var u=Rn(e);if(eu.insert(t,u),t||n){if(t===n)return Yn(t),n=Rn(t.site),eu.insert(u,n),u.edge=n.edge=Jn(t.site,u.site),Vn(t),void Vn(n);if(!n)return void(u.edge=Jn(t.site,u.site));Yn(t),Yn(n);var l=t.site,c=l.x,f=l.y,d=e.x-c,h=e.y-f,p=n.site,g=p.x-c,m=p.y-f,v=2*(d*m-h*g),y=d*d+h*h,b=g*g+m*m,x={x:(m*y-h*b)/v+c,y:(d*b-g*y)/v+f};Qn(n.edge,l,p,x),u.edge=Jn(l,e,null,x),n.edge=Jn(e,p,null,x),Vn(t),Vn(n)}}function Un(e,t){var n=e.site,r=n.x,i=n.y,a=i-t;if(!a)return r;var o=e.P;if(!o)return-(1/0);n=o.site;var s=n.x,u=n.y,l=u-t;if(!l)return s;var c=s-r,f=1/a-1/l,d=c/l;return f?(-d+Math.sqrt(d*d-2*f*(c*c/(-2*l)-u+l/2+i-a/2)))/f+r:(r+s)/2}function zn(e,t){var n=e.N;if(n)return Un(n,t);var r=e.site;return r.y===t?r.x:1/0}function qn(e){this.site=e,this.edges=[]}function Hn(e){for(var t,n,r,i,a,o,s,u,l,c,f=e[0][0],d=e[1][0],h=e[0][1],p=e[1][1],g=Qs,m=g.length;m--;)if(a=g[m],a&&a.prepare())for(s=a.edges,u=s.length,o=0;u>o;)c=s[o].end(),r=c.x,i=c.y,l=s[++o%u].start(),t=l.x,n=l.y,(po(r-t)>Oo||po(i-n)>Oo)&&(s.splice(o,0,new er(Zn(a.site,c,po(r-f)<Oo&&p-i>Oo?{x:f,y:po(t-f)<Oo?n:p}:po(i-p)<Oo&&d-r>Oo?{x:po(n-p)<Oo?t:d,y:p}:po(r-d)<Oo&&i-h>Oo?{x:d,y:po(t-d)<Oo?n:h}:po(i-h)<Oo&&r-f>Oo?{x:po(n-h)<Oo?t:f,y:h}:null),a.site,null)),++u)}function Bn(e,t){return t.angle-e.angle}function Wn(){nr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,a=n.site;if(r!==a){var o=i.x,s=i.y,u=r.x-o,l=r.y-s,c=a.x-o,f=a.y-s,d=2*(u*f-l*c);if(!(d>=-Ao)){var h=u*u+l*l,p=c*c+f*f,g=(f*h-l*p)/d,m=(u*p-c*h)/d,f=m+s,v=iu.pop()||new Wn;v.arc=e,v.site=i,v.x=g+o,v.y=f+Math.sqrt(g*g+m*m),v.cy=f,e.circle=v;for(var y=null,b=nu._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}nu.insert(y,v),y||(tu=v)}}}}function Yn(e){var t=e.circle;t&&(t.P||(tu=t.N),nu.remove(t),iu.push(t),nr(t),e.circle=null)}function Gn(e){for(var t,n=Zs,r=zt(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!Xn(t,e)||!r(t)||po(t.a.x-t.b.x)<Oo&&po(t.a.y-t.b.y)<Oo)&&(t.a=t.b=null,n.splice(i,1))}function Xn(e,t){var n=e.b;if(n)return!0;var r,i,a=e.a,o=t[0][0],s=t[1][0],u=t[0][1],l=t[1][1],c=e.l,f=e.r,d=c.x,h=c.y,p=f.x,g=f.y,m=(d+p)/2,v=(h+g)/2;if(g===h){if(o>m||m>=s)return;if(d>p){if(a){if(a.y>=l)return}else a={x:m,y:u};n={x:m,y:l}}else{if(a){if(a.y<u)return}else a={x:m,y:l};n={x:m,y:u}}}else if(r=(d-p)/(g-h),i=v-r*m,-1>r||r>1)if(d>p){if(a){if(a.y>=l)return}else a={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(a){if(a.y<u)return}else a={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(g>h){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return e.a=a,e.b=n,!0}function Kn(e,t){this.l=e,this.r=t,this.a=this.b=null}function Jn(e,t,n,r){var i=new Kn(e,t);return Zs.push(i),n&&Qn(i,e,t,n),r&&Qn(i,t,e,r),Qs[e.i].edges.push(new er(i,e,t)),Qs[t.i].edges.push(new er(i,t,e)),i}function Zn(e,t,n){var r=new Kn(e,null);return r.a=t,r.b=n,Zs.push(r),r}function Qn(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function er(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function tr(){this._=null}function nr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function rr(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ir(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ar(e){for(;e.L;)e=e.L;return e}function or(e,t){var n,r,i,a=e.sort(sr).pop();for(Zs=[],Qs=new Array(e.length),eu=new tr,nu=new tr;;)if(i=tu,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))(a.x!==n||a.y!==r)&&(Qs[a.i]=new qn(a),Fn(a),n=a.x,r=a.y),a=e.pop();else{if(!i)break;jn(i.arc)}t&&(Gn(t),Hn(t));var o={cells:Qs,edges:Zs};return eu=nu=Zs=Qs=null,o}function sr(e,t){return t.y-e.y||t.x-e.x}function ur(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function lr(e){return e.x}function cr(e){return e.y}function fr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function dr(e,t,n,r,i,a){if(!e(t,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),u=t.nodes;u[0]&&dr(e,u[0],n,r,o,s),u[1]&&dr(e,u[1],o,r,i,s),u[2]&&dr(e,u[2],n,s,o,a),u[3]&&dr(e,u[3],o,s,i,a)}}function hr(e,t,n,r,i,a,o){var s,u=1/0;return function l(e,c,f,d,h){if(!(c>a||f>o||r>d||i>h)){if(p=e.point){var p,g=t-e.x,m=n-e.y,v=g*g+m*m;if(u>v){var y=Math.sqrt(u=v);r=t-y,i=n-y,a=t+y,o=n+y,s=p}}for(var b=e.nodes,x=.5*(c+d),w=.5*(f+h),$=t>=x,k=n>=w,_=k<<1|$,S=_+4;S>_;++_)if(e=b[3&_])switch(3&_){case 0:l(e,c,f,x,w);break;case 1:l(e,x,f,d,w);break;case 2:l(e,c,w,x,h);break;case 3:l(e,x,w,d,h)}}}(e,r,i,a,o),s}function pr(e,t){e=to.rgb(e),t=to.rgb(t);var n=e.r,r=e.g,i=e.b,a=t.r-n,o=t.g-r,s=t.b-i;return function(e){return"#"+xe(Math.round(n+a*e))+xe(Math.round(r+o*e))+xe(Math.round(i+s*e))}}function gr(e,t){var n,r={},i={};for(n in e)n in t?r[n]=yr(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function mr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vr(e,t){var n,r,i,a=ou.lastIndex=su.lastIndex=0,o=-1,s=[],u=[];for(e+="",t+="";(n=ou.exec(e))&&(r=su.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:mr(n,r)})),a=su.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?(t=u[0].x,function(e){return t(e)+""}):function(){return t}:(t=u.length,function(e){for(var n,r=0;t>r;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function yr(e,t){for(var n,r=to.interpolators.length;--r>=0&&!(n=to.interpolators[r](e,t)););return n}function br(e,t){var n,r=[],i=[],a=e.length,o=t.length,s=Math.min(e.length,t.length);for(n=0;s>n;++n)r.push(yr(e[n],t[n]));for(;a>n;++n)i[n]=e[n];for(;o>n;++n)i[n]=t[n];return function(e){for(n=0;s>n;++n)i[n]=r[n](e);return i}}function xr(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function wr(e){return function(t){return 1-e(1-t)}}function $r(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function kr(e){return e*e}function _r(e){return e*e*e}function Sr(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function Er(e){return function(t){return Math.pow(t,e)}}function Cr(e){return 1-Math.cos(e*Io)}function Mr(e){return Math.pow(2,10*(e-1))}function Tr(e){return 1-Math.sqrt(1-e*e)}function Or(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Do*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Do/t)}}function Ar(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Nr(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Dr(e,t){e=to.hcl(e),t=to.hcl(t);var n=e.h,r=e.c,i=e.l,a=t.h-n,o=t.c-r,s=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:-180>a&&(a+=360),function(e){return ce(n+a*e,r+o*e,i+s*e)+""}}function Lr(e,t){e=to.hsl(e),t=to.hsl(t);var n=e.h,r=e.s,i=e.l,a=t.h-n,o=t.s-r,s=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:-180>a&&(a+=360),function(e){return ue(n+a*e,r+o*e,i+s*e)+""}}function Ir(e,t){e=to.lab(e),t=to.lab(t);var n=e.l,r=e.a,i=e.b,a=t.l-n,o=t.a-r,s=t.b-i;return function(e){return de(n+a*e,r+o*e,i+s*e)+""}}function Rr(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Pr(e){var t=[e.a,e.b],n=[e.c,e.d],r=Fr(t),i=jr(t,n),a=Fr(Ur(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Po,this.translate=[e.e,e.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*Po:0}function jr(e,t){return e[0]*t[0]+e[1]*t[1]}function Fr(e){var t=Math.sqrt(jr(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Ur(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function zr(e,t){var n,r=[],i=[],a=to.transform(e),o=to.transform(t),s=a.translate,u=o.translate,l=a.rotate,c=o.rotate,f=a.skew,d=o.skew,h=a.scale,p=o.scale;return s[0]!=u[0]||s[1]!=u[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:mr(s[0],u[0])},{i:3,x:mr(s[1],u[1])})):r.push(u[0]||u[1]?"translate("+u+")":""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:mr(l,c)})):c&&r.push(r.pop()+"rotate("+c+")"),f!=d?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:mr(f,d)}):d&&r.push(r.pop()+"skewX("+d+")"),h[0]!=p[0]||h[1]!=p[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:mr(h[0],p[0])},{i:n-2,x:mr(h[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),n=i.length,function(e){for(var t,a=-1;++a<n;)r[(t=i[a]).i]=t.x(e);return r.join("")}}function qr(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Hr(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Br(e){for(var t=e.source,n=e.target,r=Vr(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function Wr(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Vr(e,t){if(e===t)return e;for(var n=Wr(e),r=Wr(t),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}function Yr(e){e.fixed|=2}function Gr(e){e.fixed&=-7}function Xr(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Kr(e){e.fixed&=-5}function Jr(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var a,o=e.nodes,s=o.length,u=-1;++u<s;)a=o[u],null!=a&&(Jr(a,t,n),e.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var l=t*n[e.point.index];e.charge+=e.pointCharge=l,r+=l*e.point.x,i+=l*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function Zr(e,t){return to.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=ii,e}function Qr(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function ei(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(a=e.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(e=r.pop());)t(e)}function ti(e){return e.children}function ni(e){return e.value}function ri(e,t){return t.value-e.value}function ii(e){return to.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function ai(e){return e.x}function oi(e){return e.y}function si(e,t,n){e.y0=t,e.y=n}function ui(e){return to.range(e.length)}function li(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function ci(e){for(var t,n=1,r=0,i=e[0][1],a=e.length;a>n;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function fi(e){return e.reduce(di,0)}function di(e,t){return e+t[1]}function hi(e,t){return pi(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function pi(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,a=[];++n<=t;)a[n]=i*n+r;return a}function gi(e){return[to.min(e),to.max(e)]}function mi(e,t){return e.value-t.value}function vi(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function yi(e,t){e._pack_next=t,t._pack_prev=e}function bi(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function xi(e){function t(e){c=Math.min(e.x-e.r,c),f=Math.max(e.x+e.r,f),d=Math.min(e.y-e.r,d),h=Math.max(e.y+e.r,h)}if((n=e.children)&&(l=n.length)){var n,r,i,a,o,s,u,l,c=1/0,f=-(1/0),d=1/0,h=-(1/0);if(n.forEach(wi),r=n[0],r.x=-r.r,r.y=0,t(r),l>1&&(i=n[1],i.x=i.r,i.y=0,t(i),l>2))for(a=n[2],_i(r,i,a),t(a),vi(r,a),r._pack_prev=a,vi(a,i),i=r._pack_next,o=3;l>o;o++){_i(r,i,a=n[o]);var p=0,g=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(bi(s,a)){p=1;break}if(1==p)for(u=r._pack_prev;u!==s._pack_prev&&!bi(u,a);u=u._pack_prev,m++);p?(m>g||g==m&&i.r<r.r?yi(r,i=s):yi(r=u,i),o--):(vi(r,a),i=a,t(a))}var v=(c+f)/2,y=(d+h)/2,b=0;for(o=0;l>o;o++)a=n[o],a.x-=v,a.y-=y,b=Math.max(b,a.r+Math.sqrt(a.x*a.x+a.y*a.y));e.r=b,n.forEach($i)}}function wi(e){e._pack_next=e._pack_prev=e}function $i(e){delete e._pack_next,delete e._pack_prev}function ki(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var a=-1,o=i.length;++a<o;)ki(i[a],t,n,r)}function _i(e,t,n){var r=e.r+n.r,i=t.x-e.x,a=t.y-e.y;if(r&&(i||a)){var o=t.r+n.r,s=i*i+a*a;o*=o,r*=r;var u=.5+(r-o)/(2*s),l=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=e.x+u*i+l*a,n.y=e.y+u*a-l*i}else n.x=e.x+r,n.y=e.y}function Si(e,t){return e.parent==t.parent?1:2}function Ei(e){var t=e.children;return t.length?t[0]:e.t}function Ci(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Mi(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Ti(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)t=i[a],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Oi(e,t,n){return e.a.parent===t.parent?e.a:n}function Ai(e){return 1+to.max(e,function(e){return e.y})}function Ni(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Di(e){var t=e.children;return t&&t.length?Di(t[0]):e}function Li(e){var t,n=e.children;return n&&(t=n.length)?Li(n[t-1]):e}function Ii(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Ri(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>a&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function Pi(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function ji(e){return e.rangeExtent?e.rangeExtent():Pi(e.range())}function Fi(e,t,n,r){var i=n(e[0],e[1]),a=r(t[0],t[1]);return function(e){return a(i(e))}}function Ui(e,t){var n,r=0,i=e.length-1,a=e[r],o=e[i];return a>o&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function zi(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:yu}function qi(e,t,n,r){var i=[],a=[],o=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<=s;)i.push(n(e[o-1],e[o])),a.push(r(t[o-1],t[o]));return function(t){var n=to.bisect(e,t,1,s)-1;return a[n](i[n](t))}}function Hi(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?qi:Fi,u=r?Hr:qr;return o=i(e,t,u,n),s=i(t,e,u,yr),a}function a(e){return o(e)}var o,s;return a.invert=function(e){return s(e)},a.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},a.range=function(e){return arguments.length?(t=e,i()):t},a.rangeRound=function(e){return a.range(e).interpolate(Rr)},a.clamp=function(e){return arguments.length?(r=e,i()):r},a.interpolate=function(e){return arguments.length?(n=e,i()):n},a.ticks=function(t){return Yi(e,t)},a.tickFormat=function(t,n){return Gi(e,t,n)},a.nice=function(t){return Wi(e,t),i()},a.copy=function(){return Hi(e,t,n,r)},i()}function Bi(e,t){return to.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Wi(e,t){return Ui(e,zi(Vi(e,t)[2]))}function Vi(e,t){null==t&&(t=10);var n=Pi(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),a=t/r*i;return.15>=a?i*=10:.35>=a?i*=5:.75>=a&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Yi(e,t){return to.range.apply(to,Vi(e,t))}function Gi(e,t,n){var r=Vi(e,t);if(n){var i=os.exec(n);if(i.shift(),"s"===i[8]){var a=to.formatPrefix(Math.max(po(r[0]),po(r[1])));return i[7]||(i[7]="."+Xi(a.scale(r[2]))),i[8]="f",n=to.format(i.join("")),function(e){return n(a.scale(e))+a.symbol}}i[7]||(i[7]="."+Ki(i[8],r)),n=i.join("")}else n=",."+Xi(r[2])+"f";return to.format(n)}function Xi(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Ki(e,t){var n=Xi(t[2]);return e in bu?Math.abs(n-Xi(Math.max(po(t[0]),po(t[1]))))+ +("e"!==e):n-2*("%"===e)}function Ji(e,t,n,r){function i(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function a(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function o(t){return e(i(t))}return o.invert=function(t){return a(e.invert(t))},o.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),o):r},o.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),o):t},o.nice=function(){var t=Ui(r.map(i),n?Math:wu);return e.domain(t),r=t.map(a),o},o.ticks=function(){var e=Pi(r),o=[],s=e[0],u=e[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),f=t%1?2:t;if(isFinite(c-l)){if(n){for(;c>l;l++)for(var d=1;f>d;d++)o.push(a(l)*d);o.push(a(l))}else for(o.push(a(l));l++<c;)for(var d=f-1;d>0;d--)o.push(a(l)*d);for(l=0;o[l]<s;l++);for(c=o.length;o[c-1]>u;c--);o=o.slice(l,c)}return o},o.tickFormat=function(e,t){if(!arguments.length)return xu;arguments.length<2?t=xu:"function"!=typeof t&&(t=to.format(t));var r,s=Math.max(.1,e/o.ticks().length),u=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(e){return e/a(u(i(e)+r))<=s?t(e):""}},o.copy=function(){return Ji(e.copy(),t,n,r)},Bi(o,e)}function Zi(e,t,n){function r(t){return e(i(t))}var i=Qi(t),a=Qi(1/t);return r.invert=function(t){return a(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return Yi(n,e)},r.tickFormat=function(e,t){return Gi(n,e,t)},r.nice=function(e){return r.domain(Wi(n,e))},r.exponent=function(o){return arguments.length?(i=Qi(t=o),a=Qi(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return Zi(e.copy(),t,n)},Bi(r,e)}function Qi(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function ea(e,t){function n(n){return a[((i.get(n)||("range"===t.t?i.set(n,e.push(n)):0/0))-1)%a.length]}function r(t,n){return to.range(e.length).map(function(e){return t+n*e})}var i,a,o;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new l;for(var a,o=-1,s=r.length;++o<s;)i.has(a=r[o])||i.set(a,e.push(a));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(a=e,o=0,t={t:"range",a:arguments},n):a},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],l=i[1],c=e.length<2?(u=(u+l)/2,0):(l-u)/(e.length-1+s);return a=r(u+c*s/2,c),o=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],l=i[1],c=e.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(e.length-1+s)|0;return a=r(u+Math.round(c*s/2+(l-u-(e.length-1+s)*c)/2),c),o=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],f=i[1-l],d=(f-c)/(e.length-s+2*u);return a=r(c+d*u,d),l&&a.reverse(),o=d*(1-s),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],f=i[1-l],d=Math.floor((f-c)/(e.length-s+2*u));return a=r(c+Math.round((f-c-(e.length-s)*d)/2),d),l&&a.reverse(),o=Math.round(d*(1-s)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return Pi(t.a[0])},n.copy=function(){return ea(e,t)},n.domain(e)}function ta(e,t){function a(){var n=0,r=t.length;for(s=[];++n<r;)s[n-1]=to.quantile(e,n/r);return o}function o(e){return isNaN(e=+e)?void 0:t[to.bisect(s,e)]}var s;return o.domain=function(t){return arguments.length?(e=t.map(r).filter(i).sort(n),a()):e},o.range=function(e){return arguments.length?(t=e,a()):t},o.quantiles=function(){return s},o.invertExtent=function(n){return n=t.indexOf(n),0>n?[0/0,0/0]:[n>0?s[n-1]:e[0],n<s.length?s[n]:e[e.length-1]]},o.copy=function(){return ta(e,t)},a()}function na(e,t,n){function r(t){return n[Math.max(0,Math.min(o,Math.floor(a*(t-e))))]}function i(){return a=n.length/(t-e),o=n.length-1,r}var a,o;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=0>t?0/0:t/a+e,[t,t+1/a]},r.copy=function(){return na(e,t,n)},i()}function ra(e,t){function n(n){return n>=n?t[to.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return ra(e,t)},n}function ia(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Yi(e,t)},t.tickFormat=function(t,n){return Gi(e,t,n)},t.copy=function(){return ia(e)},t}function aa(){return 0}function oa(e){return e.innerRadius}function sa(e){return e.outerRadius}function ua(e){return e.startAngle}function la(e){return e.endAngle}function ca(e){return e&&e.padAngle}function fa(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function da(e,t,n,r,i){var a=e[0]-t[0],o=e[1]-t[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),u=s*o,l=-s*a,c=e[0]+u,f=e[1]+l,d=t[0]+u,h=t[1]+l,p=(c+d)/2,g=(f+h)/2,m=d-c,v=h-f,y=m*m+v*v,b=n-r,x=c*h-d*f,w=(0>v?-1:1)*Math.sqrt(b*b*y-x*x),$=(x*v-m*w)/y,k=(-x*m-v*w)/y,_=(x*v+m*w)/y,S=(-x*m+v*w)/y,E=$-p,C=k-g,M=_-p,T=S-g;return E*E+C*C>M*M+T*T&&($=_,k=S),[[$-u,k-l],[$*n/b,k*n/b]]}function ha(e){function t(t){function o(){l.push("M",a(e(c),s))}for(var u,l=[],c=[],f=-1,d=t.length,h=Ee(n),p=Ee(r);++f<d;)i.call(this,u=t[f],f)?c.push([+h.call(this,u,f),+p.call(this,u,f)]):c.length&&(o(),c=[]);return c.length&&o(),l.length?l.join(""):null}var n=Mn,r=Tn,i=Mt,a=pa,o=a.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(o="function"==typeof e?a=e:(a=Cu.get(e)||pa).key,t):o},t.tension=function(e){return arguments.length?(s=e,t):s},t}function pa(e){return e.join("L")}function ga(e){return pa(e)+"Z"}function ma(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function va(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function ya(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function ba(e,t){return e.length<4?pa(e):e[1]+$a(e.slice(1,-1),ka(e,t))}function xa(e,t){return e.length<3?pa(e):e[0]+$a((e.push(e[0]),e),ka([e[e.length-2]].concat(e,[e[1]]),t))}function wa(e,t){return e.length<3?pa(e):e[0]+$a(e,ka(e,t))}function $a(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return pa(e);var n=e.length!=t.length,r="",i=e[0],a=e[1],o=t[0],s=o,u=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=e[1],u=2),t.length>1){s=t[1],a=e[u],u++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var l=2;l<t.length;l++,u++)a=e[u],s=t[l],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var c=e[u];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function ka(e,t){for(var n,r=[],i=(1-t)/2,a=e[0],o=e[1],s=1,u=e.length;++s<u;)n=a,a=o,o=e[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function _a(e){if(e.length<3)return pa(e);var t=1,n=e.length,r=e[0],i=r[0],a=r[1],o=[i,i,i,(r=e[1])[0]],s=[a,a,a,r[1]],u=[i,",",a,"L",Ma(Ou,o),",",Ma(Ou,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),Ta(u,o,s);return e.pop(),u.push("L",r),u.join("")}function Sa(e){if(e.length<4)return pa(e);for(var t,n=[],r=-1,i=e.length,a=[0],o=[0];++r<3;)t=e[r],a.push(t[0]),o.push(t[1]);for(n.push(Ma(Ou,a)+","+Ma(Ou,o)),
--r;++r<i;)t=e[r],a.shift(),a.push(t[0]),o.shift(),o.push(t[1]),Ta(n,a,o);return n.join("")}function Ea(e){for(var t,n,r=-1,i=e.length,a=i+4,o=[],s=[];++r<4;)n=e[r%i],o.push(n[0]),s.push(n[1]);for(t=[Ma(Ou,o),",",Ma(Ou,s)],--r;++r<a;)n=e[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Ta(t,o,s);return t.join("")}function Ca(e,t){var n=e.length-1;if(n)for(var r,i,a=e[0][0],o=e[0][1],s=e[n][0]-a,u=e[n][1]-o,l=-1;++l<=n;)r=e[l],i=l/n,r[0]=t*r[0]+(1-t)*(a+i*s),r[1]=t*r[1]+(1-t)*(o+i*u);return _a(e)}function Ma(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Ta(e,t,n){e.push("C",Ma(Mu,t),",",Ma(Mu,n),",",Ma(Tu,t),",",Ma(Tu,n),",",Ma(Ou,t),",",Ma(Ou,n))}function Oa(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Aa(e){for(var t=0,n=e.length-1,r=[],i=e[0],a=e[1],o=r[0]=Oa(i,a);++t<n;)r[t]=(o+(o=Oa(i=a,a=e[t+1])))/2;return r[t]=o,r}function Na(e){for(var t,n,r,i,a=[],o=Aa(e),s=-1,u=e.length-1;++s<u;)t=Oa(e[s],e[s+1]),po(t)<Oo?o[s]=o[s+1]=0:(n=o[s]/t,r=o[s+1]/t,i=n*n+r*r,i>9&&(i=3*t/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r));for(s=-1;++s<=u;)i=(e[Math.min(u,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}function Da(e){return e.length<3?pa(e):e[0]+$a(e,Na(e))}function La(e){for(var t,n,r,i=-1,a=e.length;++i<a;)t=e[i],n=t[0],r=t[1]-Io,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Ia(e){function t(t){function u(){g.push("M",s(e(v),f),c,l(e(m.reverse()),f),"Z")}for(var d,h,p,g=[],m=[],v=[],y=-1,b=t.length,x=Ee(n),w=Ee(i),$=n===r?function(){return h}:Ee(r),k=i===a?function(){return p}:Ee(a);++y<b;)o.call(this,d=t[y],y)?(m.push([h=+x.call(this,d,y),p=+w.call(this,d,y)]),v.push([+$.call(this,d,y),+k.call(this,d,y)])):m.length&&(u(),m=[],v=[]);return m.length&&u(),g.length?g.join(""):null}var n=Mn,r=Mn,i=0,a=Tn,o=Mt,s=pa,u=s.key,l=s,c="L",f=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=a=e,t):a},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(a=e,t):a},t.defined=function(e){return arguments.length?(o=e,t):o},t.interpolate=function(e){return arguments.length?(u="function"==typeof e?s=e:(s=Cu.get(e)||pa).key,l=s.reverse||s,c=s.closed?"M":"L",t):u},t.tension=function(e){return arguments.length?(f=e,t):f},t}function Ra(e){return e.radius}function Pa(e){return[e.x,e.y]}function ja(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Io;return[n*Math.cos(r),n*Math.sin(r)]}}function Fa(){return 64}function Ua(){return"circle"}function za(e){var t=Math.sqrt(e/No);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function qa(e){return function(){var t,n;(t=this[e])&&(n=t[t.active])&&(--t.count?delete t[t.active]:delete this[e],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Ha(e,t,n){return bo(e,Pu),e.namespace=t,e.id=n,e}function Ba(e,t,n,r){var i=e.id,a=e.namespace;return H(e,"function"==typeof n?function(e,o,s){e[a][i].tween.set(t,r(n.call(e,e.__data__,o,s)))}:(n=r(n),function(e){e[a][i].tween.set(t,n)}))}function Wa(e){return null==e&&(e=""),function(){this.textContent=e}}function Va(e){return null==e?"__transition__":"__transition_"+e+"__"}function Ya(e,t,n,r,i){var a=e[n]||(e[n]={active:0,count:0}),o=a[r];if(!o){var s=i.time;o=a[r]={tween:new l,time:s,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++a.count,to.timer(function(i){function u(n){if(a.active>r)return c();var i=a[a.active];i&&(--a.count,delete a[a.active],i.event&&i.event.interrupt.call(e,e.__data__,i.index)),a.active=r,o.event&&o.event.start.call(e,e.__data__,t),o.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&g.push(r)}),d=o.ease,f=o.duration,to.timer(function(){return p.c=l(n||1)?Mt:l,1},0,s)}function l(n){if(a.active!==r)return 1;for(var i=n/f,s=d(i),u=g.length;u>0;)g[--u].call(e,s);return i>=1?(o.event&&o.event.end.call(e,e.__data__,t),c()):void 0}function c(){return--a.count?delete a[r]:delete e[n],1}var f,d,h=o.delay,p=rs,g=[];return p.t=h+s,i>=h?u(i-h):void(p.c=u)},0,s)}}function Ga(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function Xa(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function Ka(e){return e.toISOString()}function Ja(e,t,n){function r(t){return e(t)}function i(e,n){var r=e[1]-e[0],i=r/n,a=to.bisect(Vu,i);return a==Vu.length?[t.year,Vi(e.map(function(e){return e/31536e6}),n)[2]]:a?t[i/Vu[a-1]<Vu[a]/i?a-1:a]:[Xu,Vi(e,n)[2]]}return r.invert=function(t){return Za(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(Za)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,Za(+n+1),t).length}var a=r.domain(),o=Pi(a),s=null==e?i(o,10):"number"==typeof e&&i(o,e);return s&&(e=s[0],t=s[1]),r.domain(Ui(a,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=Za(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=Za(+t+1);return t}}:e))},r.ticks=function(e,t){var n=Pi(r.domain()),a=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return a&&(e=a[0],t=a[1]),e.range(n[0],Za(+n[1]+1),1>t?1:t)},r.tickFormat=function(){return n},r.copy=function(){return Ja(e.copy(),t,n)},Bi(r,e)}function Za(e){return new Date(e)}function Qa(e){return JSON.parse(e.responseText)}function eo(e){var t=io.createRange();return t.selectNode(io.body),t.createContextualFragment(e.responseText)}var to={version:"3.5.6"},no=[].slice,ro=function(e){return no.call(e)},io=this.document;if(io)try{ro(io.documentElement.childNodes)[0].nodeType}catch(ao){ro=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),io)try{io.createElement("DIV").style.setProperty("opacity",0,"")}catch(oo){var so=this.Element.prototype,uo=so.setAttribute,lo=so.setAttributeNS,co=this.CSSStyleDeclaration.prototype,fo=co.setProperty;so.setAttribute=function(e,t){uo.call(this,e,t+"")},so.setAttributeNS=function(e,t,n){lo.call(this,e,t,n+"")},co.setProperty=function(e,t,n){fo.call(this,e,t+"",n)}}to.ascending=n,to.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:0/0},to.min=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},to.max=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},to.extent=function(e,t){var n,r,i,a=-1,o=e.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=e[a])&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=e[a])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++a<o;)if(null!=(r=t.call(e,e[a],a))&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=t.call(e,e[a],a))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},to.sum=function(e,t){var n,r=0,a=e.length,o=-1;if(1===arguments.length)for(;++o<a;)i(n=+e[o])&&(r+=n);else for(;++o<a;)i(n=+t.call(e,e[o],o))&&(r+=n);return r},to.mean=function(e,t){var n,a=0,o=e.length,s=-1,u=o;if(1===arguments.length)for(;++s<o;)i(n=r(e[s]))?a+=n:--u;else for(;++s<o;)i(n=r(t.call(e,e[s],s)))?a+=n:--u;return u?a/u:void 0},to.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],a=n-r;return a?i+a*(e[r]-i):i},to.median=function(e,t){var a,o=[],s=e.length,u=-1;if(1===arguments.length)for(;++u<s;)i(a=r(e[u]))&&o.push(a);else for(;++u<s;)i(a=r(t.call(e,e[u],u)))&&o.push(a);return o.length?to.quantile(o.sort(n),.5):void 0},to.variance=function(e,t){var n,a,o=e.length,s=0,u=0,l=-1,c=0;if(1===arguments.length)for(;++l<o;)i(n=r(e[l]))&&(a=n-s,s+=a/++c,u+=a*(n-s));else for(;++l<o;)i(n=r(t.call(e,e[l],l)))&&(a=n-s,s+=a/++c,u+=a*(n-s));return c>1?u/(c-1):void 0},to.deviation=function(){var e=to.variance.apply(this,arguments);return e?Math.sqrt(e):e};var ho=a(n);to.bisectLeft=ho.left,to.bisect=to.bisectRight=ho.right,to.bisector=function(e){return a(1===e.length?function(t,r){return n(e(t),r)}:e)},to.shuffle=function(e,t,n){(a=arguments.length)<3&&(n=e.length,2>a&&(t=0));for(var r,i,a=n-t;a;)i=Math.random()*a--|0,r=e[a+t],e[a+t]=e[i+t],e[i+t]=r;return e},to.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},to.pairs=function(e){for(var t,n=0,r=e.length-1,i=e[0],a=new Array(0>r?0:r);r>n;)a[n]=[t=i,i=e[++n]];return a},to.zip=function(){if(!(r=arguments.length))return[];for(var e=-1,t=to.min(arguments,o),n=new Array(t);++e<t;)for(var r,i=-1,a=n[e]=new Array(r);++i<r;)a[i]=arguments[i][e];return n},to.transpose=function(e){return to.zip.apply(to,e)},to.keys=function(e){var t=[];for(var n in e)t.push(n);return t},to.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},to.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},to.merge=function(e){for(var t,n,r,i=e.length,a=-1,o=0;++a<i;)o+=e[a].length;for(n=new Array(o);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--o]=r[t];return n};var po=Math.abs;to.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,i=[],a=s(po(n)),o=-1;if(e*=a,t*=a,n*=a,0>n)for(;(r=e+n*++o)>t;)i.push(r/a);else for(;(r=e+n*++o)<t;)i.push(r/a);return i},to.map=function(e,t){var n=new l;if(e instanceof l)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,i=-1,a=e.length;if(1===arguments.length)for(;++i<a;)n.set(i,e[i]);else for(;++i<a;)n.set(t.call(e,r=e[i],i),r)}else for(var o in e)n.set(o,e[o]);return n};var go="__proto__",mo="\x00";u(l,{has:d,get:function(e){return this._[c(e)]},set:function(e,t){return this._[c(e)]=t},remove:h,keys:p,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:f(t),value:this._[t]});return e},size:g,empty:m,forEach:function(e){for(var t in this._)e.call(this,f(t),this._[t])}}),to.nest=function(){function e(t,o,s){if(s>=a.length)return r?r.call(i,o):n?o.sort(n):o;for(var u,c,f,d,h=-1,p=o.length,g=a[s++],m=new l;++h<p;)(d=m.get(u=g(c=o[h])))?d.push(c):m.set(u,[c]);return t?(c=t(),f=function(n,r){c.set(n,e(t,r,s))}):(c={},f=function(n,r){c[n]=e(t,r,s)}),m.forEach(f),c}function t(e,n){if(n>=a.length)return e;var r=[],i=o[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),i?r.sort(function(e,t){return i(e.key,t.key)}):r}var n,r,i={},a=[],o=[];return i.map=function(t,n){return e(n,t,0)},i.entries=function(n){return t(e(to.map,n,0),0)},i.key=function(e){return a.push(e),i},i.sortKeys=function(e){return o[a.length-1]=e,i},i.sortValues=function(e){return n=e,i},i.rollup=function(e){return r=e,i},i},to.set=function(e){var t=new v;if(e)for(var n=0,r=e.length;r>n;++n)t.add(e[n]);return t},u(v,{has:d,add:function(e){return this._[c(e+="")]=!0,e},remove:h,values:p,size:g,empty:m,forEach:function(e){for(var t in this._)e.call(this,f(t))}}),to.behavior={},to.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=b(e,t,t[n]);return e};var vo=["webkit","ms","moz","Moz","o","O"];to.dispatch=function(){for(var e=new $,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=k(e);return e},$.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},to.event=null,to.requote=function(e){return e.replace(yo,"\\$&")};var yo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,bo={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},xo=function(e,t){return t.querySelector(e)},wo=function(e,t){return t.querySelectorAll(e)},$o=function(e,t){var n=e.matches||e[x(e,"matchesSelector")];return($o=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(xo=function(e,t){return Sizzle(e,t)[0]||null},wo=Sizzle,$o=Sizzle.matchesSelector),to.selection=function(){return to.select(io.documentElement)};var ko=to.selection.prototype=[];ko.select=function(e){var t,n,r,i,a=[];e=M(e);for(var o=-1,s=this.length;++o<s;){a.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(t.push(n=e.call(i,i.__data__,u,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return C(a)},ko.selectAll=function(e){var t,n,r=[];e=T(e);for(var i=-1,a=this.length;++i<a;)for(var o=this[i],s=-1,u=o.length;++s<u;)(n=o[s])&&(r.push(t=ro(e.call(n,n.__data__,s,i))),t.parentNode=n);return C(r)};var _o={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};to.ns={prefix:_o,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.slice(0,t),e=e.slice(t+1)),_o.hasOwnProperty(n)?{space:_o[n],local:e}:e}},ko.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=to.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(O(t,e[t]));return this}return this.each(O(e,t))},ko.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=D(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!N(e[i]).test(t))return!1;return!0}for(t in e)this.each(L(t,e[t]));return this}return this.each(L(e,t))},ko.style=function(e,n,r){var i=arguments.length;if(3>i){if("string"!=typeof e){2>i&&(n="");for(r in e)this.each(R(r,e[r],n));return this}if(2>i){var a=this.node();return t(a).getComputedStyle(a,null).getPropertyValue(e)}r=""}return this.each(R(e,n,r))},ko.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(P(t,e[t]));return this}return this.each(P(e,t))},ko.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},ko.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},ko.append=function(e){return e=j(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},ko.insert=function(e,t){return e=j(e),t=M(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},ko.remove=function(){return this.each(F)},ko.data=function(e,t){function n(e,n){var r,i,a,o=e.length,f=n.length,d=Math.min(o,f),h=new Array(f),p=new Array(f),g=new Array(o);if(t){var m,v=new l,y=new Array(o);for(r=-1;++r<o;)v.has(m=t.call(i=e[r],i.__data__,r))?g[r]=i:v.set(m,i),y[r]=m;for(r=-1;++r<f;)(i=v.get(m=t.call(n,a=n[r],r)))?i!==!0&&(h[r]=i,i.__data__=a):p[r]=U(a),v.set(m,!0);for(r=-1;++r<o;)v.get(y[r])!==!0&&(g[r]=e[r])}else{for(r=-1;++r<d;)i=e[r],a=n[r],i?(i.__data__=a,h[r]=i):p[r]=U(a);for(;f>r;++r)p[r]=U(n[r]);for(;o>r;++r)g[r]=e[r]}p.update=h,p.parentNode=h.parentNode=g.parentNode=e.parentNode,s.push(p),u.push(h),c.push(g)}var r,i,a=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(r=this[0]).length);++a<o;)(i=r[a])&&(e[a]=i.__data__);return e}var s=B([]),u=C([]),c=C([]);if("function"==typeof e)for(;++a<o;)n(r=this[a],e.call(r,r.parentNode.__data__,a));else for(;++a<o;)n(r=this[a],e);return u.enter=function(){return s},u.exit=function(){return c},u},ko.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},ko.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=z(e));for(var a=0,o=this.length;o>a;a++){i.push(t=[]),t.parentNode=(n=this[a]).parentNode;for(var s=0,u=n.length;u>s;s++)(r=n[s])&&e.call(r,r.__data__,s,a)&&t.push(r)}return C(i)},ko.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},ko.sort=function(e){e=q.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},ko.each=function(e){return H(this,function(t,n,r){e.call(t,t.__data__,n,r)})},ko.call=function(e){var t=ro(arguments);return e.apply(t[0]=this,t),this},ko.empty=function(){return!this.node()},ko.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],r=0,i=n.length;i>r;r++){var a=n[r];if(a)return a}return null},ko.size=function(){var e=0;return H(this,function(){++e}),e};var So=[];to.selection.enter=B,to.selection.enter.prototype=So,So.append=ko.append,So.empty=ko.empty,So.node=ko.node,So.call=ko.call,So.size=ko.size,So.select=function(e){for(var t,n,r,i,a,o=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(a=i[l])?(t.push(r[l]=n=e.call(i.parentNode,a.__data__,l,s)),n.__data__=a.__data__):t.push(null)}return C(o)},So.insert=function(e,t){return arguments.length<2&&(t=W(this)),ko.insert.call(this,e,t)},to.select=function(t){var n;return"string"==typeof t?(n=[xo(t,io)],n.parentNode=io.documentElement):(n=[t],n.parentNode=e(t)),C([n])},to.selectAll=function(e){var t;return"string"==typeof e?(t=ro(wo(e,io)),t.parentNode=io.documentElement):(t=e,t.parentNode=null),C([t])},ko.on=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t=!1);for(n in e)this.each(V(n,e[n],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(V(e,t,n))};var Eo=to.map({mouseenter:"mouseover",mouseleave:"mouseout"});io&&Eo.forEach(function(e){"on"+e in io&&Eo.remove(e)});var Co,Mo=0;to.mouse=function(e){return K(e,S())};var To=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;to.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=S().changedTouches),t)for(var r,i=0,a=t.length;a>i;++i)if((r=t[i]).identifier===n)return K(e,r)},to.behavior.drag=function(){function e(){this.on("mousedown.drag",a).on("touchstart.drag",o)}function n(e,t,n,a,o){return function(){function s(){var e,n,r=t(d,g);r&&(e=r[0]-b[0],n=r[1]-b[1],p|=e|n,b=r,h({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:e,dy:n}))}function u(){t(d,g)&&(v.on(a+m,null).on(o+m,null),y(p&&to.event.target===f),h({type:"dragend"}))}var l,c=this,f=to.event.target,d=c.parentNode,h=r.of(c,arguments),p=0,g=e(),m=".drag"+(null==g?"":"-"+g),v=to.select(n(f)).on(a+m,s).on(o+m,u),y=X(f),b=t(d,g);i?(l=i.apply(c,arguments),l=[l.x-b[0],l.y-b[1]]):l=[0,0],h({type:"dragstart"})}}var r=E(e,"drag","dragstart","dragend"),i=null,a=n(w,to.mouse,t,"mousemove","mouseup"),o=n(J,to.touch,y,"touchmove","touchend");return e.origin=function(t){return arguments.length?(i=t,e):i},to.rebind(e,r,"on")},to.touches=function(e,t){return arguments.length<2&&(t=S().touches),t?ro(t).map(function(t){var n=K(e,t);return n.identifier=t.identifier,n}):[]};var Oo=1e-6,Ao=Oo*Oo,No=Math.PI,Do=2*No,Lo=Do-Oo,Io=No/2,Ro=No/180,Po=180/No,jo=Math.SQRT2,Fo=2,Uo=4;to.interpolateZoom=function(e,t){function n(e){var t=e*y;if(v){var n=re(g),o=a/(Fo*d)*(n*ie(jo*t+g)-ne(g));return[r+o*l,i+o*c,a*n/re(jo*t+g)]}return[r+e*l,i+e*c,a*Math.exp(jo*t)]}var r=e[0],i=e[1],a=e[2],o=t[0],s=t[1],u=t[2],l=o-r,c=s-i,f=l*l+c*c,d=Math.sqrt(f),h=(u*u-a*a+Uo*f)/(2*a*Fo*d),p=(u*u-a*a-Uo*f)/(2*u*Fo*d),g=Math.log(Math.sqrt(h*h+1)-h),m=Math.log(Math.sqrt(p*p+1)-p),v=m-g,y=(v||Math.log(u/a))/jo;return n.duration=1e3*y,n},to.behavior.zoom=function(){function e(e){e.on(A,f).on(qo+".zoom",h).on("dblclick.zoom",p).on(L,d)}function n(e){return[(e[0]-S.x)/S.k,(e[1]-S.y)/S.k]}function r(e){return[e[0]*S.k+S.x,e[1]*S.k+S.y]}function i(e){S.k=Math.max(M[0],Math.min(M[1],e))}function a(e,t){t=r(t),S.x+=e[0]-t[0],S.y+=e[1]-t[1]}function o(t,n,r,o){t.__chart__={x:S.x,y:S.y,k:S.k},i(Math.pow(2,o)),a(m=n,r),t=to.select(t),T>0&&(t=t.transition().duration(T)),t.call(e.event)}function s(){w&&w.domain(x.range().map(function(e){return(e-S.x)/S.k}).map(x.invert)),k&&k.domain($.range().map(function(e){return(e-S.y)/S.k}).map($.invert))}function u(e){O++||e({type:"zoomstart"})}function l(e){s(),e({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function c(e){--O||(e({type:"zoomend"}),m=null)}function f(){function e(){f=1,a(to.mouse(i),h),l(s)}function r(){d.on(N,null).on(D,null),p(f&&to.event.target===o),c(s)}var i=this,o=to.event.target,s=I.of(i,arguments),f=0,d=to.select(t(i)).on(N,e).on(D,r),h=n(to.mouse(i)),p=X(i);Ru.call(i),u(s)}function d(){function e(){var e=to.touches(p);return h=S.k,e.forEach(function(e){e.identifier in m&&(m[e.identifier]=n(e))}),e}function t(){var t=to.event.target;to.select(t).on(x,r).on(w,s),$.push(t);for(var n=to.event.changedTouches,i=0,a=n.length;a>i;++i)m[n[i].identifier]=null;var u=e(),l=Date.now();if(1===u.length){if(500>l-b){var c=u[0];o(p,c,m[c.identifier],Math.floor(Math.log(S.k)/Math.LN2)+1),_()}b=l}else if(u.length>1){var c=u[0],f=u[1],d=c[0]-f[0],h=c[1]-f[1];v=d*d+h*h}}function r(){var e,t,n,r,o=to.touches(p);Ru.call(p);for(var s=0,u=o.length;u>s;++s,r=null)if(n=o[s],r=m[n.identifier]){if(t)break;e=n,t=r}if(r){var c=(c=n[0]-e[0])*c+(c=n[1]-e[1])*c,f=v&&Math.sqrt(c/v);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],i(f*h)}b=null,a(e,t),l(g)}function s(){if(to.event.touches.length){for(var t=to.event.changedTouches,n=0,r=t.length;r>n;++n)delete m[t[n].identifier];for(var i in m)return void e()}to.selectAll($).on(y,null),k.on(A,f).on(L,d),E(),c(g)}var h,p=this,g=I.of(p,arguments),m={},v=0,y=".zoom-"+to.event.changedTouches[0].identifier,x="touchmove"+y,w="touchend"+y,$=[],k=to.select(p),E=X(p);t(),u(g),k.on(A,null).on(L,t)}function h(){var e=I.of(this,arguments);y?clearTimeout(y):(Ru.call(this),g=n(m=v||to.mouse(this)),u(e)),y=setTimeout(function(){y=null,c(e)},50),_(),i(Math.pow(2,.002*zo())*S.k),a(m,g),l(e)}function p(){var e=to.mouse(this),t=Math.log(S.k)/Math.LN2;o(this,e,n(e),to.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var g,m,v,y,b,x,w,$,k,S={x:0,y:0,k:1},C=[960,500],M=Ho,T=250,O=0,A="mousedown.zoom",N="mousemove.zoom",D="mouseup.zoom",L="touchstart.zoom",I=E(e,"zoomstart","zoom","zoomend");return qo||(qo="onwheel"in io?(zo=function(){return-to.event.deltaY*(to.event.deltaMode?120:1)},"wheel"):"onmousewheel"in io?(zo=function(){return to.event.wheelDelta},"mousewheel"):(zo=function(){return-to.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=I.of(this,arguments),t=S;Lu?to.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},u(e)}).tween("zoom:zoom",function(){var n=C[0],r=C[1],i=m?m[0]:n/2,a=m?m[1]:r/2,o=to.interpolateZoom([(i-S.x)/S.k,(a-S.y)/S.k,n/S.k],[(i-t.x)/t.k,(a-t.y)/t.k,n/t.k]);return function(t){var r=o(t),s=n/r[2];this.__chart__=S={x:i-r[0]*s,y:a-r[1]*s,k:s},l(e)}}).each("interrupt.zoom",function(){c(e)}).each("end.zoom",function(){c(e)}):(this.__chart__=S,u(e),l(e),c(e))})},e.translate=function(t){return arguments.length?(S={x:+t[0],y:+t[1],k:S.k},s(),e):[S.x,S.y]},e.scale=function(t){return arguments.length?(S={x:S.x,y:S.y,k:+t},s(),e):S.k},e.scaleExtent=function(t){return arguments.length?(M=null==t?Ho:[+t[0],+t[1]],e):M},e.center=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],e):v},e.size=function(t){return arguments.length?(C=t&&[+t[0],+t[1]],e):C},e.duration=function(t){return arguments.length?(T=+t,e):T},e.x=function(t){return arguments.length?(w=t,x=t.copy(),S={x:0,y:0,k:1},e):w},e.y=function(t){return arguments.length?(k=t,$=t.copy(),S={x:0,y:0,k:1},e):k},to.rebind(e,I,"on")};var zo,qo,Ho=[0,1/0];to.color=oe,oe.prototype.toString=function(){return this.rgb()+""},to.hsl=se;var Bo=se.prototype=new oe;Bo.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new se(this.h,this.s,this.l/e)},Bo.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new se(this.h,this.s,e*this.l)},Bo.rgb=function(){return ue(this.h,this.s,this.l)},to.hcl=le;var Wo=le.prototype=new oe;Wo.brighter=function(e){return new le(this.h,this.c,Math.min(100,this.l+Vo*(arguments.length?e:1)))},Wo.darker=function(e){return new le(this.h,this.c,Math.max(0,this.l-Vo*(arguments.length?e:1)))},Wo.rgb=function(){return ce(this.h,this.c,this.l).rgb()},to.lab=fe;var Vo=18,Yo=.95047,Go=1,Xo=1.08883,Ko=fe.prototype=new oe;Ko.brighter=function(e){return new fe(Math.min(100,this.l+Vo*(arguments.length?e:1)),this.a,this.b)},Ko.darker=function(e){return new fe(Math.max(0,this.l-Vo*(arguments.length?e:1)),this.a,this.b)},Ko.rgb=function(){return de(this.l,this.a,this.b)},to.rgb=ve;var Jo=ve.prototype=new oe;Jo.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&i>t&&(t=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new ve(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new ve(i,i,i)},Jo.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new ve(e*this.r,e*this.g,e*this.b)},Jo.hsl=function(){return $e(this.r,this.g,this.b)},Jo.toString=function(){return"#"+xe(this.r)+xe(this.g)+xe(this.b)};var Zo=to.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Zo.forEach(function(e,t){Zo.set(e,ye(t))}),to.functor=Ee,to.xhr=Ce(y),to.dsv=function(e,t){function n(e,n,a){arguments.length<3&&(a=n,n=null);var o=Me(e,t,null==n?r:i(n),a);return o.row=function(e){return arguments.length?o.response(null==(n=e)?r:i(e)):n},o}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function a(t){return t.map(o).join(e)}function o(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(c>=l)return o;if(i)return i=!1,a;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&++c):10===r&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;l>c;){var r=e.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(c)&&(++c,++s);else if(r!==u)continue;return e.slice(t,c-s)}return e.slice(t)}for(var r,i,a={},o={},s=[],l=e.length,c=0,f=0;(r=n())!==o;){for(var d=[];r!==a&&r!==o;)d.push(r),r=n();t&&null==(d=t(d,f++))||s.push(d)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new v,i=[];return t.forEach(function(e){for(var t in e)r.has(t)||i.push(r.add(t))}),[i.map(o).join(e)].concat(t.map(function(t){return i.map(function(e){return o(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(a).join("\n")},n},to.csv=to.dsv(",","text/csv"),to.tsv=to.dsv("	","text/tab-separated-values");var Qo,es,ts,ns,rs,is=this[x(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};to.timer=function(e,t,n){var r=arguments.length;2>r&&(t=0),3>r&&(n=Date.now());var i=n+t,a={c:e,t:i,f:!1,n:null};es?es.n=a:Qo=a,es=a,ts||(ns=clearTimeout(ns),ts=1,is(Ae))},to.timer.flush=function(){Ne(),De()},to.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var as=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ie);to.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=to.round(e,Le(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),as[8+n/3]};var os=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ss=to.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=to.round(e,Le(e,t))).toFixed(Math.max(0,Math.min(20,Le(e*(1+1e-15),t))))}}),us=to.time={},ls=Date;je.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){cs.setUTCDate.apply(this._,arguments)},setDay:function(){cs.setUTCDay.apply(this._,arguments)},setFullYear:function(){cs.setUTCFullYear.apply(this._,arguments)},setHours:function(){cs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){cs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){cs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){cs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){cs.setUTCSeconds.apply(this._,arguments);

},setTime:function(){cs.setTime.apply(this._,arguments)}};var cs=Date.prototype;us.year=Fe(function(e){return e=us.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),us.years=us.year.range,us.years.utc=us.year.utc.range,us.day=Fe(function(e){var t=new ls(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),us.days=us.day.range,us.days.utc=us.day.utc.range,us.dayOfYear=function(e){var t=us.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=us[e]=Fe(function(e){return(e=us.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=us.year(e).getDay();return Math.floor((us.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});us[e+"s"]=n.range,us[e+"s"].utc=n.utc.range,us[e+"OfYear"]=function(e){var n=us.year(e).getDay();return Math.floor((us.dayOfYear(e)+(n+t)%7)/7)}}),us.week=us.sunday,us.weeks=us.sunday.range,us.weeks.utc=us.sunday.utc.range,us.weekOfYear=us.sundayOfYear;var fs={"-":"",_:" ",0:"0"},ds=/^\s*\d+/,hs=/^%/;to.locale=function(e){return{numberFormat:Re(e),timeFormat:ze(e)}};var ps=to.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});to.format=ps.numberFormat,to.geo={},ut.prototype={s:0,t:0,add:function(e){lt(e,this.t,gs),lt(gs.s,this.s,this),this.s?this.t+=gs.t:this.s=gs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var gs=new ut;to.geo.stream=function(e,t){e&&ms.hasOwnProperty(e.type)?ms[e.type](e,t):ct(e,t)};var ms={Feature:function(e,t){ct(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)ct(n[r].geometry,t)}},vs={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){ft(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ft(n[r],t,0)},Polygon:function(e,t){dt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)dt(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)ct(n[r],t)}};to.geo.area=function(e){return ys=0,to.geo.stream(e,xs),ys};var ys,bs=new ut,xs={sphere:function(){ys+=4*No},point:w,lineStart:w,lineEnd:w,polygonStart:function(){bs.reset(),xs.lineStart=ht},polygonEnd:function(){var e=2*bs;ys+=0>e?4*No+e:e,xs.lineStart=xs.lineEnd=xs.point=w}};to.geo.bounds=function(){function e(e,t){b.push(x=[c=e,d=e]),f>t&&(f=t),t>h&&(h=t)}function t(t,n){var r=pt([t*Ro,n*Ro]);if(v){var i=mt(v,r),a=[i[1],-i[0],0],o=mt(a,i);bt(o),o=xt(o);var u=t-p,l=u>0?1:-1,g=o[0]*Po*l,m=po(u)>180;if(m^(g>l*p&&l*t>g)){var y=o[1]*Po;y>h&&(h=y)}else if(g=(g+360)%360-180,m^(g>l*p&&l*t>g)){var y=-o[1]*Po;f>y&&(f=y)}else f>n&&(f=n),n>h&&(h=n);m?p>t?s(c,t)>s(c,d)&&(d=t):s(t,d)>s(c,d)&&(c=t):d>=c?(c>t&&(c=t),t>d&&(d=t)):t>p?s(c,t)>s(c,d)&&(d=t):s(t,d)>s(c,d)&&(c=t)}else e(t,n);v=r,p=t}function n(){w.point=t}function r(){x[0]=c,x[1]=d,w.point=e,v=null}function i(e,n){if(v){var r=e-p;y+=po(r)>180?r+(r>0?360:-360):r}else g=e,m=n;xs.point(e,n),t(e,n)}function a(){xs.lineStart()}function o(){i(g,m),xs.lineEnd(),po(y)>Oo&&(c=-(d=180)),x[0]=c,x[1]=d,v=null}function s(e,t){return(t-=e)<0?t+360:t}function u(e,t){return e[0]-t[0]}function l(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var c,f,d,h,p,g,m,v,y,b,x,w={point:e,lineStart:n,lineEnd:r,polygonStart:function(){w.point=i,w.lineStart=a,w.lineEnd=o,y=0,xs.polygonStart()},polygonEnd:function(){xs.polygonEnd(),w.point=e,w.lineStart=n,w.lineEnd=r,0>bs?(c=-(d=180),f=-(h=90)):y>Oo?h=90:-Oo>y&&(f=-90),x[0]=c,x[1]=d}};return function(e){h=d=-(c=f=1/0),b=[],to.geo.stream(e,w);var t=b.length;if(t){b.sort(u);for(var n,r=1,i=b[0],a=[i];t>r;++r)n=b[r],l(n[0],i)||l(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):a.push(i=n);for(var o,n,p=-(1/0),t=a.length-1,r=0,i=a[t];t>=r;i=n,++r)n=a[r],(o=s(i[1],n[0]))>p&&(p=o,c=n[0],d=i[1])}return b=x=null,c===1/0||f===1/0?[[0/0,0/0],[0/0,0/0]]:[[c,f],[d,h]]}}(),to.geo.centroid=function(e){ws=$s=ks=_s=Ss=Es=Cs=Ms=Ts=Os=As=0,to.geo.stream(e,Ns);var t=Ts,n=Os,r=As,i=t*t+n*n+r*r;return Ao>i&&(t=Es,n=Cs,r=Ms,Oo>$s&&(t=ks,n=_s,r=Ss),i=t*t+n*n+r*r,Ao>i)?[0/0,0/0]:[Math.atan2(n,t)*Po,te(r/Math.sqrt(i))*Po]};var ws,$s,ks,_s,Ss,Es,Cs,Ms,Ts,Os,As,Ns={sphere:w,point:$t,lineStart:_t,lineEnd:St,polygonStart:function(){Ns.lineStart=Et},polygonEnd:function(){Ns.lineStart=_t}},Ds=Nt(Mt,Rt,jt,[-No,-No/2]),Ls=1e9;to.geo.clipExtent=function(){var e,t,n,r,i,a,o={stream:function(e){return i&&(i.valid=!1),i=a(e),i.valid=!0,i},extent:function(s){return arguments.length?(a=qt(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),o):[[e,t],[n,r]]}};return o.extent([[0,0],[960,500]])},(to.geo.conicEqualArea=function(){return Ht(Bt)}).raw=Bt,to.geo.albers=function(){return to.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},to.geo.albersUsa=function(){function e(e){var a=e[0],o=e[1];return t=null,n(a,o),t||(r(a,o),t)||i(a,o),t}var t,n,r,i,a=to.geo.albers(),o=to.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=to.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?o:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:a).invert(e)},e.stream=function(e){var t=a.stream(e),n=o.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(a.precision(t),o.precision(t),s.precision(t),e):a.precision()},e.scale=function(t){return arguments.length?(a.scale(t),o.scale(.35*t),s.scale(t),e.translate(a.translate())):a.scale()},e.translate=function(t){if(!arguments.length)return a.translate();var l=a.scale(),c=+t[0],f=+t[1];return n=a.translate(t).clipExtent([[c-.455*l,f-.238*l],[c+.455*l,f+.238*l]]).stream(u).point,r=o.translate([c-.307*l,f+.201*l]).clipExtent([[c-.425*l+Oo,f+.12*l+Oo],[c-.214*l-Oo,f+.234*l-Oo]]).stream(u).point,i=s.translate([c-.205*l,f+.212*l]).clipExtent([[c-.214*l+Oo,f+.166*l+Oo],[c-.115*l-Oo,f+.234*l-Oo]]).stream(u).point,e},e.scale(1070)};var Is,Rs,Ps,js,Fs,Us,zs={point:w,lineStart:w,lineEnd:w,polygonStart:function(){Rs=0,zs.lineStart=Wt},polygonEnd:function(){zs.lineStart=zs.lineEnd=zs.point=w,Is+=po(Rs/2)}},qs={point:Vt,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},Hs={point:Xt,lineStart:Kt,lineEnd:Jt,polygonStart:function(){Hs.lineStart=Zt},polygonEnd:function(){Hs.point=Xt,Hs.lineStart=Kt,Hs.lineEnd=Jt}};to.geo.path=function(){function e(e){return e&&("function"==typeof s&&a.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=i(a)),to.geo.stream(e,o)),a.result()}function t(){return o=null,e}var n,r,i,a,o,s=4.5;return e.area=function(e){return Is=0,to.geo.stream(e,i(zs)),Is},e.centroid=function(e){return ks=_s=Ss=Es=Cs=Ms=Ts=Os=As=0,to.geo.stream(e,i(Hs)),As?[Ts/As,Os/As]:Ms?[Es/Ms,Cs/Ms]:Ss?[ks/Ss,_s/Ss]:[0/0,0/0]},e.bounds=function(e){return Fs=Us=-(Ps=js=1/0),to.geo.stream(e,i(qs)),[[Ps,js],[Fs,Us]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||tn(e):y,t()):n},e.context=function(e){return arguments.length?(a=null==(r=e)?new Yt:new Qt(e),"function"!=typeof s&&a.pointRadius(s),t()):r},e.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(a.pointRadius(+t),+t),e):s},e.projection(to.geo.albersUsa()).context(null)},to.geo.transform=function(e){return{stream:function(t){var n=new nn(t);for(var r in e)n[r]=e[r];return n}}},nn.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},to.geo.projection=an,to.geo.projectionMutator=on,(to.geo.equirectangular=function(){return an(un)}).raw=un.invert=un,to.geo.rotation=function(e){function t(t){return t=e(t[0]*Ro,t[1]*Ro),t[0]*=Po,t[1]*=Po,t}return e=cn(e[0]%360*Ro,e[1]*Ro,e.length>2?e[2]*Ro:0),t.invert=function(t){return t=e.invert(t[0]*Ro,t[1]*Ro),t[0]*=Po,t[1]*=Po,t},t},ln.invert=un,to.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=cn(-e[0]*Ro,-e[1]*Ro,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=Po,e[1]*=Po}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=pn((t=+r)*Ro,i*Ro),e):t},e.precision=function(r){return arguments.length?(n=pn(t*Ro,(i=+r)*Ro),e):i},e.angle(90)},to.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Ro,i=e[1]*Ro,a=t[1]*Ro,o=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(a),f=Math.cos(a);return Math.atan2(Math.sqrt((n=f*o)*n+(n=l*c-u*f*s)*n),u*c+l*f*s)},to.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return to.range(Math.ceil(a/m)*m,i,m).map(d).concat(to.range(Math.ceil(l/v)*v,u,v).map(h)).concat(to.range(Math.ceil(r/p)*p,n,p).filter(function(e){return po(e%m)>Oo}).map(c)).concat(to.range(Math.ceil(s/g)*g,o,g).filter(function(e){return po(e%v)>Oo}).map(f))}var n,r,i,a,o,s,u,l,c,f,d,h,p=10,g=p,m=90,v=360,y=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[d(a).concat(h(u).slice(1),d(i).reverse().slice(1),h(l).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(a=+t[0][0],i=+t[1][0],l=+t[0][1],u=+t[1][1],a>i&&(t=a,a=i,i=t),l>u&&(t=l,l=u,u=t),e.precision(y)):[[a,l],[i,u]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),s>o&&(t=s,s=o,o=t),e.precision(y)):[[r,s],[n,o]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(m=+t[0],v=+t[1],e):[m,v]},e.minorStep=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(y=+t,c=mn(s,o,90),f=vn(r,n,y),d=mn(l,u,90),h=vn(a,i,y),e):y},e.majorExtent([[-180,-90+Oo],[180,90-Oo]]).minorExtent([[-180,-80-Oo],[180,80+Oo]])},to.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=yn,i=bn;return e.distance=function(){return to.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},to.geo.interpolate=function(e,t){return xn(e[0]*Ro,e[1]*Ro,t[0]*Ro,t[1]*Ro)},to.geo.length=function(e){return Bs=0,to.geo.stream(e,Ws),Bs};var Bs,Ws={sphere:w,point:w,lineStart:wn,lineEnd:w,polygonStart:w,polygonEnd:w},Vs=$n(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(to.geo.azimuthalEqualArea=function(){return an(Vs)}).raw=Vs;var Ys=$n(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},y);(to.geo.azimuthalEquidistant=function(){return an(Ys)}).raw=Ys,(to.geo.conicConformal=function(){return Ht(kn)}).raw=kn,(to.geo.conicEquidistant=function(){return Ht(_n)}).raw=_n;var Gs=$n(function(e){return 1/e},Math.atan);(to.geo.gnomonic=function(){return an(Gs)}).raw=Gs,Sn.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Io]},(to.geo.mercator=function(){return En(Sn)}).raw=Sn;var Xs=$n(function(){return 1},Math.asin);(to.geo.orthographic=function(){return an(Xs)}).raw=Xs;var Ks=$n(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(to.geo.stereographic=function(){return an(Ks)}).raw=Ks,Cn.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Io]},(to.geo.transverseMercator=function(){var e=En(Cn),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=Cn,to.geom={},to.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=Ee(n),a=Ee(r),o=e.length,s=[],u=[];for(t=0;o>t;t++)s.push([+i.call(this,e[t],t),+a.call(this,e[t],t),t]);for(s.sort(An),t=0;o>t;t++)u.push([s[t][0],-s[t][1]]);var l=On(s),c=On(u),f=c[0]===l[0],d=c[c.length-1]===l[l.length-1],h=[];for(t=l.length-1;t>=0;--t)h.push(e[s[l[t]][2]]);for(t=+f;t<c.length-d;++t)h.push(e[s[c[t]][2]]);return h}var n=Mn,r=Tn;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},to.geom.polygon=function(e){return bo(e,Js),e};var Js=to.geom.polygon.prototype=[];Js.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},Js.centroid=function(e){var t,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],a+=(t[0]+s[0])*n,o+=(t[1]+s[1])*n;return[a*e,o*e]},Js.clip=function(e){for(var t,n,r,i,a,o,s=Ln(e),u=-1,l=this.length-Ln(this),c=this[l-1];++u<l;){for(t=e.slice(),e.length=0,i=this[u],a=t[(r=t.length-s)-1],n=-1;++n<r;)o=t[n],Nn(o,c,i)?(Nn(a,c,i)||e.push(Dn(a,o,c,i)),e.push(o)):Nn(a,c,i)&&e.push(Dn(a,o,c,i)),a=o;s&&e.push(e[0]),c=i}return e};var Zs,Qs,eu,tu,nu,ru=[],iu=[];qn.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Bn),t.length},er.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},tr.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=ar(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(rr(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ir(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(ir(this,n),e=n,n=e.U),n.C=!1,r.C=!0,rr(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,a=e.L,o=e.R;if(n=a?o?ar(o):a:o,i?i.L===e?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=e.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=o,o.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,rr(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ir(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,rr(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,ir(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,rr(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ir(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},to.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=s[0][0],i=s[0][1],a=s[1][0],o=s[1][1];return or(n(e),s).cells.forEach(function(n,s){var u=n.edges,l=n.site,c=t[s]=u.length?u.map(function(e){var t=e.start();return[t.x,t.y]}):l.x>=r&&l.x<=a&&l.y>=i&&l.y<=o?[[r,o],[a,o],[a,i],[r,i]]:[];c.point=e[s]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(a(e,t)/Oo)*Oo,y:Math.round(o(e,t)/Oo)*Oo,i:t}})}var r=Mn,i=Tn,a=r,o=i,s=au;return e?t(e):(t.links=function(e){return or(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return or(n(e)).cells.forEach(function(n,r){for(var i,a,o=n.site,s=n.edges.sort(Bn),u=-1,l=s.length,c=s[l-1].edge,f=c.l===o?c.r:c.l;++u<l;)i=c,a=f,c=s[u].edge,f=c.l===o?c.r:c.l,r<a.i&&r<f.i&&ur(o,a,f)<0&&t.push([e[r],e[a.i],e[f.i]])}),t},t.x=function(e){return arguments.length?(a=Ee(r=e),t):r},t.y=function(e){return arguments.length?(o=Ee(i=e),t):i},t.clipExtent=function(e){return arguments.length?(s=null==e?au:e,t):s===au?null:s},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):s===au?null:s&&s[1]},t)};var au=[[-1e6,-1e6],[1e6,1e6]];to.geom.delaunay=function(e){return to.geom.voronoi().triangles(e)},to.geom.quadtree=function(e,t,n,r,i){function a(e){function a(e,t,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var u=e.x,c=e.y;if(null!=u)if(po(u-n)+po(c-r)<.01)l(e,t,n,r,i,a,o,s);else{var f=e.point;e.x=e.y=e.point=null,l(e,f,u,c,i,a,o,s),l(e,t,n,r,i,a,o,s)}else e.x=n,e.y=r,e.point=t}else l(e,t,n,r,i,a,o,s)}function l(e,t,n,r,i,o,s,u){var l=.5*(i+s),c=.5*(o+u),f=n>=l,d=r>=c,h=d<<1|f;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]=fr()),f?i=l:s=l,d?o=c:u=c,a(e,t,n,r,i,o,s,u)}var c,f,d,h,p,g,m,v,y,b=Ee(s),x=Ee(u);if(null!=t)g=t,m=n,v=r,y=i;else if(v=y=-(g=m=1/0),f=[],d=[],p=e.length,o)for(h=0;p>h;++h)c=e[h],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),f.push(c.x),d.push(c.y);else for(h=0;p>h;++h){var w=+b(c=e[h],h),$=+x(c,h);g>w&&(g=w),m>$&&(m=$),w>v&&(v=w),$>y&&(y=$),f.push(w),d.push($)}var k=v-g,_=y-m;k>_?y=m+k:v=g+_;var S=fr();if(S.add=function(e){a(S,e,+b(e,++h),+x(e,h),g,m,v,y)},S.visit=function(e){dr(e,S,g,m,v,y)},S.find=function(e){return hr(S,e[0],e[1],g,m,v,y)},h=-1,null==t){for(;++h<p;)a(S,e[h],f[h],d[h],g,m,v,y);--h}else e.forEach(S.add);return f=d=e=c=null,S}var o,s=Mn,u=Tn;return(o=arguments.length)?(s=lr,u=cr,3===o&&(i=n,r=t,n=t=0),a(e)):(a.x=function(e){return arguments.length?(s=e,a):s},a.y=function(e){return arguments.length?(u=e,a):u},a.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),a):null==t?null:[[t,n],[r,i]]},a.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),a):null==t?null:[r-t,i-n]},a)},to.interpolateRgb=pr,to.interpolateObject=gr,to.interpolateNumber=mr,to.interpolateString=vr;var ou=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,su=new RegExp(ou.source,"g");to.interpolate=yr,to.interpolators=[function(e,t){var n=typeof t;return("string"===n?Zo.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?pr:vr:t instanceof oe?pr:Array.isArray(t)?br:"object"===n&&isNaN(t)?gr:mr)(e,t)}],to.interpolateArray=br;var uu=function(){return y},lu=to.map({linear:uu,poly:Er,quad:function(){return kr},cubic:function(){return _r},sin:function(){return Cr},exp:function(){return Mr},circle:function(){return Tr},elastic:Or,back:Ar,bounce:function(){return Nr}}),cu=to.map({"in":y,out:wr,"in-out":$r,"out-in":function(e){return $r(wr(e))}});to.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=lu.get(n)||uu,r=cu.get(r)||y,xr(r(n.apply(null,no.call(arguments,1))))},to.interpolateHcl=Dr,to.interpolateHsl=Lr,to.interpolateLab=Ir,to.interpolateRound=Rr,to.transform=function(e){var t=io.createElementNS(to.ns.prefix.svg,"g");return(to.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Pr(n?n.matrix:fu)})(e)},Pr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var fu={a:1,b:0,c:0,d:1,e:0,f:0};to.interpolateTransform=zr,to.layout={},to.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Br(e[n]));return t}},to.layout.chord=function(){function e(){var e,l,f,d,h,p={},g=[],m=to.range(a),v=[];for(n=[],r=[],e=0,d=-1;++d<a;){for(l=0,h=-1;++h<a;)l+=i[d][h];g.push(l),v.push(to.range(a)),e+=l}for(o&&m.sort(function(e,t){return o(g[e],g[t])}),s&&v.forEach(function(e,t){e.sort(function(e,n){return s(i[t][e],i[t][n])})}),e=(Do-c*a)/e,l=0,d=-1;++d<a;){for(f=l,h=-1;++h<a;){var y=m[d],b=v[y][h],x=i[y][b],w=l,$=l+=x*e;p[y+"-"+b]={index:y,subindex:b,startAngle:w,endAngle:$,value:x}}r[y]={index:y,startAngle:f,endAngle:l,value:(l-f)/e},l+=c}for(d=-1;++d<a;)for(h=d-1;++h<a;){var k=p[d+"-"+h],_=p[h+"-"+d];(k.value||_.value)&&n.push(k.value<_.value?{source:_,target:k}:{source:k,target:_})}u&&t()}function t(){n.sort(function(e,t){return u((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,a,o,s,u,l={},c=0;return l.matrix=function(e){return arguments.length?(a=(i=e)&&i.length,n=r=null,l):i},l.padding=function(e){return arguments.length?(c=e,n=r=null,l):c},l.sortGroups=function(e){return arguments.length?(o=e,n=r=null,l):o},l.sortSubgroups=function(e){return arguments.length?(s=e,n=null,l):s},l.sortChords=function(e){return arguments.length?(u=e,n&&t(),l):u},l.chords=function(){return n||e(),n},l.groups=function(){return r||e(),r},l},to.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var a=t.cx-e.x,o=t.cy-e.y,s=i-n,u=a*a+o*o;if(u>s*s/m){if(p>u){var l=t.charge/u;e.px-=a*l,e.py-=o*l}return!0}if(t.point&&u&&p>u){var l=t.pointCharge/u;e.px-=a*l,e.py-=o*l}}return!t.charge}}function t(e){e.px=to.event.x,e.py=to.event.y,s.resume()}var n,r,i,a,o,s={},u=to.dispatch("start","tick","end"),l=[1,1],c=.9,f=du,d=hu,h=-30,p=pu,g=.1,m=.64,v=[],b=[];return s.tick=function(){if((r*=.99)<.005)return u.end({type:"end",alpha:r=0}),!0;var t,n,s,f,d,p,m,y,x,w=v.length,$=b.length;for(n=0;$>n;++n)s=b[n],f=s.source,d=s.target,y=d.x-f.x,x=d.y-f.y,(p=y*y+x*x)&&(p=r*a[n]*((p=Math.sqrt(p))-i[n])/p,y*=p,x*=p,d.x-=y*(m=f.weight/(d.weight+f.weight)),d.y-=x*m,f.x+=y*(m=1-m),f.y+=x*m);if((m=r*g)&&(y=l[0]/2,x=l[1]/2,n=-1,m))for(;++n<w;)s=v[n],s.x+=(y-s.x)*m,s.y+=(x-s.y)*m;if(h)for(Jr(t=to.geom.quadtree(v),r,o),n=-1;++n<w;)(s=v[n]).fixed||t.visit(e(s));for(n=-1;++n<w;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);u.tick({type:"tick",alpha:r})},s.nodes=function(e){return arguments.length?(v=e,s):v},s.links=function(e){return arguments.length?(b=e,s):b},s.size=function(e){return arguments.length?(l=e,s):l},s.linkDistance=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.friction=function(e){return arguments.length?(c=+e,s):c},s.charge=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.chargeDistance=function(e){return arguments.length?(p=e*e,s):Math.sqrt(p)},s.gravity=function(e){return arguments.length?(g=+e,s):g},s.theta=function(e){return arguments.length?(m=e*e,s):Math.sqrt(m)},s.alpha=function(e){return arguments.length?(e=+e,r?r=e>0?e:0:e>0&&(u.start({type:"start",alpha:r=e}),to.timer(s.tick)),s):r},s.start=function(){function e(e,r){if(!n){for(n=new Array(u),s=0;u>s;++s)n[s]=[];for(s=0;c>s;++s){var i=b[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var a,o=n[t],s=-1,l=o.length;++s<l;)if(!isNaN(a=o[s][e]))return a;return Math.random()*r}var t,n,r,u=v.length,c=b.length,p=l[0],g=l[1];for(t=0;u>t;++t)(r=v[t]).index=t,r.weight=0;for(t=0;c>t;++t)r=b[t],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(t=0;u>t;++t)r=v[t],isNaN(r.x)&&(r.x=e("x",p)),isNaN(r.y)&&(r.y=e("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof f)for(t=0;c>t;++t)i[t]=+f.call(this,b[t],t);else for(t=0;c>t;++t)i[t]=f;if(a=[],"function"==typeof d)for(t=0;c>t;++t)a[t]=+d.call(this,b[t],t);else for(t=0;c>t;++t)a[t]=d;if(o=[],"function"==typeof h)for(t=0;u>t;++t)o[t]=+h.call(this,v[t],t);else for(t=0;u>t;++t)o[t]=h;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=to.behavior.drag().origin(y).on("dragstart.force",Yr).on("drag.force",t).on("dragend.force",Gr)),arguments.length?void this.on("mouseover.force",Xr).on("mouseout.force",Kr).call(n):n},to.rebind(s,u,"on")};var du=20,hu=1,pu=1/0;to.layout.hierarchy=function(){function e(i){var a,o=[i],s=[];for(i.depth=0;null!=(a=o.pop());)if(s.push(a),(l=n.call(e,a,a.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)o.push(c=l[u]),c.parent=a,c.depth=a.depth+1;r&&(a.value=0),a.children=l}else r&&(a.value=+r.call(e,a,a.depth)||0),delete a.children;return ei(i,function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)}),s}var t=ri,n=ti,r=ni;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(Qr(t,function(e){e.children&&(e.value=0)}),ei(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},to.layout.partition=function(){function e(t,n,r,i){var a=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,a&&(o=a.length)){var o,s,u,l=-1;for(r=t.value?r/t.value:0;++l<o;)e(s=a[l],n,u=s.value*r,i),n+=u}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,a=-1;++a<i;)r=Math.max(r,t(n[a]));return 1+r}function n(n,a){var o=r.call(this,n,a);return e(o[0],0,i[0],i[1]/t(o[0])),o}var r=to.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},Zr(n,r)},to.layout.pie=function(){function e(o){var s,u=o.length,l=o.map(function(n,r){return+t.call(e,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof i?i.apply(this,arguments):i)-c,d=Math.min(Math.abs(f)/u,+("function"==typeof a?a.apply(this,arguments):a)),h=d*(0>f?-1:1),p=(f-u*h)/to.sum(l),g=to.range(u),m=[];return null!=n&&g.sort(n===gu?function(e,t){return l[t]-l[e]}:function(e,t){return n(o[e],o[t])}),g.forEach(function(e){m[e]={data:o[e],value:s=l[e],startAngle:c,endAngle:c+=s*p+h,padAngle:d}}),m}var t=Number,n=gu,r=0,i=Do,a=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e.padAngle=function(t){return arguments.length?(a=t,e):a},e};var gu={};to.layout.stack=function(){function e(s,u){if(!(d=s.length))return s;var l=s.map(function(n,r){return t.call(e,n,r)}),c=l.map(function(t){return t.map(function(t,n){return[a.call(e,t,n),o.call(e,t,n)]})}),f=n.call(e,c,u);l=to.permute(l,f),c=to.permute(c,f);var d,h,p,g,m=r.call(e,c,u),v=l[0].length;for(p=0;v>p;++p)for(i.call(e,l[0][p],g=m[p],c[0][p][1]),h=1;d>h;++h)i.call(e,l[h][p],g+=c[h-1][p][1],c[h][p][1]);return s}var t=y,n=ui,r=li,i=si,a=ai,o=oi;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:mu.get(t)||ui,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:vu.get(t)||li,e):r},e.x=function(t){return arguments.length?(a=t,e):a},e.y=function(t){return arguments.length?(o=t,e):o},e.out=function(t){return arguments.length?(i=t,e):i},e};var mu=to.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(ci),a=e.map(fi),o=to.range(r).sort(function(e,t){return i[e]-i[t]}),s=0,u=0,l=[],c=[];for(t=0;r>t;++t)n=o[t],u>s?(s+=a[n],l.push(n)):(u+=a[n],c.push(n));return c.reverse().concat(l)},reverse:function(e){return to.range(e.length).reverse()},"default":ui}),vu=to.map({silhouette:function(e){var t,n,r,i=e.length,a=e[0].length,o=[],s=0,u=[];for(n=0;a>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];r>s&&(s=r),o.push(r)}for(n=0;a>n;++n)u[n]=(s-o[n])/2;return u},wiggle:function(e){var t,n,r,i,a,o,s,u,l,c=e.length,f=e[0],d=f.length,h=[];for(h[0]=u=l=0,n=1;d>n;++n){for(t=0,i=0;c>t;++t)i+=e[t][n][1];for(t=0,a=0,s=f[n][0]-f[n-1][0];c>t;++t){for(r=0,o=(e[t][n][1]-e[t][n-1][1])/(2*s);t>r;++r)o+=(e[r][n][1]-e[r][n-1][1])/s;a+=o*e[t][n][1]}h[n]=u-=i?a/i*s:0,l>u&&(l=u)}for(n=0;d>n;++n)h[n]-=l;return h},expand:function(e){var t,n,r,i=e.length,a=e[0].length,o=1/i,s=[];for(n=0;a>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];if(r)for(t=0;i>t;t++)e[t][n][1]/=r;else for(t=0;i>t;t++)e[t][n][1]=o}for(n=0;a>n;++n)s[n]=0;return s},zero:li});to.layout.histogram=function(){function e(e,a){for(var o,s,u=[],l=e.map(n,this),c=r.call(this,l,a),f=i.call(this,c,l,a),a=-1,d=l.length,h=f.length-1,p=t?1:1/d;++a<h;)o=u[a]=[],o.dx=f[a+1]-(o.x=f[a]),o.y=0;if(h>0)for(a=-1;++a<d;)s=l[a],s>=c[0]&&s<=c[1]&&(o=u[to.bisect(f,s,1,h)-1],o.y+=p,o.push(e[a]));return u}var t=!0,n=Number,r=gi,i=hi;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=Ee(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return pi(e,t)}:Ee(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},to.layout.pack=function(){function e(e,a){var o=n.call(this,e,a),s=o[0],u=i[0],l=i[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,ei(s,function(e){e.r=+c(e.value)}),ei(s,xi),r){var f=r*(t?1:Math.max(2*s.r/u,2*s.r/l))/2;ei(s,function(e){e.r+=f}),ei(s,xi),ei(s,function(e){e.r-=f})}return ki(s,u/2,l/2,t?1:1/Math.max(2*s.r/u,2*s.r/l)),o}var t,n=to.layout.hierarchy().sort(mi),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},Zr(e,n)},to.layout.tree=function(){function e(e,i){var c=o.call(this,e,i),f=c[0],d=t(f);if(ei(d,n),d.parent.m=-d.z,Qr(d,r),l)Qr(f,a);else{var h=f,p=f,g=f;Qr(f,function(e){e.x<h.x&&(h=e),e.x>p.x&&(p=e),e.depth>g.depth&&(g=e)});var m=s(h,p)/2-h.x,v=u[0]/(p.x+s(p,h)/2+m),y=u[1]/(g.depth||1);Qr(f,function(e){e.x=(e.x+m)*v,e.y=e.depth*y})}return c}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,a=t.children,o=0,s=a.length;s>o;++o)r.push((a[o]=i={_:a[o],parent:t,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){Ti(e);var a=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+s(e._,r._),e.m=e.z-a):e.z=a}else r&&(e.z=r.z+s(e._,r._));e.parent.A=i(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e,t,n){if(t){for(var r,i=e,a=e,o=t,u=i.parent.children[0],l=i.m,c=a.m,f=o.m,d=u.m;o=Ci(o),i=Ei(i),o&&i;)u=Ei(u),a=Ci(a),a.a=e,r=o.z+f-i.z-l+s(o._,i._),r>0&&(Mi(Oi(o,e,n),e,r),l+=r,c+=r),f+=o.m,l+=i.m,d+=u.m,c+=a.m;o&&!Ci(a)&&(a.t=o,a.m+=f-c),i&&!Ei(u)&&(u.t=i,u.m+=l-d,n=e)}return n}function a(e){e.x*=u[0],e.y=e.depth*u[1]}var o=to.layout.hierarchy().sort(null).value(null),s=Si,u=[1,1],l=null;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(l=null==(u=t)?a:null,e):l?null:u},e.nodeSize=function(t){return arguments.length?(l=null==(u=t)?null:a,e):l?u:null},Zr(e,o)},to.layout.cluster=function(){function e(e,a){var o,s=t.call(this,e,a),u=s[0],l=0;ei(u,function(e){var t=e.children;t&&t.length?(e.x=Ni(t),e.y=Ai(t)):(e.x=o?l+=n(e,o):0,
e.y=0,o=e)});var c=Di(u),f=Li(u),d=c.x-n(c,f)/2,h=f.x+n(f,c)/2;return ei(u,i?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-d)/(h-d)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),s}var t=to.layout.hierarchy().sort(null).value(null),n=Si,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},Zr(e,t)},to.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,a=e.length;++i<a;)r=(n=e[i]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function t(n){var a=n.children;if(a&&a.length){var o,s,u,l=f(n),c=[],d=a.slice(),p=1/0,g="slice"===h?l.dx:"dice"===h?l.dy:"slice-dice"===h?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(e(d,l.dx*l.dy/n.value),c.area=0;(u=d.length)>0;)c.push(o=d[u-1]),c.area+=o.area,"squarify"!==h||(s=r(c,g))<=p?(d.pop(),p=s):(c.area-=c.pop().area,i(c,g,l,!1),g=Math.min(l.dx,l.dy),c.length=c.area=0,p=1/0);c.length&&(i(c,g,l,!0),c.length=c.area=0),a.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var a,o=f(t),s=r.slice(),u=[];for(e(s,o.dx*o.dy/t.value),u.area=0;a=s.pop();)u.push(a),u.area+=a.area,null!=a.z&&(i(u,a.z?o.dx:o.dy,o,!s.length),u.length=u.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,a=1/0,o=-1,s=e.length;++o<s;)(n=e[o].area)&&(a>n&&(a=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*p/r,r/(t*a*p)):1/0}function i(e,t,n,r){var i,a=-1,o=e.length,s=n.x,l=n.y,c=t?u(e.area/t):0;if(t==n.dx){for((r||c>n.dy)&&(c=n.dy);++a<o;)i=e[a],i.x=s,i.y=l,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?u(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++a<o;)i=e[a],i.x=s,i.y=l,i.dx=c,l+=i.dy=Math.min(n.y+n.dy-l,c?u(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function a(r){var i=o||s(r),a=i[0];return a.x=0,a.y=0,a.dx=l[0],a.dy=l[1],o&&s.revalue(a),e([a],a.dx*a.dy/a.value),(o?n:t)(a),d&&(o=i),i}var o,s=to.layout.hierarchy(),u=Math.round,l=[1,1],c=null,f=Ii,d=!1,h="squarify",p=.5*(1+Math.sqrt(5));return a.size=function(e){return arguments.length?(l=e,a):l},a.padding=function(e){function t(t){var n=e.call(a,t,t.depth);return null==n?Ii(t):Ri(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Ri(t,e)}if(!arguments.length)return c;var r;return f=null==(c=e)?Ii:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,a},a.round=function(e){return arguments.length?(u=e?Math.round:Number,a):u!=Number},a.sticky=function(e){return arguments.length?(d=e,o=null,a):d},a.ratio=function(e){return arguments.length?(p=e,a):p},a.mode=function(e){return arguments.length?(h=e+"",a):h},Zr(a,s)},to.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=to.random.normal.apply(to,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=to.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},to.scale={};var yu={floor:y,ceil:y};to.scale.linear=function(){return Hi([0,1],[0,1],yr,!1)};var bu={s:1,g:1,p:1,r:1,e:1};to.scale.log=function(){return Ji(to.scale.linear().domain([0,1]),10,!0,[1,10])};var xu=to.format(".0e"),wu={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};to.scale.pow=function(){return Zi(to.scale.linear(),1,[0,1])},to.scale.sqrt=function(){return to.scale.pow().exponent(.5)},to.scale.ordinal=function(){return ea([],{t:"range",a:[[]]})},to.scale.category10=function(){return to.scale.ordinal().range($u)},to.scale.category20=function(){return to.scale.ordinal().range(ku)},to.scale.category20b=function(){return to.scale.ordinal().range(_u)},to.scale.category20c=function(){return to.scale.ordinal().range(Su)};var $u=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(be),ku=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(be),_u=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(be),Su=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(be);to.scale.quantile=function(){return ta([],[])},to.scale.quantize=function(){return na(0,1,[0,1])},to.scale.threshold=function(){return ra([.5],[0,1])},to.scale.identity=function(){return ia([0,1])},to.svg={},to.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),c=o.apply(this,arguments)-Io,f=s.apply(this,arguments)-Io,d=Math.abs(f-c),h=c>f?0:1;if(e>l&&(p=l,l=e,e=p),d>=Lo)return t(l,h)+(e?t(e,1-h):"")+"Z";var p,g,m,v,y,b,x,w,$,k,_,S,E=0,C=0,M=[];if((v=(+u.apply(this,arguments)||0)/2)&&(m=a===Eu?Math.sqrt(e*e+l*l):+a.apply(this,arguments),h||(C*=-1),l&&(C=te(m/l*Math.sin(v))),e&&(E=te(m/e*Math.sin(v)))),l){y=l*Math.cos(c+C),b=l*Math.sin(c+C),x=l*Math.cos(f-C),w=l*Math.sin(f-C);var T=Math.abs(f-c-2*C)<=No?0:1;if(C&&fa(y,b,x,w)===h^T){var O=(c+f)/2;y=l*Math.cos(O),b=l*Math.sin(O),x=w=null}}else y=b=0;if(e){$=e*Math.cos(f-E),k=e*Math.sin(f-E),_=e*Math.cos(c+E),S=e*Math.sin(c+E);var A=Math.abs(c-f+2*E)<=No?0:1;if(E&&fa($,k,_,S)===1-h^A){var N=(c+f)/2;$=e*Math.cos(N),k=e*Math.sin(N),_=S=null}}else $=k=0;if((p=Math.min(Math.abs(l-e)/2,+i.apply(this,arguments)))>.001){g=l>e^h?0:1;var D=null==_?[$,k]:null==x?[y,b]:Dn([y,b],[_,S],[x,w],[$,k]),L=y-D[0],I=b-D[1],R=x-D[0],P=w-D[1],j=1/Math.sin(Math.acos((L*R+I*P)/(Math.sqrt(L*L+I*I)*Math.sqrt(R*R+P*P)))/2),F=Math.sqrt(D[0]*D[0]+D[1]*D[1]);if(null!=x){var U=Math.min(p,(l-F)/(j+1)),z=da(null==_?[$,k]:[_,S],[y,b],l,U,h),q=da([x,w],[$,k],l,U,h);p===U?M.push("M",z[0],"A",U,",",U," 0 0,",g," ",z[1],"A",l,",",l," 0 ",1-h^fa(z[1][0],z[1][1],q[1][0],q[1][1]),",",h," ",q[1],"A",U,",",U," 0 0,",g," ",q[0]):M.push("M",z[0],"A",U,",",U," 0 1,",g," ",q[0])}else M.push("M",y,",",b);if(null!=_){var H=Math.min(p,(e-F)/(j-1)),B=da([y,b],[_,S],e,-H,h),W=da([$,k],null==x?[y,b]:[x,w],e,-H,h);p===H?M.push("L",W[0],"A",H,",",H," 0 0,",g," ",W[1],"A",e,",",e," 0 ",h^fa(W[1][0],W[1][1],B[1][0],B[1][1]),",",1-h," ",B[1],"A",H,",",H," 0 0,",g," ",B[0]):M.push("L",W[0],"A",H,",",H," 0 0,",g," ",B[0])}else M.push("L",$,",",k)}else M.push("M",y,",",b),null!=x&&M.push("A",l,",",l," 0 ",T,",",h," ",x,",",w),M.push("L",$,",",k),null!=_&&M.push("A",e,",",e," 0 ",A,",",1-h," ",_,",",S);return M.push("Z"),M.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=oa,r=sa,i=aa,a=Eu,o=ua,s=la,u=ca;return e.innerRadius=function(t){return arguments.length?(n=Ee(t),e):n},e.outerRadius=function(t){return arguments.length?(r=Ee(t),e):r},e.cornerRadius=function(t){return arguments.length?(i=Ee(t),e):i},e.padRadius=function(t){return arguments.length?(a=t==Eu?Eu:Ee(t),e):a},e.startAngle=function(t){return arguments.length?(o=Ee(t),e):o},e.endAngle=function(t){return arguments.length?(s=Ee(t),e):s},e.padAngle=function(t){return arguments.length?(u=Ee(t),e):u},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-Io;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Eu="auto";to.svg.line=function(){return ha(y)};var Cu=to.map({linear:pa,"linear-closed":ga,step:ma,"step-before":va,"step-after":ya,basis:_a,"basis-open":Sa,"basis-closed":Ea,bundle:Ca,cardinal:wa,"cardinal-open":ba,"cardinal-closed":xa,monotone:Da});Cu.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Mu=[0,2/3,1/3,0],Tu=[0,1/3,2/3,0],Ou=[0,1/6,2/3,1/6];to.svg.line.radial=function(){var e=ha(La);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},va.reverse=ya,ya.reverse=va,to.svg.area=function(){return Ia(y)},to.svg.area.radial=function(){var e=Ia(La);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},to.svg.chord=function(){function e(e,s){var u=t(this,a,e,s),l=t(this,o,e,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,u.r,u.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),a=s.call(e,i,r),o=u.call(e,i,r)-Io,c=l.call(e,i,r)-Io;return{r:a,a0:o,a1:c,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(c),a*Math.sin(c)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>No)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var a=yn,o=bn,s=Ra,u=ua,l=la;return e.radius=function(t){return arguments.length?(s=Ee(t),e):s},e.source=function(t){return arguments.length?(a=Ee(t),e):a},e.target=function(t){return arguments.length?(o=Ee(t),e):o},e.startAngle=function(t){return arguments.length?(u=Ee(t),e):u},e.endAngle=function(t){return arguments.length?(l=Ee(t),e):l},e},to.svg.diagonal=function(){function e(e,i){var a=t.call(this,e,i),o=n.call(this,e,i),s=(a.y+o.y)/2,u=[a,{x:a.x,y:s},{x:o.x,y:s},o];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var t=yn,n=bn,r=Pa;return e.source=function(n){return arguments.length?(t=Ee(n),e):t},e.target=function(t){return arguments.length?(n=Ee(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},to.svg.diagonal.radial=function(){var e=to.svg.diagonal(),t=Pa,n=e.projection;return e.projection=function(e){return arguments.length?n(ja(t=e)):t},e},to.svg.symbol=function(){function e(e,r){return(Au.get(t.call(this,e,r))||za)(n.call(this,e,r))}var t=Ua,n=Fa;return e.type=function(n){return arguments.length?(t=Ee(n),e):t},e.size=function(t){return arguments.length?(n=Ee(t),e):n},e};var Au=to.map({circle:za,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Du)),n=t*Du;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Nu),n=t*Nu/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Nu),n=t*Nu/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});to.svg.symbolTypes=Au.keys();var Nu=Math.sqrt(3),Du=Math.tan(30*Ro);ko.transition=function(e){for(var t,n,r=Lu||++ju,i=Va(e),a=[],o=Iu||{time:Date.now(),ease:Sr,delay:0,duration:250},s=-1,u=this.length;++s<u;){a.push(t=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(n=l[c])&&Ya(n,c,i,r,o),t.push(n)}return Ha(a,i,r)},ko.interrupt=function(e){return this.each(null==e?Ru:qa(Va(e)))};var Lu,Iu,Ru=qa(Va()),Pu=[],ju=0;Pu.call=ko.call,Pu.empty=ko.empty,Pu.node=ko.node,Pu.size=ko.size,to.transition=function(e,t){return e&&e.transition?Lu?e.transition(t):e:to.selection().transition(e)},to.transition.prototype=Pu,Pu.select=function(e){var t,n,r,i=this.id,a=this.namespace,o=[];e=M(e);for(var s=-1,u=this.length;++s<u;){o.push(t=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(r=l[c])&&(n=e.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Ya(n,c,a,i,r[a][i]),t.push(n)):t.push(null)}return Ha(o,a,i)},Pu.selectAll=function(e){var t,n,r,i,a,o=this.id,s=this.namespace,u=[];e=T(e);for(var l=-1,c=this.length;++l<c;)for(var f=this[l],d=-1,h=f.length;++d<h;)if(r=f[d]){a=r[s][o],n=e.call(r,r.__data__,d,l),u.push(t=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&Ya(i,p,s,o,a),t.push(i)}return Ha(u,s,o)},Pu.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=z(e));for(var a=0,o=this.length;o>a;a++){i.push(t=[]);for(var n=this[a],s=0,u=n.length;u>s;s++)(r=n[s])&&e.call(r,r.__data__,s,a)&&t.push(r)}return Ha(i,this.namespace,this.id)},Pu.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):H(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Pu.attr=function(e,t){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(s);return n!==e&&(t=o(n,e),function(e){this.setAttribute(s,t(e))})})}function a(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(s.space,s.local);return n!==e&&(t=o(n,e),function(e){this.setAttributeNS(s.space,s.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var o="transform"==e?zr:yr,s=to.ns.qualify(e);return Ba(this,"attr."+e,t,s.local?a:i)},Pu.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=to.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},Pu.style=function(e,n,r){function i(){this.style.removeProperty(e)}function a(n){return null==n?i:(n+="",function(){var i,a=t(this).getComputedStyle(this,null).getPropertyValue(e);return a!==n&&(i=yr(a,n),function(t){this.style.setProperty(e,i(t),r)})})}var o=arguments.length;if(3>o){if("string"!=typeof e){2>o&&(n="");for(r in e)this.style(r,e[r],n);return this}r=""}return Ba(this,"style."+e,n,a)},Pu.styleTween=function(e,n,r){function i(i,a){var o=n.call(this,i,a,t(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+e,i)},Pu.text=function(e){return Ba(this,"text",e,Wa)},Pu.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Pu.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=to.ease.apply(to,arguments)),H(this,function(r){r[n][t].ease=e}))},Pu.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:H(this,"function"==typeof e?function(r,i,a){r[n][t].delay=+e.call(r,r.__data__,i,a)}:(e=+e,function(r){r[n][t].delay=e}))},Pu.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:H(this,"function"==typeof e?function(r,i,a){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,a))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Pu.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Iu,a=Lu;try{Lu=n,H(this,function(t,i,a){Iu=t[r][n],e.call(t,t.__data__,i,a)})}finally{Iu=i,Lu=a}}else H(this,function(i){var a=i[r][n];(a.event||(a.event=to.dispatch("start","end","interrupt"))).on(e,t)});return this},Pu.transition=function(){for(var e,t,n,r,i=this.id,a=++ju,o=this.namespace,s=[],u=0,l=this.length;l>u;u++){s.push(e=[]);for(var t=this[u],c=0,f=t.length;f>c;c++)(n=t[c])&&(r=n[o][i],Ya(n,c,o,a,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),e.push(n)}return Ha(s,o,a)},to.svg.axis=function(){function e(e){e.each(function(){var e,l=to.select(this),c=this.__chart__||n,f=this.__chart__=n.copy(),d=null==u?f.ticks?f.ticks.apply(f,s):f.domain():u,h=null==t?f.tickFormat?f.tickFormat.apply(f,s):y:t,p=l.selectAll(".tick").data(d,f),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Oo),m=to.transition(p.exit()).style("opacity",Oo).remove(),v=to.transition(p.order()).style("opacity",1),b=Math.max(i,0)+o,x=ji(f),w=l.selectAll(".domain").data([0]),$=(w.enter().append("path").attr("class","domain"),to.transition(w));g.append("line"),g.append("text");var k,_,S,E,C=g.select("line"),M=v.select("line"),T=p.select("text").text(h),O=g.select("text"),A=v.select("text"),N="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=Ga,k="x",S="y",_="x2",E="y2",T.attr("dy",0>N?"0em":".71em").style("text-anchor","middle"),$.attr("d","M"+x[0]+","+N*a+"V0H"+x[1]+"V"+N*a)):(e=Xa,k="y",S="x",_="y2",E="x2",T.attr("dy",".32em").style("text-anchor",0>N?"end":"start"),$.attr("d","M"+N*a+","+x[0]+"H0V"+x[1]+"H"+N*a)),C.attr(E,N*i),O.attr(S,N*b),M.attr(_,0).attr(E,N*i),A.attr(k,0).attr(S,N*b),f.rangeBand){var D=f,L=D.rangeBand()/2;c=f=function(e){return D(e)+L}}else c.rangeBand?c=f:m.call(e,f,c);g.call(e,c,f),v.call(e,f,f)})}var t,n=to.scale.linear(),r=Fu,i=6,a=6,o=3,s=[10],u=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Uu?t+"":Fu,e):r},e.ticks=function(){return arguments.length?(s=arguments,e):s},e.tickValues=function(t){return arguments.length?(u=t,e):u},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,a=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(a=+t,e):a},e.tickPadding=function(t){return arguments.length?(o=+t,e):o},e.tickSubdivide=function(){return arguments.length&&e},e};var Fu="bottom",Uu={top:1,right:1,bottom:1,left:1};to.svg.brush=function(){function e(t){t.each(function(){var t=to.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),o=t.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=t.selectAll(".resize").data(g,y);s.exit().remove(),s.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return zu[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",e.empty()?"none":null);var u,f=to.transition(t),d=to.transition(o);l&&(u=ji(l),d.attr("x",u[0]).attr("width",u[1]-u[0]),r(f)),c&&(u=ji(c),d.attr("y",u[0]).attr("height",u[1]-u[0]),i(f)),n(f)})}function n(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+f[+/e$/.test(e)]+","+d[+/^s/.test(e)]+")"})}function r(e){e.select(".extent").attr("x",f[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function i(e){e.select(".extent").attr("y",d[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function a(){function a(){32==to.event.keyCode&&(T||(b=null,A[0]-=f[1],A[1]-=d[1],T=2),_())}function g(){32==to.event.keyCode&&2==T&&(A[0]+=f[1],A[1]+=d[1],T=0,_())}function m(){var e=to.mouse(w),t=!1;x&&(e[0]+=x[0],e[1]+=x[1]),T||(to.event.altKey?(b||(b=[(f[0]+f[1])/2,(d[0]+d[1])/2]),A[0]=f[+(e[0]<b[0])],A[1]=d[+(e[1]<b[1])]):b=null),C&&v(e,l,0)&&(r(S),t=!0),M&&v(e,c,1)&&(i(S),t=!0),t&&(n(S),k({type:"brush",mode:T?"move":"resize"}))}function v(e,t,n){var r,i,a=ji(t),u=a[0],l=a[1],c=A[n],g=n?d:f,m=g[1]-g[0];return T&&(u-=c,l-=m+c),r=(n?p:h)?Math.max(u,Math.min(l,e[n])):e[n],T?i=(r+=c)+m:(b&&(c=Math.max(u,Math.min(l,2*b[n]-r))),r>c?(i=r,r=c):i=c),g[0]!=r||g[1]!=i?(n?s=null:o=null,g[0]=r,g[1]=i,!0):void 0}function y(){m(),S.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),to.select("body").style("cursor",null),N.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),O(),k({type:"brushend"})}var b,x,w=this,$=to.select(to.event.target),k=u.of(w,arguments),S=to.select(w),E=$.datum(),C=!/^(n|s)$/.test(E)&&l,M=!/^(e|w)$/.test(E)&&c,T=$.classed("extent"),O=X(w),A=to.mouse(w),N=to.select(t(w)).on("keydown.brush",a).on("keyup.brush",g);if(to.event.changedTouches?N.on("touchmove.brush",m).on("touchend.brush",y):N.on("mousemove.brush",m).on("mouseup.brush",y),S.interrupt().selectAll("*").interrupt(),T)A[0]=f[0]-A[0],A[1]=d[0]-A[1];else if(E){var D=+/w$/.test(E),L=+/^n/.test(E);x=[f[1-D]-A[0],d[1-L]-A[1]],A[0]=f[D],A[1]=d[L]}else to.event.altKey&&(b=A.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),to.select("body").style("cursor",$.style("cursor")),k({type:"brushstart"}),m()}var o,s,u=E(e,"brushstart","brush","brushend"),l=null,c=null,f=[0,0],d=[0,0],h=!0,p=!0,g=qu[0];return e.event=function(e){e.each(function(){var e=u.of(this,arguments),t={x:f,y:d,i:o,j:s},n=this.__chart__||t;this.__chart__=t,Lu?to.select(this).transition().each("start.brush",function(){o=n.i,s=n.j,f=n.x,d=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=br(f,t.x),r=br(d,t.y);return o=s=null,function(i){f=t.x=n(i),d=t.y=r(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,s=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(l=t,g=qu[!l<<1|!c],e):l},e.y=function(t){return arguments.length?(c=t,g=qu[!l<<1|!c],e):c},e.clamp=function(t){return arguments.length?(l&&c?(h=!!t[0],p=!!t[1]):l?h=!!t:c&&(p=!!t),e):l&&c?[h,p]:l?h:c?p:null},e.extent=function(t){var n,r,i,a,u;return arguments.length?(l&&(n=t[0],r=t[1],c&&(n=n[0],r=r[0]),o=[n,r],l.invert&&(n=l(n),r=l(r)),n>r&&(u=n,n=r,r=u),(n!=f[0]||r!=f[1])&&(f=[n,r])),c&&(i=t[0],a=t[1],l&&(i=i[1],a=a[1]),s=[i,a],c.invert&&(i=c(i),a=c(a)),i>a&&(u=i,i=a,a=u),(i!=d[0]||a!=d[1])&&(d=[i,a])),e):(l&&(o?(n=o[0],r=o[1]):(n=f[0],r=f[1],l.invert&&(n=l.invert(n),r=l.invert(r)),n>r&&(u=n,n=r,r=u))),c&&(s?(i=s[0],a=s[1]):(i=d[0],a=d[1],c.invert&&(i=c.invert(i),a=c.invert(a)),i>a&&(u=i,i=a,a=u))),l&&c?[[n,i],[r,a]]:l?[n,r]:c&&[i,a])},e.clear=function(){return e.empty()||(f=[0,0],d=[0,0],o=s=null),e},e.empty=function(){return!!l&&f[0]==f[1]||!!c&&d[0]==d[1]},to.rebind(e,u,"on")};var zu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},qu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Hu=us.format=ps.timeFormat,Bu=Hu.utc,Wu=Bu("%Y-%m-%dT%H:%M:%S.%LZ");Hu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ka:Wu,Ka.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Ka.toString=Wu.toString,us.second=Fe(function(e){return new ls(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),us.seconds=us.second.range,us.seconds.utc=us.second.utc.range,us.minute=Fe(function(e){return new ls(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),us.minutes=us.minute.range,us.minutes.utc=us.minute.utc.range,us.hour=Fe(function(e){var t=e.getTimezoneOffset()/60;return new ls(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),us.hours=us.hour.range,us.hours.utc=us.hour.utc.range,us.month=Fe(function(e){return e=us.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),us.months=us.month.range,us.months.utc=us.month.utc.range;var Vu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Yu=[[us.second,1],[us.second,5],[us.second,15],[us.second,30],[us.minute,1],[us.minute,5],[us.minute,15],[us.minute,30],[us.hour,1],[us.hour,3],[us.hour,6],[us.hour,12],[us.day,1],[us.day,2],[us.week,1],[us.month,1],[us.month,3],[us.year,1]],Gu=Hu.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Mt]]),Xu={range:function(e,t,n){return to.range(Math.ceil(e/n)*n,+t,n).map(Za)},floor:y,ceil:y};Yu.year=us.year,us.scale=function(){return Ja(to.scale.linear(),Yu,Gu)};var Ku=Yu.map(function(e){return[e[0].utc,e[1]]}),Ju=Bu.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Mt]]);Ku.year=us.year.utc,us.scale.utc=function(){return Ja(to.scale.linear(),Ku,Ju)},to.text=Ce(function(e){return e.responseText}),to.json=function(e,t){return Me(e,"application/json",Qa,t)},to.html=function(e,t){return Me(e,"text/html",eo,t)},to.xml=Ce(function(e){return e.responseXML}),"function"==typeof define&&define.amd?define(to):"object"==typeof module&&module.exports&&(module.exports=to),this.d3=to}(),/*!
 * ZeroClipboard
 * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie and a JavaScript interface.
 * Copyright (c) 2009-2014 Jon Rohan, James M. Greene
 * Licensed MIT
 * http://zeroclipboard.org/
 * v2.2.0
 */
function(e,t){"use strict";var n,r,i,a=e,o=a.document,s=a.navigator,u=a.setTimeout,l=a.clearTimeout,c=a.setInterval,f=a.clearInterval,d=a.getComputedStyle,h=a.encodeURIComponent,p=a.ActiveXObject,g=a.Error,m=a.Number.parseInt||a.parseInt,v=a.Number.parseFloat||a.parseFloat,y=a.Number.isNaN||a.isNaN,b=a.Date.now,x=a.Object.keys,w=a.Object.defineProperty,$=a.Object.prototype.hasOwnProperty,k=a.Array.prototype.slice,_=function(){var e=function(e){return e};if("function"==typeof a.wrap&&"function"==typeof a.unwrap)try{var t=o.createElement("div"),n=a.unwrap(t);1===t.nodeType&&n&&1===n.nodeType&&(e=a.unwrap)}catch(r){}return e}(),S=function(e){return k.call(e,0)},E=function(){var e,n,r,i,a,o,s=S(arguments),u=s[0]||{};for(e=1,n=s.length;n>e;e++)if(null!=(r=s[e]))for(i in r)$.call(r,i)&&(a=u[i],o=r[i],u!==o&&o!==t&&(u[i]=o));return u},C=function(e){var t,n,r,i;if("object"!=typeof e||null==e||"number"==typeof e.nodeType)t=e;else if("number"==typeof e.length)for(t=[],n=0,r=e.length;r>n;n++)$.call(e,n)&&(t[n]=C(e[n]));else{t={};for(i in e)$.call(e,i)&&(t[i]=C(e[i]))}return t},M=function(e,t){for(var n={},r=0,i=t.length;i>r;r++)t[r]in e&&(n[t[r]]=e[t[r]]);return n},T=function(e,t){var n={};for(var r in e)-1===t.indexOf(r)&&(n[r]=e[r]);return n},O=function(e){if(e)for(var t in e)$.call(e,t)&&delete e[t];return e},A=function(e,t){if(e&&1===e.nodeType&&e.ownerDocument&&t&&(1===t.nodeType&&t.ownerDocument&&t.ownerDocument===e.ownerDocument||9===t.nodeType&&!t.ownerDocument&&t===e.ownerDocument))do{if(e===t)return!0;e=e.parentNode}while(e);return!1},N=function(e){var t;return"string"==typeof e&&e&&(t=e.split("#")[0].split("?")[0],t=e.slice(0,e.lastIndexOf("/")+1)),t},D=function(e){var t,n;return"string"==typeof e&&e&&(n=e.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]?t=n[1]:(n=e.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]&&(t=n[1]))),t},L=function(){var e,t;try{throw new g}catch(n){t=n}return t&&(e=t.sourceURL||t.fileName||D(t.stack)),e},I=function(){var e,n,r;if(o.currentScript&&(e=o.currentScript.src))return e;if(n=o.getElementsByTagName("script"),1===n.length)return n[0].src||t;if("readyState"in n[0])for(r=n.length;r--;)if("interactive"===n[r].readyState&&(e=n[r].src))return e;return"loading"===o.readyState&&(e=n[n.length-1].src)?e:(e=L())?e:t},R=function(){var e,n,r,i=o.getElementsByTagName("script");for(e=i.length;e--;){if(!(r=i[e].src)){n=null;break}if(r=N(r),null==n)n=r;else if(n!==r){n=null;break}}return n||t},P=function(){var e=N(I())||R()||"";return e+"ZeroClipboard.swf"},j=function(){return null==e.opener&&(!!e.top&&e!=e.top||!!e.parent&&e!=e.parent)}(),F={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},U="11.0.0",z={},q={},H=null,B=0,W=0,V={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},Y=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],G=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],X=new RegExp("^flash-("+G.map(function(e){return e.replace(/^flash-/,"")}).join("|")+")$"),K=new RegExp("^flash-("+G.slice(1).map(function(e){return e.replace(/^flash-/,"")}).join("|")+")$"),J={swfPath:P(),trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},Z=function(e){if("object"==typeof e&&null!==e)for(var t in e)if($.call(e,t))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(t))J[t]=e[t];else if(null==F.bridge)if("containerId"===t||"swfObjectId"===t){if(!he(e[t]))throw new Error("The specified `"+t+"` value is not valid as an HTML4 Element ID");J[t]=e[t]}else J[t]=e[t];{if("string"!=typeof e||!e)return C(J);if($.call(J,e))return J[e]}},Q=function(){return We(),{browser:M(s,["userAgent","platform","appName"]),flash:T(F,["bridge"]),zeroclipboard:{version:Ye.version,config:Ye.config()}}},ee=function(){return!!(F.disabled||F.outdated||F.sandboxed||F.unavailable||F.degraded||F.deactivated)},te=function(e,r){var i,a,o,s={};if("string"==typeof e&&e)o=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof r)for(i in e)$.call(e,i)&&"string"==typeof i&&i&&"function"==typeof e[i]&&Ye.on(i,e[i]);if(o&&o.length){for(i=0,a=o.length;a>i;i++)e=o[i].replace(/^on/,""),s[e]=!0,z[e]||(z[e]=[]),z[e].push(r);if(s.ready&&F.ready&&Ye.emit({type:"ready"}),s.error){for(i=0,a=G.length;a>i;i++)if(F[G[i].replace(/^flash-/,"")]===!0){Ye.emit({type:"error",name:G[i]});break}n!==t&&Ye.version!==n&&Ye.emit({type:"error",name:"version-mismatch",jsVersion:Ye.version,swfVersion:n})}}return Ye},ne=function(e,t){var n,r,i,a,o;if(0===arguments.length)a=x(z);else if("string"==typeof e&&e)a=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)$.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&Ye.off(n,e[n]);if(a&&a.length)for(n=0,r=a.length;r>n;n++)if(e=a[n].toLowerCase().replace(/^on/,""),o=z[e],o&&o.length)if(t)for(i=o.indexOf(t);-1!==i;)o.splice(i,1),i=o.indexOf(t,i);else o.length=0;return Ye},re=function(e){var t;return t="string"==typeof e&&e?C(z[e])||null:C(z)},ie=function(e){var t,n,r;return e=pe(e),e&&!we(e)?"ready"===e.type&&F.overdue===!0?Ye.emit({type:"error",name:"flash-overdue"}):(t=E({},e),be.call(this,t),"copy"===e.type&&(r=Te(q),n=r.data,H=r.formatMap),n):void 0},ae=function(){var e=F.sandboxed;if(We(),"boolean"!=typeof F.ready&&(F.ready=!1),F.sandboxed!==e&&F.sandboxed===!0)F.ready=!1,Ye.emit({type:"error",name:"flash-sandboxed"});else if(!Ye.isFlashUnusable()&&null===F.bridge){var t=J.flashLoadTimeout;"number"==typeof t&&t>=0&&(B=u(function(){"boolean"!=typeof F.deactivated&&(F.deactivated=!0),F.deactivated===!0&&Ye.emit({type:"error",name:"flash-deactivated"})},t)),F.overdue=!1,Ce()}},oe=function(){Ye.clearData(),Ye.blur(),Ye.emit("destroy"),Me(),Ye.off()},se=function(e,t){var n;if("object"==typeof e&&e&&"undefined"==typeof t)n=e,Ye.clearData();else{if("string"!=typeof e||!e)return;n={},n[e]=t}for(var r in n)"string"==typeof r&&r&&$.call(n,r)&&"string"==typeof n[r]&&n[r]&&(q[r]=n[r])},ue=function(e){"undefined"==typeof e?(O(q),H=null):"string"==typeof e&&$.call(q,e)&&delete q[e]},le=function(e){return"undefined"==typeof e?C(q):"string"==typeof e&&$.call(q,e)?q[e]:void 0},ce=function(e){if(e&&1===e.nodeType){r&&(Pe(r,J.activeClass),r!==e&&Pe(r,J.hoverClass)),r=e,Re(e,J.hoverClass);var t=e.getAttribute("title")||J.title;if("string"==typeof t&&t){var n=Ee(F.bridge);n&&n.setAttribute("title",t)}var i=J.forceHandCursor===!0||"pointer"===je(e,"cursor");He(i),qe()}},fe=function(){var e=Ee(F.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px"),r&&(Pe(r,J.hoverClass),Pe(r,J.activeClass),r=null)},de=function(){return r||null},he=function(e){return"string"==typeof e&&e&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)},pe=function(e){var t;if("string"==typeof e&&e?(t=e,e={}):"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(t=e.type),t){t=t.toLowerCase(),!e.target&&(/^(copy|aftercopy|_click)$/.test(t)||"error"===t&&"clipboard-error"===e.name)&&(e.target=i),E(e,{type:t,target:e.target||r||null,relatedTarget:e.relatedTarget||null,currentTarget:F&&F.bridge||null,timeStamp:e.timeStamp||b()||null});var n=V[e.type];return"error"===e.type&&e.name&&n&&(n=n[e.name]),n&&(e.message=n),"ready"===e.type&&E(e,{target:null,version:F.version}),"error"===e.type&&(X.test(e.name)&&E(e,{target:null,minimumVersion:U}),K.test(e.name)&&E(e,{version:F.version})),"copy"===e.type&&(e.clipboardData={setData:Ye.setData,clearData:Ye.clearData}),"aftercopy"===e.type&&(e=Oe(e,H)),e.target&&!e.relatedTarget&&(e.relatedTarget=ge(e.target)),me(e)}},ge=function(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?o.getElementById(t):null},me=function(e){if(e&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)){var n=e.target,r="_mouseover"===e.type&&e.relatedTarget?e.relatedTarget:t,i="_mouseout"===e.type&&e.relatedTarget?e.relatedTarget:t,s=Fe(n),u=a.screenLeft||a.screenX||0,l=a.screenTop||a.screenY||0,c=o.body.scrollLeft+o.documentElement.scrollLeft,f=o.body.scrollTop+o.documentElement.scrollTop,d=s.left+("number"==typeof e._stageX?e._stageX:0),h=s.top+("number"==typeof e._stageY?e._stageY:0),p=d-c,g=h-f,m=u+p,v=l+g,y="number"==typeof e.movementX?e.movementX:0,b="number"==typeof e.movementY?e.movementY:0;delete e._stageX,delete e._stageY,E(e,{srcElement:n,fromElement:r,toElement:i,screenX:m,screenY:v,pageX:d,pageY:h,clientX:p,clientY:g,x:p,y:g,movementX:y,movementY:b,offsetX:0,offsetY:0,layerX:0,layerY:0})}return e},ve=function(e){var t=e&&"string"==typeof e.type&&e.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(t)},ye=function(e,t,n,r){r?u(function(){e.apply(t,n)},0):e.apply(t,n)},be=function(e){if("object"==typeof e&&e&&e.type){var t=ve(e),n=z["*"]||[],r=z[e.type]||[],i=n.concat(r);if(i&&i.length){var o,s,u,l,c,f=this;for(o=0,s=i.length;s>o;o++)u=i[o],l=f,"string"==typeof u&&"function"==typeof a[u]&&(u=a[u]),"object"==typeof u&&u&&"function"==typeof u.handleEvent&&(l=u,u=u.handleEvent),"function"==typeof u&&(c=E({},e),ye(u,l,[c],t))}return this}},xe=function(e){var t=null;return(j===!1||e&&"error"===e.type&&e.name&&-1!==Y.indexOf(e.name))&&(t=!1),t},we=function(e){var t=e.target||r||null,a="swf"===e._source;switch(delete e._source,e.type){case"error":var o="flash-sandboxed"===e.name||xe(e);"boolean"==typeof o&&(F.sandboxed=o),-1!==G.indexOf(e.name)?E(F,{disabled:"flash-disabled"===e.name,outdated:"flash-outdated"===e.name,unavailable:"flash-unavailable"===e.name,degraded:"flash-degraded"===e.name,deactivated:"flash-deactivated"===e.name,overdue:"flash-overdue"===e.name,ready:!1}):"version-mismatch"===e.name&&(n=e.swfVersion,E(F,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),ze();break;case"ready":n=e.swfVersion;var s=F.deactivated===!0;E(F,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:s,ready:!s}),ze();break;case"beforecopy":i=t;break;case"copy":var u,l,c=e.relatedTarget;!q["text/html"]&&!q["text/plain"]&&c&&(l=c.value||c.outerHTML||c.innerHTML)&&(u=c.value||c.textContent||c.innerText)?(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",u),l!==u&&e.clipboardData.setData("text/html",l)):!q["text/plain"]&&e.target&&(u=e.target.getAttribute("data-clipboard-text"))&&(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",u));break;case"aftercopy":$e(e),Ye.clearData(),t&&t!==Ie()&&t.focus&&t.focus();break;case"_mouseover":Ye.focus(t),J.bubbleEvents===!0&&a&&(t&&t!==e.relatedTarget&&!A(e.relatedTarget,t)&&ke(E({},e,{type:"mouseenter",bubbles:!1,cancelable:!1})),ke(E({},e,{type:"mouseover"})));break;case"_mouseout":Ye.blur(),J.bubbleEvents===!0&&a&&(t&&t!==e.relatedTarget&&!A(e.relatedTarget,t)&&ke(E({},e,{type:"mouseleave",bubbles:!1,cancelable:!1})),ke(E({},e,{type:"mouseout"})));break;case"_mousedown":Re(t,J.activeClass),J.bubbleEvents===!0&&a&&ke(E({},e,{type:e.type.slice(1)}));break;case"_mouseup":Pe(t,J.activeClass),J.bubbleEvents===!0&&a&&ke(E({},e,{type:e.type.slice(1)}));break;case"_click":i=null,J.bubbleEvents===!0&&a&&ke(E({},e,{type:e.type.slice(1)}));break;case"_mousemove":J.bubbleEvents===!0&&a&&ke(E({},e,{type:e.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)?!0:void 0},$e=function(e){if(e.errors&&e.errors.length>0){var t=C(e);E(t,{type:"error",name:"clipboard-error"}),delete t.success,u(function(){Ye.emit(t)},0)}},ke=function(e){if(e&&"string"==typeof e.type&&e){var t,n=e.target||null,r=n&&n.ownerDocument||o,i={view:r.defaultView||a,canBubble:!0,cancelable:!0,detail:"click"===e.type?1:0,button:"number"==typeof e.which?e.which-1:"number"==typeof e.button?e.button:r.createEvent?0:1},s=E(i,e);n&&r.createEvent&&n.dispatchEvent&&(s=[s.type,s.canBubble,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget],t=r.createEvent("MouseEvents"),t.initMouseEvent&&(t.initMouseEvent.apply(t,s),t._source="js",n.dispatchEvent(t)))}},_e=function(){var e=J.flashLoadTimeout;if("number"==typeof e&&e>=0){var t=Math.min(1e3,e/10),n=J.swfObjectId+"_fallbackContent";W=c(function(){var e=o.getElementById(n);Ue(e)&&(ze(),F.deactivated=null,Ye.emit({type:"error",name:"swf-not-found"}))},t)}},Se=function(){var e=o.createElement("div");return e.id=J.containerId,e.className=J.containerClass,e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+Be(J.zIndex),e},Ee=function(e){for(var t=e&&e.parentNode;t&&"OBJECT"===t.nodeName&&t.parentNode;)t=t.parentNode;return t||null},Ce=function(){var e,t=F.bridge,n=Ee(t);if(!t){var r=Le(a.location.host,J),i="never"===r?"none":"all",s=Ne(E({jsVersion:Ye.version},J)),u=J.swfPath+Ae(J.swfPath,J);n=Se();var l=o.createElement("div");n.appendChild(l),o.body.appendChild(n);var c=o.createElement("div"),f="activex"===F.pluginType;c.innerHTML='<object id="'+J.swfObjectId+'" name="'+J.swfObjectId+'" width="100%" height="100%" '+(f?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+u+'"')+">"+(f?'<param name="movie" value="'+u+'"/>':"")+'<param name="allowScriptAccess" value="'+r+'"/><param name="allowNetworking" value="'+i+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+s+'"/><div id="'+J.swfObjectId+'_fallbackContent">&nbsp;</div></object>',t=c.firstChild,c=null,_(t).ZeroClipboard=Ye,n.replaceChild(t,l),_e()}return t||(t=o[J.swfObjectId],t&&(e=t.length)&&(t=t[e-1]),!t&&n&&(t=n.firstChild)),F.bridge=t||null,t},Me=function(){var e=F.bridge;if(e){var r=Ee(e);r&&("activex"===F.pluginType&&"readyState"in e?(e.style.display="none",function i(){if(4===e.readyState){for(var t in e)"function"==typeof e[t]&&(e[t]=null);e.parentNode&&e.parentNode.removeChild(e),r.parentNode&&r.parentNode.removeChild(r)}else u(i,10)}()):(e.parentNode&&e.parentNode.removeChild(e),r.parentNode&&r.parentNode.removeChild(r))),ze(),F.ready=null,F.bridge=null,F.deactivated=null,n=t}},Te=function(e){var t={},n={};if("object"==typeof e&&e){for(var r in e)if(r&&$.call(e,r)&&"string"==typeof e[r]&&e[r])switch(r.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":t.text=e[r],n.text=r;break;case"text/html":case"html":case"air:html":case"flash:html":t.html=e[r],n.html=r;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":t.rtf=e[r],n.rtf=r}return{data:t,formatMap:n}}},Oe=function(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return e;var n={};for(var r in e)if($.call(e,r))if("errors"===r){n[r]=e[r]?e[r].slice():[];for(var i=0,a=n[r].length;a>i;i++)n[r][i].format=t[n[r][i].format]}else if("success"!==r&&"data"!==r)n[r]=e[r];else{n[r]={};var o=e[r];for(var s in o)s&&$.call(o,s)&&$.call(t,s)&&(n[r][t[s]]=o[s])}return n},Ae=function(e,t){var n=null==t||t&&t.cacheBust===!0;return n?(-1===e.indexOf("?")?"?":"&")+"noCache="+b():""},Ne=function(e){var t,n,r,i,o="",s=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?i=[e.trustedDomains]:"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(i=e.trustedDomains)),i&&i.length)for(t=0,n=i.length;n>t;t++)if($.call(i,t)&&i[t]&&"string"==typeof i[t]){if(r=De(i[t]),!r)continue;if("*"===r){s.length=0,s.push(r);break}s.push.apply(s,[r,"//"+r,a.location.protocol+"//"+r])}return s.length&&(o+="trustedOrigins="+h(s.join(","))),e.forceEnhancedClipboard===!0&&(o+=(o?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof e.swfObjectId&&e.swfObjectId&&(o+=(o?"&":"")+"swfObjectId="+h(e.swfObjectId)),"string"==typeof e.jsVersion&&e.jsVersion&&(o+=(o?"&":"")+"jsVersion="+h(e.jsVersion)),o},De=function(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var n=e.indexOf("/");return e=-1===n?e:-1===t||0===n?null:e.slice(0,n),e&&".swf"===e.slice(-4).toLowerCase()?null:e||null},Le=function(){var e=function(e){var t,n,r,i=[];if("string"==typeof e&&(e=[e]),"object"!=typeof e||!e||"number"!=typeof e.length)return i;for(t=0,n=e.length;n>t;t++)if($.call(e,t)&&(r=De(e[t]))){if("*"===r){i.length=0,i.push("*");break}-1===i.indexOf(r)&&i.push(r)}return i};return function(t,n){var r=De(n.swfPath);null===r&&(r=t);var i=e(n.trustedDomains),a=i.length;if(a>0){if(1===a&&"*"===i[0])return"always";if(-1!==i.indexOf(t))return 1===a&&t===r?"sameDomain":"always"}return"never"}}(),Ie=function(){try{return o.activeElement}catch(e){return null}},Re=function(e,t){var n,r,i,a=[];if("string"==typeof t&&t&&(a=t.split(/\s+/)),e&&1===e.nodeType&&a.length>0)if(e.classList)for(n=0,r=a.length;r>n;n++)e.classList.add(a[n]);else if(e.hasOwnProperty("className")){for(i=" "+e.className+" ",n=0,r=a.length;r>n;n++)-1===i.indexOf(" "+a[n]+" ")&&(i+=a[n]+" ");e.className=i.replace(/^\s+|\s+$/g,"")}return e},Pe=function(e,t){var n,r,i,a=[];if("string"==typeof t&&t&&(a=t.split(/\s+/)),e&&1===e.nodeType&&a.length>0)if(e.classList&&e.classList.length>0)for(n=0,r=a.length;r>n;n++)e.classList.remove(a[n]);else if(e.className){for(i=(" "+e.className+" ").replace(/[\r\n\t]/g," "),n=0,r=a.length;r>n;n++)i=i.replace(" "+a[n]+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}return e},je=function(e,t){var n=d(e,null).getPropertyValue(t);return"cursor"!==t||n&&"auto"!==n||"A"!==e.nodeName?n:"pointer"},Fe=function(e){var t={left:0,top:0,width:0,height:0};if(e.getBoundingClientRect){var n=e.getBoundingClientRect(),r=a.pageXOffset,i=a.pageYOffset,s=o.documentElement.clientLeft||0,u=o.documentElement.clientTop||0,l=0,c=0;if("relative"===je(o.body,"position")){var f=o.body.getBoundingClientRect(),d=o.documentElement.getBoundingClientRect();l=f.left-d.left||0,c=f.top-d.top||0}t.left=n.left+r-s-l,t.top=n.top+i-u-c,t.width="width"in n?n.width:n.right-n.left,t.height="height"in n?n.height:n.bottom-n.top}return t},Ue=function(e){if(!e)return!1;var t=d(e,null),n=v(t.height)>0,r=v(t.width)>0,i=v(t.top)>=0,a=v(t.left)>=0,o=n&&r&&i&&a,s=o?null:Fe(e),u="none"!==t.display&&"collapse"!==t.visibility&&(o||!!s&&(n||s.height>0)&&(r||s.width>0)&&(i||s.top>=0)&&(a||s.left>=0));return u},ze=function(){l(B),B=0,f(W),W=0},qe=function(){var e;if(r&&(e=Ee(F.bridge))){var t=Fe(r);E(e.style,{width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px",zIndex:""+Be(J.zIndex)})}},He=function(e){F.ready===!0&&(F.bridge&&"function"==typeof F.bridge.setHandCursor?F.bridge.setHandCursor(e):F.ready=!1)},Be=function(e){if(/^(?:auto|inherit)$/.test(e))return e;var t;return"number"!=typeof e||y(e)?"string"==typeof e&&(t=Be(m(e,10))):t=e,"number"==typeof t?t:"auto"},We=function(t){var n,r,i,a=F.sandboxed,o=null;if(t=t===!0,j===!1)o=!1;else{try{r=e.frameElement||null}catch(s){i={name:s.name,message:s.message}}if(r&&1===r.nodeType&&"IFRAME"===r.nodeName)try{o=r.hasAttribute("sandbox")}catch(s){o=null}else{try{n=document.domain||null}catch(s){n=null}(null===n||i&&"SecurityError"===i.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(i.message.toLowerCase()))&&(o=!0)}}return F.sandboxed=o,a===o||t||Ve(p),o},Ve=function(e){function t(e){var t=e.match(/[\d]+/g);return t.length=3,t.join(".")}function n(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}function r(e){e&&(u=!0,e.version&&(f=t(e.version)),!f&&e.description&&(f=t(e.description)),e.filename&&(c=n(e.filename)))}var i,a,o,u=!1,l=!1,c=!1,f="";if(s.plugins&&s.plugins.length)i=s.plugins["Shockwave Flash"],r(i),s.plugins["Shockwave Flash 2.0"]&&(u=!0,f="2.0.0.11");else if(s.mimeTypes&&s.mimeTypes.length)o=s.mimeTypes["application/x-shockwave-flash"],i=o&&o.enabledPlugin,r(i);else if("undefined"!=typeof e){l=!0;try{a=new e("ShockwaveFlash.ShockwaveFlash.7"),u=!0,f=t(a.GetVariable("$version"))}catch(d){try{a=new e("ShockwaveFlash.ShockwaveFlash.6"),u=!0,f="6.0.21"}catch(h){try{a=new e("ShockwaveFlash.ShockwaveFlash"),u=!0,f=t(a.GetVariable("$version"))}catch(p){l=!1}}}}F.disabled=u!==!0,F.outdated=f&&v(f)<v(U),F.version=f||"0.0.0",F.pluginType=c?"pepper":l?"activex":u?"netscape":"unknown"};Ve(p),We(!0);var Ye=function(){return this instanceof Ye?void("function"==typeof Ye._createClient&&Ye._createClient.apply(this,S(arguments))):new Ye};w(Ye,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),Ye.config=function(){return Z.apply(this,S(arguments))},Ye.state=function(){return Q.apply(this,S(arguments))},Ye.isFlashUnusable=function(){return ee.apply(this,S(arguments))},Ye.on=function(){return te.apply(this,S(arguments))},Ye.off=function(){return ne.apply(this,S(arguments))},Ye.handlers=function(){return re.apply(this,S(arguments))},Ye.emit=function(){return ie.apply(this,S(arguments))},Ye.create=function(){return ae.apply(this,S(arguments))},Ye.destroy=function(){return oe.apply(this,S(arguments))},Ye.setData=function(){return se.apply(this,S(arguments))},Ye.clearData=function(){return ue.apply(this,S(arguments))},Ye.getData=function(){return le.apply(this,S(arguments))},Ye.focus=Ye.activate=function(){return ce.apply(this,S(arguments))},Ye.blur=Ye.deactivate=function(){return fe.apply(this,S(arguments))},Ye.activeElement=function(){return de.apply(this,S(arguments))};var Ge=0,Xe={},Ke=0,Je={},Ze={};E(J,{autoActivate:!0});var Qe=function(e){var t=this;t.id=""+Ge++,Xe[t.id]={instance:t,elements:[],handlers:{}},e&&t.clip(e),Ye.on("*",function(e){return t.emit(e)}),Ye.on("destroy",function(){t.destroy()}),Ye.create()},et=function(e,r){var i,a,o,s={},u=Xe[this.id],l=u&&u.handlers;if(!u)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof e&&e)o=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof r)for(i in e)$.call(e,i)&&"string"==typeof i&&i&&"function"==typeof e[i]&&this.on(i,e[i]);if(o&&o.length){for(i=0,a=o.length;a>i;i++)e=o[i].replace(/^on/,""),s[e]=!0,l[e]||(l[e]=[]),l[e].push(r);if(s.ready&&F.ready&&this.emit({type:"ready",client:this}),s.error){for(i=0,a=G.length;a>i;i++)if(F[G[i].replace(/^flash-/,"")]){this.emit({type:"error",name:G[i],client:this});break}n!==t&&Ye.version!==n&&this.emit({type:"error",name:"version-mismatch",jsVersion:Ye.version,swfVersion:n})}}return this},tt=function(e,t){var n,r,i,a,o,s=Xe[this.id],u=s&&s.handlers;if(!u)return this;if(0===arguments.length)a=x(u);else if("string"==typeof e&&e)a=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)$.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.off(n,e[n]);if(a&&a.length)for(n=0,r=a.length;r>n;n++)if(e=a[n].toLowerCase().replace(/^on/,""),o=u[e],o&&o.length)if(t)for(i=o.indexOf(t);-1!==i;)o.splice(i,1),i=o.indexOf(t,i);else o.length=0;return this},nt=function(e){var t=null,n=Xe[this.id]&&Xe[this.id].handlers;return n&&(t="string"==typeof e&&e?n[e]?n[e].slice(0):[]:C(n)),t},rt=function(e){if(ut.call(this,e)){"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(e=E({},e));var t=E({},pe(e),{client:this});lt.call(this,t)}return this},it=function(e){if(!Xe[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");e=ct(e);for(var t=0;t<e.length;t++)if($.call(e,t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===Je[e[t].zcClippingId].indexOf(this.id)&&Je[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+Ke++,Je[e[t].zcClippingId]=[this.id],J.autoActivate===!0&&ft(e[t]));var n=Xe[this.id]&&Xe[this.id].elements;-1===n.indexOf(e[t])&&n.push(e[t])}return this},at=function(e){var t=Xe[this.id];if(!t)return this;var n,r=t.elements;e="undefined"==typeof e?r.slice(0):ct(e);for(var i=e.length;i--;)if($.call(e,i)&&e[i]&&1===e[i].nodeType){for(n=0;-1!==(n=r.indexOf(e[i],n));)r.splice(n,1);var a=Je[e[i].zcClippingId];if(a){for(n=0;-1!==(n=a.indexOf(this.id,n));)a.splice(n,1);0===a.length&&(J.autoActivate===!0&&dt(e[i]),delete e[i].zcClippingId)}}return this},ot=function(){var e=Xe[this.id];return e&&e.elements?e.elements.slice(0):[]},st=function(){Xe[this.id]&&(this.unclip(),this.off(),delete Xe[this.id])},ut=function(e){if(!e||!e.type)return!1;if(e.client&&e.client!==this)return!1;var t=Xe[this.id],n=t&&t.elements,r=!!n&&n.length>0,i=!e.target||r&&-1!==n.indexOf(e.target),a=e.relatedTarget&&r&&-1!==n.indexOf(e.relatedTarget),o=e.client&&e.client===this;return t&&(i||a||o)?!0:!1},lt=function(e){var t=Xe[this.id];if("object"==typeof e&&e&&e.type&&t){var n=ve(e),r=t&&t.handlers["*"]||[],i=t&&t.handlers[e.type]||[],o=r.concat(i);if(o&&o.length){var s,u,l,c,f,d=this;for(s=0,u=o.length;u>s;s++)l=o[s],c=d,"string"==typeof l&&"function"==typeof a[l]&&(l=a[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(c=l,l=l.handleEvent),"function"==typeof l&&(f=E({},e),ye(l,c,[f],n))}}},ct=function(e){return"string"==typeof e&&(e=[]),"number"!=typeof e.length?[e]:e},ft=function(e){if(e&&1===e.nodeType){var t=function(e){(e||(e=a.event))&&("js"!==e._source&&(e.stopImmediatePropagation(),e.preventDefault()),delete e._source)},n=function(n){(n||(n=a.event))&&(t(n),Ye.focus(e))};e.addEventListener("mouseover",n,!1),e.addEventListener("mouseout",t,!1),e.addEventListener("mouseenter",t,!1),e.addEventListener("mouseleave",t,!1),e.addEventListener("mousemove",t,!1),Ze[e.zcClippingId]={mouseover:n,mouseout:t,mouseenter:t,mouseleave:t,mousemove:t}}},dt=function(e){if(e&&1===e.nodeType){var t=Ze[e.zcClippingId];if("object"==typeof t&&t){for(var n,r,i=["move","leave","enter","out","over"],a=0,o=i.length;o>a;a++)n="mouse"+i[a],r=t[n],"function"==typeof r&&e.removeEventListener(n,r,!1);delete Ze[e.zcClippingId]}}};Ye._createClient=function(){Qe.apply(this,S(arguments))},Ye.prototype.on=function(){return et.apply(this,S(arguments))},Ye.prototype.off=function(){return tt.apply(this,S(arguments))},Ye.prototype.handlers=function(){return nt.apply(this,S(arguments))},Ye.prototype.emit=function(){return rt.apply(this,S(arguments))},Ye.prototype.clip=function(){return it.apply(this,S(arguments))},Ye.prototype.unclip=function(){return at.apply(this,S(arguments))},Ye.prototype.elements=function(){return ot.apply(this,S(arguments))},Ye.prototype.destroy=function(){return st.apply(this,S(arguments))},Ye.prototype.setText=function(e){if(!Xe[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.setData("text/plain",e),this},Ye.prototype.setHtml=function(e){if(!Xe[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.setData("text/html",e),this},Ye.prototype.setRichText=function(e){if(!Xe[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.setData("application/rtf",e),this},Ye.prototype.setData=function(){if(!Xe[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.setData.apply(this,S(arguments)),this},Ye.prototype.clearData=function(){if(!Xe[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.clearData.apply(this,S(arguments)),this},Ye.prototype.getData=function(){if(!Xe[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.getData.apply(this,S(arguments))},"function"==typeof define&&define.amd?define(function(){return Ye}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Ye:e.ZeroClipboard=Ye}(function(){return this||window}()),angular.module("zeroclipboard",[]).provider("uiZeroclipConfig",function(){var e={buttonClass:"",swfPath:"ZeroClipboard.swf",trustedDomains:[window.location.host],cacheBust:!0,forceHandCursor:!1,zIndex:999999999,debug:!0,title:null,autoActivate:!0,flashLoadTimeout:3e4,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active"};this.setZcConf=function(t){angular.extend(e,t)},this.$get=function(){return{zeroclipConfig:e}}}).directive("uiZeroclip",["$document","$window","uiZeroclipConfig",function(e,t,n){var r=n.zeroclipConfig||{},i=t.ZeroClipboard;return{scope:{onCopied:"&zeroclipCopied",onError:"&?zeroclipOnError",onBeforeCopy:"&?zeroclipOnBeforeCopy",client:"=?uiZeroclip",value:"=zeroclipModel",text:"@zeroclipText"},link:function(e,t,n){var a,o=t[0];i.config(r),angular.isFunction(i)&&(e.client=new i(o)),e.$watch("value",function(e){void 0!==e&&t.attr("data-clipboard-text",e)}),e.$watch("text",function(e){t.attr("data-clipboard-text",e)}),e.client.on("aftercopy",a=function(t){e.$apply(function(){e.onCopied({$event:t})})}),e.client.on("error",function(t){e.onError&&e.$apply(function(){e.onError({$event:t})}),i.destroy()}),e.client.on("beforecopy",function(t){e.onBeforeCopy&&e.$apply(function(){e.onBeforeCopy({$event:t})})}),e.$on("$destroy",function(){e.client.off("complete",a)})}}}]),function(){"use strict";function e(e){return e instanceof RegExp}function t(e){return e&&e.window===e}function n(e){return e&&e.$evalAsync&&e.$watch}function r(i,a){if(i===a)return{isEqual:!0,unequalVariable:"",stringDiff:!1,o1:i,o2:a};if(null===i||null===a)return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:i,o2:a};if(i!==i&&a!==a)return{isEqual:!0,unequalVariable:"",stringDiff:!1,o1:i,o2:a};var o,s,c,f=typeof i,h=typeof a;if(f==h){if("string"==f&&i!=a)return{isEqual:!1,unequalVariable:"",stringDiff:!0,o1:i,o2:a};if("object"==f){if(!l(i)){if(d(i))return{isEqual:d(a)&&i.getTime()==a.getTime(),unequalVariable:"",stringDiff:!1,o1:i,o2:a};if(e(i)&&e(a))return{isEqual:i.toString()==a.toString(),unequalVariable:"",stringDiff:!1,o1:i,o2:a};if(n(i)||n(a)||t(i)||t(a)||l(a))return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:i,o2:a};c={};var p={isEqual:!0,unequalVariable:"",stringDiff:!1,o1:i,o2:a};for(s in i)if("$"!==s.charAt(0)&&!u(i[s])){var g=r(i[s],a[s]);if(!g.isEqual){if(g.unequalVariable="."+String(s)+g.unequalVariable,!g.stringDiff)return g;p=g}c[s]=!0}for(s in a)if(!c.hasOwnProperty(s)&&"$"!==s.charAt(0)&&void 0!==a[s]&&!u(a[s]))return{
isEqual:!1,unequalVariable:"",stringDiff:!1,o1:i,o2:a};return p}if(!l(a))return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:i,o2:a};if((o=i.length)==a.length){var p={isEqual:!0,unequalVariable:"",stringDiff:!1,o1:i,o2:a};for(s=0;o>s;s++){var g=r(i[s],a[s]);if(!g.isEqual){if(g.unequalVariable="["+String(s)+"]"+g.unequalVariable,!g.stringDiff)return g;p=g}}return p}}}return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:i,o2:a}}function i(e,t){if(e&&t){var n,r;e.length>t.length?(r=e.split(""),n=t.split("")):(n=e.split(""),r=t.split(""));for(var i,a=0,o=[],s=0;s<n.length&&a<r.length;s++){for(i="";n[s]!=r[a]&&a<r.length;)i+=r[a],a++;i&&o.push(i),n[s]==r[a]&&a++}var u=s==n.length;if(a<r.length){for(i="";a<r.length;)i+=r[a],a++;o.push(i)}}else var u=!1,o=[];return{areSimilar:u,differences:o}}function a(e){var t=/\s/g;if(1!=e.length)return!1;for(var n in e[0])if(e[0][n].match(t))return!1;return!0}var o=15,s=(angular.isDefined,angular.isUndefined),u=angular.isFunction,l=angular.isArray,c=angular.isString,f=angular.isObject,d=angular.isDate,h=(angular.forEach,angular.copy),p=angular.bind;angular.module("Chronicle",[]).service("Chronicle",["$rootScope","$parse",function(e,t){this.record=function(e,t,n,r){var i=new d(e,t,n,r);return i};var d=function(e,r,i,a){if(!c(e))throw new Error("Watch variable that is not a string was passed to Chronicle.");if(this.watchVar=e,this.parsedWatchVar=t(e),s(this.parsedWatchVar(r)))throw new Error(e+", the watch variable passed to Chronicle, is not defined in the given scope.");if(s(r))throw new Error("Undefined scope passed to Chronicle.");if(n(r))this.isScope=!0;else{if(!f(r))throw new Error("Incorrect scope type passed to Chronicle.");this.isScope=!1}if(this.scope=r,this.stringHandling=i!==!0&&"true"!==i?!1:!0,this.parsedNoWatchVars=[],l(a))for(var o in a){if(!c(a[o]))throw new Error("Not all passed 'no watch' variables are in string format");if(this.parsedNoWatchVars.push(t(a[o])),s(this.parsedNoWatchVars[o](r)))throw new Error(a[o]+", a 'no watch' variable passed to Chronicle, is not defined in the given scope")}else if(c(a)){if(this.parsedNoWatchVars.push(t(a)),s(this.parsedNoWatchVars[0](r)))throw new Error(a+", the 'no watch' variable passed to Chronicle, is not defined in the given scope")}else if(!s(a))throw new Error("Incorect type for 'no watch' variables");this.archive=[],this.onAdjustFunctions=[],this.onRedoFunctions=[],this.onUndoFunctions=[],this.currArchivePos=null,this.addWatch()};d.prototype.addOnAdjustFunction=function(e){if(!u(e))throw new Error("Function added to run on adjustment is not a function");this.onAdjustFunctions.push(e)},d.prototype.removeOnAdjustFunction=function(e){this.onAdjustFunctions.splice(this.onAdjustFunctions.indexOf(e),1)},d.prototype.addOnUndoFunction=function(e){if(!u(e))throw new Error("Function added to run on undo is not a function");this.onUndoFunctions.push(e)},d.prototype.removeOnUndoFunction=function(e){this.onUndoFunctions.splice(this.onUndoFunctions.indexOf(e),1)},d.prototype.addOnRedoFunction=function(e){if(!u(e))throw new Error("Function added to run on redo is not a function");this.onRedoFunctions.push(e)},d.prototype.removeOnRedoFunction=function(e){this.onRedoFunctions.splice(this.onRedoFunctions.indexOf(e),1)},d.prototype.undo=function(){if(this.canUndo()){this.currArchivePos-=1,this.revert(this.currArchivePos);for(var e=0;e<this.onUndoFunctions.length;e++)this.onUndoFunctions[e]();return!0}return!1},d.prototype.redo=function(){if(this.canRedo()){this.currArchivePos+=1,this.revert(this.currArchivePos);for(var e=0;e<this.onRedoFunctions.length;e++)this.onRedoFunctions[e]();return!0}return!1},d.prototype.revert=function(e){this.parsedWatchVar.assign(this.scope,h(this.archive[e].watchVar));for(var t=0;t<this.parsedNoWatchVars.length;t++)this.parsedNoWatchVars[t].assign(this.scope,h(this.archive[e].noWatchVars[t]))},d.prototype.canRedo=function(){return this.currArchivePos<this.archive.length-1?!0:!1},d.prototype.canUndo=function(){return this.currArchivePos>0?!0:!1},d.prototype.addToArchive=function(){var e=!1;if(this.archive.length){var n=r(this.parsedWatchVar(this.scope),this.archive[this.currArchivePos].watchVar);if(!n.isEqual){e=!0;var s=t(this.watchVar+n.unequalVariable);if(this.stringHandling&&n.stringDiff){var u=!1,l=i(n.o1,n.o2);if(l.areSimilar&&this.archive[this.currArchivePos].parsedUnequalVariable==s){var u=a(l.differences);"string"!=typeof t("watchVar"+n.unequalVariable)(this.archive[this.currArchivePos-1])?u=!1:u&&Math.abs(t("watchVar"+n.unequalVariable)(this.archive[this.currArchivePos-1]).length-t("watchVar"+n.unequalVariable)(this.archive[this.currArchivePos]).length)>=o&&(u=!1)}}}}else e=!0;e&&this.newEntry(u,s)},d.prototype.newEntry=function(e,t){var n={};n.noWatchVars=[],n.parsedUnequalVariable=t,n.watchVar=h(this.parsedWatchVar(this.scope));for(var r=0;r<this.parsedNoWatchVars.length;r++)n.noWatchVars.push(h(this.parsedNoWatchVars[r](this.scope)));if(this.archive.length-1>this.currArchivePos){var i=this.archive.length-this.currArchivePos-1;this.archive.splice(this.currArchivePos+1,i)}for(e&&this.archive.splice(this.currArchivePos,1),this.archive.push(n),this.currArchivePos=this.archive.length-1,r=0;r<this.onAdjustFunctions.length;r++)this.onAdjustFunctions[r]()},d.prototype.addWatch=function(){var t=this;t.cancelWatch=t.isScope?t.scope.$watch(t.watchVar,function(){t.addToArchive.apply(t)},!0):e.$watch(p(t,function(){return t.parsedWatchVar(t.scope)}),function(){t.addToArchive.apply(t)},!0)}}])}(),/*!
 * Angular Tooltips v0.1.15
 *
 * Released under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * Brought to you by 720kb.net
 *
 * 2015-07-21
 */
!function(e){"use strict";e.module("720kb.tooltips",[]).directive("tooltips",["$window","$compile","$interpolate","$interval",function(t,n,r,i){var a=8,o=9,s=10,u=20,l="_720kb-tooltip-",c=r.startSymbol(),f=r.endSymbol();return{restrict:"A",scope:{},link:function(r,d,h){function p(){H&&C||(C=!0,r.initTooltip(P)),F&&r.tooltipTryPosition(),r.showTooltip()}function g(){r.hideTooltip()}function m(){r.hideTooltip(),r.initTooltip(R)}var v,y,b,x,w,$,k,_,S,E,C=!1,M=e.element(d[0]),T=e.element(t.document.getElementsByTagName("body")[0]),O=h.tooltipTitle||h.title||"",A=h.tooltipScroll||!1,N=h.tooltipContent||"",D=h.tooltipHtml||"",L=h.tooltipShowTrigger||"mouseover",I=h.tooltipHideTrigger||"mouseleave",R=h.tooltipSide||"top",P=R,j=h.tooltipSize||"medium",F="undefined"!=typeof h.tooltipTry&&null!==h.tooltipTry?r.$eval(h.tooltipTry):!0,U=h.tooltipClass||"",z=(h.tooltipSpeed||"medium").toLowerCase(),q=h.tooltipDelay||0,H="undefined"!=typeof h.tooltipLazy&&null!==h.tooltipLazy?r.$eval(h.tooltipLazy):!0,B="undefined"!=typeof h.tooltipCloseButton&&null!==h.tooltipCloseButton,W=h.tooltipCloseButton||"",V='<div class="_720kb-tooltip '+l+j+'">';B&&(V=V+'<span class="'+l+'close-button" ng-click="hideTooltip()"> '+W+" </span>"),h.tooltipView&&(V=h.tooltipViewCtrl?V+'<div ng-controller="'+h.tooltipViewCtrl+'" ng-include="\''+h.tooltipView+"'\"></div>":V+"<div ng-include=\"'"+h.tooltipView+"'\"></div>"),V=V+'<div class="'+l+'title"> '+c+"title"+f+"</div>"+c+"content"+f+D+' <span class="'+l+'caret"></span></div>',r.title=O,r.content=N,r.html=D,r.parseSpeed=function(){switch(z){case"fast":z=100;break;case"medium":z=450;break;case"slow":z=800;break;default:z=Number(z)}},v=n(V)(r),v.addClass(U),T.append(v),r.isTooltipEmpty=function(){return r.title||r.content||r.html?void 0:!0},r.initTooltip=function(e){r.isTooltipEmpty()?v.css("visibility","hidden"):(v.css("visibility",""),w=M[0].offsetHeight,$=M[0].offsetWidth,y=v[0].offsetHeight,b=v[0].offsetWidth,r.parseSpeed(),r.tooltipPositioning(e))},r.getOffsets=function(){k=r.getOffsetTop(M[0]),_=r.getOffsetLeft(M[0])},r.getOffsetTop=function(e){return e.getBoundingClientRect().top+t.scrollY},r.getOffsetLeft=function(e){return e.getBoundingClientRect().left+t.scrollX},r.bindShowTriggers=function(){M.bind(L,p)},r.bindHideTriggers=function(){M.bind(I,g)},r.clearTriggers=function(){M.unbind(L,p),M.unbind(I,g)},r.bindShowTriggers(),r.showTooltip=function(){A&&(E=M[0].getBoundingClientRect(),S=i(function(){var t=M[0].getBoundingClientRect();e.equals(E,t)||r.tooltipPositioning(P),E=t},u)),v.addClass(l+"open"),v.css("transition","opacity "+z+"ms linear"),q&&v.css("transition-delay",q+"ms"),r.clearTriggers(),r.bindHideTriggers()},r.hideTooltip=function(){v.removeClass(l+"open"),v.css("transition",""),r.clearTriggers(),r.bindShowTriggers(),e.isDefined(r.positionInterval)&&(i.cancel(S),S=void 0)},r.removePosition=function(){v.removeClass(l+"left").removeClass(l+"right").removeClass(l+"top").removeClass(l+"bottom ")},r.tooltipPositioning=function(e){r.removePosition(),r.getOffsets();var t,n;"small"===j?x=a:"medium"===j?x=o:"large"===j&&(x=s),"left"===e&&(t=k+w/2-y/2,n=_-(b+x),v.css("top",t+"px"),v.css("left",n+"px"),v.addClass(l+"left")),"right"===e&&(t=k+w/2-y/2,n=_+$+x,v.css("top",t+"px"),v.css("left",n+"px"),v.addClass(l+"right")),"top"===e&&(t=k-x-y,n=_+$/2-b/2,v.css("top",t+"px"),v.css("left",n+"px"),v.addClass(l+"top")),"bottom"===e&&(t=k+w+x,n=_+$/2-b/2,v.css("top",t+"px"),v.css("left",n+"px"),v.addClass(l+"bottom"))},r.tooltipTryPosition=function(){var e=v[0].offsetHeight,n=v[0].offsetWidth,i=v[0].offsetTop,a=v[0].offsetLeft,o=t.innerWidth,s=t.innerHeight,u=o-(n+a),l=s-(e+i),c=M[0].offsetHeight,f=M[0].offsetWidth,d=M[0].offsetLeft,h=M[0].offsetTop,p=o-(d+f),g=s-(c+h),m={left:a,top:i,bottom:l,right:u},y={left:d,right:p,top:h,bottom:g},b=Object.keys(y).reduce(function(e,t){return y[e]>y[t]?e:t}),x=Object.keys(m).reduce(function(e,t){return m[e]<m[t]?e:t});R!==b&&m[x]<20&&(P=b,r.tooltipPositioning(P),r.initTooltip(b))},e.element(t).bind("resize",m),r.$on("$destroy",function(){e.element(t).unbind("resize",m),r.clearTriggers(),v.remove()}),h.tooltipTitle&&h.$observe("tooltipTitle",function(e){r.title=e,r.initTooltip(P)}),h.title&&h.$observe("title",function(e){r.title=e,r.initTooltip(P)}),h.tooltipContent&&h.$observe("tooltipContent",function(e){r.content=e,r.initTooltip(P)}),h.tooltipHtml&&h.$observe("tooltipHtml",function(e){r.html=e,r.initTooltip(P)})}}}])}(angular),function(e){return e.module("ngOrderObjectBy",[]).filter("orderObjectBy",function(){return function(t,n,r){function i(e,t){return e[t]}var a=[];return e.forEach(t,function(e){a.push(e)}),a.sort(function(e,t){var r,a=n.split(".").reduce(i,e),o=n.split(".").reduce(i,t);return r=a===o?0:a>o?1:-1}),r&&a.reverse(),a}})}(angular),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.dl=e()}}(function(){return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){var r=e("./util"),i={load:e("./import/load"),read:e("./import/read"),type:e("./import/type"),bins:e("./bins/bins"),$bin:e("./bins/histogram").$bin,groupby:e("./aggregate/groupby"),histogram:e("./bins/histogram").histogram,print:e("./print"),template:e("./template"),timeunits:e("./time-units")};r.extend(i,r),r.extend(i,e("./generate")),r.extend(i,e("./stats")),r.extend(i,e("./import/readers")),t.exports=i},{"./aggregate/groupby":6,"./bins/bins":8,"./bins/histogram":9,"./generate":10,"./import/load":16,"./import/read":17,"./import/readers":18,"./import/type":19,"./print":20,"./stats":21,"./template":22,"./time-units":23,"./util":24}],2:[function(e,t,n){},{}],3:[function(e,t,n){function r(){if(!s){s=!0;for(var e,t=o.length;t;){e=o,o=[];for(var n=-1;++n<t;)e[n]();t=o.length}s=!1}}function i(){}var a=t.exports={},o=[],s=!1;a.nextTick=function(e){o.push(e),s||setTimeout(r,0)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=i,a.addListener=i,a.once=i,a.off=i,a.removeListener=i,a.removeAllListeners=i,a.emit=i,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],4:[function(e,t,n){function r(){this._cells={},this._aggr=[],this._stream=!1}function i(e){if(a.isArray(e))return e;if(null==e)return[];var t,n,r=[];for(t in e)n=a.array(e[t]),r.push({name:t,ops:n});return r}var a=e("../util"),o=e("./measures"),s=e("./collector"),u=r.Flags={ADD_CELL:1,MOD_CELL:2},l=r.prototype;l.stream=function(e){return null==e?this._stream:(this._stream=!!e,this._aggr=[],this)},l.key=function(e){return null==e?this._key:(this._key=a.$(e),this)},l.groupby=function(e){return this._dims=a.array(e).map(function(e,t){if(e=a.isString(e)?{name:e,get:a.$(e)}:a.isFunction(e)?{name:a.name(e)||e.name||"_"+t,get:e}:e.name&&a.isFunction(e.get)?e:null,null==e)throw"Invalid groupby argument: "+e;return e}),this.clear()},l.summarize=function(e){e=i(e),this._count=!0;var t,n,r,s,u,l,c,f=this._aggr=[];for(r=0;r<e.length;++r){for(s=0,t=[],n=e[r];s<n.ops.length;++s)u=n.ops[s],"count"!==u&&(this._count=!1),l=n.as&&n.as[s]||u+("*"===n.name?"":"_"+n.name),t.push(o[u](l));c=n.get&&a.$(n.get)||("*"===n.name?a.identity:a.$(n.name)),f.push({name:n.name,measures:o.create(t,this._stream,c,this._assign)})}return this.clear()},l.count=function(){return this.summarize({"*":"count"})},l._assign=function(e,t,n){e[t]=n},l.clear=function(){return this._cells={},this},l._cellkey=function(e){var t,n=this._dims,r=n.length,i=String(n[0].get(e));for(t=1;r>t;++t)i+="|"+n[t].get(e);return i},l._cell=function(e){var t=this._dims.length?this._cellkey(e):"";return this._cells[t]||(this._cells[t]=this._newcell(e))},l._newcell=function(e){var t,n={num:0,tuple:this._newtuple(e),flag:u.ADD_CELL,aggs:{}},r=this._aggr;for(t=0;t<r.length;++t)n.aggs[r[t].name]=new r[t].measures(n,n.tuple);return n.collect&&(n.data=new s(this._key)),n},l._newtuple=function(e){var t,n,r=this._dims,i={};for(t=0,n=r.length;n>t;++t)i[r[t].name]=r[t].get(e);return this._ingest(i)},l._ingest=a.identity,l._add=function(e){var t,n=this._cell(e),r=this._aggr;if(n.num+=1,!this._count)for(n.collect&&n.data.add(e),t=0;t<r.length;++t)n.aggs[r[t].name].add(e);n.flag|=u.MOD_CELL},l._rem=function(e){var t,n=this._cell(e),r=this._aggr;if(n.num-=1,!this._count)for(n.collect&&n.data.rem(e),t=0;t<r.length;++t)n.aggs[r[t].name].rem(e);n.flag|=u.MOD_CELL},l._mod=function(e,t){var n,r=this._cell(t),i=this._cell(e),o=this._aggr;for(r!==i?(r.num-=1,i.num+=1,r.collect&&r.data.rem(t),i.collect&&i.data.add(e)):r.collect&&!a.isObject(e)&&(r.data.rem(t),r.data.add(e)),n=0;n<o.length;++n)r.aggs[o[n].name].rem(t),i.aggs[o[n].name].add(e);r.flag|=u.MOD_CELL,i.flag|=u.MOD_CELL},l.result=function(){var e,t,n,r=[],i=this._aggr;for(n in this._cells){if(e=this._cells[n],e.num>0){for(e.collect&&e.data.values(),t=0;t<i.length;++t)e.aggs[i[t].name].set();r.push(e.tuple)}else delete this._cells[n];e.flag=0}return this._rems=!1,r},l.changes=function(){var e,t,n,r,i={add:[],rem:[],mod:[]},a=this._aggr;for(r in this._cells){for(e=this._cells[r],t=e.flag,e.collect&&e.data.values(),n=0;n<a.length;++n)e.aggs[a[n].name].set();e.num<=0?(i.rem.push(e.tuple),delete this._cells[r]):t&u.ADD_CELL?i.add.push(e.tuple):t&u.MOD_CELL&&i.mod.push(e.tuple),e.flag=0}return this._rems=!1,i},l.execute=function(e){return this.clear().insert(e).result()},l.insert=function(e){this._consolidate();for(var t=0;t<e.length;++t)this._add(e[t]);return this},l.remove=function(e){if(!this._stream)throw"Aggregator not configured for streaming removes. Call stream(true) prior to calling summarize.";for(var t=0;t<e.length;++t)this._rem(e[t]);return this._rems=!0,this},l._consolidate=function(){if(this._rems){for(var e in this._cells)this._cells[e].collect&&this._cells[e].data.values();this._rems=!1}},t.exports=r},{"../util":24,"./collector":5,"./measures":7}],5:[function(e,t,n){function r(e){this._add=[],this._rem=[],this._key=e||null,this._last=null}var i=e("../util"),a=e("../stats"),o="__dl_rem__",s=r.prototype;s.add=function(e){this._add.push(e)},s.rem=function(e){this._rem.push(e)},s.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r,s=this._add,u=this._rem,l=this._key,c=Array(s.length-u.length);if(i.isObject(u[0]))if(l)for(r=i.toMap(u,l),e=0,t=0,n=s.length;n>e;++e)r.hasOwnProperty(l(s[e]))||(c[t++]=s[e]);else{for(e=0,n=u.length;n>e;++e)u[e][o]=1;for(e=0,t=0,n=s.length;n>e;++e)s[e][o]||(c[t++]=s[e]);for(e=0,n=u.length;n>e;++e)delete u[e][o]}else for(r=a.count.map(u),e=0,t=0,n=s.length;n>e;++e)r[s[e]]>0?r[s[e]]-=1:c[t++]=s[e];return this._rem=[],this._add=c},s.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=a.extent.index(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},s.argmin=function(e){return this.extent(e)[0]},s.argmax=function(e){return this.extent(e)[1]},s.min=function(e){var t=this.extent(e)[0];return t?e(t):+(1/0)},s.max=function(e){var t=this.extent(e)[1];return t?e(t):-(1/0)},s.quartile=function(e){return this._get===e&&this._q||(this._q=a.quartile(this.values(),e),this._get=e),this._q},s.q1=function(e){return this.quartile(e)[0]},s.q2=function(e){return this.quartile(e)[1]},s.q3=function(e){return this.quartile(e)[2]},t.exports=r},{"../stats":21,"../util":24}],6:[function(e,t,n){var r=e("../util"),i=e("./aggregator");t.exports=function(){var e=[].reduce.call(arguments,function(e,t){return e.concat(r.array(t))},[]);return(new i).groupby(e).summarize({"*":"values"})}},{"../util":24,"./aggregator":4}],7:[function(e,t,n){function r(e){return function(t){var n=o.extend({init:"",add:"",rem:"",idx:0},e);return n.out=t||e.name,n}}function i(e,t){function n(e,r){function i(t){e[t]||n(e,e[t]=s[t]())}return r.req&&r.req.forEach(i),t&&r.str&&r.str.forEach(i),e}var r=e.reduce(n,e.reduce(function(e,t){return e[t.name]=t,e},{}));return o.vals(r).sort(function(e,t){return e.idx-t.idx})}function a(t,n,r,a){var s=i(t,n),u="this.cell = cell; this.tuple = t; this.valid = 0; this.missing = 0;",l="if (v==null) this.missing++; if (!this.isValid(v)) return; ++this.valid;",c="if (v==null) this.missing--; if (!this.isValid(v)) return; --this.valid;",f="var t = this.tuple; var cell = this.cell;";return s.forEach(function(e){e.idx<0?(u=e.init+u,l=e.add+l,c=e.rem+c):(u+=e.init,l+=e.add,c+=e.rem)}),t.slice().sort(function(e,t){return e.idx-t.idx}).forEach(function(e){f+="this.assign(t,'"+e.out+"',"+e.set+");"}),f+="return t;",u=Function("cell","t",u),u.prototype.assign=a,u.prototype.add=Function("t","var v = this.get(t);"+l),u.prototype.rem=Function("t","var v = this.get(t);"+c),u.prototype.set=Function(f),u.prototype.get=r,u.prototype.distinct=e("../stats").count.distinct,u.prototype.isValid=o.isValid,u}var o=e("../util"),s={values:r({name:"values",init:"cell.collect = true;",set:"cell.data.values()",idx:-1}),count:r({name:"count",set:"cell.num"}),missing:r({name:"missing",set:"this.missing"}),valid:r({name:"valid",set:"this.valid"}),sum:r({name:"sum",init:"this.sum = 0;",add:"this.sum += v;",rem:"this.sum -= v;",set:"this.sum"}),mean:r({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.mean"}),average:r({name:"average",set:"this.mean",req:["mean"],idx:1}),variance:r({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : 0",req:["mean"],idx:1}),variancep:r({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : 0",req:["variance"],idx:2}),stdev:r({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",req:["variance"],idx:2}),stdevp:r({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",req:["variance"],idx:2}),median:r({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:r({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:r({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),distinct:r({name:"distinct",set:"this.distinct(cell.data.values(), this.get)",req:["values"],idx:3}),argmin:r({name:"argmin",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = null;",set:"this.argmin = this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:r({name:"argmax",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = null;",set:"this.argmax = this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:r({name:"min",init:"this.min = +Infinity;",add:"if (v < this.min) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:r({name:"max",init:"this.max = -Infinity;",add:"if (v > this.max) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4}),modeskew:r({name:"modeskew",set:"this.dev===0 ? 0 : (this.mean - cell.data.q2(this.get)) / Math.sqrt(this.dev/(this.valid-1))",req:["mean","stdev","median"],idx:5})};s.create=a,t.exports=s},{"../stats":21,"../util":24}],8:[function(e,t,n){function r(e){if(!e)throw Error("Missing binning options.");var t,n,r,s,u,l,c,f=e.maxbins||15,d=e.base||10,h=Math.log(d),p=e.div||[5,2],g=e.min,m=e.max,v=m-g;if(e.step)t=e.step;else if(e.steps)t=e.steps[Math.min(e.steps.length-1,i(e.steps,v/f,0,e.steps.length))];else{n=Math.ceil(Math.log(f)/h),r=e.minstep||0,t=Math.max(r,Math.pow(d,Math.round(Math.log(v)/h)-n));do t*=d;while(Math.ceil(v/t)>f);for(l=0;l<p.length;++l)u=t/p[l],u>=r&&f>=v/u&&(t=u)}return u=Math.log(t),s=u>=0?0:~~(-u/h)+1,c=Math.pow(d,-s-1),g=Math.min(g,Math.floor(g/t+c)*t),m=Math.ceil(m/t)*t,{start:g,stop:m,step:t,unit:{precision:s},value:a,index:o}}function i(e,t,n,r){for(;r>n;){var i=n+r>>>1;l.cmp(e[i],t)<0?n=i+1:r=i}return n}function a(e){return this.step*Math.floor(e/this.step+f)}function o(e){return Math.floor((e-this.start)/this.step+f)}function s(e){return this.unit.date(a.call(this,e))}function u(e){return o.call(this,this.unit.unit(e))}var l=e("../util"),c=e("../time-units"),f=1e-15;r.date=function(e){if(!e)throw Error("Missing date binning options.");var t=e.min,n=e.max,i=e.maxbins||20,a=e.minbins||4,o=+n-+t,l=e.unit?c[e.unit]:c.find(o,a,i),f=r({min:null!=l.min?l.min:l.unit(t),max:null!=l.max?l.max:l.unit(n),maxbins:i,minstep:l.minstep,steps:l.step});return f.unit=l,f.index=u,e.raw||(f.value=s),f},t.exports=r},{"../time-units":23,"../util":24}],9:[function(e,t,n){function r(e,t,n){n=o(e,t,n);var r=a(n);return r?f.$func("bin",r.unit.unit?function(e){return r.value(r.unit.unit(e))}:function(e){return r.value(e)})(n.accessor):n.accessor||f.identity}function i(e,t,n){n=o(e,t,n);var r=a(n);return r?s(e,n.accessor,r):u(e,n.accessor,n&&n.sort)}function a(e){var t=e.type,n=null;return(null==t||p[t])&&("integer"===t&&null==e.minstep&&(e.minstep=1),n="date"===t?h.date(e):h(e)),n}function o(){var e=arguments,t=0,n=f.isArray(e[t])?e[t++]:null,r=f.isFunction(e[t])||f.isString(e[t])?f.$(e[t++]):null,i=f.extend({},e[t]);if(n&&(i.type=i.type||c(n,r),p[i.type])){var a=l.extent(n,r);i=f.extend({min:a[0],max:a[1]},i)}return r&&(i.accessor=r),i}function s(e,t,n){for(var r,i,a=d.range(n.start,n.stop+n.step/2,n.step).map(function(e){return{value:n.value(e),count:0}}),o=0;o<e.length;++o)if(r=t?t(e[o]):e[o],f.isValid(r)){if(i=n.index(r),0>i||i>=a.length||!isFinite(i))continue;a[i].count+=1}return a.bins=n,a}function u(e,t,n){var r=l.unique(e,t),i=l.count.map(e,t);return r.map(function(e){return{value:e,count:i[e]}}).sort(f.comparator(n?"-count":"+value"))}var l=e("../stats"),c=e("../import/type"),f=e("../util"),d=e("../generate"),h=e("./bins"),p={integer:1,number:1,date:1};t.exports={$bin:r,histogram:i}},{"../generate":10,"../import/type":19,"../stats":21,"../util":24,"./bins":8}],10:[function(e,t,n){var r=t.exports={};r.repeat=function(e,t){var n,r=Array(t);for(n=0;t>n;++n)r[n]=e;return r},r.zeros=function(e){return r.repeat(0,e)},r.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("Infinite range");var r,i=[],a=-1;if(0>n)for(;(r=e+n*++a)>t;)i.push(r);else for(;(r=e+n*++a)<t;)i.push(r);return i},r.random={},r.random.uniform=function(e,t){void 0===t&&(t=void 0===e?1:e,e=0);var n=t-e,i=function(){return e+n*Math.random()};return i.samples=function(e){return r.zeros(e).map(i)},i},r.random.integer=function(e,t){void 0===t&&(t=e,e=0);var n=t-e,i=function(){return e+Math.floor(n*Math.random())};return i.samples=function(e){return r.zeros(e).map(i)},i},r.random.normal=function(e,t){e=e||0,t=t||1;var n,i=function(){var r,i,a=0,o=0;if(void 0!==n)return a=n,n=void 0,a;do a=2*Math.random()-1,o=2*Math.random()-1,r=a*a+o*o;while(0===r||r>1);return i=Math.sqrt(-2*Math.log(r)/r),n=e+o*i*t,e+a*i*t};return i.samples=function(e){return r.zeros(e).map(i)},i}},{}],11:[function(e,t,n){(function(n){function r(e,t){if(e){var n=t.header;e=(n?n.join(t.delimiter)+"\n":"")+e}return a.dsv(t.delimiter).parse(e)}var i=e("../../util"),a="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null;r.delimiter=function(e){var t={delimiter:e};return function(e,n){return r(e,n?i.extend(n,t):t)}},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../util":24}],12:[function(e,t,n){var r=e("./dsv");t.exports={json:e("./json"),topojson:e("./topojson"),treejson:e("./treejson"),dsv:r,csv:r.delimiter(","),tsv:r.delimiter("	")}},{"./dsv":11,"./json":13,"./topojson":14,"./treejson":15}],13:[function(e,t,n){var r=e("../../util");t.exports=function(e,t){var n=r.isObject(e)&&!r.isBuffer(e)?e:JSON.parse(e);return t&&t.property&&(n=r.accessor(t.property)(n)),n}},{"../../util":24}],14:[function(e,t,n){(function(n){var r=e("./json"),i=function(e,t){var n=i.topojson;if(null==n)throw Error("TopoJSON library not loaded.");var a,o=r(e,t);if(t&&t.feature){if(a=o.objects[t.feature])return n.feature(o,a).features;throw Error("Invalid TopoJSON object: "+t.feature)}if(t&&t.mesh){if(a=o.objects[t.mesh])return[n.mesh(o,o.objects[t.mesh])];throw Error("Invalid TopoJSON object: "+t.mesh)}throw Error("Missing TopoJSON feature or mesh parameter.")};i.topojson="undefined"!=typeof window?window.topojson:"undefined"!=typeof n?n.topojson:null,t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./json":13}],15:[function(e,t,n){function r(e,t){function n(e){r.push(e);var i=e[t];if(i)for(var a=0;a<i.length;++a)n(i[a],e)}t=t||"children";var r=[];return n(e,null),r.root=e,r}var i=e("./json");t.exports=function(e,t){return e=i(e,t),r(e,t&&t.children)}},{"./json":13}],16:[function(e,t,n){function r(t){var n=t.url;if(!n&&t.file)return f+t.file;if(t.baseURL&&!c.test(n)&&(l.startsWith(n,"/")||"/"===t.baseURL[t.baseURL.length-1]||(n="/"+n),n=t.baseURL+n),l.isNode&&l.startsWith(n,"//")&&(n=(t.defaultProtocol||"http")+":"+n),t.domainWhiteList){var r,i;if(l.isNode){var a=e("url").parse(n);r=a.hostname,i=null}else{var o=document.createElement("a");o.href=n,""===o.host&&(o.href=o.href),r=o.hostname.toLowerCase(),i=window.location.hostname}if(i!==r){var s=t.domainWhiteList.some(function(e){var t=r.length-e.length;return e===r||t>1&&"."===r[t-1]&&r.lastIndexOf(e)===t});if(!s)throw"URL is not whitelisted: "+n}}return n}function i(e,t){var n,r=t||function(e){throw e};try{n=i.sanitizeUrl(e)}catch(a){return void r(a)}return n?l.isNode?l.startsWith(n,f)?s(n.slice(f.length),t):n.indexOf("://")<0?s(n,t):u(n,t):o(n,t):void r("Invalid URL: "+n)}function a(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function o(e,t){function n(){var e=i.status;!e&&a(i)||e>=200&&300>e||304===e?t(null,i.responseText):t(i,null)}var r=!!t,i=new XMLHttpRequest;return!this.XDomainRequest||"withCredentials"in i||!/^(http(s)?:)?\/\//.test(e)||(i=new XDomainRequest),r&&("onload"in i?i.onload=i.onerror=n:i.onreadystatechange=function(){i.readyState>3&&n()}),i.open("GET",e,r),i.send(),!r&&a(i)?i.responseText:void 0}function s(t,n){var r=e("fs");return n?void e("fs").readFile(t,n):r.readFileSync(t,"utf8")}function u(t,n){return n?void e("request")(t,function(e,t,r){e||200!==t.statusCode?(e=e||"Load failed with response code "+t.statusCode+".",n(e,null)):n(null,r)}):e("sync-request")("GET",t).getBody()}var l=e("../util"),c=/^([A-Za-z]+:)?\/\//,f="file://";i.sanitizeUrl=r,t.exports=i},{"../util":24,fs:2,request:2,"sync-request":2,url:2}],17:[function(e,t,n){function r(e,t){var n=t&&t.type||"json";return e=s[n](e,t),t&&t.parse&&i(e,t.parse),e}function i(e,t){var n,r,i,s,u,l,c=e.length;for(t="auto"===t?o.inferAll(e):a.duplicate(t),n=a.keys(t),r=n.map(function(e){return o.parsers[t[e]]}),s=0,l=n.length;c>s;++s)for(i=e[s],u=0;l>u;++u)i[n[u]]=r[u](i[n[u]]);o.annotation(e,t)}var a=e("../util"),o=e("./type"),s=e("./formats");r.formats=s,t.exports=r},{"../util":24,"./formats":12,"./type":19}],18:[function(e,t,n){var r=e("../util"),i=e("./load"),a=e("./read");t.exports=r.keys(a.formats).reduce(function(e,t){return e[t]=function(e,n,o){r.isString(e)&&(e={url:e}),2===arguments.length&&r.isFunction(n)&&(o=n,n=void 0),n=r.extend({parse:"auto"},n),n.type=t;var s=i(e,o?function(e,t){if(e)return void o(e,null);try{t=a(t,n)}catch(r){o(r,null)}o(null,t)}:void 0);return s?a(s,n):void 0},e},{})},{"../util":24,"./load":16,"./read":17}],19:[function(e,t,n){function r(e,t){return t?void(e[l]=t):e&&e[l]||null}function i(e,t){t=u.$(t);var n,r,i;if(e[l]&&(n=t(e[l]),u.isString(n)))return n;for(r=0,i=e.length;!u.isValid(n)&&i>r;++r)n=t?t(e[r]):e[r];return u.isDate(n)?"date":u.isNumber(n)?"number":u.isBoolean(n)?"boolean":u.isString(n)?"string":null}function a(e,t){return e.length?(t=t||u.keys(e[0]),t.reduce(function(t,n){return t[n]=i(e,n),t},{})):void 0}function o(e,t){t=u.$(t);var n,r,i,a=["boolean","integer","number","date"];for(n=0;n<e.length;++n){for(i=t?t(e[n]):e[n],r=0;r<a.length;++r)u.isValid(i)&&!f[a[r]](i)&&(a.splice(r,1),r-=1);if(0===a.length)return"string"}return a[0]}function s(e,t){return t=t||u.keys(e[0]),t.reduce(function(t,n){return t[n]=o(e,n),t},{})}var u=e("../util"),l="__types__",c={"boolean":u["boolean"],integer:u.number,number:u.number,date:u.date,string:function(e){return""===e?null:e}},f={"boolean":function(e){return"true"===e||"false"===e||u.isBoolean(e)},integer:function(e){return f.number(e)&&(e=+e)===~~e},number:function(e){return!isNaN(+e)&&!u.isDate(e)},date:function(e){return!isNaN(Date.parse(e))}};i.annotation=r,i.all=a,i.infer=o,i.inferAll=s,i.parsers=c,t.exports=i},{"../util":24}],20:[function(e,t,n){function r(e){return["valid:    "+e.valid,"missing:  "+e.missing,"distinct: "+e.distinct,"min:      "+e.min,"max:      "+e.max,"median:   "+e.median,"mean:     "+e.mean,"stdev:    "+e.stdev,"modeskew: "+e.modeskew].join("\n")}function i(e){var t=["valid:    "+e.valid,"missing:  "+e.missing,"distinct: "+e.distinct,"top values: "],n=e.unique,r=a.keys(n).sort(function(e,t){return n[t]-n[e]}).slice(0,6).map(function(e){return" '"+e+"' ("+n[e]+")"});return t.concat(r).join("\n")}var a=e("./util"),o=e("./import/type"),s=e("./stats"),u=e("./template"),l={date:'|time:"%m/%d/%Y %H:%M:%S"',number:'|number:".4f"',integer:'|number:"d"'},c={number:"left",integer:"left"};t.exports.table=function(e,t){t=a.extend({separator:" ",minwidth:8,maxwidth:15},t);var n=t.fields||a.keys(e[0]),r=o.all(e);if(t.start||t.limit){var i=t.start||0,f=t.limit?i+t.limit:e.length;e=e.slice(i,f)}var d=n.map(function(n){var i=l[r[n]]||"",a=u("{{"+n+i+"}}"),o=s.max(e,function(e){return a(e).length});return o=Math.max(Math.min(n.length,t.minwidth),o),t.maxwidth>0?Math.min(o,t.maxwidth):o}),h=n.map(function(e,t){return a.truncate(a.pad(e,d[t],"center"),d[t])}).join(t.separator),p=u(n.map(function(e,t){return"{{"+e+(l[r[e]]||"")+("|pad:"+d[t]+","+(c[r[e]]||"right"))+("|truncate:"+d[t])+"}}"}).join(t.separator));return h+"\n"+e.map(p).join("\n")},t.exports.summary=function(e){e=e?e.__summary__?e:s.summary(e):this;var t,n,a=[];for(t=0,n=e.length;n>t;++t)a.push("-- "+e[t].field+" --"),a.push("string"===e[t].type||e[t].distinct<10?i(e[t]):r(e[t])),a.push("");return a.join("\n")}},{"./import/type":19,"./stats":21,"./template":22,"./util":24}],21:[function(e,t,n){var r=e("./util"),i=e("./import/type"),a=e("./generate"),o={};o.unique=function(e,t,n){t=r.$(t),n=n||[];var i,a,o,s={};for(a=0,o=e.length;o>a;++a)i=t?t(e[a]):e[a],i in s||(s[i]=1,n.push(i));return n},o.count=function(e){return e&&e.length||0},o.count.valid=function(e,t){t=r.$(t);var n,i,a,o=0;for(i=0,a=e.length;a>i;++i)n=t?t(e[i]):e[i],r.isValid(n)&&(o+=1);return o},o.count.missing=function(e,t){t=r.$(t);var n,i,a,o=0;for(i=0,a=e.length;a>i;++i)n=t?t(e[i]):e[i],null==n&&(o+=1);return o},o.count.distinct=function(e,t){t=r.$(t);var n,i,a,o={},s=0;for(i=0,a=e.length;a>i;++i)n=t?t(e[i]):e[i],n in o||(o[n]=1,s+=1);return s},o.count.map=function(e,t){t=r.$(t);var n,i,a,o={};for(i=0,a=e.length;a>i;++i)n=t?t(e[i]):e[i],o[n]=n in o?o[n]+1:1;return o},o.median=function(e,t){return t&&(e=e.map(r.$(t))),e=e.filter(r.isValid).sort(r.cmp),o.quantile(e,.5)},o.quartile=function(e,t){t&&(e=e.map(r.$(t))),e=e.filter(r.isValid).sort(r.cmp);var n=o.quantile;return[n(e,.25),n(e,.5),n(e,.75)]},o.quantile=function(e,t,n){void 0===n&&(n=t,t=r.identity),t=r.$(t);var i=(e.length-1)*n+1,a=Math.floor(i),o=+t(e[a-1]),s=i-a;return s?o+s*(t(e[a])-o):o},o.sum=function(e,t){t=r.$(t);for(var n,i=0,a=0,o=e.length;o>a;++a)n=t?t(e[a]):e[a],r.isValid(n)&&(i+=n);return i},o.mean=function(e,t){t=r.$(t);var n,i,a,o,s,u=0;for(i=0,o=0,a=e.length;a>i;++i)s=t?t(e[i]):e[i],r.isValid(s)&&(n=s-u,u+=n/++o);return u},o.variance=function(e,t){if(t=r.$(t),!r.isArray(e)||e.length<2)return 0;var n,i,a,o,s=0,u=0;for(i=0,a=0;i<e.length;++i)o=t?t(e[i]):e[i],r.isValid(o)&&(n=o-s,s+=n/++a,u+=n*(o-s));return u/=a-1},o.stdev=function(e,t){return Math.sqrt(o.variance(e,t))},o.modeskew=function(e,t){var n=o.mean(e,t),r=o.median(e,t),i=o.stdev(e,t);return 0===i?0:(n-r)/i},o.min=function(e,t){return o.extent(e,t)[0]},o.max=function(e,t){return o.extent(e,t)[1]},o.extent=function(e,t){t=r.$(t);var n,i,a,o,s=e.length;for(o=0;s>o;++o)if(a=t?t(e[o]):e[o],r.isValid(a)){n=i=a;break}for(;s>o;++o)a=t?t(e[o]):e[o],r.isValid(a)&&(n>a&&(n=a),a>i&&(i=a));return[n,i]},o.extent.index=function(e,t){t=r.$(t);var n,i,a,o,s=-1,u=-1,l=e.length;for(o=0;l>o;++o)if(a=t?t(e[o]):e[o],r.isValid(a)){n=i=a,s=u=o;break}for(;l>o;++o)a=t?t(e[o]):e[o],r.isValid(a)&&(n>a&&(n=a,s=o),a>i&&(i=a,u=o));return[s,u]},o.dot=function(e,t,n){var i,a,o=0;if(n)for(t=r.$(t),n=r.$(n),i=0;i<e.length;++i)a=t(e[i])*n(e[i]),a===a&&(o+=a);else{if(e.length!==t.length)throw Error("Array lengths must match.");for(i=0;i<e.length;++i)a=e[i]*t[i],a===a&&(o+=a)}return o},o.rank=function(e,t){t=r.$(t)||r.identity;var n,i,a,o=e.map(function(e,n){return{idx:n,val:t(e)}}).sort(r.comparator("val")),s=e.length,u=Array(s),l=-1,c={};for(n=0;s>n;++n){if(i=o[n].val,0>l&&c===i)l=n-1;else if(l>-1&&c!==i){for(a=1+(n-1+l)/2;n>l;++l)u[o[l].idx]=a;l=-1}u[o[n].idx]=n+1,c=i}if(l>-1)for(a=1+(s-1+l)/2;s>l;++l)u[o[l].idx]=a;return u},o.cor=function(e,t,n){var i=n;n=i?e.map(r.$(n)):t,t=i?e.map(r.$(t)):e;var a=o.dot(t,n),s=o.mean(t),u=o.mean(n),l=o.stdev(t),c=o.stdev(n),f=e.length;return(a-f*s*u)/((f-1)*l*c)},o.cor.rank=function(e,t,n){var i,a,s,u=n?o.rank(e,r.$(t)):o.rank(e),l=n?o.rank(e,r.$(n)):o.rank(t),c=e.length;for(i=0,a=0;c>i;++i)s=u[i]-l[i],a+=s*s;return 1-6*a/(c*(c*c-1))},o.cor.dist=function(e,t,n){var i,a,s,u,l=n?e.map(r.$(t)):e,c=n?e.map(r.$(n)):t,f=o.dist.mat(l),d=o.dist.mat(c),h=f.length;for(i=0,a=0,s=0,u=0;h>i;++i)a+=f[i]*f[i],s+=d[i]*d[i],u+=f[i]*d[i];return Math.sqrt(u/Math.sqrt(a*s))},o.dist=function(e,t,n,i){var a,o,s=r.isFunction(n)||r.isString(n),u=e,l=s?e:t,c=s?i:n,f=2===c||null==c,d=e.length,h=0;for(s&&(t=r.$(t),n=r.$(n)),o=0;d>o;++o)a=s?t(u[o])-n(l[o]):u[o]-l[o],h+=f?a*a:Math.pow(Math.abs(a),c);return f?Math.sqrt(h):Math.pow(h,1/c)},o.dist.mat=function(e){var t,n,r,i=e.length,o=i*i,s=Array(o),u=a.zeros(i),l=0;for(n=0;i>n;++n)for(s[n*i+n]=0,r=n+1;i>r;++r)s[n*i+r]=t=Math.abs(e[n]-e[r]),s[r*i+n]=t,u[n]+=t,u[r]+=t;for(n=0;i>n;++n)l+=u[n],u[n]/=i;for(l/=o,n=0;i>n;++n)for(r=n;i>r;++r)s[n*i+r]+=l-u[n]-u[r],s[r*i+n]=s[n*i+r];return s},o.entropy=function(e,t){t=r.$(t);var n,i,a=0,o=0,s=e.length;for(n=0;s>n;++n)a+=t?t(e[n]):e[n];if(0===a)return 0;for(n=0;s>n;++n)i=(t?t(e[n]):e[n])/a,i&&(o+=i*Math.log(i));return-o/Math.LN2},o.mutual=function(e,t,n,i){var a,o,s,u=i?e.map(r.$(t)):e,l=i?e.map(r.$(n)):t,c=i?e.map(r.$(i)):n,f={},d={},h=c.length,p=0,g=0,m=0;for(s=0;h>s;++s)f[u[s]]=0,d[l[s]]=0;for(s=0;h>s;++s)f[u[s]]+=c[s],d[l[s]]+=c[s],p+=c[s];for(o=1/(p*Math.LN2),s=0;h>s;++s)0!==c[s]&&(a=p*c[s]/(f[u[s]]*d[l[s]]),g+=c[s]*o*Math.log(a),m+=c[s]*o*Math.log(c[s]/p));return[g,1+g/m]},o.mutual.info=function(e,t,n,r){return o.mutual(e,t,n,r)[0]},o.mutual.dist=function(e,t,n,r){return o.mutual(e,t,n,r)[1]},o.profile=function(e,t){var n,a,s,u,l,c=0,f=0,d=0,h=0,p=null,g=null,m=0,v=[],y={};for(s=0;s<e.length;++s)u=t?t(e[s]):e[s],y[u]=u in y?y[u]+1:(h+=1,1),null==u?++d:r.isValid(u)&&(l="string"==typeof u?u.length:u,(null===p||p>l)&&(p=l),(null===g||l>g)&&(g=l),n=l-c,c+=n/++f,m+=n*(l-c),v.push(l));return m/=f-1,a=Math.sqrt(m),v.sort(r.cmp),{type:i(e,t),unique:y,count:e.length,valid:f,
missing:d,distinct:h,min:p,max:g,mean:c,stdev:a,median:u=o.quantile(v,.5),q1:o.quantile(v,.25),q3:o.quantile(v,.75),modeskew:0===a?0:(c-u)/a}},o.summary=function(e,t){t=t||r.keys(e[0]);var n=t.map(function(t){var n=o.profile(e,r.$(t));return n.field=t,n});return n.__summary__=!0,n},t.exports=o},{"./generate":10,"./import/type":19,"./util":24}],22:[function(e,t,n){(function(n){function r(e){var t=i(e,"d");return t="var __t; return "+t+";",new Function("d",t).bind(c)}function i(e,t,n){t=t||"obj";var r=0,i="'",s=f;return e.replace(s,function(s,u,l){return i+=e.slice(r,l).replace(h,o),r=l+s.length,u&&(i+="'\n+((__t=("+a(u,t,n)+"))==null?'':__t)+\n'"),s}),i+"'"}function a(e,t,n){function i(e){return e=e||"",f?(f=!1,d="String("+d+")"+e):d+=e,d}function a(){return"(typeof "+d+'==="number"?new Date('+d+"):"+d+")"}var o=e.split("|"),c=o.shift().trim(),f=!0;n&&(n[c]=1);for(var d=r.property(t,c),h=0;h<o.length;++h){var p,g,m,v=o[h],y=null;switch((p=v.indexOf(":"))>0&&(v=v.slice(0,p),y=o[h].slice(p+1).split(",").map(function(e){return e.trim()})),v=v.trim()){case"length":i(".length");break;case"lower":i(".toLowerCase()");break;case"upper":i(".toUpperCase()");break;case"lower-locale":i(".toLocaleLowerCase()");break;case"upper-locale":i(".toLocaleUpperCase()");break;case"trim":i(".trim()");break;case"left":g=u.number(y[0]),i(".slice(0,"+g+")");break;case"right":g=u.number(y[0]),i(".slice(-"+g+")");break;case"mid":g=u.number(y[0]),m=g+u.number(y[1]),i(".slice(+"+g+","+m+")");break;case"slice":g=u.number(y[0]),i(".slice("+g+(y.length>1?","+u.number(y[1]):"")+")");break;case"truncate":g=u.number(y[0]),m=y[1],m="left"!==m&&"middle"!==m&&"center"!==m?"right":m,d="this.truncate("+i()+","+g+",'"+m+"')";break;case"pad":g=u.number(y[0]),m=y[1],m="left"!==m&&"middle"!==m&&"center"!==m?"right":m,d="this.pad("+i()+","+g+",'"+m+"')";break;case"number":g=s(y[0],l.format),f=!1,d="this.formats["+g+"]("+d+")";break;case"time":g=s(y[0],l.time.format),f=!1,d="this.formats["+g+"]("+a()+")";break;default:throw Error("Unrecognized template filter: "+v)}}return d}function o(e){return"\\"+d[e]}function s(e,t){if(!("'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]))throw Error("Format pattern must be quoted: "+e);if(e=e.slice(1,-1),!c.format_map[e]){var n=t(e),r=c.formats.length;c.formats.push(n),c.format_map[e]=r}return c.format_map[e]}var u=e("./util"),l="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,c={formats:[],format_map:{},truncate:u.truncate,pad:u.pad};r.source=i,r.context=c,t.exports=r,r.clearFormatCache=function(){c.formats=[],c.format_map={}},r.property=function(e,t){var n=u.field(t).map(u.str).join("][");return e+"["+n+"]"};var f=/\{\{(.+?)\}\}|$/g,d={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},h=/\\|'|\r|\n|\u2028|\u2029/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./util":24}],23:[function(e,t,n){function r(e){return"number"==typeof e}var i=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]],a=[{type:"second",minstep:1,format:"%Y %b %-d %H:%M:%S.%L",date:function(e){return new Date(1e3*e)},unit:function(e){return+e/1e3}},{type:"minute",minstep:1,format:"%Y %b %-d %H:%M",date:function(e){return new Date(6e4*e)},unit:function(e){return~~(+e/6e4)}},{type:"hour",minstep:1,format:"%Y %b %-d %H:00",date:function(e){return new Date(36e5*e)},unit:function(e){return~~(+e/36e5)}},{type:"day",minstep:1,step:[1,7],format:"%Y %b %-d",date:function(e){return new Date(864e5*e)},unit:function(e){return~~(+e/864e5)}},{type:"month",minstep:1,step:[1,3,6],format:"%b %Y",date:function(e){return new Date(Date.UTC(~~(e/12),e%12,1))},unit:function(e){return r(e)&&(e=new Date(e)),12*e.getUTCFullYear()+e.getUTCMonth()}},{type:"year",minstep:1,format:"%Y",date:function(e){return new Date(Date.UTC(e,0,1))},unit:function(e){return(r(e)?new Date(e):e).getUTCFullYear()}}],o={type:"minuteOfHour",min:0,max:59,minstep:1,format:"%M",date:function(e){return new Date(Date.UTC(1970,0,1,0,e))},unit:function(e){return(r(e)?new Date(e):e).getUTCMinutes()}},s={type:"hourOfDay",min:0,max:23,minstep:1,format:"%H",date:function(e){return new Date(Date.UTC(1970,0,1,e))},unit:function(e){return(r(e)?new Date(e):e).getUTCHours()}},u={type:"dayOfWeek",min:0,max:6,step:[1],format:"%a",date:function(e){return new Date(Date.UTC(1970,0,4+e))},unit:function(e){return(r(e)?new Date(e):e).getUTCDay()}},l={type:"dayOfMonth",min:1,max:31,step:[1],format:"%-d",date:function(e){return new Date(Date.UTC(1970,0,e))},unit:function(e){return(r(e)?new Date(e):e).getUTCDate()}},c={type:"monthOfYear",min:0,max:11,step:[1],format:"%b",date:function(e){return new Date(Date.UTC(1970,e%12,1))},unit:function(e){return(r(e)?new Date(e):e).getUTCMonth()}},f={second:a[0],minute:a[1],hour:a[2],day:a[3],month:a[4],year:a[5],minuteOfHour:o,hourOfDay:s,dayOfWeek:u,dayOfMonth:l,monthOfYear:c,timesteps:a};f.find=function(e,t,n){var r,o,s,u=i[0];for(r=1,o=i.length;o>r;++r)if(u=i[r],e>u[0]){if(s=e/u[0],s>n)return a[i[r-1][1]];if(s>=t)return a[u[1]]}return a[i[i.length-1][1]]},t.exports=f},{}],24:[function(e,t,n){(function(n){function r(e){return e.replace(f,"$1\\'")}function i(e,t){var n,r="";for(n=0;e>n;++n)r+=t;return r}function a(e,t,n){var r=0,i=e.split(d);return e=n?(i=i.reverse()).filter(function(e){return r+=e.length,t>=r}).reverse():i.filter(function(e){return r+=e.length,t>=r}),e.length?e.join("").trim():i[0].slice(0,t)}var o=e("buffer"),s=e("./time-units"),u=t.exports={};u.isNode="undefined"!=typeof n&&"undefined"!=typeof n.stderr;var l="__name__";u.namedfunc=function(e,t){return t[l]=e,t},u.name=function(e){return null==e?null:e[l]},u.identity=function(e){return e},u["true"]=u.namedfunc("true",function(){return!0}),u["false"]=u.namedfunc("false",function(){return!1}),u.duplicate=function(e){return JSON.parse(JSON.stringify(e))},u.equal=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},u.extend=function(e){for(var t,n,r=1,i=arguments.length;i>r;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e},u.length=function(e){return null!=e&&null!=e.length?e.length:null},u.keys=function(e){var t,n=[];for(t in e)n.push(t);return n},u.vals=function(e){var t,n=[];for(t in e)n.push(e[t]);return n},u.toMap=function(e,t){return(t=u.$(t))?e.reduce(function(e,n){return e[t(n)]=1,e},{}):e.reduce(function(e,t){return e[t]=1,e},{})},u.keystr=function(e){var t=e.length;if(!t)return"";for(var n=String(e[0]),r=1;t>r;++r)n+="|"+String(e[r]);return n};var c=Object.prototype.toString;u.isObject=function(e){return e===Object(e)},u.isFunction=function(e){return"[object Function]"===c.call(e)},u.isString=function(e){return"string"==typeof value||"[object String]"===c.call(e)},u.isArray=Array.isArray||function(e){return"[object Array]"===c.call(e)},u.isNumber=function(e){return"number"==typeof e||"[object Number]"===c.call(e)},u.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},u.isDate=function(e){return"[object Date]"===c.call(e)},u.isValid=function(e){return null!=e&&e===e},u.isBuffer=o.Buffer&&o.Buffer.isBuffer||u["false"],u.number=function(e){return null==e||""===e?null:+e},u["boolean"]=function(e){return null==e||""===e?null:"false"===e?!1:!!e},u.date=function(e){return null==e||""===e?null:Date.parse(e)},u.array=function(e){return null!=e?u.isArray(e)?e:[e]:[]},u.str=function(e){return u.isArray(e)?"["+e.map(u.str)+"]":u.isObject(e)?JSON.stringify(e):u.isString(e)?"'"+r(e)+"'":e};var f=/(^|[^\\])'/g;u.field=function(e){return String(e).split("\\.").map(function(e){return e.split(".")}).reduce(function(e,t){return e.length&&(e[e.length-1]+="."+t.shift()),e.push.apply(e,t),e},[])},u.accessor=function(e){var t;return null==e||u.isFunction(e)?e:u.namedfunc(e,(t=u.field(e)).length>1?function(e){return t.reduce(function(e,t){return e[t]},e)}:function(t){return t[e]})},u.$=u.accessor,u.mutator=function(e){var t;return u.isString(e)&&(t=u.field(e)).length>1?function(e,n){for(var r=0;r<t.length-1;++r)e=e[t[r]];e[t[r]]=n}:function(t,n){t[e]=n}},u.$func=function(e,t){return function(n){n=u.$(n)||u.identity;var r=e+(u.name(n)?"_"+u.name(n):"");return u.namedfunc(r,function(e){return t(n(e))})}},u.$valid=u.$func("valid",u.isValid),u.$length=u.$func("length",u.length),u.$year=u.$func("year",s.year.unit),u.$month=u.$func("month",s.monthOfYear.unit),u.$date=u.$func("date",s.dayOfMonth.unit),u.$day=u.$func("day",s.dayOfWeek.unit),u.$hour=u.$func("hour",s.hourOfDay.unit),u.$minute=u.$func("minute",s.minuteOfHour.unit),u.$in=function(e,t){e=u.$(e);var n=u.isArray(t)?u.toMap(t):t;return function(t){return!!n[e(t)]}},u.comparator=function(e){var t=[];return void 0===e&&(e=[]),e=u.array(e).map(function(e){var n=1;return"-"===e[0]?(n=-1,e=e.slice(1)):"+"===e[0]&&(n=1,e=e.slice(1)),t.push(n),u.accessor(e)}),function(n,r){var i,a,o,s,u;for(i=0,a=e.length;a>i;++i){if(o=e[i],s=o(n),u=o(r),u>s)return-1*t[i];if(s>u)return t[i]}return 0}},u.cmp=function(e,t){return t>e?-1:e>t?1:e>=t?0:null===e?-1:null===t?1:0/0},u.numcmp=function(e,t){return e-t},u.stablesort=function(e,t,n){var r=e.reduce(function(e,t,r){return e[n(t)]=r,e},{});return e.sort(function(e,i){var a=t(e),o=t(i);return o>a?-1:a>o?1:r[n(e)]-r[n(i)]}),e},u.startsWith=String.prototype.startsWith?function(e,t){return e.startsWith(t)}:function(e,t){return 0===e.lastIndexOf(t,0)},u.pad=function(e,t,n,r){r=r||" ";var a=t-e.length;if(0>=a)return e;switch(n){case"left":return i(a,r)+e;case"middle":case"center":return i(Math.floor(a/2),r)+e+i(Math.ceil(a/2),r);default:return e+i(a,r)}},u.truncate=function(e,t,n,r,i){var o=e.length;if(t>=o)return e;i=void 0!==i?String(i):"…";var s=Math.max(0,t-i.length);switch(n){case"left":return i+(r?a(e,s,1):e.slice(o-s));case"middle":case"center":var u=Math.ceil(s/2),l=Math.floor(s/2);return(r?a(e,u):e.slice(0,u))+i+(r?a(e,l,1):e.slice(o-l));default:return(r?a(e,s):e.slice(0,s))+i}};var d=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/}).call(this,e("_process"))},{"./time-units":23,_process:3,buffer:2}]},{},[1])(1)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.vl=e()}}(function(){var e;return function t(e,n,r){function i(o,s){if(!n[o]){if(!e[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};e[o][0].call(c.exports,function(t){var n=e[o][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){},{}],2:[function(t,n,r){
// JavaScript specs as packaged in the D3 library (d3js.org). Please see license at http://colorbrewer.org/export/LICENSE.txt
!function(){var t={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};"function"==typeof e&&e.amd?e(t):"object"==typeof n&&n.exports?n.exports=t:this.colorbrewer=t}()},{}],3:[function(e,t,n){t.exports=e("./colorbrewer.js")},{"./colorbrewer.js":2}],4:[function(t,n,r){!function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.color={})}(this,function(e){"use strict";function t(e,t){var n=e-t;return n>180||-180>n?n-360*Math.round(n/360):n}function n(){}function r(e){var t;return e=(e+"").trim().toLowerCase(),(t=T.exec(e))?(t=parseInt(t[1],16),a(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t)):(t=O.exec(e))?i(parseInt(t[1],16)):(t=A.exec(e))?a(t[1],t[2],t[3]):(t=N.exec(e))?a(2.55*t[1],2.55*t[2],2.55*t[3]):(t=D.exec(e))?u(t[1],.01*t[2],.01*t[3]):L.hasOwnProperty(e)?i(L[e]):null}function i(e){return a(e>>16&255,e>>8&255,255&e)}function a(e,t,i){return 1===arguments.length&&(e instanceof n||(e=r(e)),e?(e=e.rgb(),i=e.b,t=e.g,e=e.r):e=t=i=0/0),new o(e,t,i)}function o(e,t,n){this.r=+e,this.g=+t,this.b=+n}function s(e,t,n){return"#"+(isNaN(e)?"00":(e=Math.round(e))<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16))+(isNaN(t)?"00":(t=Math.round(t))<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16))+(isNaN(n)?"00":(n=Math.round(n))<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16))}function u(e,t,i){if(1===arguments.length)if(e instanceof l)i=e.l,t=e.s,e=e.h;else if(e instanceof n||(e=r(e)),e){if(e instanceof l)return e;e=e.rgb();var a=e.r/255,o=e.g/255,s=e.b/255,u=Math.min(a,o,s),c=Math.max(a,o,s),f=c-u;i=(c+u)/2,f?(t=.5>i?f/(c+u):f/(2-c-u),e=a===c?(o-s)/f+6*(s>o):o===c?(s-a)/f+2:(a-o)/f+4,e*=60):(e=0/0,t=i>0&&1>i?0:e)}else e=t=i=0/0;return new l(e,t,i)}function l(e,t,n){this.h=+e,this.s=+t,this.l=+n}function c(e,t,n){return 255*(60>e?t+(n-t)*e/60:180>e?n:240>e?t+(n-t)*(240-e)/60:t)}function f(e,t,n){if(1===arguments.length)if(e instanceof d)n=e.b,t=e.a,e=e.l;else if(e instanceof y){var r=e.h*G;n=Math.sin(r)*e.c,t=Math.cos(r)*e.c,e=e.l}else{e instanceof o||(e=a(e));var i=m(e.r),s=m(e.g),n=m(e.b),u=h((.4124564*i+.3575761*s+.1804375*n)/U),l=h((.2126729*i+.7151522*s+.072175*n)/z),c=h((.0193339*i+.119192*s+.9503041*n)/q);n=200*(l-c),t=500*(u-l),e=116*l-16}return new d(e,t,n)}function d(e,t,n){this.l=+e,this.a=+t,this.b=+n}function h(e){return e>V?Math.pow(e,1/3):e/W+H}function p(e){return e>B?e*e*e:W*(e-H)}function g(e){return 255*(.0031308>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function m(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function v(e,t,n){return 1===arguments.length&&(e instanceof y?(n=e.l,t=e.c,e=e.h):(e instanceof d||(e=f(e)),n=e.l,t=Math.sqrt(e.a*e.a+e.b*e.b),e=Math.atan2(e.b,e.a)*X,0>e&&(e+=360))),new y(e,t,n)}function y(e,t,n){this.h=+e,this.c=+t,this.l=+n}function b(e,t,n){if(1===arguments.length)if(e instanceof x)n=e.l,t=e.s,e=e.h;else{e instanceof o||(e=a(e));var r=e.r/255,i=e.g/255,s=e.b/255;n=(ie*s+ne*r-re*i)/(ie+ne-re);var u=s-n,l=(te*(i-n)-Q*u)/ee;t=Math.sqrt(l*l+u*u)/(te*n*(1-n)),e=t?Math.atan2(l,u)*X-120:0/0,0>e&&(e+=360)}return new x(e,t,n)}function x(e,t,n){this.h=+e,this.s=+t,this.l=+n}function w(e){return function(n,r){n=b(n),r=b(r);var i=isNaN(n.h)?r.h:n.h,a=isNaN(n.s)?r.s:n.s,o=n.l,s=isNaN(r.h)?0:t(r.h,i),u=isNaN(r.s)?0:r.s-a,l=r.l-o;return function(t){return n.h=i+s*t,n.s=a+u*t,n.l=o+l*Math.pow(t,e),n+""}}}function $(e){return function(t,n){t=b(t),n=b(n);var r=isNaN(t.h)?n.h:t.h,i=isNaN(t.s)?n.s:t.s,a=t.l,o=isNaN(n.h)?0:n.h-r,s=isNaN(n.s)?0:n.s-i,u=n.l-a;return function(n){return t.h=r+o*n,t.s=i+s*n,t.l=a+u*Math.pow(n,e),t+""}}}function k(e,t){e=v(e),t=v(t);var n=isNaN(e.h)?t.h:e.h,r=isNaN(e.c)?t.c:e.c,i=e.l,a=isNaN(t.h)?0:t.h-n,o=isNaN(t.c)?0:t.c-r,s=t.l-i;return function(t){return e.h=n+a*t,e.c=r+o*t,e.l=i+s*t,e+""}}function _(e,n){e=v(e),n=v(n);var r=isNaN(e.h)?n.h:e.h,i=isNaN(e.c)?n.c:e.c,a=e.l,o=isNaN(n.h)?0:t(n.h,r),s=isNaN(n.c)?0:n.c-i,u=n.l-a;return function(t){return e.h=r+o*t,e.c=i+s*t,e.l=a+u*t,e+""}}function S(e,t){e=f(e),t=f(t);var n=e.l,r=e.a,i=e.b,a=t.l-n,o=t.a-r,s=t.b-i;return function(t){return e.l=n+a*t,e.a=r+o*t,e.b=i+s*t,e+""}}function E(e,t){e=u(e),t=u(t);var n=isNaN(e.h)?t.h:e.h,r=isNaN(e.s)?t.s:e.s,i=e.l,a=isNaN(t.h)?0:t.h-n,o=isNaN(t.s)?0:t.s-r,s=t.l-i;return function(t){return e.h=n+a*t,e.s=r+o*t,e.l=i+s*t,e+""}}function C(e,n){e=u(e),n=u(n);var r=isNaN(e.h)?n.h:e.h,i=isNaN(e.s)?n.s:e.s,a=e.l,o=isNaN(n.h)?0:t(n.h,r),s=isNaN(n.s)?0:n.s-i,l=n.l-a;return function(t){return e.h=r+o*t,e.s=i+s*t,e.l=a+l*t,e+""}}function M(e,t){e=a(e),t=a(t);var n=e.r,r=e.g,i=e.b,o=t.r-n,u=t.g-r,l=t.b-i;return function(e){return s(Math.round(n+o*e),Math.round(r+u*e),Math.round(i+l*e))}}var T=/^#([0-9a-f]{3})$/,O=/^#([0-9a-f]{6})$/,A=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,N=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,D=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/;r.prototype=n.prototype={displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}};var L={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},I=.7,R=1/I,P=a.prototype=o.prototype=new n;P.brighter=function(e){return e=null==e?R:Math.pow(R,e),new o(this.r*e,this.g*e,this.b*e)},P.darker=function(e){return e=null==e?I:Math.pow(I,e),new o(this.r*e,this.g*e,this.b*e)},P.rgb=function(){return this},P.displayable=function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255},P.toString=function(){return s(this.r,this.g,this.b)};var j=u.prototype=l.prototype=new n;j.brighter=function(e){return e=null==e?R:Math.pow(R,e),new l(this.h,this.s,this.l*e)},j.darker=function(e){return e=null==e?I:Math.pow(I,e),new l(this.h,this.s,this.l*e)},j.rgb=function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(.5>n?n:1-n)*t,i=2*n-r;return new o(c(e>=240?e-240:e+120,i,r),c(e,i,r),c(120>e?e+240:e-120,i,r))},j.displayable=function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1};var F=18,U=.95047,z=1,q=1.08883,H=4/29,B=6/29,W=3*B*B,V=B*B*B,Y=f.prototype=d.prototype=new n;Y.brighter=function(e){return new d(this.l+F*(null==e?1:e),this.a,this.b)},Y.darker=function(e){return new d(this.l-F*(null==e?1:e),this.a,this.b)},Y.rgb=function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=z*p(e),t=U*p(t),n=q*p(n),new o(g(3.2404542*t-1.5371385*e-.4985314*n),g(-.969266*t+1.8760108*e+.041556*n),g(.0556434*t-.2040259*e+1.0572252*n))};var G=Math.PI/180,X=180/Math.PI,K=v.prototype=y.prototype=new n;K.brighter=function(e){return new y(this.h,this.c,this.l+F*(null==e?1:e))},K.darker=function(e){return new y(this.h,this.c,this.l-F*(null==e?1:e))},K.rgb=function(){return f(this).rgb()};var J=-.14861,Z=1.78277,Q=-.29227,ee=-.90649,te=1.97294,ne=te*ee,re=te*Z,ie=Z*Q-ee*J,ae=b.prototype=x.prototype=new n;ae.brighter=function(e){return e=null==e?R:Math.pow(R,e),new x(this.h,this.s,this.l*e)},ae.darker=function(e){return e=null==e?I:Math.pow(I,e),new x(this.h,this.s,this.l*e)},ae.rgb=function(){var e=isNaN(this.h)?0:(this.h+120)*G,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new o(255*(t+n*(J*r+Z*i)),255*(t+n*(Q*r+ee*i)),255*(t+n*te*r))};var oe=w(1),se=$(1);e.interpolateCubehelix=oe,e.interpolateCubehelixLong=se,e.color=r,e.rgb=a,e.hsl=u,e.lab=f,e.hcl=v,e.cubehelix=b,e.interpolateRgb=M,e.interpolateHsl=C,e.interpolateHslLong=E,e.interpolateLab=S,e.interpolateHcl=_,e.interpolateHclLong=k,e.interpolateCubehelixGamma=w,e.interpolateCubehelixGammaLong=$})},{}],5:[function(t,n,r){"undefined"==typeof Map?(Map=function(){this.clear()},Map.prototype={set:function(e,t){return this._[e]=t,this},get:function(e){return this._[e]},has:function(e){return e in this._},"delete":function(e){return e in this._&&delete this._[e]},clear:function(){this._=Object.create(null)},get size(){var e=0;for(var t in this._)++e;return e},forEach:function(e){for(var t in this._)e(this._[t],t,this)}}):function(){var e=new Map;e.set(0,0)!==e&&(e=e.set,Map.prototype.set=function(){return e.apply(this,arguments),this})}(),function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.format={})}(this,function(e){"use strict";function t(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function n(e){return e=t(Math.abs(e)),e?e[1]:0/0}function r(e,n){var r=t(e,n);if(!r)return e+"";var i=r[0],a=r[1],o=a-(g=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+t(e,n+o-1)[0]}function i(e,n){var r=t(e,n);if(!r)return e+"";var i=r[0],a=r[1];return 0>a?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}function a(e,t){e=e.toPrecision(t);e:for(var n,r=e.length,i=1,a=-1;r>i;++i)switch(e[i]){case".":a=n=i;break;case"0":0===a&&(a=i),n=i;break;case"e":break e;default:a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(n+1):e}function o(e){return new s(e)}function s(e){if(!(t=I.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",a=t[4]||"",o=!!t[5],s=t[6]&&+t[6],u=!!t[7],l=t[8]&&+t[8].slice(1),c=t[9]||"";"n"===c?(u=!0,c="g"):L[c]||(c=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=s,this.comma=u,this.precision=l,this.type=c}function u(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function l(e){return e}function c(e){function t(e){e=o(e);var t=e.fill,n=e.align,r=e.sign,u=e.symbol,l=e.zero,c=e.width,f=e.comma,d=e.precision,h=e.type,p="$"===u?a[0]:"#"===u&&/[boxX]/.test(h)?"0"+h.toLowerCase():"",m="$"===u?a[1]:/[%p]/.test(h)?"%":"",v=L[h],y=!h||/[defgprs%]/.test(h);return d=null==d?h?6:12:/[gprs]/.test(h)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),function(e){var a=p,o=m;if("c"===h)o=v(e)+o,e="";else{e=+e;var u=(0>e||0>1/e)&&(e*=-1,!0);if(e=v(e,d),a=(u?"("===r?r:"-":"-"===r||"("===r?"":r)+a,o=o+("s"===h?R[8+g/3]:"")+(u&&"("===r?")":""),y)for(var b,x=-1,w=e.length;++x<w;)if(b=e.charCodeAt(x),48>b||b>57){o=(46===b?s+e.slice(x+1):e.slice(x))+o,e=e.slice(0,x);break}}f&&!l&&(e=i(e,1/0));var $=a.length+e.length+o.length,k=c>$?new Array(c-$+1).join(t):"";switch(f&&l&&(e=i(k+e,k.length?c-o.length:1/0),k=""),n){case"<":return a+e+o+k;case"=":return a+k+e+o;case"^":return k.slice(0,$=k.length>>1)+a+e+o+k.slice($)}return k+a+e+o}}function r(e,r){var i=t((e=o(e),e.type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor(n(r)/3))),s=Math.pow(10,-a),u=R[8+a/3];return function(e){return i(s*e)+u}}var i=e.grouping&&e.thousands?u(e.grouping,e.thousands):l,a=e.currency,s=e.decimal;return{format:t,formatPrefix:r}}function f(e,t){return Math.max(0,n(Math.abs(t))-n(Math.abs(e)))+1}function d(e,t){
return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(t)/3)))-n(Math.abs(e)))}function h(e){return Math.max(0,-n(Math.abs(e)))}function p(e){return"string"!=typeof e||(e=P.get(e))?c(e):null}var g,m={decimal:".",thousands:",",grouping:[3],currency:["¥",""]},v={decimal:",",thousands:" ",grouping:[3],currency:[""," руб."]},y={decimal:",",thousands:".",grouping:[3],currency:["R$",""]},b={decimal:",",thousands:".",grouping:[3],currency:["","zł"]},x={decimal:",",thousands:".",grouping:[3],currency:["€ ",""]},w={decimal:",",thousands:".",grouping:[3],currency:[""," ден."]},$={decimal:".",thousands:",",grouping:[3],currency:["","円"]},k={decimal:",",thousands:".",grouping:[3],currency:["€",""]},_={decimal:".",thousands:",",grouping:[3],currency:["₪",""]},S={decimal:",",thousands:".",grouping:[3],currency:[""," €"]},E={decimal:",",thousands:" ",grouping:[3],currency:["","$"]},C={decimal:",",thousands:" ",grouping:[3],currency:[""," €"]},M={decimal:",",thousands:".",grouping:[3],currency:[""," €"]},T={decimal:".",thousands:",",grouping:[3],currency:["$",""]},O={decimal:".",thousands:",",grouping:[3],currency:["£",""]},A={decimal:".",thousands:",",grouping:[3],currency:["$",""]},N={decimal:",",thousands:".",grouping:[3],currency:[""," €"]},D={decimal:",",thousands:".",grouping:[3],currency:[""," €"]},L={"":a,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return i(100*e,t)},r:i,s:r,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},I=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var R=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],P=(new Map).set("ca-ES",D).set("de-DE",N).set("en-CA",A).set("en-GB",O).set("en-US",T).set("es-ES",M).set("fi-FI",C).set("fr-CA",E).set("fr-FR",S).set("he-IL",_).set("it-IT",k).set("ja-JP",$).set("mk-MK",w).set("nl-NL",x).set("pl-PL",b).set("pt-BR",y).set("ru-RU",v).set("zh-CN",m),j=c(T);e.format=j.format,e.formatPrefix=j.formatPrefix,e.localeFormat=p,e.formatSpecifier=o,e.precisionFixed=h,e.precisionPrefix=d,e.precisionRound=f})},{}],6:[function(t,n,r){"undefined"==typeof Map?(Map=function(){this.clear()},Map.prototype={set:function(e,t){return this._[e]=t,this},get:function(e){return this._[e]},has:function(e){return e in this._},"delete":function(e){return e in this._&&delete this._[e]},clear:function(){this._=Object.create(null)},get size(){var e=0;for(var t in this._)++e;return e},forEach:function(e){for(var t in this._)e(this._[t],t,this)}}):function(){var e=new Map;e.set(0,0)!==e&&(e=e.set,Map.prototype.set=function(){return e.apply(this,arguments),this})}(),function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.timeFormat={})}(this,function(e){"use strict";function t(e,n,r){function i(t){return e(t=new Date(+t)),t}return i.floor=i,i.round=function(t){var r=new Date(+t),i=new Date(t-1);return e(r),e(i),n(i,1),i-t>t-r?r:i},i.ceil=function(t){return e(t=new Date(t-1)),n(t,1),t},i.offset=function(e,t){return n(e=new Date(+e),null==t?1:Math.floor(t)),e},i.range=function(t,r,i){var a=[];if(t=new Date(t-1),r=new Date(+r),i=null==i?1:Math.floor(i),!(r>t&&i>0))return a;for(n(t,1),e(t),r>t&&a.push(new Date(+t));n(t,i),e(t),r>t;)a.push(new Date(+t));return a},i.filter=function(r){return t(function(t){for(;e(t),!r(t);)t.setTime(t-1)},function(e,t){for(;--t>=0;)for(;n(e,1),!r(e););})},r&&(i.count=function(t,n){return xe.setTime(+t),we.setTime(+n),e(xe),e(we),Math.floor(r(xe,we))}),i}function n(e){return t(function(t){t.setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()+7-e)%7)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}function r(e){return t(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}function i(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function a(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function o(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function s(e){function t(e,t){return function(n){for(var r,i,a,o=[],s=-1,u=0,l=e.length;++s<l;)37===e.charCodeAt(s)&&(o.push(e.slice(u,s)),null!=(i=Oe[r=e.charAt(++s)])&&(r=e.charAt(++s)),(a=t[r])&&(r=a(n,null==i?"e"===r?" ":"0":i)),o.push(r),u=s+1);return o.push(e.slice(u,s)),o.join("")}}function n(e,t){return function(n){var i=o(1900),s=r(i,e,n,0);if(s!=n.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"Z"in i){if("w"in i&&("W"in i||"U"in i)){var u=a(o(i.y)).getUTCDay();"W"in i&&(i.U=i.W,i.w=(i.w+6)%7,--u),i.m=0,i.d=i.w+7*i.U-(u+6)%7}return i.H+=i.Z/100|0,i.M+=i.Z%100,a(i)}if("w"in i&&("W"in i||"U"in i)){var u=t(o(i.y)).getDay();"W"in i&&(i.U=i.W,i.w=(i.w+6)%7,--u),i.m=0,i.d=i.w+7*i.U-(u+6)%7}return t(i)}}function r(e,t,n,r){for(var i,a,o=0,s=t.length,u=n.length;s>o;){if(r>=u)return-1;if(i=t.charCodeAt(o++),37===i){if(i=t.charAt(o++),a=Re[i in Oe?t.charAt(o++):i],!a||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function s(e,t,n){var r=Ce.exec(t.slice(n));return r?(e.w=Me.get(r[0].toLowerCase()),n+r[0].length):-1}function u(e,t,n){var r=Se.exec(t.slice(n));return r?(e.w=Ee.get(r[0].toLowerCase()),n+r[0].length):-1}function l(e,t,n){var r=Ne.exec(t.slice(n));return r?(e.m=De.get(r[0].toLowerCase()),n+r[0].length):-1}function te(e,t,n){var r=Te.exec(t.slice(n));return r?(e.m=Ae.get(r[0].toLowerCase()),n+r[0].length):-1}function ne(e,t,n){return r(e,me,t,n)}function re(e,t,n){return r(e,ve,t,n)}function ie(e,t,n){return r(e,ye,t,n)}function ae(e,t,n){var r=_e.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}function oe(e){return we[e.getDay()]}function se(e){return xe[e.getDay()]}function ue(e){return ke[e.getMonth()]}function le(e){return $e[e.getMonth()]}function ce(e){return be[+(e.getHours()>=12)]}function fe(e){return we[e.getUTCDay()]}function de(e){return xe[e.getUTCDay()]}function he(e){return ke[e.getUTCMonth()]}function pe(e){return $e[e.getUTCMonth()]}function ge(e){return be[+(e.getUTCHours()>=12)]}var me=e.dateTime,ve=e.date,ye=e.time,be=e.periods,xe=e.days,we=e.shortDays,$e=e.months,ke=e.shortMonths,_e=f(be),Se=c(xe),Ee=f(xe),Ce=c(we),Me=f(we),Te=c($e),Ae=f($e),Ne=c(ke),De=f(ke),Le={a:oe,A:se,b:ue,B:le,c:null,d:E,e:E,H:C,I:M,j:T,L:O,m:A,M:N,p:ce,S:D,U:L,w:I,W:R,x:null,X:null,y:P,Y:j,Z:F,"%":ee},Ie={a:fe,A:de,b:he,B:pe,c:null,d:U,e:U,H:z,I:q,j:H,L:B,m:W,M:V,p:ge,S:Y,U:G,w:X,W:K,x:null,X:null,y:J,Y:Z,Z:Q,"%":ee},Re={a:s,A:u,b:l,B:te,c:ne,d:b,e:b,H:w,I:w,j:x,L:_,m:y,M:$,p:ae,S:k,U:h,w:d,W:p,x:re,X:ie,y:m,Y:g,Z:v,"%":S};return Le.x=t(ve,Le),Le.X=t(ye,Le),Le.c=t(me,Le),Ie.x=t(ve,Ie),Ie.X=t(ye,Ie),Ie.c=t(me,Ie),{format:function(e){var r=t(e+="",Le);return r.parse=n(e,i),r.toString=function(){return e},r},utcFormat:function(e){var r=t(e+="",Ie);return r.parse=n(e,a),r.toString=function(){return e},r}}}function u(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",a=i.length;return r+(n>a?new Array(n-a+1).join(t)+i:i)}function l(e){return e.replace(De,"\\$&")}function c(e){return new RegExp("^(?:"+e.map(l).join("|")+")","i")}function f(e){for(var t=new Map,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function d(e,t,n){var r=Ae.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function h(e,t,n){var r=Ae.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function p(e,t,n){var r=Ae.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function g(e,t,n){var r=Ae.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function m(e,t,n){var r=Ae.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function v(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function y(e,t,n){var r=Ae.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function b(e,t,n){var r=Ae.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function x(e,t,n){var r=Ae.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function w(e,t,n){var r=Ae.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function $(e,t,n){var r=Ae.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function k(e,t,n){var r=Ae.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function _(e,t,n){var r=Ae.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function S(e,t,n){var r=Ne.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function E(e,t){return u(e.getDate(),t,2)}function C(e,t){return u(e.getHours(),t,2)}function M(e,t){return u(e.getHours()%12||12,t,2)}function T(e,t){return u(1+$e.count(Se(e),e),t,3)}function O(e,t){return u(e.getMilliseconds(),t,3)}function A(e,t){return u(e.getMonth()+1,t,2)}function N(e,t){return u(e.getMinutes(),t,2)}function D(e,t){return u(e.getSeconds(),t,2)}function L(e,t){return u(ke.count(Se(e),e),t,2)}function I(e){return e.getDay()}function R(e,t){return u(_e.count(Se(e),e),t,2)}function P(e,t){return u(e.getFullYear()%100,t,2)}function j(e,t){return u(e.getFullYear()%1e4,t,4)}function F(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+u(t/60|0,"0",2)+u(t%60,"0",2)}function U(e,t){return u(e.getUTCDate(),t,2)}function z(e,t){return u(e.getUTCHours(),t,2)}function q(e,t){return u(e.getUTCHours()%12||12,t,2)}function H(e,t){return u(1+Ee.count(Te(e),e),t,3)}function B(e,t){return u(e.getUTCMilliseconds(),t,3)}function W(e,t){return u(e.getUTCMonth()+1,t,2)}function V(e,t){return u(e.getUTCMinutes(),t,2)}function Y(e,t){return u(e.getUTCSeconds(),t,2)}function G(e,t){return u(Ce.count(Te(e),e),t,2)}function X(e){return e.getUTCDay()}function K(e,t){return u(Me.count(Te(e),e),t,2)}function J(e,t){return u(e.getUTCFullYear()%100,t,2)}function Z(e,t){return u(e.getUTCFullYear()%1e4,t,4)}function Q(){return"+0000"}function ee(){return"%"}function te(e){return e.toISOString()}function ne(e){return"string"!=typeof e||(e=Pe.get(e))?s(e):null}var re={dateTime:"%a %b %e %X %Y",date:"%Y/%-m/%-d",time:"%H:%M:%S",periods:["上午","下午"],days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],shortDays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortMonths:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},ie={dateTime:"%A, %e %B %Y г. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],shortDays:["вс","пн","вт","ср","чт","пт","сб"],months:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],shortMonths:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"]},ae={dateTime:"%A, %e de %B de %Y. %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]},oe={dateTime:"%A, %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],shortDays:["Niedz.","Pon.","Wt.","Śr.","Czw.","Pt.","Sob."],months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],shortMonths:["Stycz.","Luty","Marz.","Kwie.","Maj","Czerw.","Lipc.","Sierp.","Wrz.","Paźdz.","Listop.","Grudz."]},se={dateTime:"%a %e %B %Y %T",date:"%d-%m-%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"]},ue={dateTime:"%A, %e %B %Y г. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["недела","понеделник","вторник","среда","четврток","петок","сабота"],shortDays:["нед","пон","вто","сре","чет","пет","саб"],months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],shortMonths:["јан","фев","мар","апр","мај","јун","јул","авг","сеп","окт","ное","дек"]},le={dateTime:"%A %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],shortDays:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],shortMonths:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"]},ce={dateTime:"%A, %e ב%B %Y %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],shortDays:["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"],months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],shortMonths:["ינו׳","פבר׳","מרץ","אפר׳","מאי","יוני","יולי","אוג׳","ספט׳","אוק׳","נוב׳","דצמ׳"]},fe={dateTime:"%A, le %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."]},de={dateTime:"%a %e %b %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["",""],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim","lun","mar","mer","jeu","ven","sam"],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["jan","fév","mar","avr","mai","jui","jul","aoû","sep","oct","nov","déc"]},he={dateTime:"%A, %-d. %Bta %Y klo %X",date:"%-d.%-m.%Y",time:"%H:%M:%S",periods:["a.m.","p.m."],days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],shortDays:["Su","Ma","Ti","Ke","To","Pe","La"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],shortMonths:["Tammi","Helmi","Maalis","Huhti","Touko","Kesä","Heinä","Elo","Syys","Loka","Marras","Joulu"]},pe={dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],shortDays:["dom","lun","mar","mié","jue","vie","sáb"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"]},ge={dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},me={dateTime:"%a %e %b %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},ve={dateTime:"%a %b %e %X %Y",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},ye={dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]},be={dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],shortDays:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],months:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],shortMonths:["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."]},xe=new Date,we=new Date,$e=t(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),ke=n(0),_e=n(1),Se=t(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()}),Ee=t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5}),Ce=r(0),Me=r(1),Te=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),Oe={"-":"",_:" ",0:"0"},Ae=/^\s*\d+/,Ne=/^%/,De=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Le="%Y-%m-%dT%H:%M:%S.%LZ";te.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},te.toString=function(){return Le};var Ie=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?te:ge.utcFormat(Le),Re=Ie,Pe=(new Map).set("ca-ES",be).set("de-DE",ye).set("en-CA",ve).set("en-GB",me).set("en-US",ge).set("es-ES",pe).set("fi-FI",he).set("fr-CA",de).set("fr-FR",fe).set("he-IL",ce).set("it-IT",le).set("mk-MK",ue).set("nl-NL",se).set("pl-PL",oe).set("pt-BR",ae).set("ru-RU",ie).set("zh-CN",re),je=s(ge);e.format=je.format,e.utcFormat=je.utcFormat,e.localeFormat=ne,e.isoFormat=Re})},{}],7:[function(e,t,n){"use strict";e("./globals");var r=e("./consts"),i=e("./util"),a=e("./field"),o=e("./enc"),s=e("./schema/schema");t.exports=function(){function e(e,t){var n=s.instantiate(),r=s.util.merge(n,t||{},e);this._data=r.data,this._marktype=r.marktype,this._enc=r.encoding,this._config=r.config,this._filter=r.filter}var t=e.prototype;return e.fromShorthand=function(t,n,i,a){var s=r.shorthand,u=t.split(s.delim),l=u.shift().split(s.assign)[1].trim(),c=o.fromShorthand(u);return new e({data:n,marktype:l,encoding:c,config:i,filter:[]},a)},e.fromSpec=function(t,n){return new e(t,n)},t.toShorthand=function(){var e=r.shorthand;return"mark"+e.assign+this._marktype+e.delim+o.shorthand(this._enc)},e.shorthand=function(e){var t=r.shorthand;return"mark"+t.assign+e.marktype+t.delim+o.shorthand(e.encoding)},e.specFromShorthand=function(t,n,r,i){return e.fromShorthand(t,n,r).toSpec(i)},t.toSpec=function(e,t){var n,r=i.duplicate(this._enc);n={marktype:this._marktype,encoding:r,filter:this._filter},e||(n.config=i.duplicate(this._config)),t||(n.data=i.duplicate(this._data));var a=s.instantiate();return s.util.subtract(n,a)},t.marktype=function(){return this._marktype},t.is=function(e){return this._marktype===e},t.has=function(e){return void 0!==this._enc[e].name},t.field=function(e){return this._enc[e]},t.filter=function(){var e=[],t=this.fields(),n=this;return i.forEach(t,function(t,r){"*"!==r&&(n.config("filterNull").Q&&t.containsType[Q]||n.config("filterNull").T&&t.containsType[T]||n.config("filterNull").O&&t.containsType[O]||n.config("filterNull").N&&t.containsType[N])&&e.push({operands:[r],operator:"notNull"})}),e.concat(this._filter)},t.fieldRef=function(e,t){return t=t||{},t.data=!this._vega2&&t.data!==!1,a.fieldRef(this._enc[e],t)},t.fieldName=function(e){return this._enc[e].name},t.fields=function(){return o.fields(this._enc)},t.fieldTitle=function(e){if(a.isCount(this._enc[e]))return a.count.displayName;var t=this._enc[e].aggregate||this._enc[e].timeUnit||this._enc[e].bin&&"bin";if(t){var n="avg"===t?"MEAN":t.toUpperCase();return n+"("+this._enc[e].name+")"}return this._enc[e].name},t.scale=function(e){return this._enc[e].scale||{}},t.axis=function(e){return this._enc[e].axis||{}},t.bandSize=function(e,t){return t=t||e===Y&&this.has(ROW)&&this.has(Y)||e===X&&this.has(COL)&&this.has(X),this.field(e).band.size||this.config(t?"smallBandSize":"largeBandSize")},t.aggregate=function(e){return this._enc[e].aggregate},t.bin=function(e){var t=this._enc[e].bin;return t==={}?!1:t===!0?{maxbins:s.MAXBINS_DEFAULT}:t},t.value=function(e){return this._enc[e].value},t.numberFormat=function(e){var t=e.max>this.config("maxSmallNumber")?"largeNumberFormat":"smallNumberFormat";return this.config(t)},t.sort=function(t,n){var r=this._enc[t].sort,i=this._enc,o=a.isTypes;if((!r||0===r.length)&&e.toggleSort.support({encoding:this._enc},n,!0)&&this.config("toggleSort")===Q){var s=o(i.x,[N,O])?i.y:i.x;o(i[t],[N,O])&&(r=[{name:s.name,aggregate:s.aggregate,type:s.type,reverse:!0}])}return r},t.map=function(e){return o.map(this._enc,e)},t.reduce=function(e,t){return o.reduce(this._enc,e,t)},t.forEach=function(e){return o.forEach(this._enc,e)},t.type=function(e){return this.has(e)?this._enc[e].type:null},t.isType=function(e,t){var n=this.field(e);return n&&a.isType(n,t)},t.isTypes=function(e,t){var n=this.field(e);return n&&a.isTypes(n,t)},e.isOrdinalScale=function(e,t){return a.isOrdinalScale(e.field(t))},e.isDimension=function(e,t){return a.isDimension(e.field(t))},e.isMeasure=function(e,t){return a.isMeasure(e.field(t))},t.isOrdinalScale=function(t){return this.has(t)&&e.isOrdinalScale(this,t)},t.isDimension=function(t){return this.has(t)&&e.isDimension(this,t)},t.isMeasure=function(t){return this.has(t)&&e.isMeasure(this,t)},t.isAggregate=function(){return o.isAggregate(this._enc)},t.dataTable=function(){return this.isAggregate()?AGGREGATE:RAW},e.isAggregate=function(e){return o.isAggregate(e.encoding)},e.alwaysNoOcclusion=function(e){return o.isAggregate(e.encoding)},e.isStack=function(e){return("bar"===e.marktype||"area"===e.marktype)&&e.encoding.color},t.isStack=function(){return(this.is("bar")||this.is("area"))&&this.has("color")},t.details=function(){var e=this;return this.reduce(function(t,n,r){return n.aggregate||r===X||r===Y||t.push(e.fieldRef(r)),t},[])},t.facets=function(){var e=this;return this.reduce(function(t,n,r){return n.aggregate||r!=ROW&&r!=COL||t.push(e.fieldRef(r)),t},[])},t.cardinality=function(e,t){return a.cardinality(this.field(e),t,this.config("filterNull"))},t.isRaw=function(){return!this.isAggregate()},t.data=function(){return this._data},t.hasValues=function(){var e=this.data().values;return e&&e.length},t.config=function(e){return this._config[e]},e.transpose=function(e){var t=e.encoding,n=i.duplicate(e.encoding);return n.x=t.y,n.y=t.x,n.row=t.col,n.col=t.row,e.encoding=n,e},e.toggleSort=function(e){return e.config=e.config||{},e.config.toggleSort=e.config.toggleSort===Q?N:Q,e},e.toggleSort.direction=function(t){if(e.toggleSort.support(t)){var n=t.encoding;return n.x.type===N?"x":"y"}},e.toggleSort.mode=function(e){return e.config.toggleSort},e.toggleSort.support=function(t,n){var r=t.encoding,i=a.isTypes;return!o.has(r,ROW)&&!o.has(r,COL)&&o.has(r,X)&&o.has(r,Y)&&e.alwaysNoOcclusion(t,n)?i(r.x,[N,O])&&a.isMeasure(r.y)?"x":i(r.y,[N,O])&&a.isMeasure(r.x)?"y":!1:!1},e.toggleFilterNullO=function(e){return e.config=e.config||{},e.config.filterNull=e.config.filterNull||{T:!0,Q:!0},e.config.filterNull.O=!e.config.filterNull.O,e},e.toggleFilterNullO.support=function(e,t){var n=o.fields(e.encoding);for(var r in n){var i=n[r];if(i.containsType.O&&r in t&&t[r].nulls>0)return!0}return!1},e}()},{"./consts":21,"./enc":23,"./field":24,"./globals":25,"./schema/schema":27,"./util":29}],8:[function(e,t,n){"use strict";e("../globals");var r=e("../util"),i=r.setter,a=r.getter,o=e("./time"),s=t.exports={};s.def=function(e,t,n,r,i){var o=e==COL,u=e==ROW,l=o?"x":u?"y":e,c={type:l,scale:e,properties:{},layer:t.field(e).axis.layer,orient:s.orient(e,t,r)};return c=s.labels.scale(c,t,e),c=s.labels.format(c,e,t,r),c=s.labels.angle(c,t,e),e==X&&(!t.isDimension(X)&&!t.isType(X,T)||"angle"in a(c,["properties","labels"])?c.ticks=t.field(e).axis.ticks:c=s.labels.rotate(c)),c.titleOffset=s.titleOffset(t,n,e),u&&(c.offset=s.titleOffset(t,n,Y)+20),c=s.grid(c,e,t,n),c=s.title(c,e,t,n,i),(u||o)&&(c=s.hideTicks(c)),c},s.orient=function(e,t,n){var r=t.field(e).axis.orient;return r?r:e===COL?"top":e===X&&t.has(Y)&&t.isOrdinalScale(Y)&&t.cardinality(Y,n)>30?"top":void 0},s.grid=function(e,t,n,r){var i=r.cellPadding,a=t==COL,o=t==ROW;return n.axis(t).grid&&(e.grid=!0,e.properties.grid=a?{x:{offset:r.cellWidth*(1+i/2),scale:"col"},y:{value:-r.cellHeight*(i/2)},stroke:{value:n.config("cellGridColor")},opacity:{value:n.config("cellGridOpacity")}}:o?{y:{offset:-r.cellHeight*(i/2),scale:"row"},x:{value:e.offset},x2:{offset:e.offset+.05*r.cellWidth,group:"mark.group.width",mult:1},stroke:{value:n.config("cellGridColor")},opacity:{value:n.config("cellGridOpacity")}}:{stroke:{value:n.config("gridColor")},opacity:{value:n.config("gridOpacity")}}),e},s.hideTicks=function(e){return e.properties.ticks={opacity:{value:0}},e.properties.majorTicks={opacity:{value:0}},e.properties.axis={opacity:{value:0}},e},s.title=function(e,t,n,i){var a=n.field(t).axis;if(a.title)e.title=a.title;else{var o,s=n.fieldTitle(t);a.titleMaxLength?o=a.titleMaxLength:t===X?o=i.cellWidth/n.config("characterWidth"):t===Y&&(o=i.cellHeight/n.config("characterWidth")),e.title=o?r.truncate(s,o):s}return t===ROW&&(e.properties.title={angle:{value:0},align:{value:"right"},baseline:{value:"middle"},dy:{value:-i.height/2-20}}),e},s.labels={},s.labels.scale=function(e,t,n){var r=t.field(n).timeUnit;return t.isType(n,T)&&r&&o.hasScale(r)&&i(e,["properties","labels","text","scale"],"time-"+r),e},s.labels.format=function(e,t,n,r){var a=r[n.field(t).name];if(n.axis(t).format)e.format=n.axis(t).format;else if(n.isType(t,Q)||"number"===a.type)e.format=n.numberFormat(a);else if(n.isType(t,T)){var o=n.field(t).timeUnit;o?"year"===o&&(e.format="d"):e.format=n.config("timeFormat")}else n.isTypes(t,[N,O])&&n.axis(t).maxLabelLength&&i(e,["properties","labels","text","template"],"{{data | truncate:"+n.axis(t).maxLabelLength+"}}");return e},s.labels.angle=function(e,t,n){var r=t.axis(n).labelAngle;return"undefined"==typeof r?e:(i(e,["properties","labels","angle","value"],r),e)},s.labels.rotate=function(e){var t="top"===e.orient?"left":"right";return i(e,["properties","labels","angle","value"],270),i(e,["properties","labels","align","value"],t),i(e,["properties","labels","baseline","value"],"middle"),e},s.titleOffset=function(e,t,n){var r=e.axis(n).titleOffset;if(r)return r;switch(n){case ROW:return 0;case COL:return 35}return a(t,[n,"axisTitleOffset"])}},{"../globals":25,"../util":29,"./time":20}],9:[function(e,t,n){"use strict";var r=t.exports=e("datalib/src/stats").summary;e("../globals");var i=t.exports={},a=e("../Encoding"),o=i.axis=e("./axis"),s=i.legend=e("./legend"),u=i.marks=e("./marks"),l=i.scale=e("./scale");i.data=e("./data"),i.facet=e("./facet"),i.layout=e("./layout"),i.sort=e("./sort"),i.stack=e("./stack"),i.style=e("./style"),i.subfacet=e("./subfacet"),i.time=e("./time"),i.compile=function(e,t,n){return i.compileEncoding(a.fromSpec(e,n),t)},i.shorthand=function(e,t,n,r){return i.compileEncoding(a.fromShorthand(e,n,r),t)},i.compileEncoding=function(e,t){t||(e.hasValues()?t=r(e.data().values).reduce(function(e,t){return e[t.field]=t,e},{}):console.error("No stats provided and data is not embedded."));var n=i.layout(e,t),a={width:n.width,height:n.height,padding:"auto",data:i.data(e),scales:i.time.scales(e),marks:[{_name:"cell",type:"group",properties:{enter:{width:n.cellWidth?{value:n.cellWidth}:{group:"width"},height:n.cellHeight?{value:n.cellHeight}:{group:"height"}}}}]},c=a.marks[0];a.data=i.sort(a.data,e,t);var f=i.style(e,t),d=c.marks=u.def(e,n,f,t),h=d[d.length-1],p=u[e.marktype()].line,g=e.details(),m=e.isAggregate()&&g.length>0&&i.stack(a.data,e,h);if(g.length>0&&(m||p)&&i.subfacet(c,h,g,m,e),p&&e.config("autoSortLine")){var v=e.isMeasure(X)&&e.isDimension(Y)?Y:X;h.from||(h.from={}),h.from.transform=[{type:"sort",by:"-"+e.fieldRef(v)}]}var y=[].concat.apply([],d.map(function(e){return l.names(e.properties.update)}));return e.has(ROW)||e.has(COL)?(a=i.facet(c,e,n,a,y,m,t),a.legends=s.defs(e,f)):(c.scales=l.defs(y,e,n,t,{stack:m}),c.axes=[],e.has(X)&&c.axes.push(o.def(X,e,n,t)),e.has(Y)&&c.axes.push(o.def(Y,e,n,t)),c.legends=s.defs(e,f)),a}},{"../Encoding":7,"../globals":25,"./axis":8,"./data":10,"./facet":11,"./layout":12,"./legend":13,"./marks":14,"./scale":15,"./sort":16,"./stack":17,"./style":18,"./subfacet":19,"./time":20,"datalib/src/stats":35}],10:[function(e,t,n){"use strict";function r(e){var t=[r.raw(e)],n=r.aggregate(e);return n&&t.push(r.aggregate(e)),r.filterNonPositive(t[t.length-1],e),t}e("../globals"),t.exports=r;var i=e("../field"),a=e("../util"),o=e("./time");r.raw=function(e){var t={name:RAW};e.hasValues()?t.values=e.data().values:(t.url=e.data().url,t.format={type:e.data().formatType});var n=r.raw.formatParse(e);return n&&(t.format=t.format||{},t.format.parse=n),t.transform=r.raw.transform(e),t},r.raw.formatParse=function(e){var t;return e.forEach(function(e){if(e.type==T)t=t||{},t[e.name]="date";else if(e.type==Q){if(i.isCount(e))return;t=t||{},t[e.name]="number"}}),t},r.raw.transform=function(e){return r.raw.transform.time(e).concat(r.raw.transform.bin(e),r.raw.transform.filter(e))};var s={">":!0,">=":!0,"=":!0,"!=":!0,"<":!0,"<=":!0};r.raw.transform.time=function(e){return e.reduce(function(t,n,r){return n.type===T&&n.timeUnit&&t.push({type:"formula",field:e.fieldRef(r),expr:o.formula(n.timeUnit,e.fieldRef(r,{nofn:!0,d:!0}))}),t},[])},r.raw.transform.bin=function(e){return e.reduce(function(t,n,r){return e.bin(r)&&t.push({type:"bin",field:e.fieldRef(r,{nofn:!0}),output:e.fieldRef(r),maxbins:e.bin(r).maxbins}),t},[])},r.raw.transform.filter=function(e){var t=e.filter().reduce(function(t,n){var r="",i=n.operator,o=n.operands,u="d."+(e._vega2?"":"data.");if(s[i]){"="===i&&(i="==");var l=o[0],c=o[1];r=u+l+" "+i+" "+c}else{if("notNull"!==i)return a.warn("Unsupported operator: ",i),t;for(var f=0;f<o.length;f++)r+=u+o[f]+"!==null",f<o.length-1&&(r+=" && ")}return t.push("("+r+")"),t},[]);return 0===t.length?[]:[{type:"filter",test:t.join(" && ")}]},r.aggregate=function(e){var t={},n={};return e.forEach(function(r,i){r.aggregate?"count"===r.aggregate?n.count={op:"count",field:"*"}:n[r.aggregate+"|"+r.name]={op:r.aggregate,field:e.fieldRef(i,{nofn:!0})}:t[r.name]=e.fieldRef(i)}),t=a.vals(t),n=a.vals(n),n.length>0?{name:AGGREGATE,source:RAW,transform:[{type:"aggregate",groupby:t,fields:n}]}:null},r.filterNonPositive=function(e,t){t.forEach(function(n,r){
"log"===t.scale(r).type&&e.transform.push({type:"filter",test:t.fieldRef(r,{d:1})+" > 0"})})}},{"../field":24,"../globals":25,"../util":29,"./time":20}],11:[function(e,t,n){"use strict";function r(e,t){return t=t||{},{_name:e||void 0,type:"group",from:t.from,properties:{enter:{x:t.x||void 0,y:t.y||void 0,width:t.width||{group:"width"},height:t.height||{group:"height"}}},scales:t.scales||void 0,axes:t.axes||void 0,marks:t.marks||[]}}function i(e,t,n,i,u,l,c){var f,d,h=e.properties.enter,p=[],g=[],m=t.has(ROW),v=t.has(COL);h.fill={value:t.config("cellBackgroundColor")},e.from={data:e.marks[0].from.data};for(var y=0;y<e.marks.length;y++){var b=e.marks[y];b.from.transform?delete b.from.data:delete b.from}m?(t.isDimension(ROW)||a.error("Row encoding should be ordinal."),h.y={scale:ROW,field:"keys."+p.length},h.height={value:n.cellHeight},p.push(t.fieldRef(ROW)),v&&(f=a.duplicate(e.from),f.transform=f.transform||[],f.transform.unshift({type:"facet",keys:[t.fieldRef(COL)]})),d=r("x-axes",{axes:t.has(X)?[o.def(X,t,n,c)]:void 0,x:v?{scale:COL,field:"keys.0"}:{value:0},width:v&&{value:n.cellWidth},from:f}),i.marks.unshift(d),i.axes=i.axes||[],i.axes.push(o.def(ROW,t,n,c))):t.has(X)&&g.push(o.def(X,t,n,c)),v?(t.isDimension(COL)||a.error("Col encoding should be ordinal."),h.x={scale:COL,field:"keys."+p.length},h.width={value:n.cellWidth},p.push(t.fieldRef(COL)),m&&(f=a.duplicate(e.from),f.transform=f.transform||[],f.transform.unshift({type:"facet",keys:[t.fieldRef(ROW)]})),d=r("y-axes",{axes:t.has(Y)?[o.def(Y,t,n,c)]:void 0,y:m&&{scale:ROW,field:"keys.0"},x:m&&{value:0},height:m&&{value:n.cellHeight},from:f}),i.marks.unshift(d),i.axes=i.axes||[],i.axes.push(o.def(COL,t,n,c))):t.has(Y)&&g.push(o.def(Y,t,n,c)),i.scales=(i.scales||[]).concat(s.defs(s.names(h).concat(u),t,n,c,{stack:l,facet:!0})),g.length>0&&(e.axes=g);var x=e.from.transform||(e.from.transform=[]);return x.unshift({type:"facet",keys:p}),i}e("../globals");var a=e("../util"),o=e("./axis"),s=e("./scale");t.exports=i},{"../globals":25,"../util":29,"./axis":8,"./scale":15}],12:[function(e,t,n){"use strict";function r(e,t){var n=i(e,t);return n=s(e,t,n)}function i(e,t){var n,r,i=e.has(ROW),a=e.has(COL),o=e.has(X),s=e.has(Y),u=e.marktype(),l=o&&e.isDimension(X)?e.cardinality(X,t):1,c=s&&e.isDimension(Y)?e.cardinality(Y,t):1,f=l>e.config("largeBandMaxCardinality")||c>e.config("largeBandMaxCardinality"),d=e.config("cellPadding");n=o?e.isOrdinalScale(X)?(l+e.field(X).band.padding)*e.bandSize(X,f):a||i?e.field(COL).width:e.config("singleWidth"):u===TEXT?e.config("textCellWidth"):e.bandSize(X),r=s?e.isOrdinalScale(Y)?(c+e.field(Y).band.padding)*e.bandSize(Y,f):a||i?e.field(ROW).height:e.config("singleHeight"):e.bandSize(Y);var h=n,p=r;if(a){var g=e.cardinality(COL,t);h=n*((1+d)*(g-1)+1)}if(i){var m=e.cardinality(ROW,t);p=r*((1+d)*(m-1)+1)}return{cellWidth:n,cellHeight:r,cellPadding:d,width:h,height:p,x:{useSmallBand:f},y:{useSmallBand:f}}}function a(e,t,n){var r=e.numberFormat(t,n);return f.format(r)(n.max).length}function o(e,t,n){var r=e.field(n),i=t[r.name];return r.bin?a(e,n,i):e.isType(n,Q)?a(e,n,i):e.isType(n,T)?c.maxLength(e.field(n).timeUnit,e):e.isTypes(n,[N,O])?"number"===i.type?a(e,n,i):Math.min(i.max,e.axis(n).maxLabelLength||1/0):void 0}function s(e,t,n){return[X,Y].forEach(function(r){var i,a=r===X?20:22;e.isDimension(r)||e.isType(r,T)?i=o(e,t,r):(e.isType(r,Q)||"count"===e.aggregate(r))&&r===Y&&(i=o(e,t,r)),i?l(n,[r,"axisTitleOffset"],e.config("characterWidth")*i+a):l(n,[r,"axisTitleOffset"],3*e.config("characterWidth")+a)}),n}e("../globals");var u=e("../util"),l=u.setter,c=e("./time"),f=e("d3-format");t.exports=r},{"../globals":25,"../util":29,"./time":20,"d3-format":5}],13:[function(e,t,n){"use strict";e("../globals");var r=e("./time"),i=e("../util"),a=i.setter,o=i.getter,s=t.exports={};s.defs=function(e,t){var n=[];return e.has(COLOR)&&e.field(COLOR).legend&&n.push(s.def(COLOR,e,{fill:COLOR,orient:"right"},t)),e.has(SIZE)&&e.field(SIZE).legend&&n.push(s.def(SIZE,e,{size:SIZE,orient:1===n.length?"left":"right"},t)),e.has(SHAPE)&&e.field(SHAPE).legend&&(2===n.length&&console.error("Vega-lite currently only supports two legends"),n.push(s.def(SHAPE,e,{shape:SHAPE,orient:1===n.length?"left":"right"},t))),n},s.def=function(e,t,n,i){var o=t.field(e).timeUnit;return n.title=s.title(e,t),n=s.style(e,t,n,i),t.isType(e,T)&&o&&r.hasScale(o)&&a(n,["properties","labels","text","scale"],"time-"+o),n},s.style=function(e,t,n,r){var i=o(n,["properties","symbols"]),a=t.marktype();switch(a){case"bar":case"tick":case"text":i.stroke={value:"transparent"},i.shape={value:"square"};break;case"circle":case"square":i.shape={value:a};case"point":t.field(SHAPE).filled?(i.fill=t.has(COLOR)&&e===COLOR?{scale:COLOR,field:"data"}:{value:t.value(COLOR)},i.stroke={value:"transparent"}):(i.stroke=t.has(COLOR)&&e===COLOR?{scale:COLOR,field:"data"}:{value:t.value(COLOR)},i.fill={value:"transparent"},i.strokeWidth={value:t.config("strokeWidth")});break;case"line":case"area":}var s=t.field(COLOR).opacity||r.opacity;return s&&(i.opacity={value:s}),n},s.title=function(e,t){var n=t.field(e).legend;return n.title?n.title:t.fieldTitle(e)}},{"../globals":25,"../util":29,"./time":20}],14:[function(e,t,n){"use strict";function r(e,t,n){var r={};e.isMeasure(X)?(r.x={scale:X,field:e.fieldRef(X)},(!e.has(Y)||e.isDimension(Y))&&(r.x2={value:0})):e.has(X)?r.xc={scale:X,field:e.fieldRef(X)}:r.x={value:0,offset:e.config("singleBarOffset")},r.x2||(r.width=!e.has(X)||e.isOrdinalScale(X)?e.has(SIZE)?{scale:SIZE,field:e.fieldRef(SIZE)}:{value:e.bandSize(X,t.x.useSmallBand),offset:-1}:{value:2}),e.isMeasure(Y)?(r.y={scale:Y,field:e.fieldRef(Y)},r.y2={group:"height"}):(e.has(Y)?r.yc={scale:Y,field:e.fieldRef(Y)}:r.y2={group:"height",offset:-e.config("singleBarOffset")},r.height=e.has(SIZE)?{scale:SIZE,field:e.fieldRef(SIZE)}:{value:e.bandSize(Y,t.y.useSmallBand),offset:-1}),r.fill=e.has(COLOR)?{scale:COLOR,field:e.fieldRef(COLOR)}:{value:e.value(COLOR)};var i=e.field(COLOR).opacity;return i&&(r.opacity={value:i}),r}function i(e,t,n){var r={};e.has(X)?r.x={scale:X,field:e.fieldRef(X)}:e.has(X)||(r.x={value:e.bandSize(X,t.x.useSmallBand)/2}),e.has(Y)?r.y={scale:Y,field:e.fieldRef(Y)}:e.has(Y)||(r.y={value:e.bandSize(Y,t.y.useSmallBand)/2}),e.has(SIZE)?r.size={scale:SIZE,field:e.fieldRef(SIZE)}:e.has(SIZE)||(r.size={value:e.value(SIZE)}),e.has(SHAPE)?r.shape={scale:SHAPE,field:e.fieldRef(SHAPE)}:e.has(SHAPE)||(r.shape={value:e.value(SHAPE)}),e.field(SHAPE).filled?e.has(COLOR)?r.fill={scale:COLOR,field:e.fieldRef(COLOR)}:e.has(COLOR)||(r.fill={value:e.value(COLOR)}):(e.has(COLOR)?r.stroke={scale:COLOR,field:e.fieldRef(COLOR)}:e.has(COLOR)||(r.stroke={value:e.value(COLOR)}),r.strokeWidth={value:e.config("strokeWidth")});var i=e.field(COLOR).opacity||n.opacity;return i&&(r.opacity={value:i}),r}function a(e,t,n){var r={};e.has(X)?r.x={scale:X,field:e.fieldRef(X)}:e.has(X)||(r.x={value:0}),e.has(Y)?r.y={scale:Y,field:e.fieldRef(Y)}:e.has(Y)||(r.y={group:"height"}),e.has(COLOR)?r.stroke={scale:COLOR,field:e.fieldRef(COLOR)}:e.has(COLOR)||(r.stroke={value:e.value(COLOR)});var i=e.field(COLOR).opacity;return i&&(r.opacity={value:i}),r.strokeWidth={value:e.config("strokeWidth")},r}function o(e,t,n){var r={};e.isMeasure(X)?(r.x={scale:X,field:e.fieldRef(X)},e.isDimension(Y)&&(r.x2={scale:X,value:0},r.orient={value:"horizontal"})):r.x=e.has(X)?{scale:X,field:e.fieldRef(X)}:{value:0},e.isMeasure(Y)?(r.y={scale:Y,field:e.fieldRef(Y)},r.y2={scale:Y,value:0}):r.y=e.has(Y)?{scale:Y,field:e.fieldRef(Y)}:{group:"height"},e.has(COLOR)?r.fill={scale:COLOR,field:e.fieldRef(COLOR)}:e.has(COLOR)||(r.fill={value:e.value(COLOR)});var i=e.field(COLOR).opacity;return i&&(r.opacity={value:i}),r}function s(e,t,n){var r={};e.has(X)?(r.x={scale:X,field:e.fieldRef(X)},e.isDimension(X)&&(r.x.offset=-e.bandSize(X,t.x.useSmallBand)/3)):e.has(X)||(r.x={value:0}),e.has(Y)?(r.y={scale:Y,field:e.fieldRef(Y)},e.isDimension(Y)&&(r.y.offset=-e.bandSize(Y,t.y.useSmallBand)/3)):e.has(Y)||(r.y={value:0}),r.width=!e.has(X)||e.isDimension(X)?{value:e.bandSize(X,t.y.useSmallBand)/1.5}:{value:1},r.height=!e.has(Y)||e.isDimension(Y)?{value:e.bandSize(Y,t.y.useSmallBand)/1.5}:{value:1},r.fill=e.has(COLOR)?{scale:COLOR,field:e.fieldRef(COLOR)}:{value:e.value(COLOR)};var i=e.field(COLOR).opacity||n.opacity;return i&&(r.opacity={value:i}),r}function u(e){return function(t,n,r){var i={};t.has(X)?i.x={scale:X,field:t.fieldRef(X)}:t.has(X)||(i.x={value:t.bandSize(X,n.x.useSmallBand)/2}),t.has(Y)?i.y={scale:Y,field:t.fieldRef(Y)}:t.has(Y)||(i.y={value:t.bandSize(Y,n.y.useSmallBand)/2}),t.has(SIZE)?i.size={scale:SIZE,field:t.fieldRef(SIZE)}:t.has(X)||(i.size={value:t.value(SIZE)}),i.shape={value:e},t.has(COLOR)?i.fill={scale:COLOR,field:t.fieldRef(COLOR)}:t.has(COLOR)||(i.fill={value:t.value(COLOR)});var a=t.field(COLOR).opacity||r.opacity;return a&&(i.opacity={value:a}),i}}function l(e,t,n,r){var i={},a=e.field(TEXT);e.has(X)?i.x={scale:X,field:e.fieldRef(X)}:e.has(X)||(i.x=e.has(TEXT)&&e.isType(TEXT,Q)?{value:t.cellWidth-5}:{value:e.bandSize(X,t.x.useSmallBand)/2}),e.has(Y)?i.y={scale:Y,field:e.fieldRef(Y)}:e.has(Y)||(i.y={value:e.bandSize(Y,t.y.useSmallBand)/2}),e.has(SIZE)?i.fontSize={scale:SIZE,field:e.fieldRef(SIZE)}:e.has(SIZE)||(i.fontSize={value:a.font.size}),i.fill={value:a.color};var o=e.field(COLOR).opacity||n.opacity;if(o&&(i.opacity={value:o}),e.has(TEXT))if(e.isType(TEXT,Q)){var s=r[e.fieldName(TEXT)],u=a.format||e.numberFormat(s);i.text={template:"{{"+e.fieldRef(TEXT)+" | number:'"+u+"'}}"},i.align={value:a.align}}else i.text={field:e.fieldRef(TEXT)};else i.text={value:a.placeholder};return i.font={value:a.font.family},i.fontWeight={value:a.font.weight},i.fontStyle={value:a.font.style},i.baseline={value:a.baseline},i}e("../globals");var c=t.exports={};c.def=function(e,t,n,r){var i=[],a=c[e.marktype()],o=e.dataTable();if(e.marktype()===TEXT&&e.has(COLOR)){var s={x:{value:0},y:{value:0},x2:{value:t.cellWidth},y2:{value:t.cellHeight},fill:{scale:COLOR,field:e.fieldRef(COLOR)}};i.push({type:"rect",from:{data:o},properties:{enter:s,update:s}})}var u=a.prop(e,t,n,r);return i.push({type:a.type,from:{data:o},properties:{enter:u,update:u}}),i},c.bar={type:"rect",stack:!0,prop:r,supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1}},c.line={type:"line",line:!0,prop:a,requiredEncoding:["x","y"],supportedEncoding:{row:1,col:1,x:1,y:1,color:1,detail:1}},c.area={type:"area",stack:!0,line:!0,requiredEncoding:["x","y"],prop:o,supportedEncoding:{row:1,col:1,x:1,y:1,color:1}},c.tick={type:"rect",prop:s,supportedEncoding:{row:1,col:1,x:1,y:1,color:1,detail:1}},c.circle={type:"symbol",prop:u("circle"),supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1,detail:1}},c.square={type:"symbol",prop:u("square"),supportedEncoding:c.circle.supportedEncoding},c.point={type:"symbol",prop:i,supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1,shape:1,detail:1}},c.text={type:"text",prop:l,requiredEncoding:["text"],supportedEncoding:{row:1,col:1,size:1,color:1,text:1}}},{"../globals":25}],15:[function(e,t,n){"use strict";e("../globals");var r=e("../util"),i=e("./time"),a=e("colorbrewer"),o=e("d3-color").interpolateHsl,s=e("../schema/schema"),u=e("./sort"),l=t.exports={};l.names=function(e){return r.keys(r.keys(e).reduce(function(t,n){return e[n]&&e[n].scale&&(t[e[n].scale]=1),t},{}))},l.defs=function(e,t,n,r,i){return i=i||{},e.reduce(function(e,a){var o={name:a,type:l.type(a,t),domain:l.domain(a,t,r,i)};return o.sort=l.sort(o,t,a)||void 0,l.range(o,t,n,r,i),e.push(o),e},[])},l.sort=function(e,t,n){return"ordinal"===e.type&&(!!t.bin(n)||0===t.sort(n).length)},l.type=function(e,t){switch(t.type(e)){case N:case O:return"ordinal";case T:var n=t.field(e).timeUnit;return n?i.scale.type(n,e):"time";case Q:return t.bin(e)?e===COLOR?"linear":"ordinal":t.scale(e).type}},l.domain=function(e,t,n,a){var o=t.field(e);if(t.isType(e,T)){var l=i.scale.domain(o.timeUnit,e);if(l)return l}if(o.bin){var c=n[o.name],f=r.getbins(c,o.bin.maxbins||s.MAXBINS_DEFAULT),d=(f.stop-f.start)/f.step;return r.range(d).map(function(e){return f.start+f.step*e})}if(e==a.stack)return{data:STACKED,field:t.fieldRef(e,{data:!t._vega2,prefn:(a.facet?"max_":"")+"sum_"})};var h=t.aggregate(e),p=o.timeUnit,g=t.scale(e).useRawDomain,m=void 0!==g?g:t.config("useRawDomain"),v=!h||"count"!==h&&"sum"!==h;if(m&&v&&(t.isType(e,Q)&&!o.bin||t.isType(e,T)&&(!p||!i.isOrdinalFn(p))))return{data:RAW,field:t.fieldRef(e,{nofn:!p})};var y=t.sort(e,n).length>0?u.getDataName(e):t.dataTable();return{data:y,field:t.fieldRef(e)}},l.range=function(e,t,n,r){var i=t.scale(e.name),a=t.field(e.name),o=a.timeUnit;switch(e.name){case X:e.range=n.cellWidth?[0,n.cellWidth]:"width","ordinal"===e.type?e.bandWidth=t.bandSize(X,n.x.useSmallBand):(e.zero=t.isType(e.name,T)&&"year"===o?!1:void 0===i.zero?!0:i.zero,e.reverse=i.reverse),e.round=!0,e.nice="time"===e.type?o||t.config("timeScaleNice"):!0;break;case Y:"ordinal"===e.type?(e.range=n.cellHeight?a.bin?[n.cellHeight,0]:[0,n.cellHeight]:"height",e.bandWidth=t.bandSize(Y,n.y.useSmallBand)):(e.range=n.cellHeight?[n.cellHeight,0]:"height",e.zero=t.isType(e.name,T)&&"year"===o?!1:void 0===i.zero?!0:i.zero,e.reverse=i.reverse),e.round=!0,e.nice="time"===e.type?o||t.config("timeScaleNice"):!0;break;case ROW:e.bandWidth=n.cellHeight,e.round=!0,e.nice=!0;break;case COL:e.bandWidth=n.cellWidth,e.round=!0,e.nice=!0;break;case SIZE:if(t.is("bar"))e.range=[3,Math.max(t.bandSize(X),t.bandSize(Y))];else if(t.is(TEXT))e.range=[8,40];else{var s=Math.min(t.bandSize(X),t.bandSize(Y))-1;e.range=[10,.8*s*s]}e.round=!0,e.zero=!1;break;case SHAPE:e.range="shapes";break;case COLOR:e.range=l.color(e,t,r),"ordinal"!==e.type&&(e.zero=!1);break;default:throw new Error("Unknown encoding name: "+e.name)}switch(e.name){case ROW:case COL:e.padding=t.config("cellPadding"),e.outerPadding=0;break;case X:case Y:"ordinal"===e.type&&(e.points=!0,e.padding=t.field(e.name).band.padding)}},l.color=function(e,t,n){var r=t.scale(COLOR),i=r.range,a=t.cardinality(COLOR,n),o=t.type(COLOR);if(void 0===i){var s=r.ordinalPalette,u=r.quantitativeRange;return"ordinal"===e.type?o===N?(i=10>=a?r.c10palette:r.c20palette,l.color.palette(i,a,o)):s?l.color.palette(s,a,o):l.color.interpolate(u[0],u[1],a):[u[0],u[1]]}},l.color.palette=function(e,t,n){switch(e){case"category10k":return["#2ca02c","#e377c2","#7f7f7f","#17becf","#8c564b","#d62728","#bcbd22","#9467bd","#ff7f0e","#1f77b4"];case"category10":return["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];case"category20":return["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"];case"category20b":return["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"];case"category20c":return["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"]}if(e in a){var i=a[e];if(t in i)return i[t];if(n===N)return i[Math.max.apply(null,r.keys(i))];var o=3>t?3:Math.max.apply(null,r.keys(i)),s=0,u=o-1;return l.color.interpolate(i[o][s],i[o][u],t)}return e},l.color.interpolate=function(e,t,n){var i=o(e,t);return r.range(n).map(function(e){return i(1*e/(n-1))})}},{"../globals":25,"../schema/schema":27,"../util":29,"./sort":16,"./time":20,colorbrewer:3,"d3-color":4}],16:[function(e,t,n){"use strict";function r(e,t,n,a){var o={};return t.forEach(function(a,s){var u=t.sort(s,n);if(u.length>0){var l=u.map(function(e){return{op:e.aggregate,field:i.fieldRef(e,{nofn:!0,data:!t._vega2})}}),c=u.map(function(e){var n=e.reverse?"-":"";return n+i.fieldRef(e,{data:!t._vega2})}),f=r.getDataName(s),d=[{type:"aggregate",groupby:[t.fieldRef(s)],fields:l},{type:"sort",by:c}];e.push({name:f,source:RAW,transform:d}),o[s]=f}}),e}e("../globals");var i=e("../field");t.exports=r,r.getDataName=function(e){return"sorted-"+e}},{"../field":24,"../globals":25}],17:[function(e,t,n){"use strict";function r(e,t,n){if(!i[t.marktype()].stack)return!1;if(!t.has(COLOR))return!1;var r=null,a=null,o=null,s=t.isMeasure(X),u=t.isMeasure(Y),l=t.facets();if(s&&!u)r=Y,a=X,o=0;else{if(!u||s)return null;r=X,a=Y,o=1}var c={name:STACKED,source:t.dataTable(),transform:[{type:"aggregate",groupby:[t.fieldRef(r)].concat(l),fields:[{op:"sum",field:t.fieldRef(a)}]}]};return l&&l.length>0&&c.transform.push({type:"aggregate",groupby:l,fields:[{op:"max",field:t.fieldName(a,{fn:"sum"})}]}),e.push(c),n.from.transform=[{type:"stack",point:t.fieldRef(r),height:t.fieldRef(a),output:{y1:a,y0:a+"2"}}],n.properties.update[a]=n.properties.enter[a]={scale:a,field:a},n.properties.update[a+"2"]=n.properties.enter[a+"2"]={scale:a,field:a+"2"},a}e("../globals");var i=e("./marks");t.exports=r},{"../globals":25,"./marks":14}],18:[function(e,t,n){"use strict";function r(e,t){if(!t)return 1;var n=0;if(e.isAggregate())n=1,e.forEach(function(r,a){a===ROW||a===COL||(a===X||a===Y)&&i.isOrdinalScale(r)||(n*=e.cardinality(a,t))});else{if(!t["*"])return 1;n=t["*"].max;var r=1;e.has(ROW)&&(r*=e.cardinality(ROW,t)),e.has(COL)&&(r*=e.cardinality(COL,t)),n/=r}var a=0;return a=25>=n?1:200>n?.8:1e3>n||e.is("tick")?.7:.3}e("../globals");var i=e("../field");t.exports=function(e,t){return{opacity:r(e,t)}}},{"../field":24,"../globals":25}],19:[function(e,t,n){"use strict";function r(e,t,n,r,i){var a=e.marks,o={_name:"subfacet",type:"group",from:t.from,properties:{enter:{width:{group:"width"},height:{group:"height"}}},marks:a};e.marks=[o],delete t.from;var s=o.from.transform||(o.from.transform=[]);s.unshift({type:"facet",keys:n}),r&&i.has(COLOR)&&s.unshift({type:"sort",by:i.fieldRef(COLOR)})}e("../globals"),t.exports=r},{"../globals":25}],20:[function(e,t,n){"use strict";var r=e("../util"),i=e("d3-time-format"),a=t.exports={},o=new Date(Date.UTC(2014,8,17));a.cardinality=function(e,t,n,r){var i=e.timeUnit;switch(i){case"seconds":return 60;case"minutes":return 60;case"hours":return 24;case"day":return 7;case"date":return 31;case"month":return 12;case"year":var a=t[e.name],o=t["year_"+e.name];return o?o.distinct-(a.nulls>0&&n[r]?1:0):null}return null},a.formula=function(e,t){var n="utc"+e;return n+"("+t+")"},a.maxLength=function(e,t){switch(e){case"seconds":case"minutes":case"hours":case"date":return 2;case"month":case"day":var n=a.range(e,t);return n?Math.max.apply(null,n.map(function(e){return e.length})):2;case"year":return 4}var r=t.config("timeFormat");return i.utcFormat(r)(o).length},a.range=function(e,t){var n,r=t.config("timeScaleLabelLength");switch(e){case"day":n=t.config("dayScaleLabel");break;case"month":n=t.config("monthScaleLabel")}return n?r?n.map(function(e){return e.substr(0,r)}):n:void 0},a.scales=function(e){var t=e.reduce(function(t,n){var r=n.timeUnit;if(n.type===T&&r&&!t[r]){var i=a.scale.def(n.timeUnit,e);i&&(t[r]=i)}return t},{});return r.vals(t)},a.scale={},a.scale.def=function(e,t){var n=a.range(e,t);return n?{name:"time-"+e,type:"ordinal",domain:a.scale.domain(e),range:n}:null},a.isOrdinalFn=function(e){switch(e){case"seconds":case"minutes":case"hours":case"day":case"date":case"month":return!0}return!1},a.scale.type=function(e,t){return t===COLOR?"linear":a.isOrdinalFn(e)||t===COL||t===ROW?"ordinal":"linear"},a.scale.domain=function(e,t){var n=t===COLOR;switch(e){case"seconds":case"minutes":return n?[0,59]:r.range(0,60);case"hours":return n?[0,23]:r.range(0,24);case"day":return n?[0,6]:r.range(0,7);case"date":return n?[1,31]:r.range(1,32);case"month":return n?[0,11]:r.range(0,12)}return null},a.hasScale=function(e){switch(e){case"day":case"month":return!0}return!1}},{"../util":29,"d3-time-format":6}],21:[function(e,t,n){"use strict";e("./globals");var r=t.exports={};r.encodingTypes=[X,Y,ROW,COL,SIZE,SHAPE,COLOR,TEXT,DETAIL],r.shorthand={delim:"|",assign:"=",type:",",func:"_"}},{"./globals":25}],22:[function(e,t,n){"use strict";e("./globals");var r=e("datalib/src/stats"),i=t.exports={};i.types={"boolean":N,number:Q,integer:Q,date:T,string:N},i.stats=function(e){var t=r.summary(e);return t.reduce(function(e,t){return e[t.field]=t,e},{"*":{max:e.length,min:0}})}},{"./globals":25,"datalib/src/stats":35}],23:[function(e,t,n){"use strict";var r=e("./consts"),i=r.shorthand,a=e("./field"),o=e("./util"),s=e("./schema/schema"),u=s.encTypes,l=t.exports={};l.countRetinal=function(e){var t=0;return e.color&&t++,e.size&&t++,e.shape&&t++,t},l.has=function(e,t){var n=e&&e[t];return n&&n.name},l.isAggregate=function(e){for(var t in e)if(l.has(e,t)&&e[t].aggregate)return!0;return!1},l.forEach=function(e,t){var n=0;u.forEach(function(r){l.has(e,r)&&t(e[r],r,n++)})},l.map=function(e,t){var n=[];return u.forEach(function(r){l.has(e,r)&&n.push(t(e[r],r,e))}),n},l.reduce=function(e,t,n){var r=n;return u.forEach(function(n){l.has(e,n)&&(r=t(r,e[n],n,e))}),r},l.fields=function(e){return l.reduce(e,function(e,t){var n=e[t.name]=e[t.name]||[],r=n.containsType=n.containsType||{};return-1===n.indexOf(t)&&(n.push(t),r[t.type]=!0),e},{})},l.shorthand=function(e){return l.map(e,function(e,t){return t+i.assign+a.shorthand(e)}).join(i.delim)},l.fromShorthand=function(e){var t=o.isArray(e)?e:e.split(i.delim);return t.reduce(function(e,t){var n=t.split(i.assign),r=n[0].trim(),o=n[1];return e[r]=a.fromShorthand(o),e},{})}},{"./consts":21,"./field":24,"./schema/schema":27,"./util":29}],24:[function(e,t,n){"use strict";function r(e){return f(e,[N,O])||!!e.bin||c(e,T)&&!!e.timeUnit}e("./globals");var i=e("./consts"),a=i.shorthand,o=e("./compiler/time"),s=e("./util"),u=e("./schema/schema"),l=t.exports={};l.fieldRef=function(e,t){t=t||{};var n=(t.d?"d.":"")+(t.data?"data.":"")+(t.prefn||""),r=t.nofn||t.fn,i=e.name;return l.isCount(e)?n+"count":!r&&e.bin?n+"bin_"+i:!r&&e.aggregate?n+e.aggregate+"_"+i:!r&&e.timeUnit?n+e.timeUnit+"_"+i:t.fn?n+t.fn+"_"+i:n+i},l.shorthand=function(e){var t=i.shorthand;return(e.aggregate?e.aggregate+t.func:"")+(e.timeUnit?e.timeUnit+t.func:"")+(e.bin?"bin"+t.func:"")+(e.name||"")+t.type+e.type},l.shorthands=function(e,t){return t=t||a.delim,e.map(l.shorthand).join(t)},l.fromShorthand=function(e){var t,n=e.split(a.type),r={name:n[0].trim(),type:n[1].trim()};for(t in u.aggregate["enum"]){var i=u.aggregate["enum"][t];if(0===r.name.indexOf(i+"_")){r.name=r.name.substr(i.length+1),"count"==i&&0===r.name.length&&(r.name="*"),r.aggregate=i;break}}for(t in u.timefns){var o=u.timefns[t];if(r.name&&0===r.name.indexOf(o+"_")){r.name=r.name.substr(r.length+1),r.timeUnit=o;break}}return r.name&&0===r.name.indexOf("bin_")&&(r.name=r.name.substr(4),r.bin=!0),r};var c=l.isType=function(e,t){return e.type===t},f=l.isTypes=function(e,t){for(var n=0;n<t.length;n++)if(e.type===t[n])return!0;return!1};l.isOrdinalScale=function(e){return f(e,[N,O])||e.bin||c(e,T)&&e.timeUnit&&o.isOrdinalFn(e.timeUnit)},l.isDimension=function(e){return e&&r(e)},l.isMeasure=function(e){return e&&!r(e)},l.count=function(){return{name:"*",aggregate:"count",type:Q,displayName:l.count.displayName}},l.count.displayName="Number of Records",l.isCount=function(e){return"count"===e.aggregate},l.cardinality=function(e,t,n){var r=t[e.name],i=e.type;if(n=n||{},e.bin){var a=s.getbins(r,e.bin.maxbins||u.MAXBINS_DEFAULT);return(a.stop-a.start)/a.step}if(c(e,T)){var l=o.cardinality(e,t,n,i);if(null!==l)return l}return e.aggregate?1:r.distinct-(r.nulls>0&&n[i]?1:0)}},{"./compiler/time":20,"./consts":21,"./globals":25,"./schema/schema":27,"./util":29}],25:[function(e,t,n){(function(e){"use strict";var t=e||window;t.AGGREGATE="aggregate",t.RAW="raw",t.STACKED="stacked",t.INDEX="index",t.X="x",t.Y="y",t.ROW="row",t.COL="col",t.SIZE="size",t.SHAPE="shape",t.COLOR="color",t.TEXT="text",t.DETAIL="detail",t.N="N",t.O="O",t.Q="Q",t.T="T"}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],26:[function(e,t,n){"use strict";t.exports=function(e){var t=["error","info","debug","warn","log"];return t.reduce(function(t,n){var r=console[n]?n:"log";return t[n]="undefined"===console[r].bind?Function.prototype.bind.call(console[r],console,e):console[r].bind(console,e),t},{})}},{}],27:[function(e,t,n){"use strict";e("../globals");var r=t.exports={},i=e("../util"),a=i.toMap,o=e("colorbrewer");r.util=e("./schemautil"),r.marktype={type:"string","enum":["point","tick","bar","line","area","circle","square","text"]},r.aggregate={type:"string","enum":["avg","sum","median","min","max","count"],supportedEnums:{Q:["avg","median","sum","min","max","count"],O:["median","min","max"],N:[],T:["avg","median","min","max"],"":["count"]},supportedTypes:a([Q,N,O,T,""])},r.getSupportedRole=function(e){return r.schema.properties.encoding.properties[e].supportedRole},r.timeUnits=["year","month","day","date","hours","minutes","seconds"],r.defaultTimeFn="month",r.timeUnit={type:"string","enum":r.timeUnits,supportedTypes:a([T])},r.scale_type={type:"string","enum":["linear","log","pow","sqrt","quantile"],"default":"linear",supportedTypes:a([Q])},r.field={type:"object",properties:{name:{type:"string"}}};var s=i.duplicate,u=r.util.merge;r.MAXBINS_DEFAULT=15;var l={type:["boolean","object"],"default":!1,properties:{maxbins:{type:"integer","default":r.MAXBINS_DEFAULT,minimum:2,description:"Maximum number of bins."}},supportedTypes:a([Q])},c=u(s(r.field),{type:"object",properties:{type:{type:"string","enum":[N,O,Q,T]},aggregate:r.aggregate,timeUnit:r.timeUnit,bin:l,scale:{type:"object",properties:{type:r.scale_type,reverse:{type:"boolean","default":!1,supportedTypes:a([Q,T])},nice:{type:"string","enum":["second","minute","hour","day","week","month","year"],supportedTypes:a([T])},zero:{type:"boolean",description:"Include zero","default":!0,supportedTypes:a([Q,T])},useRawDomain:{type:"boolean","default":void 0,description:"Use the raw data range as scale domain instead of aggregated data for aggregate axis. This option does not work with sum or count aggregateas they might have a substantially larger scale range.By default, use value from config.useRawDomain."}}}}}),f=u(s(r.field),{type:"object",supportedRole:{dimension:!0},properties:{type:{type:"string","enum":[N,O,Q,T]},timeUnit:r.timeUnit,bin:l,aggregate:{type:"string","enum":["count"],supportedTypes:a([N,O])}}}),d={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0},properties:{axis:{type:"object",properties:{format:{type:"string","default":void 0,description:"The formatting pattern for axis labels. If not undefined, this will be determined by small/largeNumberFormat and the max value of the field."},grid:{type:"boolean","default":!0,description:"A flag indicate if gridlines should be created in addition to ticks."},layer:{type:"string","default":"back",description:'A string indicating if the axis (and any gridlines) should be placed above or below the data marks. One of "front" (default) or "back".'},orient:{type:"string","default":void 0,"enum":["top","right","left","bottom"],description:"The orientation of the axis. One of top, bottom, left or right. The orientation can be used to further specialize the axis type (e.g., a y axis oriented for the right edge of the chart)."},ticks:{type:"integer","default":5,minimum:0,description:'A desired number of ticks, for axes visualizing quantitative scales. The resulting number may be different so that values are "nice" (multiples of 2, 5, 10) and lie within the underlying scale\'s range.'},title:{type:"string","default":void 0,description:"A title for the axis. (Shows field name and its function by default.)"},maxLabelLength:{type:"integer","default":25,minimum:0,description:"Truncate labels that are too long."},labelAngle:{type:"integer","default":void 0,minimum:0,maximum:360,description:"Angle by which to rotate labels. Set to 0 to force horizontal."},titleMaxLength:{type:"integer","default":void 0,minimum:0,description:"Max length for axis title if the title is automatically generated from the field's description"},titleOffset:{type:"integer","default":void 0,description:"A title offset value for the axis."}}}}},h={type:"object",properties:{sort:{type:"array","default":[],items:{type:"object",supportedTypes:a([N,O]),required:["name","aggregate"],properties:{name:{type:"string"},aggregate:{type:"string","enum":["avg","sum","min","max","count"]},reverse:{type:"boolean","default":!1}}}}}},p={type:"object",properties:{band:{type:"object",properties:{size:{type:"integer",minimum:0,"default":void 0},padding:{type:"integer",minimum:0,"default":1}}}}},g={type:"object",properties:{legend:{type:"object",description:"Properties of a legend.",properties:{title:{type:"string","default":void 0,description:"A title for the legend. (Shows field name and its function by default.)"}}}}},m={type:"object",supportedMarktypes:{text:!0},properties:{align:{type:"string","default":"right"},baseline:{type:"string","default":"middle"},color:{type:"string",role:"color","default":"#000000"},margin:{type:"integer","default":4,minimum:0},placeholder:{type:"string","default":"Abc"},font:{type:"object",properties:{weight:{type:"string","enum":["normal","bold"],"default":"normal"},size:{type:"integer","default":10,minimum:0},family:{type:"string","default":"Helvetica Neue"},style:{type:"string","default":"normal","enum":["normal","italic"]}}},format:{type:"string","default":void 0,description:"The formatting pattern for text value. If not undefined, this will be determined by small/largeNumberFormat and the max value of the field."}}},v={type:"object",supportedMarktypes:{point:!0,bar:!0,circle:!0,square:!0,text:!0},properties:{value:{type:"integer","default":30,minimum:0,description:"Size of marks."}}},y={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0,text:!0},properties:{value:{type:"string",role:"color","default":"#4682b4",description:"Color to be used for marks."},opacity:{type:"number","default":void 0,minimum:0,maximum:1},scale:{type:"object",properties:{range:{type:["string","array"],"default":void 0,description:"Color palette, if undefined vega-lite will use data propertyto pick one from c10palette, c20palette, or ordinalPalette."},c10palette:{type:"string","default":"category10","enum":["category10","category10k","Pastel1","Pastel2","Set1","Set2","Set3"]},c20palette:{type:"string","default":"category20","enum":["category20","category20b","category20c"]},ordinalPalette:{type:"string","default":void 0,description:"Color palette to encode ordinal variables.","enum":i.keys(o)},quantitativeRange:{type:"array","default":["#AFC6A3","#09622A"],description:"Color range to encode quantitative variables.",minItems:2,maxItems:2,items:{type:"string",role:"color"}}}}}},b={type:"object",supportedMarktypes:{point:!0,circle:!0,square:!0},properties:{value:{type:"string","enum":["circle","square","cross","diamond","triangle-up","triangle-down"],"default":"circle",description:"Mark to be used."},filled:{type:"boolean","default":!1,description:"Whether the shape's color should be used as fill color instead of stroke color."}}},x={type:"object",supportedMarktypes:{point:!0,tick:!0,line:!0,circle:!0,square:!0}},w={properties:{height:{type:"number",minimum:0,"default":150}}},$={properties:{width:{type:"number",minimum:0,"default":150},axis:{properties:{maxLabelLength:{type:"integer","default":12,minimum:0,description:"Truncate labels that are too long."}}}}},k={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0,text:!0},properties:{padding:{type:"number",minimum:0,maximum:1,"default":.1}}},_={required:["name","type"]},S=u(s(c),{supportedRole:{measure:!0,dimension:!0}}),E=u(s(c),{supportedRole:{measure:!0,dimension:"ordinal-only"}}),C=u(s(c),{supportedRole:{measure:!0}}),M=u(s(S),d,p,_,h),A=s(M),D=u(s(f),_,k,h),L=u(s(D),d,w),I=u(s(D),d,$),R=u(s(E),g,v,h),P=u(s(S),g,y,h),j=u(s(f),g,b,h),F=u(s(f),x,h),U=u(s(C),m,h),z={
type:"array",items:{type:"object",properties:{operands:{type:"array",items:{type:["string","boolean","integer","number"]}},operator:{type:"string","enum":[">",">=","=","!=","<","<=","notNull"]}}}},q={type:"object",properties:{formatType:{type:"string","enum":["json","csv"],"default":"json"},url:{type:"string","default":void 0},values:{type:"array","default":void 0,description:"Pass array of objects instead of a url to a file.",items:{type:"object",additionalProperties:!0}}}},H={type:"object",properties:{width:{type:"integer","default":void 0},height:{type:"integer","default":void 0},viewport:{type:"array",items:{type:"integer"},"default":void 0},gridColor:{type:"string",role:"color","default":"#000000"},gridOpacity:{type:"number",minimum:0,maximum:1,"default":.08},filterNull:{type:"object",properties:{O:{type:"boolean","default":!1},Q:{type:"boolean","default":!0},T:{type:"boolean","default":!0}}},toggleSort:{type:"string","default":O},autoSortLine:{type:"boolean","default":!0},singleHeight:{type:"integer","default":200,minimum:0},singleWidth:{type:"integer","default":200,minimum:0},largeBandSize:{type:"integer","default":21,minimum:0},smallBandSize:{type:"integer","default":12,minimum:0},largeBandMaxCardinality:{type:"integer","default":10},cellPadding:{type:"number","default":.1},cellGridColor:{type:"string",role:"color","default":"#000000"},cellGridOpacity:{type:"number",minimum:0,maximum:1,"default":.15},cellBackgroundColor:{type:"string",role:"color","default":"rgba(0,0,0,0)"},textCellWidth:{type:"integer","default":90,minimum:0},strokeWidth:{type:"integer","default":2,minimum:0},singleBarOffset:{type:"integer","default":5,minimum:0},timeScaleLabelLength:{type:"integer","default":3,minimum:0,description:"Max length for values in dayScaleLabel and monthScaleLabel.  Zero means using full names in dayScaleLabel/monthScaleLabel."},dayScaleLabel:{type:"array",items:{type:"string"},"default":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],description:"Axis labels for day of week, starting from Sunday.(Consistent with Javascript -- See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getDay."},monthScaleLabel:{type:"array",items:{type:"string"},"default":["January","February","March","April","May","June","July","August","September","October","November","December"],description:"Axis labels for month."},characterWidth:{type:"integer","default":6},maxSmallNumber:{type:"number","default":1e4,description:"maximum number that a field will be considered smallNumber.Used for axis labelling."},smallNumberFormat:{type:"string","default":"",description:"D3 Number format for axis labels and text tables for number <= maxSmallNumber. Used for axis labelling."},largeNumberFormat:{type:"string","default":".3s",description:"D3 Number format for axis labels and text tables for number > maxSmallNumber."},timeFormat:{type:"string","default":"%Y-%m-%d",description:"Date format for axis labels."},useRawDomain:{type:"boolean","default":!1,description:"Use the raw data range as scale domain instead of aggregated data for aggregate axis. This option does not work with sum or count aggregateas they might have a substantially larger scale range.By default, use value from config.useRawDomain."}}};r.schema={$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for Vega-lite specification",type:"object",required:["marktype","encoding","data"],properties:{data:q,marktype:r.marktype,encoding:{type:"object",properties:{x:M,y:A,row:L,col:I,size:R,color:P,shape:j,text:U,detail:F}},filter:z,config:H}},r.encTypes=i.keys(r.schema.properties.encoding.properties),r.instantiate=function(){return r.util.instantiate(r.schema)}},{"../globals":25,"../util":29,"./schemautil":28,colorbrewer:3}],28:[function(e,t,n){"use strict";function r(e,t){if("object"!=typeof t||null===t)return e;for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&("object"!=typeof t[n]||null===t[n]?e[n]=t[n]:"object"!=typeof e[n]||null===e[n]?e[n]=r(t[n].constructor===Array?[]:{},t[n]):r(e[n],t[n]));return e}var i=t.exports={},a=e("../util"),o=function(e){return 0===Object.keys(e).length};i.extend=function(e,t){return i.merge(i.instantiate(t),e)},i.instantiate=function(e){var t;if(void 0===e)return void 0;if("default"in e)return t=e["default"],a.isObject(t)?a.duplicate(t):t;if("object"===e.type){var n={};for(var r in e.properties)t=i.instantiate(e.properties[r]),void 0!==t&&(n[r]=t);return n}return"array"===e.type?[]:void 0},i.subtract=function(e,t){var n={};for(var r in e){var s=t[r],u=e[r];if(!t||s!==u)if("object"==typeof u&&!a.isArray(u)&&s){var l=i.subtract(u,s);o(l)||(n[r]=l)}else(!a.isArray(u)||u.length>0)&&(n[r]=u)}return n},i.merge=function(){for(var e=arguments[0],t=1;t<arguments.length;t++)e=r(e,arguments[t]);return e}},{"../util":29}],29:[function(e,t,n){"use strict";var r=t.exports=e("datalib/src/util");r.extend(r,e("datalib/src/generate")),r.extend(r,e("datalib/src/stats")),r.extend(r,e("./logger")("[VL Error]")),r.bin=e("datalib/src/bins/bins"),r.isin=function(e,t){return-1!==t.indexOf(e)},r.forEach=function(e,t,n){if(e.forEach)e.forEach.call(n,t);else for(var r in e)t.call(n,e[r],r,e)},r.reduce=function(e,t,n,r){if(e.reduce)return e.reduce.call(r,t,n);for(var i in e)n=t.call(r,n,e[i],i,e);return n},r.map=function(e,t,n){if(e.map)return e.map.call(n,t);var r=[];for(var i in e)r.push(t.call(n,e[i],i,e))},r.any=function(e,t){var n,r=0;for(n in e)if(t(e[n],n,r++))return!0;return!1},r.all=function(e,t){var n,r=0;for(n in e)if(!t(e[n],n,r++))return!1;return!0},r.getbins=function(e,t){return r.bin({min:e.min,max:e.max,maxbins:t})},r.setter=function(e,t,n,r){for(var i=0;i<t.length-1;++i)e=r||t[i]in e?e[t[i]]:e[t[i]]={};e[t[i]]=n},r.getter=function(e,t,n){for(var r=0;r<t.length;++r)e=n||t[r]in e?e[t[r]]:e[t[r]]={};return e}},{"./logger":26,"datalib/src/bins/bins":32,"datalib/src/generate":33,"datalib/src/stats":35,"datalib/src/util":37}],30:[function(e,t,n){"use strict";e("./globals");var r=e("./util"),i=e("./consts"),a={};r.extend(a,i,r),a.Encoding=e("./Encoding"),a.compiler=e("./compiler/compiler"),a.compile=a.compiler.compile,a.data=e("./data"),a.enc=e("./enc"),a.field=e("./field"),a.schema=e("./schema/schema"),a.toShorthand=a.Encoding.shorthand,a.format=e("d3-format").format,t.exports=a},{"./Encoding":7,"./compiler/compiler":9,"./consts":21,"./data":22,"./enc":23,"./field":24,"./globals":25,"./schema/schema":27,"./util":29,"d3-format":5}],31:[function(t,n,r){!function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.time={})}(this,function(e){"use strict";function t(e,n,r){function o(t){return e(t=new Date(+t)),t}return o.floor=o,o.round=function(t){var r=new Date(+t),i=new Date(t-1);return e(r),e(i),n(i,1),i-t>t-r?r:i},o.ceil=function(t){return e(t=new Date(t-1)),n(t,1),t},o.offset=function(e,t){return n(e=new Date(+e),null==t?1:Math.floor(t)),e},o.range=function(t,r,i){var a=[];if(t=new Date(t-1),r=new Date(+r),i=null==i?1:Math.floor(i),!(r>t&&i>0))return a;for(n(t,1),e(t),r>t&&a.push(new Date(+t));n(t,i),e(t),r>t;)a.push(new Date(+t));return a},o.filter=function(r){return t(function(t){for(;e(t),!r(t);)t.setTime(t-1)},function(e,t){for(;--t>=0;)for(;n(e,1),!r(e););})},r&&(o.count=function(t,n){return a.setTime(+t),i.setTime(+n),e(a),e(i),Math.floor(r(a,i))}),o}function n(e){return t(function(t){t.setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()+7-e)%7)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}function r(e){return t(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}var i=new Date,a=new Date,o=t(function(e){e.setMilliseconds(0)},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3});e.seconds=o.range;var s=t(function(e){e.setSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4});e.minutes=s.range;var u=t(function(e){e.setMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5});e.hours=u.range;var l=t(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5});e.days=l.range,e.sunday=n(0),e.sundays=e.sunday.range,e.monday=n(1),e.mondays=e.monday.range,e.tuesday=n(2),e.tuesdays=e.tuesday.range,e.wednesday=n(3),e.wednesdays=e.wednesday.range,e.thursday=n(4),e.thursdays=e.thursday.range,e.friday=n(5),e.fridays=e.friday.range,e.saturday=n(6),e.saturdays=e.saturday.range;var c=e.sunday;e.weeks=c.range;var f=t(function(e){e.setHours(0,0,0,0),e.setDate(1)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())});e.months=f.range;var d=t(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()});e.years=d.range;var h=t(function(e){e.setUTCMilliseconds(0)},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3});e.utcSeconds=h.range;var p=t(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4});e.utcMinutes=p.range;var g=t(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5});e.utcHours=g.range;var m=t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5});e.utcDays=m.range,e.utcSunday=r(0),e.utcSundays=e.utcSunday.range,e.utcMonday=r(1),e.utcMondays=e.utcMonday.range,e.utcTuesday=r(2),e.utcTuesdays=e.utcTuesday.range,e.utcWednesday=r(3),e.utcWednesdays=e.utcWednesday.range,e.utcThursday=r(4),e.utcThursdays=e.utcThursday.range,e.utcFriday=r(5),e.utcFridays=e.utcFriday.range,e.utcSaturday=r(6),e.utcSaturdays=e.utcSaturday.range;var v=e.utcSunday;e.utcWeeks=v.range;var y=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCDate(1)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())});e.utcMonths=y.range;var b=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()});e.utcYears=b.range,e.interval=t,e.second=o,e.minute=s,e.hour=u,e.day=l,e.week=c,e.month=f,e.year=d,e.utcSecond=h,e.utcMinute=p,e.utcHour=g,e.utcDay=m,e.utcWeek=v,e.utcMonth=y,e.utcYear=b})},{}],32:[function(e,t,n){function r(e){if(!e)throw Error("Missing binning options.");var t,n,r,s,u,l,c,f=e.maxbins||15,d=e.base||10,h=Math.log(d),p=e.div||[5,2],g=e.min,m=e.max,v=m-g;if(e.step)t=e.step;else if(e.steps)t=e.steps[Math.min(e.steps.length-1,i(e.steps,v/f,0,e.steps.length))];else{n=Math.ceil(Math.log(f)/h),r=e.minstep||0,t=Math.max(r,Math.pow(d,Math.round(Math.log(v)/h)-n));do t*=d;while(Math.ceil(v/t)>f);for(l=0;l<p.length;++l)u=t/p[l],u>=r&&f>=v/u&&(t=u)}return u=Math.log(t),s=u>=0?0:~~(-u/h)+1,c=Math.pow(d,-s-1),g=Math.min(g,Math.floor(g/t+c)*t),m=Math.ceil(m/t)*t,{start:g,stop:m,step:t,unit:{precision:s},value:a,index:o}}function i(e,t,n,r){for(;r>n;){var i=n+r>>>1;l.cmp(e[i],t)<0?n=i+1:r=i}return n}function a(e){return this.step*Math.floor(e/this.step+f)}function o(e){return Math.floor((e-this.start)/this.step+f)}function s(e){return this.unit.date(a.call(this,e))}function u(e){return o.call(this,this.unit.unit(e))}var l=e("../util"),c=e("../time"),f=1e-15;r.date=function(e){if(!e)throw Error("Missing date binning options.");var t=e.utc?c.utc:c,n=e.min,i=e.max,a=e.maxbins||20,o=e.minbins||4,l=+i-+n,f=e.unit?t[e.unit]:t.find(l,o,a),d=r({min:null!=f.min?f.min:f.unit(n),max:null!=f.max?f.max:f.unit(i),maxbins:a,minstep:f.minstep,steps:f.step});return d.unit=f,d.index=u,e.raw||(d.value=s),d},t.exports=r},{"../time":36,"../util":37}],33:[function(e,t,n){var r=t.exports={};r.repeat=function(e,t){var n,r=Array(t);for(n=0;t>n;++n)r[n]=e;return r},r.zeros=function(e){return r.repeat(0,e)},r.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("Infinite range");var r,i=[],a=-1;if(0>n)for(;(r=e+n*++a)>t;)i.push(r);else for(;(r=e+n*++a)<t;)i.push(r);return i},r.random={},r.random.uniform=function(e,t){void 0===t&&(t=void 0===e?1:e,e=0);var n=t-e,i=function(){return e+n*Math.random()};return i.samples=function(e){return r.zeros(e).map(i)},i},r.random.integer=function(e,t){void 0===t&&(t=e,e=0);var n=t-e,i=function(){return e+Math.floor(n*Math.random())};return i.samples=function(e){return r.zeros(e).map(i)},i},r.random.normal=function(e,t){e=e||0,t=t||1;var n,i=function(){var r,i,a=0,o=0;if(void 0!==n)return a=n,n=void 0,a;do a=2*Math.random()-1,o=2*Math.random()-1,r=a*a+o*o;while(0===r||r>1);return i=Math.sqrt(-2*Math.log(r)/r),n=e+o*i*t,e+a*i*t};return i.samples=function(e){return r.zeros(e).map(i)},i}},{}],34:[function(e,t,n){function r(e,t){return t?void(e[l]=t):e&&e[l]||null}function i(e,t){t=u.$(t);var n,r,i;if(e[l]&&(n=t(e[l]),u.isString(n)))return n;for(r=0,i=e.length;!u.isValid(n)&&i>r;++r)n=t?t(e[r]):e[r];return u.isDate(n)?"date":u.isNumber(n)?"number":u.isBoolean(n)?"boolean":u.isString(n)?"string":null}function a(e,t){return e.length?(t=t||u.keys(e[0]),t.reduce(function(t,n){return t[n]=i(e,n),t},{})):void 0}function o(e,t){t=u.$(t);var n,r,i,a=["boolean","integer","number","date"];for(n=0;n<e.length;++n){for(i=t?t(e[n]):e[n],r=0;r<a.length;++r)u.isValid(i)&&!f[a[r]](i)&&(a.splice(r,1),r-=1);if(0===a.length)return"string"}return a[0]}function s(e,t){return t=t||u.keys(e[0]),t.reduce(function(t,n){return t[n]=o(e,n),t},{})}var u=e("../util"),l="__types__",c={"boolean":u["boolean"],integer:u.number,number:u.number,date:u.date,string:function(e){return""===e?null:e}},f={"boolean":function(e){return"true"===e||"false"===e||u.isBoolean(e)},integer:function(e){return f.number(e)&&(e=+e)===~~e},number:function(e){return!isNaN(+e)&&!u.isDate(e)},date:function(e){return!isNaN(Date.parse(e))}};i.annotation=r,i.all=a,i.infer=o,i.inferAll=s,i.parsers=c,t.exports=i},{"../util":37}],35:[function(e,t,n){var r=e("./util"),i=e("./import/type"),a=e("./generate"),o={};o.unique=function(e,t,n){t=r.$(t),n=n||[];var i,a,o,s={};for(a=0,o=e.length;o>a;++a)i=t?t(e[a]):e[a],i in s||(s[i]=1,n.push(i));return n},o.count=function(e){return e&&e.length||0},o.count.valid=function(e,t){t=r.$(t);var n,i,a,o=0;for(i=0,a=e.length;a>i;++i)n=t?t(e[i]):e[i],r.isValid(n)&&(o+=1);return o},o.count.missing=function(e,t){t=r.$(t);var n,i,a,o=0;for(i=0,a=e.length;a>i;++i)n=t?t(e[i]):e[i],null==n&&(o+=1);return o},o.count.distinct=function(e,t){t=r.$(t);var n,i,a,o={},s=0;for(i=0,a=e.length;a>i;++i)n=t?t(e[i]):e[i],n in o||(o[n]=1,s+=1);return s},o.count.map=function(e,t){t=r.$(t);var n,i,a,o={};for(i=0,a=e.length;a>i;++i)n=t?t(e[i]):e[i],o[n]=n in o?o[n]+1:1;return o},o.median=function(e,t){return t&&(e=e.map(r.$(t))),e=e.filter(r.isValid).sort(r.cmp),o.quantile(e,.5)},o.quartile=function(e,t){t&&(e=e.map(r.$(t))),e=e.filter(r.isValid).sort(r.cmp);var n=o.quantile;return[n(e,.25),n(e,.5),n(e,.75)]},o.quantile=function(e,t,n){void 0===n&&(n=t,t=r.identity),t=r.$(t);var i=(e.length-1)*n+1,a=Math.floor(i),o=+t(e[a-1]),s=i-a;return s?o+s*(t(e[a])-o):o},o.sum=function(e,t){t=r.$(t);for(var n,i=0,a=0,o=e.length;o>a;++a)n=t?t(e[a]):e[a],r.isValid(n)&&(i+=n);return i},o.mean=function(e,t){t=r.$(t);var n,i,a,o,s,u=0;for(i=0,o=0,a=e.length;a>i;++i)s=t?t(e[i]):e[i],r.isValid(s)&&(n=s-u,u+=n/++o);return u},o.variance=function(e,t){if(t=r.$(t),!r.isArray(e)||e.length<2)return 0;var n,i,a,o,s=0,u=0;for(i=0,a=0;i<e.length;++i)o=t?t(e[i]):e[i],r.isValid(o)&&(n=o-s,s+=n/++a,u+=n*(o-s));return u/=a-1},o.stdev=function(e,t){return Math.sqrt(o.variance(e,t))},o.modeskew=function(e,t){var n=o.mean(e,t),r=o.median(e,t),i=o.stdev(e,t);return 0===i?0:(n-r)/i},o.min=function(e,t){return o.extent(e,t)[0]},o.max=function(e,t){return o.extent(e,t)[1]},o.extent=function(e,t){t=r.$(t);var n,i,a,o,s=e.length;for(o=0;s>o;++o)if(a=t?t(e[o]):e[o],r.isValid(a)){n=i=a;break}for(;s>o;++o)a=t?t(e[o]):e[o],r.isValid(a)&&(n>a&&(n=a),a>i&&(i=a));return[n,i]},o.extent.index=function(e,t){t=r.$(t);var n,i,a,o,s=-1,u=-1,l=e.length;for(o=0;l>o;++o)if(a=t?t(e[o]):e[o],r.isValid(a)){n=i=a,s=u=o;break}for(;l>o;++o)a=t?t(e[o]):e[o],r.isValid(a)&&(n>a&&(n=a,s=o),a>i&&(i=a,u=o));return[s,u]},o.dot=function(e,t,n){var i,a,o=0;if(n)for(t=r.$(t),n=r.$(n),i=0;i<e.length;++i)a=t(e[i])*n(e[i]),a===a&&(o+=a);else{if(e.length!==t.length)throw Error("Array lengths must match.");for(i=0;i<e.length;++i)a=e[i]*t[i],a===a&&(o+=a)}return o},o.rank=function(e,t){t=r.$(t)||r.identity;var n,i,a,o=e.map(function(e,n){return{idx:n,val:t(e)}}).sort(r.comparator("val")),s=e.length,u=Array(s),l=-1,c={};for(n=0;s>n;++n){if(i=o[n].val,0>l&&c===i)l=n-1;else if(l>-1&&c!==i){for(a=1+(n-1+l)/2;n>l;++l)u[o[l].idx]=a;l=-1}u[o[n].idx]=n+1,c=i}if(l>-1)for(a=1+(s-1+l)/2;s>l;++l)u[o[l].idx]=a;return u},o.cor=function(e,t,n){var i=n;n=i?e.map(r.$(n)):t,t=i?e.map(r.$(t)):e;var a=o.dot(t,n),s=o.mean(t),u=o.mean(n),l=o.stdev(t),c=o.stdev(n),f=e.length;return(a-f*s*u)/((f-1)*l*c)},o.cor.rank=function(e,t,n){var i,a,s,u=n?o.rank(e,r.$(t)):o.rank(e),l=n?o.rank(e,r.$(n)):o.rank(t),c=e.length;for(i=0,a=0;c>i;++i)s=u[i]-l[i],a+=s*s;return 1-6*a/(c*(c*c-1))},o.cor.dist=function(e,t,n){var i,a,s,u,l=n?e.map(r.$(t)):e,c=n?e.map(r.$(n)):t,f=o.dist.mat(l),d=o.dist.mat(c),h=f.length;for(i=0,a=0,s=0,u=0;h>i;++i)a+=f[i]*f[i],s+=d[i]*d[i],u+=f[i]*d[i];return Math.sqrt(u/Math.sqrt(a*s))},o.dist=function(e,t,n,i){var a,o,s=r.isFunction(n)||r.isString(n),u=e,l=s?e:t,c=s?i:n,f=2===c||null==c,d=e.length,h=0;for(s&&(t=r.$(t),n=r.$(n)),o=0;d>o;++o)a=s?t(u[o])-n(l[o]):u[o]-l[o],h+=f?a*a:Math.pow(Math.abs(a),c);return f?Math.sqrt(h):Math.pow(h,1/c)},o.dist.mat=function(e){var t,n,r,i=e.length,o=i*i,s=Array(o),u=a.zeros(i),l=0;for(n=0;i>n;++n)for(s[n*i+n]=0,r=n+1;i>r;++r)s[n*i+r]=t=Math.abs(e[n]-e[r]),s[r*i+n]=t,u[n]+=t,u[r]+=t;for(n=0;i>n;++n)l+=u[n],u[n]/=i;for(l/=o,n=0;i>n;++n)for(r=n;i>r;++r)s[n*i+r]+=l-u[n]-u[r],s[r*i+n]=s[n*i+r];return s},o.entropy=function(e,t){t=r.$(t);var n,i,a=0,o=0,s=e.length;for(n=0;s>n;++n)a+=t?t(e[n]):e[n];if(0===a)return 0;for(n=0;s>n;++n)i=(t?t(e[n]):e[n])/a,i&&(o+=i*Math.log(i));return-o/Math.LN2},o.mutual=function(e,t,n,i){var a,o,s,u=i?e.map(r.$(t)):e,l=i?e.map(r.$(n)):t,c=i?e.map(r.$(i)):n,f={},d={},h=c.length,p=0,g=0,m=0;for(s=0;h>s;++s)f[u[s]]=0,d[l[s]]=0;for(s=0;h>s;++s)f[u[s]]+=c[s],d[l[s]]+=c[s],p+=c[s];for(o=1/(p*Math.LN2),s=0;h>s;++s)0!==c[s]&&(a=p*c[s]/(f[u[s]]*d[l[s]]),g+=c[s]*o*Math.log(a),m+=c[s]*o*Math.log(c[s]/p));return[g,1+g/m]},o.mutual.info=function(e,t,n,r){return o.mutual(e,t,n,r)[0]},o.mutual.dist=function(e,t,n,r){return o.mutual(e,t,n,r)[1]},o.profile=function(e,t){var n,a,s,u,l,c=0,f=0,d=0,h=0,p=null,g=null,m=0,v=[],y={};for(s=0;s<e.length;++s)u=t?t(e[s]):e[s],y[u]=u in y?y[u]+1:(h+=1,1),null==u?++d:r.isValid(u)&&(l="string"==typeof u?u.length:u,(null===p||p>l)&&(p=l),(null===g||l>g)&&(g=l),n=l-c,c+=n/++f,m+=n*(l-c),v.push(l));return m/=f-1,a=Math.sqrt(m),v.sort(r.cmp),{type:i(e,t),unique:y,count:e.length,valid:f,missing:d,distinct:h,min:p,max:g,mean:c,stdev:a,median:u=o.quantile(v,.5),q1:o.quantile(v,.25),q3:o.quantile(v,.75),modeskew:0===a?0:(c-u)/a}},o.summary=function(e,t){t=t||r.keys(e[0]);var n=t.map(function(t){var n=o.profile(e,r.$(t));return n.field=t,n});return n.__summary__=!0,n},t.exports=o},{"./generate":33,"./import/type":34,"./util":37}],36:[function(e,t,n){function r(e){return l.setTime(+e),l}function i(e,t,n,r,i,a){var o={type:e,date:t,unit:n};return r?o.step=r:o.minstep=1,null!=i&&(o.min=i),null!=a&&(o.max=a),o}function a(e,t,n,r,a,o){return i(e,function(e){return t.offset(n,e)},function(e){return t.count(n,e)},r,a,o)}function o(e,t,n,r){var i,a,o,s=p[0];for(i=1,a=p.length;a>i;++i)if(s=p[i],t>s[0]){if(o=t/s[0],o>r)return e[p[i-1][1]];if(o>=n)return e[s[1]]}return e[p[a-1][1]]}function s(e){var t,n,r={};for(t=0,n=e.length;n>t;++t)r[e[t].type]=e[t];return r.find=function(t,n,r){return o(e,t,n,r)},r}var u=e("d3-time"),l=new Date,c=new Date(0,0,1).setFullYear(0),f=new Date(Date.UTC(0,0,1)).setUTCFullYear(0),d=[a("second",u.second,c),a("minute",u.minute,c),a("hour",u.hour,c),a("day",u.day,c,[1,7]),a("month",u.month,c,[1,3,6]),a("year",u.year,c),i("seconds",function(e){return new Date(1970,0,1,0,0,e)},function(e){return r(e).getSeconds()},null,0,59),i("minutes",function(e){return new Date(1970,0,1,0,e)},function(e){return r(e).getMinutes()},null,0,59),i("hours",function(e){return new Date(1970,0,1,e)},function(e){return r(e).getHours()},null,0,23),i("weekdays",function(e){return new Date(1970,0,4+e)},function(e){return r(e).getDay()},[1],0,6),i("dates",function(e){return new Date(1970,0,e)},function(e){return r(e).getDate()},[1],1,31),i("months",function(e){return new Date(1970,e%12,1)},function(e){return r(e).getMonth()},[1],0,11)],h=[a("second",u.utcSecond,f),a("minute",u.utcMinute,f),a("hour",u.utcHour,f),a("day",u.utcDay,f,[1,7]),a("month",u.utcMonth,f,[1,3,6]),a("year",u.utcYear,f),i("seconds",function(e){return new Date(Date.UTC(1970,0,1,0,0,e))},function(e){return r(e).getUTCSeconds()},null,0,59),i("minutes",function(e){return new Date(Date.UTC(1970,0,1,0,e))},function(e){return r(e).getUTCMinutes()},null,0,59),i("hours",function(e){return new Date(Date.UTC(1970,0,1,e))},function(e){return r(e).getUTCHours()},null,0,23),i("weekdays",function(e){return new Date(Date.UTC(1970,0,4+e))},function(e){return r(e).getUTCDay()},[1],0,6),i("dates",function(e){return new Date(Date.UTC(1970,0,e))},function(e){return r(e).getUTCDate()},[1],1,31),i("months",function(e){return new Date(Date.UTC(1970,e%12,1))},function(e){return r(e).getUTCMonth()},[1],0,11)],p=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]];t.exports=s(d),t.exports.utc=s(h)},{"d3-time":31}],37:[function(e,t,n){function r(e){return e.replace(d,"$1\\'")}function i(e,t){var n,r="";for(n=0;e>n;++n)r+=t;return r}function a(e,t,n){var r=0,i=e.split(h);return e=n?(i=i.reverse()).filter(function(e){return r+=e.length,t>=r}).reverse():i.filter(function(e){return r+=e.length,t>=r}),e.length?e.join("").trim():i[0].slice(0,t)}var o=e("buffer"),s=e("./time"),u=s.utc,l=t.exports={},c="__name__";l.namedfunc=function(e,t){return t[c]=e,t},l.name=function(e){return null==e?null:e[c]},l.identity=function(e){return e},l["true"]=l.namedfunc("true",function(){return!0}),l["false"]=l.namedfunc("false",function(){return!1}),l.duplicate=function(e){return JSON.parse(JSON.stringify(e))},l.equal=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},l.extend=function(e){for(var t,n,r=1,i=arguments.length;i>r;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e},l.length=function(e){return null!=e&&null!=e.length?e.length:null},l.keys=function(e){var t,n=[];for(t in e)n.push(t);return n},l.vals=function(e){var t,n=[];for(t in e)n.push(e[t]);return n},l.toMap=function(e,t){return(t=l.$(t))?e.reduce(function(e,n){return e[t(n)]=1,e},{}):e.reduce(function(e,t){return e[t]=1,e},{})},l.keystr=function(e){var t=e.length;if(!t)return"";for(var n=String(e[0]),r=1;t>r;++r)n+="|"+String(e[r]);return n};var f=Object.prototype.toString;l.isObject=function(e){return e===Object(e)},l.isFunction=function(e){return"[object Function]"===f.call(e)},l.isString=function(e){return"string"==typeof value||"[object String]"===f.call(e)},l.isArray=Array.isArray||function(e){return"[object Array]"===f.call(e)},l.isNumber=function(e){return"number"==typeof e||"[object Number]"===f.call(e)},l.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==f.call(e)},l.isDate=function(e){return"[object Date]"===f.call(e)},l.isValid=function(e){return null!=e&&e===e},l.isBuffer=o.Buffer&&o.Buffer.isBuffer||l["false"],l.number=function(e){return null==e||""===e?null:+e},l["boolean"]=function(e){return null==e||""===e?null:"false"===e?!1:!!e},l.date=function(e){return null==e||""===e?null:Date.parse(e)},l.array=function(e){return null!=e?l.isArray(e)?e:[e]:[]},l.str=function(e){return l.isArray(e)?"["+e.map(l.str)+"]":l.isObject(e)?JSON.stringify(e):l.isString(e)?"'"+r(e)+"'":e};var d=/(^|[^\\])'/g;l.field=function(e){return String(e).split("\\.").map(function(e){return e.split(".")}).reduce(function(e,t){return e.length&&(e[e.length-1]+="."+t.shift()),e.push.apply(e,t),e},[])},l.accessor=function(e){var t;return null==e||l.isFunction(e)?e:l.namedfunc(e,(t=l.field(e)).length>1?function(e){return t.reduce(function(e,t){return e[t]},e)}:function(t){return t[e]})},l.$=l.accessor,l.mutator=function(e){var t;return l.isString(e)&&(t=l.field(e)).length>1?function(e,n){for(var r=0;r<t.length-1;++r)e=e[t[r]];e[t[r]]=n}:function(t,n){t[e]=n}},l.$func=function(e,t){return function(n){n=l.$(n)||l.identity;var r=e+(l.name(n)?"_"+l.name(n):"");return l.namedfunc(r,function(e){return t(n(e))})}},l.$valid=l.$func("valid",l.isValid),l.$length=l.$func("length",l.length),l.$in=function(e,t){e=l.$(e);var n=l.isArray(t)?l.toMap(t):t;return function(t){return!!n[e(t)]}},l.$year=l.$func("year",s.year.unit),l.$month=l.$func("month",s.months.unit),l.$date=l.$func("date",s.dates.unit),l.$day=l.$func("day",s.weekdays.unit),l.$hour=l.$func("hour",s.hours.unit),l.$minute=l.$func("minute",s.minutes.unit),l.$second=l.$func("second",s.seconds.unit),l.$utcYear=l.$func("utcYear",u.year.unit),l.$utcMonth=l.$func("utcMonth",u.months.unit),l.$utcDate=l.$func("utcDate",u.dates.unit),l.$utcDay=l.$func("utcDay",u.weekdays.unit),l.$utcHour=l.$func("utcHour",u.hours.unit),l.$utcMinute=l.$func("utcMinute",u.minutes.unit),l.$utcSecond=l.$func("utcSecond",u.seconds.unit),l.comparator=function(e){var t=[];return void 0===e&&(e=[]),e=l.array(e).map(function(e){var n=1;return"-"===e[0]?(n=-1,e=e.slice(1)):"+"===e[0]&&(n=1,e=e.slice(1)),t.push(n),l.accessor(e)}),function(n,r){var i,a,o,s,u;for(i=0,a=e.length;a>i;++i){if(o=e[i],s=o(n),u=o(r),u>s)return-1*t[i];if(s>u)return t[i]}return 0}},l.cmp=function(e,t){return t>e?-1:e>t?1:e>=t?0:null===e?-1:null===t?1:0/0},l.numcmp=function(e,t){return e-t},l.stablesort=function(e,t,n){var r=e.reduce(function(e,t,r){return e[n(t)]=r,e},{});return e.sort(function(e,i){var a=t(e),o=t(i);return o>a?-1:a>o?1:r[n(e)]-r[n(i)]}),e},l.pad=function(e,t,n,r){r=r||" ";var a=t-e.length;if(0>=a)return e;switch(n){case"left":return i(a,r)+e;case"middle":case"center":return i(Math.floor(a/2),r)+e+i(Math.ceil(a/2),r);default:return e+i(a,r)}},l.truncate=function(e,t,n,r,i){var o=e.length;if(t>=o)return e;i=void 0!==i?String(i):"…";var s=Math.max(0,t-i.length);switch(n){case"left":return i+(r?a(e,s,1):e.slice(o-s));case"middle":case"center":var u=Math.ceil(s/2),l=Math.floor(s/2);return(r?a(e,u):e.slice(0,u))+i+(r?a(e,l,1):e.slice(o-l));default:return(r?a(e,s):e.slice(0,s))+i}};var h=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/},{"./time":36,buffer:1}]},{},[30])(30)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.cp=e()}}(function(){return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){t.exports={hcluster:e("./hcluster"),Kmeans:e("./kmeans"),kmeans:e("./kmeans").kmeans}},{"./hcluster":3,"./kmeans":4}],2:[function(e,t,n){t.exports={euclidean:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=Math.pow(t[r]-e[r],2);return Math.sqrt(n)},manhattan:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=Math.abs(t[r]-e[r]);return n},max:function(e,t){for(var n=0,r=0;r<e.length;r++)n=Math.max(n,Math.abs(t[r]-e[r]));return n}}},{}],3:[function(e,t,n){var r=e("./distance"),i=function(e,t,n){this.distance=e,this.linkage=t,this.threshold=void 0==n?1/0:n};i.prototype={cluster:function(e,t,n){this.clusters=[],this.dists=[],this.mins=[],this.index=[];for(var r=0;r<e.length;r++){var i={value:e[r],key:r,index:r,size:1};this.clusters[r]=i,this.index[r]=i,this.dists[r]=[],this.mins[r]=0}for(var r=0;r<this.clusters.length;r++)for(var a=0;r>=a;a++){var o=r==a?1/0:this.distance(this.clusters[r].value,this.clusters[a].value);this.dists[r][a]=o,this.dists[a][r]=o,o<this.dists[r][this.mins[r]]&&(this.mins[r]=a)}for(var s=this.mergeClosest(),r=0;s;)n&&r++%t==0&&n(this.clusters),s=this.mergeClosest();return this.clusters.forEach(function(e){delete e.key,delete e.index}),this.clusters},mergeClosest:function(){for(var e=0,t=1/0,n=0;n<this.clusters.length;n++){var r=this.clusters[n].key,i=this.dists[r][this.mins[r]];t>i&&(e=r,t=i)}if(t>=this.threshold)return!1;var a=this.index[e],o=this.index[this.mins[e]],s={left:a,right:o,key:a.key,size:a.size+o.size};this.clusters[a.index]=s,this.clusters.splice(o.index,1),this.index[a.key]=s;for(var n=0;n<this.clusters.length;n++){var i,u=this.clusters[n];a.key==u.key?i=1/0:"single"==this.linkage?(i=this.dists[a.key][u.key],this.dists[a.key][u.key]>this.dists[o.key][u.key]&&(i=this.dists[o.key][u.key])):"complete"==this.linkage?(i=this.dists[a.key][u.key],this.dists[a.key][u.key]<this.dists[o.key][u.key]&&(i=this.dists[o.key][u.key])):i="average"==this.linkage?(this.dists[a.key][u.key]*a.size+this.dists[o.key][u.key]*o.size)/(a.size+o.size):this.distance(u.value,a.value),this.dists[a.key][u.key]=this.dists[u.key][a.key]=i}for(var n=0;n<this.clusters.length;n++){var l=this.clusters[n].key;if(this.mins[l]==a.key||this.mins[l]==o.key){for(var t=l,c=0;c<this.clusters.length;c++){var f=this.clusters[c].key;this.dists[l][f]<this.dists[l][t]&&(t=f)}this.mins[l]=t}this.clusters[n].index=n}return delete a.key,delete o.key,delete a.index,delete o.index,!0}};var a=function(e,t,n,a,o,s){t=t||"euclidean",n=n||"average","string"==typeof t&&(t=r[t]);var u=new i(t,n,a).cluster(e,o,s);return void 0===a?u[0]:u};t.exports=a},{"./distance":2}],4:[function(e,t,n){function r(e){this.centroids=e||[]}var i=e("./distance");r.prototype.randomCentroids=function(e,t){var n=e.slice(0);return n.sort(function(){return Math.round(Math.random())-.5}),n.slice(0,t)},r.prototype.classify=function(e,t){var n=1/0,r=0;t=t||"euclidean","string"==typeof t&&(t=i[t]);for(var a=0;a<this.centroids.length;a++){var o=t(e,this.centroids[a]);n>o&&(n=o,r=a)}return r},r.prototype.cluster=function(e,t,n,r,a){t=t||Math.max(2,Math.ceil(Math.sqrt(e.length/2))),n=n||"euclidean","string"==typeof n&&(n=i[n]),this.centroids=this.randomCentroids(e,t);for(var o=new Array(e.length),s=new Array(t),u=0,l=!0;l;){for(var c=0;c<e.length;c++)o[c]=this.classify(e[c],n);l=!1;for(var f=0;t>f;f++){for(var d=[],c=0;c<o.length;c++)o[c]==f&&d.push(e[c]);if(d.length){for(var h=this.centroids[f],p=new Array(h.length),g=0;g<h.length;g++){for(var m=0,c=0;c<d.length;c++)m+=d[c][g];p[g]=m/d.length,p[g]!=h[g]&&(l=!0)}this.centroids[f]=p,s[f]=d}}a&&u++%r==0&&a(s)}return s},r.prototype.toJSON=function(){return JSON.stringify(this.centroids)},r.prototype.fromJSON=function(e){return this.centroids=JSON.parse(e),this},t.exports=r,t.exports.kmeans=function(e,t){return(new r).cluster(e,t)}},{"./distance":2}],5:[function(e,t,n){(function(n){"use strict";function r(e,t){var n=r.distance.table(e),u=a.hcluster(e,function(e,t){var r=i.Encoding.shorthand(e),a=i.Encoding.shorthand(t);return n[r][a]},"average",o.CLUSTER_THRESHOLD),l=u.map(function(e){return s.traverse(e,[]);

}).map(function(e){return e.sort(function(e,t){return t._info.score-e._info.score})}).filter(function(e){return e.length>0}).sort(function(e,t){return t[0]._info.score-e[0]._info.score});return l.dist=n,l}t.exports=r;var i="undefined"!=typeof window?window.vl:"undefined"!=typeof n?n.vl:null,a=e("clusterfck"),o=e("./clusterconsts"),s=e("../util");r.distance=e("./distance")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util":19,"./clusterconsts":6,"./distance":7,clusterfck:1}],6:[function(e,t,n){"use strict";function r(e,t){var n=t[0],r=t[1],i=t[2];return e[n]=e[n]||{},e[r]=e[r]||{},e[n][r]=e[r][n]=i,e}var i=t.exports={};i.SWAPPABLE=.05,i.DIST_MISSING=1,i.CLUSTER_THRESHOLD=1,i.DIST_BY_ENCTYPE=[["x","y",i.SWAPPABLE],["row","col",i.SWAPPABLE],["color","shape",i.SWAPPABLE],["color","detail",i.SWAPPABLE],["detail","shape",i.SWAPPABLE],["size","color",i.SWAPPABLE]].reduce(r,{})},{}],7:[function(e,t,n){(function(n){"use strict";var r="undefined"!=typeof window?window.vl:"undefined"!=typeof n?n.vl:null,i=e("./clusterconsts"),a=e("../util"),o={};t.exports=o,o.table=function(e){var t,n,i=e.length,a=e.map(function(e){return o.getEncTypeByColumnName(e)}),s=e.map(r.Encoding.shorthand),u={};for(t=0;i>t;t++)u[s[t]]={};for(t=0;i>t;t++)for(n=t+1;i>n;n++){var l=s[n],c=s[t];u[l][c]=u[c][l]=o.get(a[t],a[n])}return u},o.get=function(e,t){var n=a.union(r.keys(e.col),r.keys(t.col)),o=0;n.forEach(function(n){var r=e.col[n],a=t.col[n];r&&a?r.encType!=a.encType&&(o+=(i.DIST_BY_ENCTYPE[r.encType]||{})[a.encType]||1):o+=i.DIST_MISSING});var s=r.Encoding.isStack(e),u=r.Encoding.isStack(t);return(s||u)&&(s&&u?e.encoding.color.name!==t.encoding.color.name&&(o+=1):o+=1),o},o.getEncTypeByColumnName=function(e){var t={},n=e.encoding;return r.keys(n).forEach(function(e){var i=r.duplicate(n[e]);i.encType=e,t[i.name||""]=i,delete i.name}),{marktype:e.marktype,col:t,encoding:e.encoding}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util":19,"./clusterconsts":6}],8:[function(e,t,n){"use strict";var r=t.exports={gen:{},cluster:{},rank:{}};r.gen.projections={type:"object",properties:{omitDotPlot:{type:"boolean","default":!1,description:"remove all dot plots"},maxCardinalityForAutoAddOrdinal:{type:"integer","default":50,description:"max cardinality for ordinal field to be considered for auto adding"},alwaysAddHistogram:{type:"boolean","default":!0}}},r.gen.aggregates={type:"object",properties:{config:{type:"object"},data:{type:"object"},tableTypes:{type:"boolean","default":"both","enum":["both","aggregated","disaggregated"]},genDimQ:{type:"string","default":"auto","enum":["auto","bin","cast","none"],description:"Use Q as Dimension either by binning or casting"},minCardinalityForBin:{type:"integer","default":20,description:"minimum cardinality of a field if we were to bin"},omitDotPlot:{type:"boolean","default":!1,description:"remove all dot plots"},omitMeasureOnly:{type:"boolean","default":!1,description:"Omit aggregation with measure(s) only"},omitDimensionOnly:{type:"boolean","default":!0,description:"Omit aggregation with dimension(s) only"},addCountForDimensionOnly:{type:"boolean","default":!0,description:"Add count when there are dimension(s) only"},aggrList:{type:"array",items:{type:["string"]},"default":[void 0,"avg"]},timeUnitList:{type:"array",items:{type:["string"]},"default":["year"]},consistentAutoQ:{type:"boolean","default":!0,description:"generate similar auto transform for quant"}}},r.gen.encodings={type:"object",properties:{marktypeList:{type:"array",items:{type:"string"},"default":["point","bar","line","area","text","tick"],description:"allowed marktypes"},encodingTypeList:{type:"array",items:{type:"string"},"default":["x","y","row","col","size","color","text","detail"],description:"allowed encoding types"},maxGoodCardinalityForFacets:{type:"integer","default":5,description:"maximum cardinality of a field to be put on facet (row/col) effectively"},maxCardinalityForFacets:{type:"integer","default":20,description:"maximum cardinality of a field to be put on facet (row/col)"},maxGoodCardinalityForColor:{type:"integer","default":7,description:"maximum cardinality of an ordinal field to be put on color effectively"},maxCardinalityForColor:{type:"integer","default":20,description:"maximum cardinality of an ordinal field to be put on color"},maxCardinalityForShape:{type:"integer","default":6,description:"maximum cardinality of an ordinal field to be put on shape"},omitTranpose:{type:"boolean","default":!0,description:"Eliminate all transpose by (1) keeping horizontal dot plot only (2) for OxQ charts, always put O on Y (3) show only one DxD, MxM (currently sorted by name)"},omitDotPlot:{type:"boolean","default":!1,description:"remove all dot plots"},omitDotPlotWithExtraEncoding:{type:"boolean","default":!0,description:"remove all dot plots with >1 encoding"},omitMultipleRetinalEncodings:{type:"boolean","default":!0,description:"omit using multiple retinal variables (size, color, shape)"},omitNonTextAggrWithAllDimsOnFacets:{type:"boolean","default":!0,description:"remove all aggregated charts (except text tables) with all dims on facets (row, col)"},omitOneDimensionCount:{type:"boolean","default":!1,description:"omit one dimension count"},omitSizeOnBar:{type:"boolean","default":!1,description:"do not use bar's size"},omitStackedAverage:{type:"boolean","default":!0,description:"do not stack bar chart with average"},alwaysGenerateTableAsHeatmap:{type:"boolean","default":!0}}}},{}],9:[function(e,t,n){t.exports={consts:e("./consts"),cluster:e("./cluster/cluster"),gen:e("./gen/gen"),rank:e("./rank/rank"),util:e("./util"),auto:"-, sum"}},{"./cluster/cluster":5,"./consts":8,"./gen/gen":13,"./rank/rank":17,"./util":19}],10:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){function s(t){t=i.duplicate(t),t.key=i.field.shorthands(t),e.push(t)}function u(){if(r.omitMeasureOnly||r.omitDimensionOnly){var e=!1,t=!1,n=!1;if(g.forEach(function(r){i.field.isDimension(r)?t=!0:(e=!0,r.aggregate||(n=!0))}),!t&&!n&&r.omitMeasureOnly)return;if(!e&&(r.addCountForDimensionOnly&&(g.push(i.field.count()),s(g),g.pop()),r.omitDimensionOnly))return}r.omitDotPlot&&1===g.length||s(g)}function l(e,t,n,r){var i=t===!0||null===t,a=t===!1||null===t;r?i&&(g[e].aggregate=r,p(e+1,!0,n),delete g[e].aggregate):a&&p(e+1,!1,n)}function c(e,t,n){g[e].bin=!0,p(e+1,t,n),delete g[e].bin}function f(e,a,s){var u=t[e],f=a===!0||null===a;if(g[e]={name:u.name,type:u.type},"count"===u.aggregate)f&&(g[e].aggregate=u.aggregate,p(e+1,!0,s));else if(u._aggregate)l(e,a,s,u._aggregate);else if(u._raw)l(e,a,s,void 0);else if(u._bin)c(e,a,s);else if(r.aggrList.forEach(function(t){r.consistentAutoQ&&s!==o&&s!==t||l(e,a,t,t)}),(!r.consistentAutoQ||i.isin(s,[o,"bin","cast","autocast"]))&&!m){var d=i.field.cardinality(u,n)>r.minCardinalityForBin,h="auto"===r.genDimQ,v="bin"===r.genDimQ||h&&d,y="cast"===r.genDimQ||h&&!d;v&&i.isin(s,[o,"bin","autocast"])&&c(e,a,h?"autocast":"bin"),y&&i.isin(s,[o,"cast","autocast"])&&(g[e].type="O",p(e+1,a,h?"autocast":"cast"),g[e].type="Q")}}function d(e,t,n,r){g[e].timeUnit=r,p(e+1,t,n),delete g[e].timeUnit}function h(e,n,i){var a=t[e];g[e]={name:a.name,type:a.type},a._timeUnit?d(e,n,i,a._timeUnit):r.timeUnitList.forEach(function(t){void 0===t?n||p(e+1,!1,i):d(e,n,i,t)})}function p(e,n,r){if(e===t.length)return void u();var i=t[e];switch(i.type){case Q:f(e,n,r);break;case T:h(e,n,r);break;case O:case N:default:g[e]=i,p(e+1,n,r)}}r=i.schema.util.extend(r||{},a.gen.aggregates);var g=new Array(t.length),m=i.any(t,function(e){return i.field.isTypes(e,[N,O])}),v="aggregated"===r.tableTypes?!0:"disaggregated"===r.tableTypes?!1:null;return p(0,v,o),e}var i="undefined"!=typeof window?window.vl:"undefined"!=typeof n?n.vl:null,a=e("../consts"),o="*";t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../consts":8}],11:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r,a){r=o.schema.util.extend(r||{},c.gen.encodings);var u=s([],t,n,r);return a?u.reduce(function(e,t){return e[t]=i([],t,n,r),e},{}):u.reduce(function(e,t){return i(e,t,n,r)},[])}function i(e,t,n,r){return u(t,n,r).forEach(function(i){var s=o.duplicate({data:r.data,marktype:i,encoding:t,config:r.config}),u=a(s,n,r),c=l.encoding(u,n,r);u._info=c,e.push(u)}),e}function a(e,t,n){"text"===e.marktype&&n.alwaysGenerateTableAsHeatmap&&(e.encoding.color=e.encoding.text);var r=e.encoding;return["x","y"].forEach(function(e){var n=r[e];if(n&&o.field.isMeasure(n)&&!o.field.isCount(n)){var i=t[n.name];i&&i.stdev/i.avg<.01&&(n.scale={zero:!1})}}),e}var o="undefined"!=typeof window?window.vl:"undefined"!=typeof n?n.vl:null,s=e("./encs"),u=e("./marktypes"),l=e("../rank/rank"),c=e("../consts");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../consts":8,"../rank/rank":17,"./encs":12,"./marktypes":14}],12:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){return r.omitMultipleRetinalEncodings&&(e.color||e.size||e.shape)?!1:!0}function i(e,t,n,i){return r(e,t,n,i)?l.field.isMeasure(t)||l.field.cardinality(t,n)<=i.maxCardinalityForColor:!1}function a(e,t,n,i){return r(e,t,n,i)?t.bin&&t.type===Q?!1:t.timeUnit&&t.type===T?!1:l.field.cardinality(t,n)<=i.maxCardinalityForColor:!1}function o(e){return l.field.isTypes(e.y,[N,O])&&h(e.x)?!0:h(e.y)&&!l.field.isTypes(e.x,[N,O])&&d(e.x)?!0:!1}function s(e,t,n){if(e.text)return f.satisfyRules(e,TEXT,t,n);if(e.x||e.y||e.geo||e.arc){if(e.row||e.col){if(!e.x||!e.y)return!1;if(n.omitNonTextAggrWithAllDimsOnFacets&&u.isAggrWithAllDimOnFacets(e))return!1}if(e.x&&e.y){var r=!!d(e.x),i=!!d(e.y);if(r&&i&&!l.enc.isAggregate(e))return!1;if(n.omitTranpose)if(r^i){if(!o(e))return!1}else if(e.y.type===T||e.x.type===T){if(e.y.type===T&&e.x.type!==T)return!1}else if(e.x.name>e.y.name)return!1;return!0}if(n.omitDotPlot)return!1;if(n.omitTranpose&&e.y)return!1;if(n.omitDotPlotWithExtraEncoding&&l.keys(e).length>1)return!1;if(n.omitOneDimensionCount){if(e.x&&"count"==e.x.aggregate&&!e.y)return!1;if(e.y&&"count"==e.y.aggregate&&!e.x)return!1}return!0}return!1}function u(e,t,n,r){function i(o){if(o===t.length)return void(s(a,n,r)&&e.push(l.duplicate(a)));var u=t[o];for(var c in r.encodingTypeList){var f=r.encodingTypeList[c],h=d(u);f in a||!(h&&p[f].dimension||!h&&p[f].measure)||p[f].rules&&!p[f].rules(a,u,n,r)||(a[f]=u,i(o+1),delete a[f])}}r=l.schema.util.extend(r||{},c.gen.encodings);var a={};return i(0),e}e("../globals");var l="undefined"!=typeof window?window.vl:"undefined"!=typeof n?n.vl:null,c=e("../consts"),f=e("./marktypes"),d=l.field.isDimension,h=l.field.isMeasure;t.exports=u;var p={x:{dimension:!0,measure:!0,multiple:!0},y:{dimension:!0,measure:!0,multiple:!0},row:{dimension:!0,multiple:!0},col:{dimension:!0,multiple:!0},shape:{dimension:!0,rules:a},size:{measure:!0,rules:r},color:{dimension:!0,measure:!0,rules:i},text:{measure:!0},detail:{dimension:!0}};u.isAggrWithAllDimOnFacets=function(e){var t=!1,n=!1;for(var r in e){var i=e[r];if(i.aggregate&&(t=!0),l.field.isDimension(i)&&r!==ROW&&r!==COL&&(n=!0),t&&n)break}return t&&!n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../consts":8,"../globals":16,"./marktypes":14}],13:[function(e,t,n){"use strict";var r=e("../util"),i=t.exports={aggregates:e("./aggregates"),projections:e("./projections"),encodings:e("./encodings"),encs:e("./encs"),marktypes:e("./marktypes")};i.charts=function(e,t,n,a){t=r.gen.getOpt(t),a=void 0===a?{encodings:1}:a;var o,s,u=t.genAggr?i.aggregates([],e,t):[e],l=0;return a===!0||a&&a.aggregate?o=u.reduce(function(e,n){return i.encs(e,n,t)},[]):(o=u.map(function(e){return i.encs([],e,t)},!0),l+=1),a===!0||a&&a.encodings?s=r.nestedReduce(o,function(e,r){return i.marktypes(e,r,t,n)},l,!0):(s=r.nestedMap(o,function(e){return i.marktypes([],e,t,n)},l,!0),l+=1),s}},{"../util":19,"./aggregates":10,"./encodings":11,"./encs":12,"./marktypes":14,"./projections":15}],14:[function(e,t,n){(function(n){"use strict";function r(e,t,n){n=d.schema.util.extend(n||{},h.gen.encodings);var r=n.marktypeList.filter(function(r){return m.satisfyRules(e,r,t,n)});return r}function i(e,t,n){return d.field.cardinality(e,t)<=n.maxCardinalityForFacets}function a(e,t,n){return e.row&&!i(e.row,t,n)?!1:e.col&&!i(e.col,t,n)?!1:!0}function o(e,t,n){if(!a(e,t,n))return!1;if(e.x&&e.y){var r=p(e.x),i=p(e.y);if(r&&i){if(e.shape)return!1;if(e.color&&p(e.color))return!1}}else{if(n.omitDotPlot)return!1;if(n.omitTranpose&&e.y)return!1;if(n.omitDotPlotWithExtraEncoding&&d.keys(e).length>1)return!1;if(e.shape)return!1}return!0}function s(e,t,n){if(e.x||e.y){if(d.enc.isAggregate(e))return!1;var r=p(e.x),i=p(e.y);return!r&&(!e.y||g(e.y))||!i&&(!e.x||g(e.x))}return!1}function u(e,t,n){if(!a(e,t,n))return!1;if(!e.x&&!e.y)return!1;if(n.omitSizeOnBar&&void 0!==e.size)return!1;var r=(!e.x||void 0===e.x.aggregate)^(!e.y||void 0===e.y.aggregate);if(r){var i=(!e.x||p(e.x))^(!e.y||p(e.y));if(i){var o=e.x.aggregate||e.y.aggregate;return!(n.omitStackedAverage&&"avg"===o&&e.color)}}return!1}function l(e,t,n){return a(e,t,n)?"T"==e.x.type&&e.x.timeUnit&&"Q"==e.y.type&&e.y.aggregate:!1}function c(e,t,n){return a(e,t,n)&&l(e,t,n)?!(n.omitStackedAverage&&"avg"===e.y.aggregate&&e.color):!1}function f(e,t,n){return!(!e.row&&!e.col||!e.text||!e.text.aggregate||e.x||e.y||e.size||n.alwaysGenerateTableAsHeatmap&&e.color)}var d="undefined"!=typeof window?window.vl:"undefined"!=typeof n?n.vl:null,h=e("../consts"),p=d.field.isDimension,g=d.field.isOrdinalScale,m=t.exports=r,v=m.rule={point:o,bar:u,line:l,area:c,text:f,tick:s};m.satisfyRules=function(e,t,n,r){var i=d.compiler.marks[t],a=i.requiredEncoding,o=i.supportedEncoding;for(var s in a)if(!(a[s]in e))return!1;for(var u in e)if(!o[u])return!1;return!v[t]||v[t](e,n,r)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../consts":8}],15:[function(e,t,n){(function(n){"use strict";function r(e,t,n){n=s.schema.util.extend(n||{},o.gen.projections);var l=[],c=[],f=[],d=!1,h=!1,p={};e.forEach(function(e,r){if(p[e.name]=r,e.selected)l.push(e),u(e)||"T"===e.type?d=!0:h=!0;else if(e.selected!==!1&&!s.field.isCount(e)){if(s.field.isDimension(e)&&!n.maxCardinalityForAutoAddOrdinal&&s.field.cardinality(e,t,15)>n.maxCardinalityForAutoAddOrdinal)return;c.push(e)}}),c.sort(i(d,h,p));var g=a.chooseKorLess(c,1);return g.forEach(function(e){var t=l.concat(e);if(t.length>0){if(n.omitDotPlot&&1===t.length)return;f.push(t)}}),f.forEach(function(e){e.key=r.key(e)}),f}function i(e,t,n){return function(t,r){return t.type!==r.type?e?l[r.type]-l[t.type]:l[t.type]-l[r.type]:n[t.name]-n[r.name]}}var a=e("../util"),o=e("../consts"),s="undefined"!=typeof window?window.vl:"undefined"!=typeof n?n.vl:null,u=s.field.isDimension;t.exports=r;var l={N:0,O:0,T:2,Q:3};r.key=function(e){return e.map(function(e){return s.field.isCount(e)?"count":e.name}).join(",")}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../consts":8,"../util":19}],16:[function(e,t,n){(function(t){"use strict";var n=t||window;e("vega-lite/src/globals"),n.CHART_TYPES={TABLE:"TABLE",BAR:"BAR",PLOT:"PLOT",LINE:"LINE",AREA:"AREA",MAP:"MAP",HISTOGRAM:"HISTOGRAM"},n.ANY_DATA_TYPES=15}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"vega-lite/src/globals":20}],17:[function(e,t,n){t.exports={encoding:e("./rankEncodings")}},{"./rankEncodings":18}],18:[function(e,t,n){(function(n){"use strict";function r(e,t,n,u){var l=[],c=i.keys(e.encoding),f=e.marktype,d=e.encoding,h=i.enc.reduce(e.encoding,function(e,t,n){var r=i.field.shorthand(t),a=e[r]=e[r]||[];return a.push({encType:n,field:t}),e},{});return i.forEach(h,function(a){var o=a.map(function(e){return e.encType+i.shorthand.assign+i.field.shorthand(e.field)+" "+(u&&u[e.field.name]?"[x]":"[ ]")}),s=a.map(function(a){var o=i.field.isDimension(a.field)?"dimension":"measure",s=r.score[o](a.field,a.encType,e.marktype,t,n);return!u||u[a.field.name]?s:Math.pow(s,.125)});l.push({reason:o.join(" | "),score:Math.max.apply(null,s)})}),f===TEXT||d.x&&d.y&&a(d.x)^a(d.y)&&l.push({reason:"OxQ plot",score:.8}),c.length>1&&f!==TEXT&&(d.x&&d.y||d.geo||d.text||l.push({reason:"unused position",score:o})),l.push({reason:"marktype="+f,score:s[f]}),{score:l.reduce(function(e,t){return e*t.score},1),features:l}}e("../globals");var i="undefined"!=typeof window?window.vl:"undefined"!=typeof n?n.vl:null,a=i.field.isDimension;t.exports=r;var o=.5,s={line:.99,area:.98,bar:.97,tick:.96,point:.95,circle:.94,square:.94,text:.8},u={},l={},c=.1,f=.01;u.minor=.01,u.pos=1,u.Y_T=.8,u.facet_text=1,u.facet_good=.675,u.facet_ok=.55,u.facet_bad=.4,u.color_good=.7,u.color_ok=.65,u.color_bad=.3,u.color_stack=.6,u.shape=.6,u.detail=.5,u.bad=c,u.terrible=f,l.pos=1,l.size=.6,l.color=.5,l.text=.4,l.bad=c,l.terrible=f,r.dimensionScore=function(e,t,n,r,a){var o=i.field.cardinality(e,r);switch(t){case X:return i.field.isTypes(e,[N,O])?u.pos-u.minor:u.pos;case Y:return i.field.isTypes(e,[N,O])?u.pos-u.minor:e.type===T?u.Y_T:u.pos-u.minor;case COL:return n===TEXT?u.facet_text:o<=a.maxGoodCardinalityForFacets?u.facet_good:o<=a.maxCardinalityForFacets?u.facet_ok:u.facet_bad;case ROW:return n===TEXT?u.facet_text:(o<=a.maxGoodCardinalityForFacets?u.facet_good:o<=a.maxCardinalityForFacets?u.facet_ok:u.facet_bad)-u.minor;case COLOR:var s=e.bin&&e.type===Q||e.timeUnit&&e.type===T,l="bar"===n||"area"===n;return s?u.color_bad:l?u.color_stack:o<=a.maxGoodCardinalityForColor?u.color_good:o<=a.maxCardinalityForColor?u.color_ok:u.color_bad;case SHAPE:return o<=a.maxCardinalityForShape?u.shape:f;case DETAIL:return u.detail}return f},r.dimensionScore.consts=u,r.measureScore=function(e,t,n,r,i){switch(t){case X:return l.pos;case Y:return l.pos;case SIZE:return"bar"===n?c:n===TEXT?c:"line"===n?c:l.size;case COLOR:return l.color;case TEXT:return l.text}return c},r.measureScore.consts=l,r.score={dimension:r.dimensionScore,measure:r.measureScore}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../globals":16}],19:[function(e,t,n){"use strict";var r=e("./consts"),i=t.exports={gen:{}};i.isArray=Array.isArray||function(e){return"[object Array]"=={}.toString.call(e)},i.json=function(e,t){return JSON.stringify(e,null,t)},i.keys=function(e){var t,n=[];for(t in e)n.push(t);return n},i.nestedMap=function(e,t,n,r){return e.map(0===n?t:function(e){var a=i.nestedMap(e,t,n-1);return r?a.filter(i.nonEmpty):a})},i.nestedReduce=function(e,t,n,r){return 0===n?e.reduce(t,[]):e.map(function(e){var a=i.nestedReduce(e,t,n-1);return r?a.filter(i.nonEmpty):a})},i.nonEmpty=function(e){return!i.isArray(e)||e.length>0},i.traverse=function(e,t){return void 0!==e.value?t.push(e.value):(e.left&&i.traverse(e.left,t),e.right&&i.traverse(e.right,t)),t},i.union=function(e,t){var n={};return e.forEach(function(e){n[e]=!0}),t.forEach(function(e){n[e]=!0}),i.keys(n)},i.gen.getOpt=function(e){return(e?i.keys(e):[]).reduce(function(t,n){return t[n]=e[n],t},Object.create(r.gen.DEFAULT_OPT))},i.powerset=function(e){for(var t=[[]],n=0;n<e.length;n++)for(var r=0,i=t.length;i>r;r++)t.push(t[r].concat(e[n]));return t},i.chooseKorLess=function(e,t){for(var n=[[]],r=0;r<e.length;r++)for(var i=0,a=n.length;a>i;i++){var o=n[i].concat(e[r]);o.length<=t&&n.push(o)}return n},i.chooseK=function(e,t){for(var n=[[]],r=[],i=0;i<e.length;i++)for(var a=0,o=n.length;o>a;a++){var s=n[a].concat(e[i]);s.length<t?n.push(s):s.length===t&&r.push(s)}return r},i.cross=function(e,t){for(var n=[],r=0;r<e.length;r++)for(var i=0;i<t.length;i++)n.push(e[r].concat(t[i]));return n}},{"./consts":8}],20:[function(e,t,n){(function(e){"use strict";var t=e||window;t.TABLE="table",t.RAW="raw",t.STACKED="stacked",t.INDEX="index",t.X="x",t.Y="y",t.ROW="row",t.COL="col",t.SIZE="size",t.SHAPE="shape",t.COLOR="color",t.TEXT="text",t.DETAIL="detail",t.N="N",t.O="O",t.Q="Q",t.T="T"}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[9])(9)}),function(){function e(e,t){if(e!==t){var n=null===e,r=e===$,i=e===e,a=null===t,o=t===$,s=t===t;if(e>t&&!a||!i||n&&!o&&s||r&&s)return 1;if(t>e&&!n||!s||a&&!r&&i||o&&i)return-1}return 0}function t(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function n(e,t,n){if(t!==t)return h(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function r(e){return"function"==typeof e||!1}function i(e){return null==e?"":e+""}function a(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function o(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function s(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function u(t,n,r){for(var i=-1,a=t.criteria,o=n.criteria,s=a.length,u=r.length;++i<s;){var l=e(a[i],o[i]);if(l){if(i>=u)return l;var c=r[i];return l*("asc"===c||c===!0?1:-1)}}return t.index-n.index}function l(e){return ze[e]}function c(e){return qe[e]}function f(e,t,n){return t?e=We[e]:n&&(e=Ve[e]),"\\"+e}function d(e){return"\\"+Ve[e]}function h(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var a=e[i];if(a!==a)return i}return-1}function p(e){return!!e&&"object"==typeof e}function g(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function m(e,t){for(var n=-1,r=e.length,i=-1,a=[];++n<r;)e[n]===t&&(e[n]=z,a[++i]=n);return a}function v(e,t){for(var n,r=-1,i=e.length,a=-1,o=[];++r<i;){var s=e[r],u=t?t(s,r,e):s;r&&n===u||(n=u,o[++a]=s)}return o}function y(e){for(var t=-1,n=e.length;++t<n&&g(e.charCodeAt(t)););return t}function b(e){for(var t=e.length;t--&&g(e.charCodeAt(t)););return t}function x(e){return He[e]}function w(g){function G(e){if(p(e)&&!Ts(e)&&!(e instanceof ze)){if(e instanceof ee)return e;if(eo.call(e,"__chain__")&&eo.call(e,"__wrapped__"))return hr(e)}return new ee(e)}function Z(){}function ee(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function ze(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Mo,this.__views__=[]}function qe(){var e=new ze(this.__wrapped__);return e.__actions__=nt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=nt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=nt(this.__views__),e}function He(){if(this.__filtered__){var e=new ze(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Be(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ts(e),r=0>t,i=n?e.length:0,a=Vn(0,i,this.__views__),o=a.start,s=a.end,u=s-o,l=r?s:o-1,c=this.__iteratees__,f=c.length,d=0,h=ko(u,this.__takeCount__);if(!n||P>i||i==u&&h==u)return nn(r&&n?e.reverse():e,this.__actions__);var p=[];e:for(;u--&&h>d;){l+=t;for(var g=-1,m=e[l];++g<f;){var v=c[g],y=v.iteratee,b=v.type,x=y(m);if(b==F)m=x;else if(!x){if(b==j)continue e;break e}}p[d++]=m}return p}function We(){this.__data__={}}function Ve(e){return this.has(e)&&delete this.__data__[e]}function Ye(e){return"__proto__"==e?$:this.__data__[e]}function Ge(e){return"__proto__"!=e&&eo.call(this.__data__,e)}function Xe(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Ke(e){var t=e?e.length:0;for(this.data={hash:vo(null),set:new co};t--;)this.push(e[t])}function Je(e,t){var n=e.data,r="string"==typeof t||Li(t)?n.set.has(t):n.hash[t];return r?0:-1}function Ze(e){var t=this.data;"string"==typeof e||Li(e)?t.set.add(e):t.hash[e]=!0}function tt(e,t){for(var n=-1,r=e.length,i=-1,a=t.length,o=Ua(r+a);++n<r;)o[n]=e[n];for(;++i<a;)o[n++]=t[i];return o}function nt(e,t){var n=-1,r=e.length;for(t||(t=Ua(r));++n<r;)t[n]=e[n];return t}function rt(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function it(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function at(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ot(e,t,n,r){for(var i=-1,a=e.length,o=r,s=o;++i<a;){var u=e[i],l=+t(u);n(l,o)&&(o=l,s=u)}return s}function st(e,t){for(var n=-1,r=e.length,i=-1,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[++i]=o)}return a}function ut(e,t){for(var n=-1,r=e.length,i=Ua(r);++n<r;)i[n]=t(e[n],n,e);return i}function lt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ct(e,t,n,r){var i=-1,a=e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function ft(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function dt(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ht(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function pt(e,t){return e===$?t:e}function gt(e,t,n,r){return e!==$&&eo.call(r,n)?e:t}function mt(e,t,n){for(var r=-1,i=Us(t),a=i.length;++r<a;){var o=i[r],s=e[o],u=n(s,t[o],o,e,t);(u===u?u===s:s!==s)&&(s!==$||o in e)||(e[o]=u)}return e}function vt(e,t){return null==t?e:bt(t,Us(t),e)}function yt(e,t){for(var n=-1,r=null==e,i=!r&&Jn(e),a=i?e.length:0,o=t.length,s=Ua(o);++n<o;){var u=t[n];s[n]=i?Zn(u,a)?e[u]:$:r?$:e[u]}return s}function bt(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var a=t[r];n[a]=e[a]}return n}function xt(e,t,n){var r=typeof e;return"function"==r?t===$?e:on(e,t,n):null==e?Ca:"object"==r?Ft(e):t===$?Da(e):Ut(e,t)}function wt(e,t,n,r,i,a,o){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==$)return s;if(!Li(e))return e;var u=Ts(e);if(u){if(s=Yn(e),!t)return nt(e,s)}else{var l=no.call(e),c=l==Y;if(l!=K&&l!=q&&(!c||i))return Ue[l]?Xn(e,l,t):i?e:{};if(s=Gn(c?{}:e),!t)return vt(s,e)}a||(a=[]),o||(o=[]);for(var f=a.length;f--;)if(a[f]==e)return o[f];return a.push(e),o.push(s),(u?rt:At)(e,function(r,i){s[i]=wt(r,t,n,i,e,a,o)}),s}function $t(e,t,n){if("function"!=typeof e)throw new Xa(U);return fo(function(){e.apply($,n)},t)}function kt(e,t){var r=e?e.length:0,i=[];if(!r)return i;var a=-1,o=Hn(),s=o==n,u=s&&t.length>=P?gn(t):null,l=t.length;u&&(o=Je,s=!1,t=u);e:for(;++a<r;){var c=e[a];if(s&&c===c){for(var f=l;f--;)if(t[f]===c)continue e;i.push(c)}else o(t,c,0)<0&&i.push(c)}return i}function _t(e,t){var n=!0;return Ro(e,function(e,r,i){return n=!!t(e,r,i)}),n}function St(e,t,n,r){var i=r,a=i;return Ro(e,function(e,o,s){var u=+t(e,o,s);(n(u,i)||u===r&&u===a)&&(i=u,a=e)}),a}function Et(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===$||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function Ct(e,t){var n=[];return Ro(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Mt(e,t,n,r){var i;return n(e,function(e,n,a){return t(e,n,a)?(i=r?n:e,!1):void 0}),i}function Tt(e,t,n,r){r||(r=[]);for(var i=-1,a=e.length;++i<a;){var o=e[i];p(o)&&Jn(o)&&(n||Ts(o)||Si(o))?t?Tt(o,t,n,r):lt(r,o):n||(r[r.length]=o)}return r}function Ot(e,t){return jo(e,t,ea)}function At(e,t){return jo(e,t,Us)}function Nt(e,t){return Fo(e,t,Us)}function Dt(e,t){for(var n=-1,r=t.length,i=-1,a=[];++n<r;){var o=t[n];Di(e[o])&&(a[++i]=o)}return a}function Lt(e,t,n){if(null!=e){n!==$&&n in fr(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=e[t[r++]];return r&&r==i?e:$}}function It(e,t,n,r,i,a){return e===t?!0:null==e||null==t||!Li(e)&&!p(t)?e!==e&&t!==t:Rt(e,t,It,n,r,i,a)}function Rt(e,t,n,r,i,a,o){var s=Ts(e),u=Ts(t),l=H,c=H;s||(l=no.call(e),l==q?l=K:l!=K&&(s=Hi(e))),u||(c=no.call(t),c==q?c=K:c!=K&&(u=Hi(t)));var f=l==K,d=c==K,h=l==c;if(h&&!s&&!f)return Fn(e,t,l);if(!i){var p=f&&eo.call(e,"__wrapped__"),g=d&&eo.call(t,"__wrapped__");if(p||g)return n(p?e.value():e,g?t.value():t,r,i,a,o)}if(!h)return!1;a||(a=[]),o||(o=[]);for(var m=a.length;m--;)if(a[m]==e)return o[m]==t;a.push(e),o.push(t);var v=(s?jn:Un)(e,t,n,r,i,a,o);return a.pop(),o.pop(),v}function Pt(e,t,n){var r=t.length,i=r,a=!n;if(null==e)return!i;for(e=fr(e);r--;){var o=t[r];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++r<i;){o=t[r];var s=o[0],u=e[s],l=o[1];if(a&&o[2]){if(u===$&&!(s in e))return!1}else{var c=n?n(u,l,s):$;if(!(c===$?It(l,u,n,!0):c))return!1}}return!0}function jt(e,t){var n=-1,r=Jn(e)?Ua(e.length):[];return Ro(e,function(e,i,a){r[++n]=t(e,i,a)}),r}function Ft(e){var t=Bn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==$||n in fr(e))}}return function(e){return Pt(e,t)}}function Ut(e,t){var n=Ts(e),r=er(e)&&rr(t),i=e+"";return e=dr(e),function(a){if(null==a)return!1;var o=i;if(a=fr(a),!(!n&&r||o in a)){if(a=1==e.length?a:Lt(a,Gt(e,0,-1)),null==a)return!1;o=Er(e),a=fr(a)}return a[o]===t?t!==$||o in a:It(t,a[o],$,!0)}}function zt(e,t,n,r,i){if(!Li(e))return e;var a=Jn(t)&&(Ts(t)||Hi(t)),o=a?$:Us(t);return rt(o||t,function(s,u){if(o&&(u=s,s=t[u]),p(s))r||(r=[]),i||(i=[]),qt(e,t,u,zt,n,r,i);else{var l=e[u],c=n?n(l,s,u,e,t):$,f=c===$;f&&(c=s),c===$&&(!a||u in e)||!f&&(c===c?c===l:l!==l)||(e[u]=c)}}),e}function qt(e,t,n,r,i,a,o){for(var s=a.length,u=t[n];s--;)if(a[s]==u)return void(e[n]=o[s]);var l=e[n],c=i?i(l,u,n,e,t):$,f=c===$;f&&(c=u,Jn(u)&&(Ts(u)||Hi(u))?c=Ts(l)?l:Jn(l)?nt(l):[]:Ui(u)||Si(u)?c=Si(l)?Gi(l):Ui(l)?l:{}:f=!1),a.push(u),o.push(c),f?e[n]=r(c,u,i,a,o):(c===c?c!==l:l===l)&&(e[n]=c)}function Ht(e){return function(t){return null==t?$:t[e]}}function Bt(e){var t=e+"";return e=dr(e),function(n){return Lt(n,e,t)}}function Wt(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Zn(r)){var i=r;ho.call(e,r,1)}}return e}function Vt(e,t){return e+yo(Eo()*(t-e+1))}function Yt(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function Gt(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===$||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Ua(i);++r<i;)a[r]=e[r+t];return a}function Xt(e,t){var n;return Ro(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Kt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Jt(e,t,n){var r=zn(),i=-1;t=ut(t,function(e){return r(e)});var a=jt(e,function(e){var n=ut(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Kt(a,function(e,t){return u(e,t,n)})}function Zt(e,t){var n=0;return Ro(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function Qt(e,t){var r=-1,i=Hn(),a=e.length,o=i==n,s=o&&a>=P,u=s?gn():null,l=[];u?(i=Je,o=!1):(s=!1,u=t?[]:l);e:for(;++r<a;){var c=e[r],f=t?t(c,r,e):c;if(o&&c===c){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),l.push(c)}else i(u,f,0)<0&&((t||s)&&u.push(f),l.push(c))}return l}function en(e,t){for(var n=-1,r=t.length,i=Ua(r);++n<r;)i[n]=e[t[n]];return i}function tn(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?Gt(e,r?0:a,r?a+1:i):Gt(e,r?a+1:0,r?i:a)}function nn(e,t){var n=e;n instanceof ze&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var a=t[r];n=a.func.apply(a.thisArg,lt([n],a.args))}return n}function rn(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Ao>=i){for(;i>r;){var a=r+i>>>1,o=e[a];(n?t>=o:t>o)&&null!==o?r=a+1:i=a}return i}return an(e,t,Ca,n)}function an(e,t,n,r){t=n(t);for(var i=0,a=e?e.length:0,o=t!==t,s=null===t,u=t===$;a>i;){var l=yo((i+a)/2),c=n(e[l]),f=c!==$,d=c===c;if(o)var h=d||r;else h=s?d&&f&&(r||null!=c):u?d&&(r||f):null==c?!1:r?t>=c:t>c;h?i=l+1:a=l}return ko(a,Oo)}function on(e,t,n){if("function"!=typeof e)return Ca;if(t===$)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)};case 5:return function(n,r,i,a,o){return e.call(t,n,r,i,a,o)}}return function(){return e.apply(t,arguments)}}function sn(e){var t=new ao(e.byteLength),n=new po(t);return n.set(new po(e)),t}function un(e,t,n){for(var r=n.length,i=-1,a=$o(e.length-r,0),o=-1,s=t.length,u=Ua(s+a);++o<s;)u[o]=t[o];for(;++i<r;)u[n[i]]=e[i];for(;a--;)u[o++]=e[i++];return u}function ln(e,t,n){
for(var r=-1,i=n.length,a=-1,o=$o(e.length-i,0),s=-1,u=t.length,l=Ua(o+u);++a<o;)l[a]=e[a];for(var c=a;++s<u;)l[c+s]=t[s];for(;++r<i;)l[c+n[r]]=e[a++];return l}function cn(e,t){return function(n,r,i){var a=t?t():{};if(r=zn(r,i,3),Ts(n))for(var o=-1,s=n.length;++o<s;){var u=n[o];e(a,u,r(u,o,n),n)}else Ro(n,function(t,n,i){e(a,t,r(t,n,i),i)});return a}}function fn(e){return vi(function(t,n){var r=-1,i=null==t?0:n.length,a=i>2?n[i-2]:$,o=i>2?n[2]:$,s=i>1?n[i-1]:$;for("function"==typeof a?(a=on(a,s,5),i-=2):(a="function"==typeof s?s:$,i-=a?1:0),o&&Qn(n[0],n[1],o)&&(a=3>i?$:a,i=1);++r<i;){var u=n[r];u&&e(t,u,a)}return t})}function dn(e,t){return function(n,r){var i=n?qo(n):0;if(!nr(i))return e(n,r);for(var a=t?i:-1,o=fr(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}function hn(e){return function(t,n,r){for(var i=fr(t),a=r(t),o=a.length,s=e?o:-1;e?s--:++s<o;){var u=a[s];if(n(i[u],u,i)===!1)break}return t}}function pn(e,t){function n(){var i=this&&this!==Qe&&this instanceof n?r:e;return i.apply(t,arguments)}var r=vn(e);return n}function gn(e){return vo&&co?new Ke(e):null}function mn(e){return function(t){for(var n=-1,r=_a(ca(t)),i=r.length,a="";++n<i;)a=e(a,r[n],n);return a}}function vn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Io(e.prototype),r=e.apply(n,t);return Li(r)?r:n}}function yn(e){function t(n,r,i){i&&Qn(n,r,i)&&(r=$);var a=Pn(n,e,$,$,$,$,$,r);return a.placeholder=t.placeholder,a}return t}function bn(e,t){return vi(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply($,n))})}function xn(e,t){return function(n,r,i){if(i&&Qn(n,r,i)&&(r=$),r=zn(r,i,3),1==r.length){n=Ts(n)?n:cr(n);var a=ot(n,r,e,t);if(!n.length||a!==t)return a}return St(n,r,e,t)}}function wn(e,n){return function(r,i,a){if(i=zn(i,a,3),Ts(r)){var o=t(r,i,n);return o>-1?r[o]:$}return Mt(r,i,e)}}function $n(e){return function(n,r,i){return n&&n.length?(r=zn(r,i,3),t(n,r,e)):-1}}function kn(e){return function(t,n,r){return n=zn(n,r,3),Mt(t,n,e,!0)}}function _n(e){return function(){for(var t,n=arguments.length,r=e?n:-1,i=0,a=Ua(n);e?r--:++r<n;){var o=a[i++]=arguments[r];if("function"!=typeof o)throw new Xa(U);!t&&ee.prototype.thru&&"wrapper"==qn(o)&&(t=new ee([],!0))}for(r=t?-1:n;++r<n;){o=a[r];var s=qn(o),u="wrapper"==s?zo(o):$;t=u&&tr(u[0])&&u[1]==(A|C|T|N)&&!u[4].length&&1==u[9]?t[qn(u[0])].apply(t,u[3]):1==o.length&&tr(o)?t[s]():t.thru(o)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&Ts(r)&&r.length>=P)return t.plant(r).value();for(var i=0,o=n?a[i].apply(this,e):r;++i<n;)o=a[i].call(this,o);return o}}}function Sn(e,t){return function(n,r,i){return"function"==typeof r&&i===$&&Ts(n)?e(n,r):t(n,on(r,i,3))}}function En(e){return function(t,n,r){return("function"!=typeof n||r!==$)&&(n=on(n,r,3)),e(t,n,ea)}}function Cn(e){return function(t,n,r){return("function"!=typeof n||r!==$)&&(n=on(n,r,3)),e(t,n)}}function Mn(e){return function(t,n,r){var i={};return n=zn(n,r,3),At(t,function(t,r,a){var o=n(t,r,a);r=e?o:r,t=e?t:o,i[r]=t}),i}}function Tn(e){return function(t,n,r){return t=i(t),(e?t:"")+Dn(t,n,r)+(e?"":t)}}function On(e){var t=vi(function(n,r){var i=m(r,t.placeholder);return Pn(n,e,$,r,i)});return t}function An(e,t){return function(n,r,i,a){var o=arguments.length<3;return"function"==typeof r&&a===$&&Ts(n)?e(n,r,i,o):Yt(n,zn(r,a,4),i,o,t)}}function Nn(e,t,n,r,i,a,o,s,u,l){function c(){for(var b=arguments.length,x=b,w=Ua(b);x--;)w[x]=arguments[x];if(r&&(w=un(w,r,i)),a&&(w=ln(w,a,o)),p||v){var k=c.placeholder,E=m(w,k);if(b-=E.length,l>b){var C=s?nt(s):$,M=$o(l-b,0),A=p?E:$,N=p?$:E,D=p?w:$,L=p?$:w;t|=p?T:O,t&=~(p?O:T),g||(t&=~(_|S));var I=[e,t,n,D,A,L,N,C,u,M],R=Nn.apply($,I);return tr(e)&&Ho(R,I),R.placeholder=k,R}}var P=d?n:this,j=h?P[e]:e;return s&&(w=ur(w,s)),f&&u<w.length&&(w.length=u),this&&this!==Qe&&this instanceof c&&(j=y||vn(e)),j.apply(P,w)}var f=t&A,d=t&_,h=t&S,p=t&C,g=t&E,v=t&M,y=h?$:vn(e);return c}function Dn(e,t,n){var r=e.length;if(t=+t,r>=t||!xo(t))return"";var i=t-r;return n=null==n?" ":n+"",ma(n,mo(i/n.length)).slice(0,i)}function Ln(e,t,n,r){function i(){for(var t=-1,s=arguments.length,u=-1,l=r.length,c=Ua(l+s);++u<l;)c[u]=r[u];for(;s--;)c[u++]=arguments[++t];var f=this&&this!==Qe&&this instanceof i?o:e;return f.apply(a?n:this,c)}var a=t&_,o=vn(e);return i}function In(e){var t=Ba[e];return function(e,n){return n=n===$?0:+n||0,n?(n=uo(10,n),t(e*n)/n):t(e)}}function Rn(e){return function(t,n,r,i){var a=zn(r);return null==r&&a===xt?rn(t,n,e):an(t,n,a(r,i,1),e)}}function Pn(e,t,n,r,i,a,o,s){var u=t&S;if(!u&&"function"!=typeof e)throw new Xa(U);var l=r?r.length:0;if(l||(t&=~(T|O),r=i=$),l-=i?i.length:0,t&O){var c=r,f=i;r=i=$}var d=u?$:zo(e),h=[e,t,n,r,i,c,f,a,o,s];if(d&&(ir(h,d),t=h[1],s=h[9]),h[9]=null==s?u?0:e.length:$o(s-l,0)||0,t==_)var p=pn(h[0],h[2]);else p=t!=T&&t!=(_|T)||h[4].length?Nn.apply($,h):Ln.apply($,h);var g=d?Uo:Ho;return g(p,h)}function jn(e,t,n,r,i,a,o){var s=-1,u=e.length,l=t.length;if(u!=l&&!(i&&l>u))return!1;for(;++s<u;){var c=e[s],f=t[s],d=r?r(i?f:c,i?c:f,s):$;if(d!==$){if(d)continue;return!1}if(i){if(!dt(t,function(e){return c===e||n(c,e,r,i,a,o)}))return!1}else if(c!==f&&!n(c,f,r,i,a,o))return!1}return!0}function Fn(e,t,n){switch(n){case B:case W:return+e==+t;case V:return e.name==t.name&&e.message==t.message;case X:return e!=+e?t!=+t:e==+t;case J:case Q:return e==t+""}return!1}function Un(e,t,n,r,i,a,o){var s=Us(e),u=s.length,l=Us(t),c=l.length;if(u!=c&&!i)return!1;for(var f=u;f--;){var d=s[f];if(!(i?d in t:eo.call(t,d)))return!1}for(var h=i;++f<u;){d=s[f];var p=e[d],g=t[d],m=r?r(i?g:p,i?p:g,d):$;if(!(m===$?n(p,g,r,i,a,o):m))return!1;h||(h="constructor"==d)}if(!h){var v=e.constructor,y=t.constructor;if(v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function zn(e,t,n){var r=G.callback||Sa;return r=r===Sa?xt:r,n?r(e,t,n):r}function qn(e){for(var t=e.name,n=Lo[t],r=n?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function Hn(e,t,r){var i=G.indexOf||_r;return i=i===_r?n:i,e?i(e,t,r):i}function Bn(e){for(var t=ta(e),n=t.length;n--;)t[n][2]=rr(t[n][1]);return t}function Wn(e,t){var n=null==e?$:e[t];return Pi(n)?n:$}function Vn(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=ko(t,e+o);break;case"takeRight":e=$o(e,t-o)}}return{start:e,end:t}}function Yn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&eo.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Gn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Va),new t}function Xn(e,t,n){var r=e.constructor;switch(t){case te:return sn(e);case B:case W:return new r(+e);case ne:case re:case ie:case ae:case oe:case se:case ue:case le:case ce:var i=e.buffer;return new r(n?sn(i):i,e.byteOffset,e.length);case X:case Q:return new r(e);case J:var a=new r(e.source,Te.exec(e));a.lastIndex=e.lastIndex}return a}function Kn(e,t,n){null==e||er(t,e)||(t=dr(t),e=1==t.length?e:Lt(e,Gt(t,0,-1)),t=Er(t));var r=null==e?e:e[t];return null==r?$:r.apply(e,n)}function Jn(e){return null!=e&&nr(qo(e))}function Zn(e,t){return e="number"==typeof e||Ne.test(e)?+e:-1,t=null==t?No:t,e>-1&&e%1==0&&t>e}function Qn(e,t,n){if(!Li(n))return!1;var r=typeof t;if("number"==r?Jn(n)&&Zn(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function er(e,t){var n=typeof e;if("string"==n&&$e.test(e)||"number"==n)return!0;if(Ts(e))return!1;var r=!we.test(e);return r||null!=t&&e in fr(t)}function tr(e){var t=qn(e);if(!(t in ze.prototype))return!1;var n=G[t];if(e===n)return!0;var r=zo(n);return!!r&&e===r[0]}function nr(e){return"number"==typeof e&&e>-1&&e%1==0&&No>=e}function rr(e){return e===e&&!Li(e)}function ir(e,t){var n=e[1],r=t[1],i=n|r,a=A>i,o=r==A&&n==C||r==A&&n==N&&e[7].length<=t[8]||r==(A|N)&&n==C;if(!a&&!o)return e;r&_&&(e[2]=t[2],i|=n&_?0:E);var s=t[3];if(s){var u=e[3];e[3]=u?un(u,s,t[4]):nt(s),e[4]=u?m(e[3],z):nt(t[4])}return s=t[5],s&&(u=e[5],e[5]=u?ln(u,s,t[6]):nt(s),e[6]=u?m(e[5],z):nt(t[6])),s=t[7],s&&(e[7]=nt(s)),r&A&&(e[8]=null==e[8]?t[8]:ko(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function ar(e,t){return e===$?t:Os(e,t,ar)}function or(e,t){e=fr(e);for(var n=-1,r=t.length,i={};++n<r;){var a=t[n];a in e&&(i[a]=e[a])}return i}function sr(e,t){var n={};return Ot(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function ur(e,t){for(var n=e.length,r=ko(t.length,n),i=nt(e);r--;){var a=t[r];e[r]=Zn(a,n)?i[a]:$}return e}function lr(e){for(var t=ea(e),n=t.length,r=n&&e.length,i=!!r&&nr(r)&&(Ts(e)||Si(e)),a=-1,o=[];++a<n;){var s=t[a];(i&&Zn(s,r)||eo.call(e,s))&&o.push(s)}return o}function cr(e){return null==e?[]:Jn(e)?Li(e)?e:Va(e):aa(e)}function fr(e){return Li(e)?e:Va(e)}function dr(e){if(Ts(e))return e;var t=[];return i(e).replace(ke,function(e,n,r,i){t.push(r?i.replace(Ce,"$1"):n||e)}),t}function hr(e){return e instanceof ze?e.clone():new ee(e.__wrapped__,e.__chain__,nt(e.__actions__))}function pr(e,t,n){t=(n?Qn(e,t,n):null==t)?1:$o(yo(t)||1,1);for(var r=0,i=e?e.length:0,a=-1,o=Ua(mo(i/t));i>r;)o[++a]=Gt(e,r,r+=t);return o}function gr(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var a=e[t];a&&(i[++r]=a)}return i}function mr(e,t,n){var r=e?e.length:0;return r?((n?Qn(e,t,n):null==t)&&(t=1),Gt(e,0>t?0:t)):[]}function vr(e,t,n){var r=e?e.length:0;return r?((n?Qn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Gt(e,0,0>t?0:t)):[]}function yr(e,t,n){return e&&e.length?tn(e,zn(t,n,3),!0,!0):[]}function br(e,t,n){return e&&e.length?tn(e,zn(t,n,3),!0):[]}function xr(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Qn(e,t,n)&&(n=0,r=i),Et(e,t,n,r)):[]}function wr(e){return e?e[0]:$}function $r(e,t,n){var r=e?e.length:0;return n&&Qn(e,t,n)&&(t=!1),r?Tt(e,t):[]}function kr(e){var t=e?e.length:0;return t?Tt(e,!0):[]}function _r(e,t,r){var i=e?e.length:0;if(!i)return-1;if("number"==typeof r)r=0>r?$o(i+r,0):r;else if(r){var a=rn(e,t);return i>a&&(t===t?t===e[a]:e[a]!==e[a])?a:-1}return n(e,t,r||0)}function Sr(e){return vr(e,1)}function Er(e){var t=e?e.length:0;return t?e[t-1]:$}function Cr(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?$o(r+n,0):ko(n||0,r-1))+1;else if(n){i=rn(e,t,!0)-1;var a=e[i];return(t===t?t===a:a!==a)?i:-1}if(t!==t)return h(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Mr(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Hn(),i=e.length;++n<i;)for(var a=0,o=e[n];(a=r(t,o,a))>-1;)ho.call(t,a,1);return t}function Tr(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,a=[],o=e.length;for(t=zn(t,n,3);++i<o;){var s=e[i];t(s,i,e)&&(r.push(s),a.push(i))}return Wt(e,a),r}function Or(e){return mr(e,1)}function Ar(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Qn(e,t,n)&&(t=0,n=r),Gt(e,t,n)):[]}function Nr(e,t,n){var r=e?e.length:0;return r?((n?Qn(e,t,n):null==t)&&(t=1),Gt(e,0,0>t?0:t)):[]}function Dr(e,t,n){var r=e?e.length:0;return r?((n?Qn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Gt(e,0>t?0:t)):[]}function Lr(e,t,n){return e&&e.length?tn(e,zn(t,n,3),!1,!0):[]}function Ir(e,t,n){return e&&e.length?tn(e,zn(t,n,3)):[]}function Rr(e,t,r,i){var a=e?e.length:0;if(!a)return[];null!=t&&"boolean"!=typeof t&&(i=r,r=Qn(e,t,i)?$:t,t=!1);var o=zn();return(null!=r||o!==xt)&&(r=o(r,i,3)),t&&Hn()==n?v(e,r):Qt(e,r)}function Pr(e){if(!e||!e.length)return[];var t=-1,n=0;e=st(e,function(e){return Jn(e)?(n=$o(e.length,n),!0):void 0});for(var r=Ua(n);++t<n;)r[t]=ut(e,Ht(t));return r}function jr(e,t,n){var r=e?e.length:0;if(!r)return[];var i=Pr(e);return null==t?i:(t=on(t,n,4),ut(i,function(e){return ct(e,t,$,!0)}))}function Fr(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Jn(n))var r=r?lt(kt(r,n),kt(n,r)):n}return r?Qt(r):[]}function Ur(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||Ts(e[0])||(t=[]);++n<r;){var a=e[n];t?i[a]=t[n]:a&&(i[a[0]]=a[1])}return i}function zr(e){var t=G(e);return t.__chain__=!0,t}function qr(e,t,n){return t.call(n,e),e}function Hr(e,t,n){return t.call(n,e)}function Br(){return zr(this)}function Wr(){return new ee(this.value(),this.__chain__)}function Vr(e){for(var t,n=this;n instanceof Z;){var r=hr(n);t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function Yr(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof ze){var n=e;return this.__actions__.length&&(n=new ze(this)),n=n.reverse(),n.__actions__.push({func:Hr,args:[t],thisArg:$}),new ee(n,this.__chain__)}return this.thru(t)}function Gr(){return this.value()+""}function Xr(){return nn(this.__wrapped__,this.__actions__)}function Kr(e,t,n){var r=Ts(e)?at:_t;return n&&Qn(e,t,n)&&(t=$),("function"!=typeof t||n!==$)&&(t=zn(t,n,3)),r(e,t)}function Jr(e,t,n){var r=Ts(e)?st:Ct;return t=zn(t,n,3),r(e,t)}function Zr(e,t){return is(e,Ft(t))}function Qr(e,t,n,r){var i=e?qo(e):0;return nr(i)||(e=aa(e),i=e.length),n="number"!=typeof n||r&&Qn(t,n,r)?0:0>n?$o(i+n,0):n||0,"string"==typeof e||!Ts(e)&&qi(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&Hn(e,t,n)>-1}function ei(e,t,n){var r=Ts(e)?ut:jt;return t=zn(t,n,3),r(e,t)}function ti(e,t){return ei(e,Da(t))}function ni(e,t,n){var r=Ts(e)?st:Ct;return t=zn(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function ri(e,t,n){if(n?Qn(e,t,n):null==t){e=cr(e);var r=e.length;return r>0?e[Vt(0,r-1)]:$}var i=-1,a=Yi(e),r=a.length,o=r-1;for(t=ko(0>t?0:+t||0,r);++i<t;){var s=Vt(i,o),u=a[s];a[s]=a[i],a[i]=u}return a.length=t,a}function ii(e){return ri(e,Mo)}function ai(e){var t=e?qo(e):0;return nr(t)?t:Us(e).length}function oi(e,t,n){var r=Ts(e)?dt:Xt;return n&&Qn(e,t,n)&&(t=$),("function"!=typeof t||n!==$)&&(t=zn(t,n,3)),r(e,t)}function si(e,t,n){if(null==e)return[];n&&Qn(e,t,n)&&(t=$);var r=-1;t=zn(t,n,3);var i=jt(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Kt(i,s)}function ui(e,t,n,r){return null==e?[]:(r&&Qn(t,n,r)&&(n=$),Ts(t)||(t=null==t?[]:[t]),Ts(n)||(n=null==n?[]:[n]),Jt(e,t,n))}function li(e,t){return Jr(e,Ft(t))}function ci(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Xa(U);var n=e;e=t,t=n}return e=xo(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function fi(e,t,n){return n&&Qn(e,t,n)&&(t=$),t=e&&null==t?e.length:$o(+t||0,0),Pn(e,A,$,$,$,$,t)}function di(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Xa(U);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=$),n}}function hi(e,t,n){function r(){h&&oo(h),l&&oo(l),g=0,l=h=p=$}function i(t,n){n&&oo(n),l=h=p=$,t&&(g=gs(),c=e.apply(d,u),h||l||(u=d=$))}function a(){var e=t-(gs()-f);0>=e||e>t?i(p,l):h=fo(a,e)}function o(){i(v,h)}function s(){if(u=arguments,f=gs(),d=this,p=v&&(h||!y),m===!1)var n=y&&!h;else{l||y||(g=f);var r=m-(f-g),i=0>=r||r>m;i?(l&&(l=oo(l)),g=f,c=e.apply(d,u)):l||(l=fo(o,r))}return i&&h?h=oo(h):h||t===m||(h=fo(a,t)),n&&(i=!0,c=e.apply(d,u)),!i||h||l||(u=d=$),c}var u,l,c,f,d,h,p,g=0,m=!1,v=!0;if("function"!=typeof e)throw new Xa(U);if(t=0>t?0:+t||0,n===!0){var y=!0;v=!1}else Li(n)&&(y=!!n.leading,m="maxWait"in n&&$o(+n.maxWait||0,t),v="trailing"in n?!!n.trailing:v);return s.cancel=r,s}function pi(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Xa(U);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o),o};return n.cache=new pi.Cache,n}function gi(e){if("function"!=typeof e)throw new Xa(U);return function(){return!e.apply(this,arguments)}}function mi(e){return di(2,e)}function vi(e,t){if("function"!=typeof e)throw new Xa(U);return t=$o(t===$?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=$o(n.length-t,0),a=Ua(i);++r<i;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var o=Ua(t+1);for(r=-1;++r<t;)o[r]=n[r];return o[t]=a,e.apply(this,o)}}function yi(e){if("function"!=typeof e)throw new Xa(U);return function(t){return e.apply(this,t)}}function bi(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Xa(U);return n===!1?r=!1:Li(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),hi(e,t,{leading:r,maxWait:+t,trailing:i})}function xi(e,t){return t=null==t?Ca:t,Pn(t,T,$,[e],[])}function wi(e,t,n,r){return t&&"boolean"!=typeof t&&Qn(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?wt(e,t,on(n,r,1)):wt(e,t)}function $i(e,t,n){return"function"==typeof t?wt(e,!0,on(t,n,1)):wt(e,!0)}function ki(e,t){return e>t}function _i(e,t){return e>=t}function Si(e){return p(e)&&Jn(e)&&eo.call(e,"callee")&&!lo.call(e,"callee")}function Ei(e){return e===!0||e===!1||p(e)&&no.call(e)==B}function Ci(e){return p(e)&&no.call(e)==W}function Mi(e){return!!e&&1===e.nodeType&&p(e)&&!Ui(e)}function Ti(e){return null==e?!0:Jn(e)&&(Ts(e)||qi(e)||Si(e)||p(e)&&Di(e.splice))?!e.length:!Us(e).length}function Oi(e,t,n,r){n="function"==typeof n?on(n,r,3):$;var i=n?n(e,t):$;return i===$?It(e,t,n):!!i}function Ai(e){return p(e)&&"string"==typeof e.message&&no.call(e)==V}function Ni(e){return"number"==typeof e&&xo(e)}function Di(e){return Li(e)&&no.call(e)==Y}function Li(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ii(e,t,n,r){return n="function"==typeof n?on(n,r,3):$,Pt(e,Bn(t),n)}function Ri(e){return Fi(e)&&e!=+e}function Pi(e){return null==e?!1:Di(e)?io.test(Qa.call(e)):p(e)&&Ae.test(e)}function ji(e){return null===e}function Fi(e){return"number"==typeof e||p(e)&&no.call(e)==X}function Ui(e){var t;if(!p(e)||no.call(e)!=K||Si(e)||!eo.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return Ot(e,function(e,t){n=t}),n===$||eo.call(e,n)}function zi(e){return Li(e)&&no.call(e)==J}function qi(e){return"string"==typeof e||p(e)&&no.call(e)==Q}function Hi(e){return p(e)&&nr(e.length)&&!!Fe[no.call(e)]}function Bi(e){return e===$}function Wi(e,t){return t>e}function Vi(e,t){return t>=e}function Yi(e){var t=e?qo(e):0;return nr(t)?t?nt(e):[]:aa(e)}function Gi(e){return bt(e,ea(e))}function Xi(e,t,n){var r=Io(e);return n&&Qn(e,t,n)&&(t=$),t?vt(r,t):r}function Ki(e){return Dt(e,ea(e))}function Ji(e,t,n){var r=null==e?$:Lt(e,dr(t),t+"");return r===$?n:r}function Zi(e,t){if(null==e)return!1;var n=eo.call(e,t);if(!n&&!er(t)){if(t=dr(t),e=1==t.length?e:Lt(e,Gt(t,0,-1)),null==e)return!1;t=Er(t),n=eo.call(e,t)}return n||nr(e.length)&&Zn(t,e.length)&&(Ts(e)||Si(e))}function Qi(e,t,n){n&&Qn(e,t,n)&&(t=$);for(var r=-1,i=Us(e),a=i.length,o={};++r<a;){var s=i[r],u=e[s];t?eo.call(o,u)?o[u].push(s):o[u]=[s]:o[u]=s}return o}function ea(e){if(null==e)return[];Li(e)||(e=Va(e));var t=e.length;t=t&&nr(t)&&(Ts(e)||Si(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,a=Ua(t),o=t>0;++r<t;)a[r]=r+"";for(var s in e)o&&Zn(s,t)||"constructor"==s&&(i||!eo.call(e,s))||a.push(s);return a}function ta(e){e=fr(e);for(var t=-1,n=Us(e),r=n.length,i=Ua(r);++t<r;){var a=n[t];i[t]=[a,e[a]]}return i}function na(e,t,n){var r=null==e?$:e[t];return r===$&&(null==e||er(t,e)||(t=dr(t),e=1==t.length?e:Lt(e,Gt(t,0,-1)),r=null==e?$:e[Er(t)]),r=r===$?n:r),Di(r)?r.call(e):r}function ra(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||er(t,e)?[r]:dr(t);for(var i=-1,a=t.length,o=a-1,s=e;null!=s&&++i<a;){var u=t[i];Li(s)&&(i==o?s[u]=n:null==s[u]&&(s[u]=Zn(t[i+1])?[]:{})),s=s[u]}return e}function ia(e,t,n,r){var i=Ts(e)||Hi(e);if(t=zn(t,r,4),null==n)if(i||Li(e)){var a=e.constructor;n=i?Ts(e)?new a:[]:Io(Di(a)?a.prototype:$)}else n={};return(i?rt:At)(e,function(e,r,i){return t(n,e,r,i)}),n}function aa(e){return en(e,Us(e))}function oa(e){return en(e,ea(e))}function sa(e,t,n){return t=+t||0,n===$?(n=t,t=0):n=+n||0,e>=ko(t,n)&&e<$o(t,n)}function ua(e,t,n){n&&Qn(e,t,n)&&(t=n=$);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=Eo();return ko(e+a*(t-e+so("1e-"+((a+"").length-1))),t)}return Vt(e,t)}function la(e){return e=i(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function ca(e){return e=i(e),e&&e.replace(De,l).replace(Ee,"")}function fa(e,t,n){e=i(e),t+="";var r=e.length;return n=n===$?r:ko(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function da(e){return e=i(e),e&&ve.test(e)?e.replace(ge,c):e}function ha(e){return e=i(e),e&&Se.test(e)?e.replace(_e,f):e||"(?:)"}function pa(e,t,n){e=i(e),t=+t;var r=e.length;if(r>=t||!xo(t))return e;var a=(t-r)/2,o=yo(a),s=mo(a);return n=Dn("",s,n),n.slice(0,o)+e+n}function ga(e,t,n){return(n?Qn(e,t,n):null==t)?t=0:t&&(t=+t),e=ba(e),So(e,t||(Oe.test(e)?16:10))}function ma(e,t){var n="";if(e=i(e),t=+t,1>t||!e||!xo(t))return n;do t%2&&(n+=e),t=yo(t/2),e+=e;while(t);return n}function va(e,t,n){return e=i(e),n=null==n?0:ko(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function ya(e,t,n){var r=G.templateSettings;n&&Qn(e,t,n)&&(t=n=$),e=i(e),t=mt(vt({},n||t),r,gt);var a,o,s=mt(vt({},t.imports),r.imports,gt),u=Us(s),l=en(s,u),c=0,f=t.interpolate||Le,h="__p += '",p=Ya((t.escape||Le).source+"|"+f.source+"|"+(f===xe?Me:Le).source+"|"+(t.evaluate||Le).source+"|$","g"),g="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++je+"]")+"\n";e.replace(p,function(t,n,r,i,s,u){return r||(r=i),h+=e.slice(c,u).replace(Ie,d),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t}),h+="';\n";var m=t.variable;m||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(fe,""):h).replace(de,"$1").replace(he,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Js(function(){return Ha(u,g+"return "+h).apply($,l)});if(v.source=h,Ai(v))throw v;return v}function ba(e,t,n){var r=e;return(e=i(e))?(n?Qn(r,t,n):null==t)?e.slice(y(e),b(e)+1):(t+="",e.slice(a(e,t),o(e,t)+1)):e}function xa(e,t,n){var r=e;return e=i(e),e?e.slice((n?Qn(r,t,n):null==t)?y(e):a(e,t+"")):e}function wa(e,t,n){var r=e;return e=i(e),e?(n?Qn(r,t,n):null==t)?e.slice(0,b(e)+1):e.slice(0,o(e,t+"")+1):e}function $a(e,t,n){n&&Qn(e,t,n)&&(t=$);var r=D,a=L;if(null!=t)if(Li(t)){var o="separator"in t?t.separator:o;r="length"in t?+t.length||0:r,a="omission"in t?i(t.omission):a}else r=+t||0;if(e=i(e),r>=e.length)return e;var s=r-a.length;if(1>s)return a;var u=e.slice(0,s);if(null==o)return u+a;if(zi(o)){if(e.slice(s).search(o)){var l,c,f=e.slice(0,s);for(o.global||(o=Ya(o.source,(Te.exec(o)||"")+"g")),o.lastIndex=0;l=o.exec(f);)c=l.index;u=u.slice(0,null==c?s:c)}}else if(e.indexOf(o,s)!=s){var d=u.lastIndexOf(o);d>-1&&(u=u.slice(0,d))}return u+a}function ka(e){return e=i(e),e&&me.test(e)?e.replace(pe,x):e}function _a(e,t,n){return n&&Qn(e,t,n)&&(t=$),e=i(e),e.match(t||Re)||[]}function Sa(e,t,n){return n&&Qn(e,t,n)&&(t=$),p(e)?Ma(e):xt(e,t)}function Ea(e){return function(){return e}}function Ca(e){return e}function Ma(e){return Ft(wt(e,!0))}function Ta(e,t){return Ut(e,wt(t,!0))}function Oa(e,t,n){if(null==n){var r=Li(t),i=r?Us(t):$,a=i&&i.length?Dt(t,i):$;(a?a.length:r)||(a=!1,n=t,t=e,e=this)}a||(a=Dt(t,Us(t)));var o=!0,s=-1,u=Di(e),l=a.length;n===!1?o=!1:Li(n)&&"chain"in n&&(o=n.chain);for(;++s<l;){var c=a[s],f=t[c];e[c]=f,u&&(e.prototype[c]=function(t){return function(){var n=this.__chain__;if(o||n){var r=e(this.__wrapped__),i=r.__actions__=nt(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,lt([this.value()],arguments))}}(f))}return e}function Aa(){return Qe._=ro,this}function Na(){}function Da(e){return er(e)?Ht(e):Bt(e)}function La(e){return function(t){return Lt(e,dr(t),t+"")}}function Ia(e,t,n){n&&Qn(e,t,n)&&(t=n=$),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=$o(mo((t-e)/(n||1)),0),a=Ua(i);++r<i;)a[r]=e,e+=n;return a}function Ra(e,t,n){if(e=yo(e),1>e||!xo(e))return[];var r=-1,i=Ua(ko(e,To));for(t=on(t,n,1);++r<e;)To>r?i[r]=t(r):t(r);return i}function Pa(e){var t=++to;return i(e)+t}function ja(e,t){return(+e||0)+(+t||0)}function Fa(e,t,n){return n&&Qn(e,t,n)&&(t=$),t=zn(t,n,3),1==t.length?ht(Ts(e)?e:cr(e),t):Zt(e,t)}g=g?et.defaults(Qe.Object(),g,et.pick(Qe,Pe)):Qe;{var Ua=g.Array,za=g.Date,qa=g.Error,Ha=g.Function,Ba=g.Math,Wa=g.Number,Va=g.Object,Ya=g.RegExp,Ga=g.String,Xa=g.TypeError,Ka=Ua.prototype,Ja=Va.prototype,Za=Ga.prototype,Qa=Ha.prototype.toString,eo=Ja.hasOwnProperty,to=0,no=Ja.toString,ro=Qe._,io=Ya("^"+Qa.call(eo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ao=g.ArrayBuffer,oo=g.clearTimeout,so=g.parseFloat,uo=Ba.pow,lo=Ja.propertyIsEnumerable,co=Wn(g,"Set"),fo=g.setTimeout,ho=Ka.splice,po=g.Uint8Array,go=Wn(g,"WeakMap"),mo=Ba.ceil,vo=Wn(Va,"create"),yo=Ba.floor,bo=Wn(Ua,"isArray"),xo=g.isFinite,wo=Wn(Va,"keys"),$o=Ba.max,ko=Ba.min,_o=Wn(za,"now"),So=g.parseInt,Eo=Ba.random,Co=Wa.NEGATIVE_INFINITY,Mo=Wa.POSITIVE_INFINITY,To=4294967295,Oo=To-1,Ao=To>>>1,No=9007199254740991,Do=go&&new go,Lo={};G.support={}}G.templateSettings={escape:ye,evaluate:be,interpolate:xe,variable:"",imports:{_:G}};var Io=function(){function e(){}return function(t){if(Li(t)){e.prototype=t;var n=new e;e.prototype=$}return n||{}}}(),Ro=dn(At),Po=dn(Nt,!0),jo=hn(),Fo=hn(!0),Uo=Do?function(e,t){return Do.set(e,t),e}:Ca,zo=Do?function(e){return Do.get(e)}:Na,qo=Ht("length"),Ho=function(){var e=0,t=0;return function(n,r){var i=gs(),a=R-(i-t);if(t=i,a>0){if(++e>=I)return n}else e=0;return Uo(n,r)}}(),Bo=vi(function(e,t){return p(e)&&Jn(e)?kt(e,Tt(t,!1,!0)):[]}),Wo=$n(),Vo=$n(!0),Yo=vi(function(e){for(var t=e.length,r=t,i=Ua(f),a=Hn(),o=a==n,s=[];r--;){var u=e[r]=Jn(u=e[r])?u:[];i[r]=o&&u.length>=120?gn(r&&u):null}var l=e[0],c=-1,f=l?l.length:0,d=i[0];e:for(;++c<f;)if(u=l[c],(d?Je(d,u):a(s,u,0))<0){for(var r=t;--r;){var h=i[r];if((h?Je(h,u):a(e[r],u,0))<0)continue e}d&&d.push(u),s.push(u)}return s}),Go=vi(function(t,n){n=Tt(n);var r=yt(t,n);return Wt(t,n.sort(e)),r}),Xo=Rn(),Ko=Rn(!0),Jo=vi(function(e){return Qt(Tt(e,!1,!0))}),Zo=vi(function(e,t){return Jn(e)?kt(e,t):[]}),Qo=vi(Pr),es=vi(function(e){var t=e.length,n=t>2?e[t-2]:$,r=t>1?e[t-1]:$;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):$,r=$),e.length=t,jr(e,n,r)}),ts=vi(function(e){return e=Tt(e),this.thru(function(t){return tt(Ts(t)?t:[fr(t)],e)})}),ns=vi(function(e,t){return yt(e,Tt(t))}),rs=cn(function(e,t,n){eo.call(e,n)?++e[n]:e[n]=1}),is=wn(Ro),as=wn(Po,!0),os=Sn(rt,Ro),ss=Sn(it,Po),us=cn(function(e,t,n){eo.call(e,n)?e[n].push(t):e[n]=[t]}),ls=cn(function(e,t,n){e[n]=t}),cs=vi(function(e,t,n){var r=-1,i="function"==typeof t,a=er(t),o=Jn(e)?Ua(e.length):[];return Ro(e,function(e){var s=i?t:a&&null!=e?e[t]:$;o[++r]=s?s.apply(e,n):Kn(e,t,n)}),o}),fs=cn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ds=An(ct,Ro),hs=An(ft,Po),ps=vi(function(e,t){if(null==e)return[];var n=t[2];return n&&Qn(t[0],t[1],n)&&(t.length=1),Jt(e,Tt(t),[])}),gs=_o||function(){return(new za).getTime()},ms=vi(function(e,t,n){var r=_;if(n.length){var i=m(n,ms.placeholder);r|=T}return Pn(e,r,t,n,i)}),vs=vi(function(e,t){t=t.length?Tt(t):Ki(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Pn(e[i],_,e)}return e}),ys=vi(function(e,t,n){var r=_|S;if(n.length){var i=m(n,ys.placeholder);r|=T}return Pn(t,r,e,n,i)}),bs=yn(C),xs=yn(M),ws=vi(function(e,t){return $t(e,1,t)}),$s=vi(function(e,t,n){return $t(e,t,n)}),ks=_n(),_s=_n(!0),Ss=vi(function(e,t){if(t=Tt(t),"function"!=typeof e||!at(t,r))throw new Xa(U);var n=t.length;return vi(function(r){for(var i=ko(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)})}),Es=On(T),Cs=On(O),Ms=vi(function(e,t){return Pn(e,N,$,$,$,Tt(t))}),Ts=bo||function(e){return p(e)&&nr(e.length)&&no.call(e)==H},Os=fn(zt),As=fn(function(e,t,n){return n?mt(e,t,n):vt(e,t)}),Ns=bn(As,pt),Ds=bn(Os,ar),Ls=kn(At),Is=kn(Nt),Rs=En(jo),Ps=En(Fo),js=Cn(At),Fs=Cn(Nt),Us=wo?function(e){var t=null==e?$:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Jn(e)?lr(e):Li(e)?wo(e):[]}:lr,zs=Mn(!0),qs=Mn(),Hs=vi(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=ut(Tt(t),Ga);return or(e,kt(ea(e),t))}var n=on(t[0],t[1],3);return sr(e,function(e,t,r){return!n(e,t,r)})}),Bs=vi(function(e,t){return null==e?{}:"function"==typeof t[0]?sr(e,on(t[0],t[1],3)):or(e,Tt(t))}),Ws=mn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Vs=mn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ys=Tn(),Gs=Tn(!0),Xs=mn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ks=mn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Js=vi(function(e,t){try{return e.apply($,t)}catch(n){return Ai(n)?n:new qa(n)}}),Zs=vi(function(e,t){return function(n){return Kn(n,e,t)}}),Qs=vi(function(e,t){return function(n){return Kn(e,n,t)}}),eu=In("ceil"),tu=In("floor"),nu=xn(ki,Co),ru=xn(Wi,Mo),iu=In("round");return G.prototype=Z.prototype,ee.prototype=Io(Z.prototype),ee.prototype.constructor=ee,ze.prototype=Io(Z.prototype),ze.prototype.constructor=ze,We.prototype["delete"]=Ve,We.prototype.get=Ye,We.prototype.has=Ge,We.prototype.set=Xe,Ke.prototype.push=Ze,pi.Cache=We,G.after=ci,G.ary=fi,G.assign=As,G.at=ns,G.before=di,G.bind=ms,G.bindAll=vs,G.bindKey=ys,G.callback=Sa,G.chain=zr,G.chunk=pr,G.compact=gr,G.constant=Ea,G.countBy=rs,G.create=Xi,G.curry=bs,G.curryRight=xs,G.debounce=hi,G.defaults=Ns,G.defaultsDeep=Ds,G.defer=ws,G.delay=$s,G.difference=Bo,G.drop=mr,G.dropRight=vr,G.dropRightWhile=yr,G.dropWhile=br,G.fill=xr,G.filter=Jr,G.flatten=$r,G.flattenDeep=kr,G.flow=ks,G.flowRight=_s,G.forEach=os,G.forEachRight=ss,G.forIn=Rs,G.forInRight=Ps,G.forOwn=js,G.forOwnRight=Fs,G.functions=Ki,G.groupBy=us,G.indexBy=ls,G.initial=Sr,G.intersection=Yo,G.invert=Qi,G.invoke=cs,G.keys=Us,G.keysIn=ea,G.map=ei,G.mapKeys=zs,G.mapValues=qs,G.matches=Ma,G.matchesProperty=Ta,G.memoize=pi,G.merge=Os,G.method=Zs,G.methodOf=Qs,G.mixin=Oa,G.modArgs=Ss,G.negate=gi,G.omit=Hs,G.once=mi,G.pairs=ta,G.partial=Es,G.partialRight=Cs,G.partition=fs,G.pick=Bs,G.pluck=ti,G.property=Da,G.propertyOf=La,G.pull=Mr,G.pullAt=Go,G.range=Ia,G.rearg=Ms,G.reject=ni,G.remove=Tr,G.rest=Or,G.restParam=vi,G.set=ra,G.shuffle=ii,G.slice=Ar,G.sortBy=si,G.sortByAll=ps,G.sortByOrder=ui,G.spread=yi,G.take=Nr,G.takeRight=Dr,G.takeRightWhile=Lr,G.takeWhile=Ir,G.tap=qr,G.throttle=bi,G.thru=Hr,G.times=Ra,G.toArray=Yi,G.toPlainObject=Gi,G.transform=ia,G.union=Jo,G.uniq=Rr,G.unzip=Pr,G.unzipWith=jr,G.values=aa,G.valuesIn=oa,G.where=li,G.without=Zo,G.wrap=xi,G.xor=Fr,G.zip=Qo,G.zipObject=Ur,G.zipWith=es,G.backflow=_s,G.collect=ei,G.compose=_s,G.each=os,G.eachRight=ss,G.extend=As,G.iteratee=Sa,G.methods=Ki,G.object=Ur,G.select=Jr,G.tail=Or,G.unique=Rr,Oa(G,G),G.add=ja,G.attempt=Js,G.camelCase=Ws,G.capitalize=la,G.ceil=eu,G.clone=wi,G.cloneDeep=$i,G.deburr=ca,G.endsWith=fa,G.escape=da,G.escapeRegExp=ha,G.every=Kr,G.find=is,G.findIndex=Wo,G.findKey=Ls,G.findLast=as,G.findLastIndex=Vo,G.findLastKey=Is,G.findWhere=Zr,G.first=wr,G.floor=tu,G.get=Ji,G.gt=ki,G.gte=_i,G.has=Zi,G.identity=Ca,G.includes=Qr,G.indexOf=_r,G.inRange=sa,G.isArguments=Si,G.isArray=Ts,G.isBoolean=Ei,G.isDate=Ci,G.isElement=Mi,G.isEmpty=Ti,G.isEqual=Oi,G.isError=Ai,G.isFinite=Ni,G.isFunction=Di,G.isMatch=Ii,G.isNaN=Ri,G.isNative=Pi,G.isNull=ji,G.isNumber=Fi,G.isObject=Li,G.isPlainObject=Ui,G.isRegExp=zi,G.isString=qi,G.isTypedArray=Hi,G.isUndefined=Bi,G.kebabCase=Vs,G.last=Er,G.lastIndexOf=Cr,G.lt=Wi,G.lte=Vi,G.max=nu,G.min=ru,G.noConflict=Aa,G.noop=Na,G.now=gs,G.pad=pa,G.padLeft=Ys,G.padRight=Gs,G.parseInt=ga,G.random=ua,G.reduce=ds,G.reduceRight=hs,G.repeat=ma,G.result=na,G.round=iu,G.runInContext=w,G.size=ai,G.snakeCase=Xs,
G.some=oi,G.sortedIndex=Xo,G.sortedLastIndex=Ko,G.startCase=Ks,G.startsWith=va,G.sum=Fa,G.template=ya,G.trim=ba,G.trimLeft=xa,G.trimRight=wa,G.trunc=$a,G.unescape=ka,G.uniqueId=Pa,G.words=_a,G.all=Kr,G.any=oi,G.contains=Qr,G.eq=Oi,G.detect=is,G.foldl=ds,G.foldr=hs,G.head=wr,G.include=Qr,G.inject=ds,Oa(G,function(){var e={};return At(G,function(t,n){G.prototype[n]||(e[n]=t)}),e}(),!1),G.sample=ri,G.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ri(t,e)}):ri(this.value())},G.VERSION=k,rt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){G[e].placeholder=G}),rt(["drop","take"],function(e,t){ze.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new ze(this);n=null==n?1:$o(yo(n)||0,0);var i=this.clone();return r?i.__takeCount__=ko(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},ze.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),rt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=F;ze.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:zn(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),rt(["first","last"],function(e,t){var n="take"+(t?"Right":"");ze.prototype[e]=function(){return this[n](1).value()[0]}}),rt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");ze.prototype[e]=function(){return this.__filtered__?new ze(this):this[n](1)}}),rt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Ft:Da;ze.prototype[e]=function(e){return this[n](r(e))}}),ze.prototype.compact=function(){return this.filter(Ca)},ze.prototype.reject=function(e,t){return e=zn(e,t,1),this.filter(function(t){return!e(t)})},ze.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new ze(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==$&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},ze.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},ze.prototype.toArray=function(){return this.take(Mo)},At(ze.prototype,function(e,t){var n=/^(?:filter|map|reject)|While$/.test(t),r=/^(?:first|last)$/.test(t),i=G[r?"take"+("last"==t?"Right":""):t];i&&(G.prototype[t]=function(){var t=r?[1]:arguments,a=this.__chain__,o=this.__wrapped__,s=!!this.__actions__.length,u=o instanceof ze,l=t[0],c=u||Ts(o);c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=function(e){return r&&a?i(e,1)[0]:i.apply($,lt([e],t))},d={func:Hr,args:[f],thisArg:$},h=u&&!s;if(r&&!a)return h?(o=o.clone(),o.__actions__.push(d),e.call(o)):i.call($,this.value())[0];if(!r&&c){o=h?o:new ze(this);var p=e.apply(o,t);return p.__actions__.push(d),new ee(p,a)}return this.thru(f)})}),rt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?Za:Ka)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);G.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),At(ze.prototype,function(e,t){var n=G[t];if(n){var r=n.name,i=Lo[r]||(Lo[r]=[]);i.push({name:t,func:n})}}),Lo[Nn($,S).name]=[{name:"wrapper",func:$}],ze.prototype.clone=qe,ze.prototype.reverse=He,ze.prototype.value=Be,G.prototype.chain=Br,G.prototype.commit=Wr,G.prototype.concat=ts,G.prototype.plant=Vr,G.prototype.reverse=Yr,G.prototype.toString=Gr,G.prototype.run=G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=Xr,G.prototype.collect=G.prototype.map,G.prototype.head=G.prototype.first,G.prototype.select=G.prototype.filter,G.prototype.tail=G.prototype.rest,G}var $,k="3.10.0",_=1,S=2,E=4,C=8,M=16,T=32,O=64,A=128,N=256,D=30,L="...",I=150,R=16,P=200,j=1,F=2,U="Expected a function",z="__lodash_placeholder__",q="[object Arguments]",H="[object Array]",B="[object Boolean]",W="[object Date]",V="[object Error]",Y="[object Function]",G="[object Map]",X="[object Number]",K="[object Object]",J="[object RegExp]",Z="[object Set]",Q="[object String]",ee="[object WeakMap]",te="[object ArrayBuffer]",ne="[object Float32Array]",re="[object Float64Array]",ie="[object Int8Array]",ae="[object Int16Array]",oe="[object Int32Array]",se="[object Uint8Array]",ue="[object Uint8ClampedArray]",le="[object Uint16Array]",ce="[object Uint32Array]",fe=/\b__p \+= '';/g,de=/\b(__p \+=) '' \+/g,he=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pe=/&(?:amp|lt|gt|quot|#39|#96);/g,ge=/[&<>"'`]/g,me=RegExp(pe.source),ve=RegExp(ge.source),ye=/<%-([\s\S]+?)%>/g,be=/<%([\s\S]+?)%>/g,xe=/<%=([\s\S]+?)%>/g,we=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,$e=/^\w*$/,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,_e=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Se=RegExp(_e.source),Ee=/[\u0300-\u036f\ufe20-\ufe23]/g,Ce=/\\(\\)?/g,Me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Te=/\w*$/,Oe=/^0[xX]/,Ae=/^\[object .+?Constructor\]$/,Ne=/^\d+$/,De=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Le=/($^)/,Ie=/['\n\r\u2028\u2029\\]/g,Re=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Pe=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],je=-1,Fe={};Fe[ne]=Fe[re]=Fe[ie]=Fe[ae]=Fe[oe]=Fe[se]=Fe[ue]=Fe[le]=Fe[ce]=!0,Fe[q]=Fe[H]=Fe[te]=Fe[B]=Fe[W]=Fe[V]=Fe[Y]=Fe[G]=Fe[X]=Fe[K]=Fe[J]=Fe[Z]=Fe[Q]=Fe[ee]=!1;var Ue={};Ue[q]=Ue[H]=Ue[te]=Ue[B]=Ue[W]=Ue[ne]=Ue[re]=Ue[ie]=Ue[ae]=Ue[oe]=Ue[X]=Ue[K]=Ue[J]=Ue[Q]=Ue[se]=Ue[ue]=Ue[le]=Ue[ce]=!0,Ue[V]=Ue[Y]=Ue[G]=Ue[Z]=Ue[ee]=!1;var ze={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},He={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Be={"function":!0,object:!0},We={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ve={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ye=Be[typeof exports]&&exports&&!exports.nodeType&&exports,Ge=Be[typeof module]&&module&&!module.nodeType&&module,Xe=Ye&&Ge&&"object"==typeof global&&global&&global.Object&&global,Ke=Be[typeof self]&&self&&self.Object&&self,Je=Be[typeof window]&&window&&window.Object&&window,Ze=Ge&&Ge.exports===Ye&&Ye,Qe=Xe||Je!==(this&&this.window)&&Je||Ke||this,et=w();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Qe._=et,define(function(){return et})):Ye&&Ge?Ze?(Ge.exports=et)._=et:Ye._=et:Qe._=et}.call(this),/**
 * @license AngularJS v1.4.3
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";function r(e){var t;if(t=e.match(l)){var n=new Date(0),r=0,a=0;return t[9]&&(r=i(t[9]+t[10]),a=i(t[9]+t[11])),n.setUTCFullYear(i(t[1]),i(t[2])-1,i(t[3])),n.setUTCHours(i(t[4]||0)-r,i(t[5]||0)-a,i(t[6]||0),i(t[7]||0)),n}return e}function i(e){return parseInt(e,10)}function a(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function o(e,r,i,a){function o(e,n,r,i){return t.isFunction(e)?e:function(){return t.isNumber(e)?[e,n,r,i]:[200,e,n,r]}}function l(e,o,s,l,c,m,v){function y(e){return t.isString(e)||t.isFunction(e)||e instanceof RegExp?e:t.toJson(e)}function b(t){function i(){var n=t.response(e,o,s,c);x.$$respHeaders=n[2],l(g(n[0]),g(n[1]),x.getAllResponseHeaders(),g(n[3]||""))}function u(){for(var e=0,t=h.length;t>e;e++)if(h[e]===i){h.splice(e,1),l(-1,n,"");break}}return!a&&m&&(m.then?m.then(u):r(u,m)),i}var x=new u,w=d[0],$=!1;if(w&&w.match(e,o)){if(!w.matchData(s))throw new Error("Expected "+w+" with different data\nEXPECTED: "+y(w.data)+"\nGOT:      "+s);if(!w.matchHeaders(c))throw new Error("Expected "+w+" with different headers\nEXPECTED: "+y(w.headers)+"\nGOT:      "+y(c));if(d.shift(),w.response)return void h.push(b(w));$=!0}for(var k,_=-1;k=f[++_];)if(k.match(e,o,s,c||{})){if(k.response)(a?a.defer:p)(b(k));else{if(!k.passThrough)throw new Error("No response defined !");i(e,o,s,l,c,m,v)}return}throw new Error($?"No response defined !":"Unexpected request: "+e+" "+o+"\n"+(w?"Expected "+w:"No more request expected"))}function c(e){t.forEach(["GET","DELETE","JSONP","HEAD"],function(t){l[e+t]=function(r,i){return l[e](t,r,n,i)}}),t.forEach(["PUT","POST","PATCH"],function(t){l[e+t]=function(n,r,i){return l[e](t,n,r,i)}})}var f=[],d=[],h=[],p=t.bind(h,h.push),g=t.copy;return l.when=function(e,t,r,i){var u=new s(e,t,r,i),l={respond:function(e,t,r,i){return u.passThrough=n,u.response=o(e,t,r,i),l}};return a&&(l.passThrough=function(){return u.response=n,u.passThrough=!0,l}),f.push(u),l},c("when"),l.expect=function(e,t,n,r){var i=new s(e,t,n,r),a={respond:function(e,t,n,r){return i.response=o(e,t,n,r),a}};return d.push(i),a},c("expect"),l.flush=function(n,r){if(r!==!1&&e.$digest(),!h.length)throw new Error("No pending request to flush !");if(t.isDefined(n)&&null!==n)for(;n--;){if(!h.length)throw new Error("No more pending request to flush !");h.shift()()}else for(;h.length;)h.shift()();l.verifyNoOutstandingExpectation(r)},l.verifyNoOutstandingExpectation=function(t){if(t!==!1&&e.$digest(),d.length)throw new Error("Unsatisfied requests: "+d.join(", "))},l.verifyNoOutstandingRequest=function(){if(h.length)throw new Error("Unflushed requests: "+h.length)},l.resetExpectations=function(){d.length=0,h.length=0},l}function s(e,n,r,i){this.data=r,this.headers=i,this.match=function(n,r,i,a){return e!=n?!1:this.matchUrl(r)?t.isDefined(i)&&!this.matchData(i)?!1:t.isDefined(a)&&!this.matchHeaders(a)?!1:!0:!1},this.matchUrl=function(e){return n?t.isFunction(n.test)?n.test(e):t.isFunction(n)?n(e):n==e:!0},this.matchHeaders=function(e){return t.isUndefined(i)?!0:t.isFunction(i)?i(e):t.equals(i,e)},this.matchData=function(e){return t.isUndefined(r)?!0:r&&t.isFunction(r.test)?r.test(e):r&&t.isFunction(r)?r(e):r&&!t.isString(r)?t.equals(t.fromJson(t.toJson(r)),t.fromJson(e)):r==e},this.toString=function(){return e+" "+n}}function u(){u.$$lastInstance=this,this.open=function(e,t,n){this.$$method=e,this.$$url=t,this.$$async=n,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(e){this.$$data=e},this.setRequestHeader=function(e,t){this.$$reqHeaders[e]=t},this.getResponseHeader=function(e){var r=this.$$respHeaders[e];return r?r:(e=t.lowercase(e),(r=this.$$respHeaders[e])?r:(r=n,t.forEach(this.$$respHeaders,function(n,i){r||t.lowercase(i)!=e||(r=n)}),r))},this.getAllResponseHeaders=function(){var e=[];return t.forEach(this.$$respHeaders,function(t,n){e.push(n+": "+t)}),e.join("\n")},this.abort=t.noop}t.mock={},t.mock.$BrowserProvider=function(){this.$get=function(){return new t.mock.$Browser}},t.mock.$Browser=function(){var e=this;this.isMock=!0,e.$$url="http://server/",e.$$lastUrl=e.$$url,e.pollFns=[],e.$$completeOutstandingRequest=t.noop,e.$$incOutstandingRequestCount=t.noop,e.onUrlChange=function(t){return e.pollFns.push(function(){(e.$$lastUrl!==e.$$url||e.$$state!==e.$$lastState)&&(e.$$lastUrl=e.$$url,e.$$lastState=e.$$state,t(e.$$url,e.$$state))}),t},e.$$applicationDestroyed=t.noop,e.$$checkUrlChange=t.noop,e.deferredFns=[],e.deferredNextId=0,e.defer=function(t,n){return n=n||0,e.deferredFns.push({time:e.defer.now+n,fn:t,id:e.deferredNextId}),e.deferredFns.sort(function(e,t){return e.time-t.time}),e.deferredNextId++},e.defer.now=0,e.defer.cancel=function(r){var i;return t.forEach(e.deferredFns,function(e,t){e.id===r&&(i=t)}),i!==n?(e.deferredFns.splice(i,1),!0):!1},e.defer.flush=function(n){if(t.isDefined(n))e.defer.now+=n;else{if(!e.deferredFns.length)throw new Error("No deferred tasks to be flushed");e.defer.now=e.deferredFns[e.deferredFns.length-1].time}for(;e.deferredFns.length&&e.deferredFns[0].time<=e.defer.now;)e.deferredFns.shift().fn()},e.$$baseHref="/",e.baseHref=function(){return this.$$baseHref}},t.mock.$Browser.prototype={poll:function(){t.forEach(this.pollFns,function(e){e()})},url:function(e,n,r){return t.isUndefined(r)&&(r=null),e?(this.$$url=e,this.$$state=t.copy(r),this):this.$$url},state:function(){return this.$$state},notifyWhenNoOutstandingRequests:function(e){e()}},t.mock.$ExceptionHandlerProvider=function(){var e;this.mode=function(t){switch(t){case"log":case"rethrow":var n=[];e=function(e){if(n.push(1==arguments.length?e:[].slice.call(arguments,0)),"rethrow"===t)throw e},e.errors=n;break;default:throw new Error("Unknown mode '"+t+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return e},this.mode("rethrow")},t.mock.$LogProvider=function(){function e(e,t,n){return e.concat(Array.prototype.slice.call(t,n))}var n=!0;this.debugEnabled=function(e){return t.isDefined(e)?(n=e,this):n},this.$get=function(){var r={log:function(){r.log.logs.push(e([],arguments,0))},warn:function(){r.warn.logs.push(e([],arguments,0))},info:function(){r.info.logs.push(e([],arguments,0))},error:function(){r.error.logs.push(e([],arguments,0))},debug:function(){n&&r.debug.logs.push(e([],arguments,0))}};return r.reset=function(){r.log.logs=[],r.info.logs=[],r.warn.logs=[],r.error.logs=[],r.debug.logs=[]},r.assertEmpty=function(){var e=[];if(t.forEach(["error","warn","info","log","debug"],function(n){t.forEach(r[n].logs,function(r){t.forEach(r,function(t){e.push("MOCK $log ("+n+"): "+String(t)+"\n"+(t.stack||""))})})}),e.length)throw e.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),e.push(""),new Error(e.join("\n---------\n"))},r.reset(),r}},t.mock.$IntervalProvider=function(){this.$get=["$browser","$rootScope","$q","$$q",function(e,r,i,a){var o=[],s=0,u=0,l=function(l,c,f,d){function h(){if(y.notify(m++),f>0&&m>=f){var i;y.resolve(m),t.forEach(o,function(e,t){e.id===b.$$intervalId&&(i=t)}),i!==n&&o.splice(i,1)}v?e.defer.flush():r.$apply()}var p=arguments.length>4,g=p?Array.prototype.slice.call(arguments,4):[],m=0,v=t.isDefined(d)&&!d,y=(v?a:i).defer(),b=y.promise;return f=t.isDefined(f)?f:0,b.then(null,null,p?function(){l.apply(null,g)}:l),b.$$intervalId=s,o.push({nextTime:u+c,delay:c,fn:h,id:s,deferred:y}),o.sort(function(e,t){return e.nextTime-t.nextTime}),s++,b};return l.cancel=function(e){if(!e)return!1;var r;return t.forEach(o,function(t,n){t.id===e.$$intervalId&&(r=n)}),r!==n?(o[r].deferred.reject("canceled"),o.splice(r,1),!0):!1},l.flush=function(e){for(u+=e;o.length&&o[0].nextTime<=u;){var t=o[0];t.fn(),t.nextTime+=t.delay,o.sort(function(e,t){return e.nextTime-t.nextTime})}return e},l}]};var l=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;if(t.mock.TzDate=function(e,n){var i=new Date(0);if(t.isString(n)){var o=n;if(i.origDate=r(n),n=i.origDate.getTime(),isNaN(n))throw{name:"Illegal Argument",message:"Arg '"+o+"' passed into TzDate constructor is not a valid date string"}}else i.origDate=new Date(n);var s=new Date(n).getTimezoneOffset();i.offsetDiff=60*s*1e3-1e3*e*60*60,i.date=new Date(n+i.offsetDiff),i.getTime=function(){return i.date.getTime()-i.offsetDiff},i.toLocaleDateString=function(){return i.date.toLocaleDateString()},i.getFullYear=function(){return i.date.getFullYear()},i.getMonth=function(){return i.date.getMonth()},i.getDate=function(){return i.date.getDate()},i.getHours=function(){return i.date.getHours()},i.getMinutes=function(){return i.date.getMinutes()},i.getSeconds=function(){return i.date.getSeconds()},i.getMilliseconds=function(){return i.date.getMilliseconds()},i.getTimezoneOffset=function(){return 60*e},i.getUTCFullYear=function(){return i.origDate.getUTCFullYear()},i.getUTCMonth=function(){return i.origDate.getUTCMonth()},i.getUTCDate=function(){return i.origDate.getUTCDate()},i.getUTCHours=function(){return i.origDate.getUTCHours()},i.getUTCMinutes=function(){return i.origDate.getUTCMinutes()},i.getUTCSeconds=function(){return i.origDate.getUTCSeconds()},i.getUTCMilliseconds=function(){return i.origDate.getUTCMilliseconds()},i.getDay=function(){return i.date.getDay()},i.toISOString&&(i.toISOString=function(){return a(i.origDate.getUTCFullYear(),4)+"-"+a(i.origDate.getUTCMonth()+1,2)+"-"+a(i.origDate.getUTCDate(),2)+"T"+a(i.origDate.getUTCHours(),2)+":"+a(i.origDate.getUTCMinutes(),2)+":"+a(i.origDate.getUTCSeconds(),2)+"."+a(i.origDate.getUTCMilliseconds(),3)+"Z"});var u=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];return t.forEach(u,function(e){i[e]=function(){throw new Error("Method '"+e+"' is not implemented in the TzDate mock")}}),i},t.mock.TzDate.prototype=Date.prototype,t.mock.animate=t.module("ngAnimateMock",["ng"]).config(["$provide",function(e){var n=[];e.value("$$animateReflow",function(e){var t=n.length;return n.push(e),function(){n.splice(t,1)}}),e.decorator("$animate",["$delegate","$timeout","$browser","$$rAF",function(e,r,i,a){var o={queue:[],cancel:e.cancel,enabled:e.enabled,triggerCallbackEvents:function(){a.flush()},triggerCallbackPromise:function(){r.flush(0)},triggerCallbacks:function(){this.triggerCallbackEvents(),this.triggerCallbackPromise()},triggerReflow:function(){t.forEach(n,function(e){e()}),n=[]}};return t.forEach(["animate","enter","leave","move","addClass","removeClass","setClass"],function(t){o[t]=function(){return o.queue.push({event:t,element:arguments[0],options:arguments[arguments.length-1],args:arguments}),e[t].apply(e,arguments)}}),o}])}]),t.mock.dump=function(e){function n(e){var i;return t.isElement(e)?(e=t.element(e),i=t.element("<div></div>"),t.forEach(e,function(e){i.append(t.element(e).clone())}),i=i.html()):t.isArray(e)?(i=[],t.forEach(e,function(e){i.push(n(e))}),i="[ "+i.join(", ")+" ]"):i=t.isObject(e)?t.isFunction(e.$eval)&&t.isFunction(e.$apply)?r(e):e instanceof Error?e.stack||""+e.name+": "+e.message:t.toJson(e,!0):String(e),i}function r(e,n){n=n||"  ";var i=[n+"Scope("+e.$id+"): {"];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&!a.match(/^(\$|this)/)&&i.push("  "+a+": "+t.toJson(e[a]));for(var o=e.$$childHead;o;)i.push(r(o,n+"  ")),o=o.$$nextSibling;return i.push("}"),i.join("\n"+n)}return n(e)},t.mock.$HttpBackendProvider=function(){this.$get=["$rootScope","$timeout",o]},t.mock.$TimeoutDecorator=["$delegate","$browser",function(e,n){function r(e){var n=[];return t.forEach(e,function(e){n.push("{id: "+e.id+", time: "+e.time+"}")}),n.join(", ")}return e.flush=function(e){n.defer.flush(e)},e.verifyNoPendingTasks=function(){if(n.deferredFns.length)throw new Error("Deferred tasks to flush ("+n.deferredFns.length+"): "+r(n.deferredFns))},e}],t.mock.$RAFDecorator=["$delegate",function(e){var t=[],n=function(e){var n=t.length;return t.push(e),function(){t.splice(n,1)}};return n.supported=e.supported,n.flush=function(){if(0===t.length)throw new Error("No rAF callbacks present");for(var e=t.length,n=0;e>n;n++)t[n]();t=t.slice(n)},n}],t.mock.$RootElementProvider=function(){this.$get=function(){return t.element("<div ng-app></div>")}},t.mock.$ControllerDecorator=["$delegate",function(e){return function(n,r,i,a){if(i&&"object"==typeof i){var o=e(n,r,!0,a);return t.extend(o.instance,i),o()}return e(n,r,i,a)}}],t.module("ngMock",["ng"]).provider({$browser:t.mock.$BrowserProvider,$exceptionHandler:t.mock.$ExceptionHandlerProvider,$log:t.mock.$LogProvider,$interval:t.mock.$IntervalProvider,$httpBackend:t.mock.$HttpBackendProvider,$rootElement:t.mock.$RootElementProvider}).config(["$provide",function(e){e.decorator("$timeout",t.mock.$TimeoutDecorator),e.decorator("$$rAF",t.mock.$RAFDecorator),e.decorator("$rootScope",t.mock.$RootScopeDecorator),e.decorator("$controller",t.mock.$ControllerDecorator)}]),t.module("ngMockE2E",["ng"]).config(["$provide",function(e){e.decorator("$httpBackend",t.mock.e2e.$httpBackendDecorator)}]),t.mock.e2e={},t.mock.e2e.$httpBackendDecorator=["$rootScope","$timeout","$delegate","$browser",o],t.mock.$RootScopeDecorator=["$delegate",function(e){function t(){for(var e,t=0,n=[this.$$childHead];n.length;)for(e=n.shift();e;)t+=1,n.push(e.$$childHead),e=e.$$nextSibling;return t}function n(){for(var e,t=this.$$watchers?this.$$watchers.length:0,n=[this.$$childHead];n.length;)for(e=n.shift();e;)t+=e.$$watchers?e.$$watchers.length:0,n.push(e.$$childHead),e=e.$$nextSibling;return t}var r=Object.getPrototypeOf(e);return r.$countChildScopes=t,r.$countWatchers=n,e}],e.jasmine||e.mocha){var c=null,f=[],d=function(){return!!c};t.mock.$$annotate=t.injector.$$annotate,t.injector.$$annotate=function(e){return"function"!=typeof e||e.$inject||f.push(e),t.mock.$$annotate.apply(this,arguments)},(e.beforeEach||e.setup)(function(){f=[],c=this}),(e.afterEach||e.teardown)(function(){var e=c.$injector;f.forEach(function(e){delete e.$inject}),t.forEach(c.$modules,function(e){e&&e.$$hashKey&&(e.$$hashKey=n)}),c.$injector=null,c.$modules=null,c=null,e&&e.get("$rootElement").off(),t.forEach(t.element.fragments,function(e,n){delete t.element.fragments[n]}),u.$$lastInstance=null,t.forEach(t.callbacks,function(e,n){delete t.callbacks[n]}),t.callbacks.counter=0}),e.module=t.mock.module=function(){function e(){if(c.$injector)throw new Error("Injector already created, can not register a module!");var e=c.$modules||(c.$modules=[]);t.forEach(n,function(n){e.push(t.isObject(n)&&!t.isArray(n)?function(e){t.forEach(n,function(t,n){e.value(n,t)})}:n)})}var n=Array.prototype.slice.call(arguments,0);return d()?e():e};var h=function(e,t){this.message=e.message,this.name=e.name,e.line&&(this.line=e.line),e.sourceId&&(this.sourceId=e.sourceId),e.stack&&t&&(this.stack=e.stack+"\n"+t.stack),e.stackArray&&(this.stackArray=e.stackArray)};h.prototype.toString=Error.prototype.toString,e.inject=t.mock.inject=function(){function e(){var e=c.$modules||[],i=!!c.$injectorStrict;e.unshift("ngMock"),e.unshift("ng");var a=c.$injector;a||(i&&t.forEach(e,function(e){"function"==typeof e&&t.injector.$$annotate(e)}),a=c.$injector=t.injector(e,i),c.$injectorStrict=i);for(var o=0,s=n.length;s>o;o++){c.$injectorStrict&&a.annotate(n[o]);try{a.invoke(n[o]||t.noop,this)}catch(u){if(u.stack&&r)throw new h(u,r);throw u}finally{r=null}}}var n=Array.prototype.slice.call(arguments,0),r=new Error("Declaration Location");return d()?e.call(c):e},t.mock.inject.strictDi=function(e){function t(){if(e!==c.$injectorStrict){if(c.$injector)throw new Error("Injector already created, can not modify strict annotations");c.$injectorStrict=e}}return e=arguments.length?!!e:!0,d()?t():t}}}(window,window.angular),/**
 * An Angular module that gives you access to the browsers local storage
 * @version v0.2.2 - 2015-05-29
 * @link https://github.com/grevory/angular-local-storage
 * @author grevory <greg@gregpike.ca>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(e,t,n){"use strict";var r=t.isDefined,i=t.isUndefined,a=t.isNumber,o=t.isObject,s=t.isArray,u=t.extend,l=t.toJson,c=t.module("LocalStorageModule",[]);c.provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(e){return this.prefix=e,this},this.setStorageType=function(e){return this.storageType=e,this},this.setStorageCookie=function(e,t){return this.cookie.expiry=e,this.cookie.path=t,this},this.setStorageCookieDomain=function(e){return this.cookie.domain=e,this},this.setNotify=function(e,t){return this.notify={setItem:e,removeItem:t},this},this.$get=["$rootScope","$window","$document","$parse",function(e,t,n,c){var f,d=this,h=d.prefix,p=d.cookie,g=d.notify,m=d.storageType;n?n[0]&&(n=n[0]):n=document,"."!==h.substr(-1)&&(h=h?h+".":"");var v=function(e){return h+e},y=function(){try{var n=m in t&&null!==t[m],r=v("__"+Math.round(1e7*Math.random()));return n&&(f=t[m],f.setItem(r,""),f.removeItem(r)),n}catch(i){return m="cookie",e.$broadcast("LocalStorageModule.notification.error",i.message),!1}}(),b=function(t,n){if(n=i(n)?null:l(n),!y||"cookie"===d.storageType)return y||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:n,storageType:"cookie"}),S(t,n);try{f&&f.setItem(v(t),n),g.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:n,storageType:d.storageType})}catch(r){return e.$broadcast("LocalStorageModule.notification.error",r.message),S(t,n)}return!0},x=function(t){if(!y||"cookie"===d.storageType)return y||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),E(t);var n=f?f.getItem(v(t)):null;if(!n||"null"===n)return null;try{return JSON.parse(n)}catch(r){return n}},w=function(){var t,n;for(t=0;t<arguments.length;t++)if(n=arguments[t],y&&"cookie"!==d.storageType)try{f.removeItem(v(n)),g.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:d.storageType})}catch(r){e.$broadcast("LocalStorageModule.notification.error",r.message),C(n)}else y||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:"cookie"}),C(n)},$=function(){if(!y)return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var t=h.length,n=[];for(var r in f)if(r.substr(0,t)===h)try{n.push(r.substr(t))}catch(i){return e.$broadcast("LocalStorageModule.notification.error",i.Description),[]}return n},k=function(t){var n=h?new RegExp("^"+h):new RegExp,r=t?new RegExp(t):new RegExp;if(!y||"cookie"===d.storageType)return y||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),M();var i=h.length;for(var a in f)if(n.test(a)&&r.test(a.substr(i)))try{w(a.substr(i))}catch(o){return e.$broadcast("LocalStorageModule.notification.error",o.message),M()}return!0},_=function(){try{return t.navigator.cookieEnabled||"cookie"in n&&(n.cookie.length>0||(n.cookie="test").indexOf.call(n.cookie,"test")>-1)}catch(r){return e.$broadcast("LocalStorageModule.notification.error",r.message),!1}}(),S=function(t,r,u){if(i(r))return!1;if((s(r)||o(r))&&(r=l(r)),!_)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var c="",f=new Date,d="";if(null===r?(f.setTime(f.getTime()+-864e5),c="; expires="+f.toGMTString(),r=""):a(u)&&0!==u?(f.setTime(f.getTime()+24*u*60*60*1e3),c="; expires="+f.toGMTString()):0!==p.expiry&&(f.setTime(f.getTime()+24*p.expiry*60*60*1e3),c="; expires="+f.toGMTString()),t){var h="; path="+p.path;p.domain&&(d="; domain="+p.domain),n.cookie=v(t)+"="+encodeURIComponent(r)+c+h+d}}catch(g){return e.$broadcast("LocalStorageModule.notification.error",g.message),!1}return!0},E=function(t){if(!_)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var r=n.cookie&&n.cookie.split(";")||[],i=0;i<r.length;i++){for(var a=r[i];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(v(t)+"=")){var o=decodeURIComponent(a.substring(h.length+t.length+1,a.length));try{return JSON.parse(o)}catch(s){return o}}}return null},C=function(e){S(e,null)},M=function(){for(var e=null,t=h.length,r=n.cookie.split(";"),i=0;i<r.length;i++){for(e=r[i];" "===e.charAt(0);)e=e.substring(1,e.length);var a=e.substring(t,e.indexOf("="));C(a)}},T=function(){return m},O=function(e,t,n,i){i=i||t;var a=x(i);return null===a&&r(n)?a=n:o(a)&&o(n)&&(a=u(n,a)),c(t).assign(e,a),e.$watch(t,function(e){b(i,e)},o(e[t]))},A=function(){for(var e=0,n=t[m],r=0;r<n.length;r++)0===n.key(r).indexOf(h)&&e++;return e};return{isSupported:y,getStorageType:T,set:b,add:b,get:x,keys:$,remove:w,clearAll:k,bind:O,deriveKey:v,length:A,cookie:{isSupported:_,set:S,add:S,get:E,remove:C,clearAll:M}}}]})}(window,window.angular),/*! tether 0.7.1 */
function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t(require,exports,module):e.Tether=t()}(this,function(e,t,n){return function(){var e,t,n,r,i,a,o,s,u,l,c,f,d,h,p,g,m,v,y,b={}.hasOwnProperty,x=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},w=[].slice;null==this.Tether&&(this.Tether={modules:[]}),f=function(e){var t,n,r,i,a;if(n=getComputedStyle(e).position,"fixed"===n)return e;for(r=void 0,t=e;t=t.parentNode;){try{i=getComputedStyle(t)}catch(o){}if(null==i)return t;if(/(auto|scroll)/.test(i.overflow+i.overflowY+i.overflowX)&&("absolute"!==n||"relative"===(a=i.position)||"absolute"===a||"fixed"===a))return t}return document.body},m=function(){var e;return e=0,function(){return e++}}(),y={},l=function(e){var t,r,a,o,s;if(a=e._tetherZeroElement,null==a&&(a=e.createElement("div"),a.setAttribute("data-tether-id",m()),i(a.style,{top:0,left:0,position:"absolute"}),e.body.appendChild(a),e._tetherZeroElement=a),t=a.getAttribute("data-tether-id"),null==y[t]){y[t]={},s=a.getBoundingClientRect();for(r in s)o=s[r],y[t][r]=o;n(function(){return y[t]=void 0})}return y[t]},h=null,o=function(e){var t,n,r,i,a,o,s;e===document?(n=document,e=document.documentElement):n=e.ownerDocument,r=n.documentElement,t={},s=e.getBoundingClientRect();for(i in s)o=s[i],t[i]=o;return a=l(n),t.top-=a.top,t.left-=a.left,null==t.width&&(t.width=document.body.scrollWidth-t.left-t.right),null==t.height&&(t.height=document.body.scrollHeight-t.top-t.bottom),t.top=t.top-r.clientTop,t.left=t.left-r.clientLeft,t.right=n.body.clientWidth-t.width-t.left,t.bottom=n.body.clientHeight-t.height-t.top,t},u=function(e){return e.offsetParent||document.documentElement},c=function(){var e,t,n,r,a;return e=document.createElement("div"),e.style.width="100%",e.style.height="200px",t=document.createElement("div"),i(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t),r=e.offsetWidth,t.style.overflow="scroll",a=e.offsetWidth,r===a&&(a=t.clientWidth),document.body.removeChild(t),n=r-a,{width:n,height:n}},i=function(e){var t,n,r,i,a,o,s;for(null==e&&(e={}),t=[],Array.prototype.push.apply(t,arguments),s=t.slice(1),a=0,o=s.length;o>a;a++)if(r=s[a])for(n in r)b.call(r,n)&&(i=r[n],e[n]=i);return e},p=function(e,t){var n,r,i,a,o,u;if(null!=e.classList){for(o=t.split(" "),u=[],i=0,a=o.length;a>i;i++)r=o[i],r.trim()&&u.push(e.classList.remove(r));return u}return n=s(e).replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," "),g(e,n)},t=function(e,t){var n,r,i,a,o;if(null!=e.classList){for(a=t.split(" "),o=[],r=0,i=a.length;i>r;r++)n=a[r],n.trim()&&o.push(e.classList.add(n));return o}return p(e,t),n=s(e)+(" "+t),g(e,n)},d=function(e,t){return null!=e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(s(e))},s=function(e){return e.className instanceof SVGAnimatedString?e.className.baseVal:e.className},g=function(e,t){return e.setAttribute("class",t)},v=function(e,n,r){var i,a,o,s,u,l;for(a=0,s=r.length;s>a;a++)i=r[a],x.call(n,i)<0&&d(e,i)&&p(e,i);for(l=[],o=0,u=n.length;u>o;o++)i=n[o],l.push(d(e,i)?void 0:t(e,i));return l},r=[],n=function(e){return r.push(e)},a=function(){var e,t;for(t=[];e=r.pop();)t.push(e());return t},e=function(){function e(){}return e.prototype.on=function(e,t,n,r){var i;return null==r&&(r=!1),null==this.bindings&&(this.bindings={}),null==(i=this.bindings)[e]&&(i[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:r})},e.prototype.once=function(e,t,n){return this.on(e,t,n,!0)},e.prototype.off=function(e,t){var n,r,i;if(null!=(null!=(r=this.bindings)?r[e]:void 0)){if(null==t)return delete this.bindings[e];for(n=0,i=[];n<this.bindings[e].length;)i.push(this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):n++);return i}},e.prototype.trigger=function(){var e,t,n,r,i,a,o,s,u;if(n=arguments[0],e=2<=arguments.length?w.call(arguments,1):[],null!=(o=this.bindings)?o[n]:void 0){for(i=0,u=[];i<this.bindings[n].length;)s=this.bindings[n][i],r=s.handler,t=s.ctx,a=s.once,r.apply(null!=t?t:this,e),u.push(a?this.bindings[n].splice(i,1):i++);return u}},e}(),this.Tether.Utils={getScrollParent:f,getBounds:o,getOffsetParent:u,extend:i,addClass:t,removeClass:p,hasClass:d,updateClasses:v,defer:n,flush:a,uniqueId:m,Evented:e,getScrollBarSize:c}}.call(this),function(){var e,t,n,r,i,a,o,s,u,l,c,f,d,h,p,g,m,v,y,b,x,w,$,k,_,S,E,C,M,T=[].slice,O=function(e,t){return function(){return e.apply(t,arguments)}};if(null==this.Tether)throw new Error("You must include the utils.js file before tether.js");r=this.Tether,M=r.Utils,g=M.getScrollParent,m=M.getSize,h=M.getOuterSize,f=M.getBounds,d=M.getOffsetParent,l=M.extend,i=M.addClass,$=M.removeClass,S=M.updateClasses,u=M.defer,c=M.flush,p=M.getScrollBarSize,E=function(e,t,n){return null==n&&(n=1),e+n>=t&&t>=e-n},_=function(){var e,t,n,r,i;for(e=document.createElement("div"),i=["transform","webkitTransform","OTransform","MozTransform","msTransform"],n=0,r=i.length;r>n;n++)if(t=i[n],void 0!==e.style[t])return t}(),k=[],w=function(){var e,t,n;for(t=0,n=k.length;n>t;t++)e=k[t],e.position(!1);return c()},v=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},function(){var e,t,n,r,i,a,o,s,u;for(t=null,n=null,r=null,i=function(){if(null!=n&&n>16)return n=Math.min(n-16,250),void(r=setTimeout(i,250));if(!(null!=t&&v()-t<10))return null!=r&&(clearTimeout(r),r=null),t=v(),w(),n=v()-t},s=["resize","scroll","touchmove"],u=[],a=0,o=s.length;o>a;a++)e=s[a],u.push(window.addEventListener(e,i));return u}(),e={center:"center",left:"right",right:"left"},t={middle:"middle",top:"bottom",bottom:"top"},n={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},s=function(n,r){var i,a;return i=n.left,a=n.top,"auto"===i&&(i=e[r.left]),"auto"===a&&(a=t[r.top]),{left:i,top:a}},o=function(e){var t,r;return{left:null!=(t=n[e.left])?t:e.left,top:null!=(r=n[e.top])?r:e.top}},a=function(){var e,t,n,r,i,a,o;for(t=1<=arguments.length?T.call(arguments,0):[],n={top:0,left:0},i=0,a=t.length;a>i;i++)o=t[i],r=o.top,e=o.left,"string"==typeof r&&(r=parseFloat(r,10)),"string"==typeof e&&(e=parseFloat(e,10)),n.top+=r,n.left+=e;return n},y=function(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e},b=x=function(e){var t,n,r;return r=e.split(" "),n=r[0],t=r[1],{top:n,left:t}},C=function(){function e(e){this.position=O(this.position,this);var t,n,i,a,o;for(k.push(this),this.history=[],this.setOptions(e,!1),a=r.modules,n=0,i=a.length;i>n;n++)t=a[n],null!=(o=t.initialize)&&o.call(this);this.position()}return e.modules=[],e.prototype.getClass=function(e){var t,n;return(null!=(t=this.options.classes)?t[e]:void 0)?this.options.classes[e]:(null!=(n=this.options.classes)?n[e]:void 0)!==!1?this.options.classPrefix?""+this.options.classPrefix+"-"+e:e:""},e.prototype.setOptions=function(e,t){var n,r,a,o,s,u;for(this.options=e,null==t&&(t=!0),n={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},this.options=l(n,this.options),s=this.options,this.element=s.element,this.target=s.target,this.targetModifier=s.targetModifier,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),u=["element","target"],a=0,o=u.length;o>a;a++){if(r=u[a],null==this[r])throw new Error("Tether Error: Both element and target must be defined");null!=this[r].jquery?this[r]=this[r][0]:"string"==typeof this[r]&&(this[r]=document.querySelector(this[r]))}if(i(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&i(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");return this.targetAttachment=b(this.options.targetAttachment),this.attachment=b(this.options.attachment),this.offset=x(this.options.offset),this.targetOffset=x(this.options.targetOffset),null!=this.scrollParent&&this.disable(),this.scrollParent="scroll-handle"===this.targetModifier?this.target:g(this.target),this.options.enabled!==!1?this.enable(t):void 0},e.prototype.getTargetBounds=function(){var e,t,n,r,i,a,o,s,u;if(null==this.targetModifier)return f(this.target);switch(this.targetModifier){case"visible":return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:(e=f(this.target),i={height:e.height,width:e.width,top:e.top,left:e.left},i.height=Math.min(i.height,e.height-(pageYOffset-e.top)),i.height=Math.min(i.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),i.height=Math.min(innerHeight,i.height),i.height-=2,i.width=Math.min(i.width,e.width-(pageXOffset-e.left)),i.width=Math.min(i.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),i.width=Math.min(innerWidth,i.width),i.width-=2,i.top<pageYOffset&&(i.top=pageYOffset),i.left<pageXOffset&&(i.left=pageXOffset),i);case"scroll-handle":return u=this.target,u===document.body?(u=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=f(u),s=getComputedStyle(u),n=u.scrollWidth>u.clientWidth||"scroll"===[s.overflow,s.overflowX]||this.target!==document.body,a=0,n&&(a=15),r=e.height-parseFloat(s.borderTopWidth)-parseFloat(s.borderBottomWidth)-a,i={width:15,height:.975*r*(r/u.scrollHeight),left:e.left+e.width-parseFloat(s.borderLeftWidth)-15},t=0,408>r&&this.target===document.body&&(t=-11e-5*Math.pow(r,2)-.00727*r+22.58),this.target!==document.body&&(i.height=Math.max(i.height,24)),o=this.target.scrollTop/(u.scrollHeight-r),i.top=o*(r-i.height-t)+e.top+parseFloat(s.borderTopWidth),this.target===document.body&&(i.height=Math.max(i.height,24)),i}},e.prototype.clearCache=function(){return this._cache={}},e.prototype.cache=function(e,t){return null==this._cache&&(this._cache={}),null==this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]},e.prototype.enable=function(e){return null==e&&(e=!0),this.options.addTargetClasses!==!1&&i(this.target,this.getClass("enabled")),i(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),e?this.position():void 0},e.prototype.disable=function(){return $(this.target,this.getClass("enabled")),$(this.element,this.getClass("enabled")),this.enabled=!1,null!=this.scrollParent?this.scrollParent.removeEventListener("scroll",this.position):void 0},e.prototype.destroy=function(){var e,t,n,r,i;for(this.disable(),i=[],e=n=0,r=k.length;r>n;e=++n){if(t=k[e],t===this){k.splice(e,1);break}i.push(void 0)}return i},e.prototype.updateAttachClasses=function(e,t){var n,r,i,a,o,s,l,c,f,d=this;for(null==e&&(e=this.attachment),null==t&&(t=this.targetAttachment),a=["left","top","bottom","right","middle","center"],(null!=(f=this._addAttachClasses)?f.length:void 0)&&this._addAttachClasses.splice(0,this._addAttachClasses.length),n=null!=this._addAttachClasses?this._addAttachClasses:this._addAttachClasses=[],e.top&&n.push(""+this.getClass("element-attached")+"-"+e.top),e.left&&n.push(""+this.getClass("element-attached")+"-"+e.left),t.top&&n.push(""+this.getClass("target-attached")+"-"+t.top),t.left&&n.push(""+this.getClass("target-attached")+"-"+t.left),r=[],o=0,l=a.length;l>o;o++)i=a[o],r.push(""+this.getClass("element-attached")+"-"+i);for(s=0,c=a.length;c>s;s++)i=a[s],r.push(""+this.getClass("target-attached")+"-"+i);return u(function(){return null!=d._addAttachClasses?(S(d.element,d._addAttachClasses,r),d.options.addTargetClasses!==!1&&S(d.target,d._addAttachClasses,r),d._addAttachClasses=void 0):void 0})},e.prototype.position=function(e){var t,n,i,u,l,h,g,m,v,b,x,w,$,k,_,S,E,C,M,T,O,A,N,D,L,I,R,P,j,F,U,z,q,H,B,W=this;if(null==e&&(e=!0),this.enabled){for(this.clearCache(),T=s(this.targetAttachment,this.attachment),this.updateAttachClasses(this.attachment,T),t=this.cache("element-bounds",function(){return f(W.element)}),L=t.width,i=t.height,0===L&&0===i&&null!=this.lastSize?(F=this.lastSize,L=F.width,i=F.height):this.lastSize={width:L,height:i},N=A=this.cache("target-bounds",function(){return W.getTargetBounds()}),v=y(o(this.attachment),{width:L,height:i}),O=y(o(T),N),l=y(this.offset,{width:L,height:i}),h=y(this.targetOffset,N),v=a(v,l),O=a(O,h),u=A.left+O.left-v.left,D=A.top+O.top-v.top,U=r.modules,I=0,P=U.length;P>I;I++){if(g=U[I],_=g.position.call(this,{left:u,top:D,targetAttachment:T,targetPos:A,attachment:this.attachment,elementPos:t,offset:v,targetOffset:O,manualOffset:l,manualTargetOffset:h,scrollbarSize:C}),_===!1)return!1;null!=_&&"object"==typeof _&&(D=_.top,u=_.left)}if(m={page:{top:D,left:u},viewport:{top:D-pageYOffset,bottom:pageYOffset-D-i+innerHeight,left:u-pageXOffset,right:pageXOffset-u-L+innerWidth}},document.body.scrollWidth>window.innerWidth&&(C=this.cache("scrollbar-size",p),m.viewport.bottom-=C.height),document.body.scrollHeight>window.innerHeight&&(C=this.cache("scrollbar-size",p),m.viewport.right-=C.width),(""!==(z=document.body.style.position)&&"static"!==z||""!==(q=document.body.parentElement.style.position)&&"static"!==q)&&(m.page.bottom=document.body.scrollHeight-D-i,m.page.right=document.body.scrollWidth-u-L),(null!=(H=this.options.optimizations)?H.moveElement:void 0)!==!1&&null==this.targetModifier){for(x=this.cache("target-offsetparent",function(){return d(W.target)}),k=this.cache("target-offsetparent-bounds",function(){return f(x)}),$=getComputedStyle(x),n=getComputedStyle(this.element),w=k,b={},B=["Top","Left","Bottom","Right"],R=0,j=B.length;j>R;R++)M=B[R],b[M.toLowerCase()]=parseFloat($["border"+M+"Width"]);k.right=document.body.scrollWidth-k.left-w.width+b.right,k.bottom=document.body.scrollHeight-k.top-w.height+b.bottom,m.page.top>=k.top+b.top&&m.page.bottom>=k.bottom&&m.page.left>=k.left+b.left&&m.page.right>=k.right&&(E=x.scrollTop,S=x.scrollLeft,m.offset={top:m.page.top-k.top+E-b.top,left:m.page.left-k.left+S-b.left})}return this.move(m),this.history.unshift(m),this.history.length>3&&this.history.pop(),e&&c(),!0}},e.prototype.move=function(e){var t,n,r,i,a,o,s,c,f,h,p,g,m,v,y,b,x,w=this;if(null!=this.element.parentNode){c={};for(h in e){c[h]={};for(i in e[h]){for(r=!1,b=this.history,v=0,y=b.length;y>v;v++)if(s=b[v],!E(null!=(x=s[h])?x[i]:void 0,e[h][i])){r=!0;break}r||(c[h][i]=!0)}}t={top:"",left:"",right:"",bottom:""},f=function(e,n){var r,i,a;return(null!=(a=w.options.optimizations)?a.gpu:void 0)===!1?(e.top?t.top=""+n.top+"px":t.bottom=""+n.bottom+"px",e.left?t.left=""+n.left+"px":t.right=""+n.right+"px"):(e.top?(t.top=0,i=n.top):(t.bottom=0,i=-n.bottom),e.left?(t.left=0,r=n.left):(t.right=0,r=-n.right),t[_]="translateX("+Math.round(r)+"px) translateY("+Math.round(i)+"px)","msTransform"!==_?t[_]+=" translateZ(0)":void 0)},a=!1,(c.page.top||c.page.bottom)&&(c.page.left||c.page.right)?(t.position="absolute",f(c.page,e.page)):(c.viewport.top||c.viewport.bottom)&&(c.viewport.left||c.viewport.right)?(t.position="fixed",f(c.viewport,e.viewport)):null!=c.offset&&c.offset.top&&c.offset.left?(t.position="absolute",o=this.cache("target-offsetparent",function(){return d(w.target)}),d(this.element)!==o&&u(function(){return w.element.parentNode.removeChild(w.element),o.appendChild(w.element)}),f(c.offset,e.offset),a=!0):(t.position="absolute",f({top:!0,left:!0},e.page)),a||"BODY"===this.element.parentNode.tagName||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element)),m={},g=!1;for(i in t)p=t[i],n=this.element.style[i],""===n||""===p||"top"!==i&&"left"!==i&&"bottom"!==i&&"right"!==i||(n=parseFloat(n),p=parseFloat(p)),n!==p&&(g=!0,m[i]=t[i]);return g?u(function(){return l(w.element.style,m)}):void 0}},e}(),r.position=w,this.Tether=l(C,r)}.call(this),function(){var e,t,n,r,i,a,o,s,u,l,c=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};l=this.Tether.Utils,o=l.getOuterSize,a=l.getBounds,s=l.getSize,r=l.extend,u=l.updateClasses,n=l.defer,t={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle"},e=["left","top","right","bottom"],i=function(t,n){var r,i,o,s,u,l,c;if("scrollParent"===n?n=t.scrollParent:"window"===n&&(n=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),n===document&&(n=n.documentElement),null!=n.nodeType)for(i=s=a(n),u=getComputedStyle(n),n=[i.left,i.top,s.width+i.left,s.height+i.top],r=l=0,c=e.length;c>l;r=++l)o=e[r],o=o[0].toUpperCase()+o.substr(1),"Top"===o||"Left"===o?n[r]+=parseFloat(u["border"+o+"Width"]):n[r]-=parseFloat(u["border"+o+"Width"]);return n},this.Tether.modules.push({position:function(t){var o,s,l,f,d,h,p,g,m,v,y,b,x,w,$,k,_,S,E,C,M,T,O,A,N,D,L,I,R,P,j,F,U,z,q,H,B,W,V,Y,G,X,K,J,Z,Q,ee,te=this;if(D=t.top,y=t.left,M=t.targetAttachment,!this.options.constraints)return!0;for(S=function(t){var n,r,i,a;for(te.removeClass(t),a=[],r=0,i=e.length;i>r;r++)n=e[r],a.push(te.removeClass(""+t+"-"+n));return a},Y=this.cache("element-bounds",function(){return a(te.element)}),v=Y.height,L=Y.width,0===L&&0===v&&null!=this.lastSize&&(G=this.lastSize,L=G.width,v=G.height),O=this.cache("target-bounds",function(){return te.getTargetBounds()}),T=O.height,A=O.width,C={},m={},s=[this.getClass("pinned"),this.getClass("out-of-bounds")],X=this.options.constraints,I=0,F=X.length;F>I;I++)g=X[I],g.outOfBoundsClass&&s.push(g.outOfBoundsClass),g.pinnedClass&&s.push(g.pinnedClass);for(R=0,U=s.length;U>R;R++)for(p=s[R],K=["left","top","right","bottom"],P=0,z=K.length;z>P;P++)E=K[P],s.push(""+p+"-"+E);for(o=[],C=r({},M),m=r({},this.attachment),J=this.options.constraints,j=0,q=J.length;q>j;j++){if(g=J[j],N=g.to,l=g.attachment,$=g.pin,null==l&&(l=""),c.call(l," ")>=0?(Z=l.split(" "),h=Z[0],d=Z[1]):d=h=l,f=i(this,N),("target"===h||"both"===h)&&(D<f[1]&&"top"===C.top&&(D+=T,C.top="bottom"),D+v>f[3]&&"bottom"===C.top&&(D-=T,C.top="top")),"together"===h&&(D<f[1]&&"top"===C.top&&("bottom"===m.top?(D+=T,C.top="bottom",D+=v,m.top="top"):"top"===m.top&&(D+=T,C.top="bottom",D-=v,m.top="bottom")),D+v>f[3]&&"bottom"===C.top&&("top"===m.top?(D-=T,C.top="top",D-=v,m.top="bottom"):"bottom"===m.top&&(D-=T,C.top="top",D+=v,m.top="top")),"middle"===C.top&&(D+v>f[3]&&"top"===m.top?(D-=v,m.top="bottom"):D<f[1]&&"bottom"===m.top&&(D+=v,m.top="top"))),("target"===d||"both"===d)&&(y<f[0]&&"left"===C.left&&(y+=A,C.left="right"),y+L>f[2]&&"right"===C.left&&(y-=A,C.left="left")),"together"===d&&(y<f[0]&&"left"===C.left?"right"===m.left?(y+=A,C.left="right",y+=L,m.left="left"):"left"===m.left&&(y+=A,C.left="right",y-=L,m.left="right"):y+L>f[2]&&"right"===C.left?"left"===m.left?(y-=A,C.left="left",y-=L,m.left="right"):"right"===m.left&&(y-=A,C.left="left",y+=L,m.left="left"):"center"===C.left&&(y+L>f[2]&&"left"===m.left?(y-=L,m.left="right"):y<f[0]&&"right"===m.left&&(y+=L,m.left="left"))),("element"===h||"both"===h)&&(D<f[1]&&"bottom"===m.top&&(D+=v,m.top="top"),D+v>f[3]&&"top"===m.top&&(D-=v,m.top="bottom")),("element"===d||"both"===d)&&(y<f[0]&&"right"===m.left&&(y+=L,m.left="left"),y+L>f[2]&&"left"===m.left&&(y-=L,m.left="right")),"string"==typeof $?$=function(){var e,t,n,r;for(n=$.split(","),r=[],t=0,e=n.length;e>t;t++)w=n[t],r.push(w.trim());return r}():$===!0&&($=["top","left","right","bottom"]),$||($=[]),k=[],b=[],D<f[1]&&(c.call($,"top")>=0?(D=f[1],k.push("top")):b.push("top")),D+v>f[3]&&(c.call($,"bottom")>=0?(D=f[3]-v,k.push("bottom")):b.push("bottom")),y<f[0]&&(c.call($,"left")>=0?(y=f[0],k.push("left")):b.push("left")),y+L>f[2]&&(c.call($,"right")>=0?(y=f[2]-L,k.push("right")):b.push("right")),k.length)for(_=null!=(Q=this.options.pinnedClass)?Q:this.getClass("pinned"),o.push(_),W=0,H=k.length;H>W;W++)E=k[W],o.push(""+_+"-"+E);if(b.length)for(x=null!=(ee=this.options.outOfBoundsClass)?ee:this.getClass("out-of-bounds"),o.push(x),V=0,B=b.length;B>V;V++)E=b[V],o.push(""+x+"-"+E);(c.call(k,"left")>=0||c.call(k,"right")>=0)&&(m.left=C.left=!1),(c.call(k,"top")>=0||c.call(k,"bottom")>=0)&&(m.top=C.top=!1),(C.top!==M.top||C.left!==M.left||m.top!==this.attachment.top||m.left!==this.attachment.left)&&this.updateAttachClasses(m,C)}return n(function(){return te.options.addTargetClasses!==!1&&u(te.target,o,s),u(te.element,o,s)}),{top:D,left:y}}})}.call(this),function(){var e,t,n,r;r=this.Tether.Utils,t=r.getBounds,n=r.updateClasses,e=r.defer,this.Tether.modules.push({position:function(r){var i,a,o,s,u,l,c,f,d,h,p,g,m,v,y,b,x,w,$,k,_,S,E,C,M,T=this;if(p=r.top,l=r.left,_=this.cache("element-bounds",function(){return t(T.element)}),u=_.height,g=_.width,h=this.getTargetBounds(),s=p+u,c=l+g,i=[],p<=h.bottom&&s>=h.top)for(S=["left","right"],m=0,x=S.length;x>m;m++)f=S[m],((E=h[f])===l||E===c)&&i.push(f);if(l<=h.right&&c>=h.left)for(C=["top","bottom"],v=0,w=C.length;w>v;v++)f=C[v],((M=h[f])===p||M===s)&&i.push(f);for(o=[],a=[],d=["left","top","right","bottom"],o.push(this.getClass("abutted")),y=0,$=d.length;$>y;y++)f=d[y],o.push(""+this.getClass("abutted")+"-"+f);for(i.length&&a.push(this.getClass("abutted")),b=0,k=i.length;k>b;b++)f=i[b],a.push(""+this.getClass("abutted")+"-"+f);return e(function(){return T.options.addTargetClasses!==!1&&n(T.target,a,o),n(T.element,a,o)}),!0}})}.call(this),function(){this.Tether.modules.push({position:function(e){var t,n,r,i,a,o,s;return o=e.top,t=e.left,this.options.shift?(n=function(e){return"function"==typeof e?e.call(this,{top:o,left:t}):e},r=n(this.options.shift),"string"==typeof r?(r=r.split(" "),r[1]||(r[1]=r[0]),a=r[0],i=r[1],a=parseFloat(a,10),i=parseFloat(i,10)):(s=[r.top,r.left],a=s[0],i=s[1]),o+=a,t+=i,{top:o,left:t}):void 0}})}.call(this),this.Tether}),/*! tether-drop 1.0.8 */
function(e,t){"function"==typeof define&&define.amd?define(["tether"],t):"object"==typeof exports?module.exports=t(require("tether")):e.Drop=t(e.Tether)}(this,function(e){"use strict";function t(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw a}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function i(e){var n=e.split(" "),r=t(n,2),i=r[0],a=r[1];if(["left","right"].indexOf(i)>=0){var o=[a,i];i=o[0],a=o[1]}return[i,a].join(" ")}function a(e,t){for(var n=void 0,r=[];-1!==(n=e.indexOf(t));)r.push(e.splice(n,1));return r}function o(){var t=void 0===arguments[0]?{}:arguments[0],c=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return new(l.apply(b,[null].concat(t)))};f(c,{createContext:o,drops:[],defaults:{}});var v={classPrefix:"drop",defaults:{position:"bottom left",openOn:"click",constrainToScrollParent:!0,constrainToWindow:!0,classes:"",remove:!1,tetherOptions:{}}};f(c,v,t),f(c.defaults,v.defaults,t.defaults),"undefined"==typeof $[c.classPrefix]&&($[c.classPrefix]=[]),c.updateBodyClasses=function(){for(var e=!1,t=$[c.classPrefix],n=t.length,r=0;n>r;++r)if(t[r].isOpened()){e=!0;break}e?d(document.body,""+c.classPrefix+"-open"):h(document.body,""+c.classPrefix+"-open")};var b=function(t){function o(e){if(n(this,o),u(Object.getPrototypeOf(o.prototype),"constructor",this).call(this),this.options=f({},c.defaults,e),this.target=this.options.target,"undefined"==typeof this.target)throw new Error("Drop Error: You must provide a target.");this.options.classes&&this.options.addTargetClasses!==!1&&d(this.target,this.options.classes),c.drops.push(this),$[c.classPrefix].push(this),this._boundEvents=[],this.setupElements(),this.setupEvents(),this.setupTether()}return r(o,t),s(o,[{key:"_on",value:function(e,t,n){this._boundEvents.push({element:e,event:t,handler:n}),e.addEventListener(t,n)}},{key:"setupElements",value:function(){var e=this;if(this.drop=document.createElement("div"),d(this.drop,c.classPrefix),this.options.classes&&d(this.drop,this.options.classes),this.content=document.createElement("div"),d(this.content,""+c.classPrefix+"-content"),"function"==typeof this.options.content){var t=function(){var t=e.options.content.call(e,e);if("string"==typeof t)e.content.innerHTML=t;else{if("object"!=typeof t)throw new Error("Drop Error: Content function should return a string or HTMLElement.");e.content.innerHTML="",e.content.appendChild(t)}};t(),this.on("open",t.bind(this))}else"object"==typeof this.options.content?this.content.appendChild(this.options.content):this.content.innerHTML=this.options.content;this.drop.appendChild(this.content)}},{key:"setupTether",value:function(){var t=this.options.position.split(" ");t[0]=w[t[0]],t=t.join(" ");var n=[];n.push(this.options.constrainToScrollParent?{to:"scrollParent",pin:"top, bottom",attachment:"together none"}:{to:"scrollParent"}),n.push(this.options.constrainToWindow!==!1?{to:"window",attachment:"together"}:{to:"window"});var r={element:this.drop,target:this.target,attachment:i(t),targetAttachment:i(this.options.position),classPrefix:c.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:n,addTargetClasses:this.options.addTargetClasses};this.options.tetherOptions!==!1&&(this.tether=new e(f({},r,this.options.tetherOptions)))}},{key:"setupEvents",value:function(){var e=this;if(this.options.openOn){if("always"===this.options.openOn)return void setTimeout(this.open.bind(this));var t=this.options.openOn.split(" ");if(t.indexOf("click")>=0)for(var n=function(t){e.toggle(),t.preventDefault()},r=function(t){e.isOpened()&&(t.target===e.drop||e.drop.contains(t.target)||t.target===e.target||e.target.contains(t.target)||e.close())},i=0;i<m.length;++i){var a=m[i];this._on(this.target,a,n),this._on(document,a,r)}t.indexOf("hover")>=0&&!function(){var t=!1,n=function(){t=!0,e.open()},r=null,i=function(){t=!1,"undefined"!=typeof r&&clearTimeout(r),r=setTimeout(function(){t||e.close(),r=null},50)};e._on(e.target,"mouseover",n),e._on(e.drop,"mouseover",n),e._on(e.target,"mouseout",i),e._on(e.drop,"mouseout",i)}()}}},{key:"isOpened",value:function(){return this.drop?p(this.drop,""+c.classPrefix+"-open"):void 0}},{key:"toggle",value:function(){this.isOpened()?this.close():this.open()}},{key:"open",value:function(){var e=this;this.isOpened()||(this.drop.parentNode||document.body.appendChild(this.drop),"undefined"!=typeof this.tether&&this.tether.enable(),d(this.drop,""+c.classPrefix+"-open"),d(this.drop,""+c.classPrefix+"-open-transitionend"),setTimeout(function(){e.drop&&d(e.drop,""+c.classPrefix+"-after-open")}),"undefined"!=typeof this.tether&&this.tether.position(),this.trigger("open"),c.updateBodyClasses())}},{key:"close",value:function(){var e=this;if(this.isOpened()){h(this.drop,""+c.classPrefix+"-open"),h(this.drop,""+c.classPrefix+"-after-open");var t=function n(){p(e.drop,""+c.classPrefix+"-open")||h(e.drop,""+c.classPrefix+"-open-transitionend"),e.drop.removeEventListener(y,n)};this.drop.addEventListener(y,t),this.trigger("close"),"undefined"!=typeof this.tether&&this.tether.disable(),c.updateBodyClasses(),this.options.remove&&this.remove()}}},{key:"remove",value:function(){this.close(),this.drop.parentNode&&this.drop.parentNode.removeChild(this.drop)}},{key:"position",value:function(){this.isOpened()&&"undefined"!=typeof this.tether&&this.tether.position()}},{key:"destroy",value:function(){this.remove(),"undefined"!=typeof this.tether&&this.tether.destroy();for(var e=0;e<this._boundEvents.length;++e){var t=this._boundEvents[e],n=t.element,r=t.event,i=t.handler;n.removeEventListener(r,i)}this._boundEvents=[],this.tether=null,this.drop=null,this.content=null,this.target=null,a($[c.classPrefix],this),a(c.drops,this)}}]),o}(g);return c}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;s=l=u=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;e=l,t=a,n=o,r=!0}},l=Function.prototype.bind,c=e.Utils,f=c.extend,d=c.addClass,h=c.removeClass,p=c.hasClass,g=c.Evented,m=["click"];"ontouchstart"in document.documentElement&&m.push("touchstart");var v={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},y="";for(var b in v)if({}.hasOwnProperty.call(v,b)){var x=document.createElement("p");"undefined"!==x.style[b]&&(y=v[b])}var w={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},$={},k=o();return document.addEventListener("DOMContentLoaded",function(){k.updateBodyClasses()}),k}),function(){var e,t,n,r,i,a,o,s,u,l,c,f,d,h,p;n=Math.floor,l=Math.min,t=function(e,t){return t>e?-1:e>t?1:0},u=function(e,r,i,a,o){var s;if(null==i&&(i=0),null==o&&(o=t),0>i)throw new Error("lo must be non-negative");for(null==a&&(a=e.length);a>i;)s=n((i+a)/2),o(r,e[s])<0?a=s:i=s+1;return[].splice.apply(e,[i,i-i].concat(r)),r},a=function(e,n,r){return null==r&&(r=t),e.push(n),h(e,0,e.length-1,r)},i=function(e,n){var r,i;return null==n&&(n=t),r=e.pop(),e.length?(i=e[0],e[0]=r,p(e,0,n)):i=r,i},s=function(e,n,r){var i;return null==r&&(r=t),i=e[0],e[0]=n,p(e,0,r),i},o=function(e,n,r){var i;return null==r&&(r=t),e.length&&r(e[0],n)<0&&(i=[e[0],n],n=i[0],e[0]=i[1],p(e,0,r)),n},r=function(e,r){var i,a,o,s,u,l;for(null==r&&(r=t),s=function(){l=[];for(var t=0,r=n(e.length/2);r>=0?r>t:t>r;r>=0?t++:t--)l.push(t);return l}.apply(this).reverse(),u=[],a=0,o=s.length;o>a;a++)i=s[a],u.push(p(e,i,r));return u},d=function(e,n,r){var i;return null==r&&(r=t),i=e.indexOf(n),-1!==i?(h(e,0,i,r),p(e,i,r)):void 0},c=function(e,n,i){var a,s,u,l,c;if(null==i&&(i=t),s=e.slice(0,n),!s.length)return s;for(r(s,i),c=e.slice(n),u=0,l=c.length;l>u;u++)a=c[u],o(s,a,i);return s.sort(i).reverse()},f=function(e,n,a){var o,s,c,f,d,h,p,g,m,v;if(null==a&&(a=t),10*n<=e.length){if(f=e.slice(0,n).sort(a),!f.length)return f;for(c=f[f.length-1],g=e.slice(n),d=0,p=g.length;p>d;d++)o=g[d],a(o,c)<0&&(u(f,o,0,null,a),f.pop(),c=f[f.length-1]);return f}for(r(e,a),v=[],s=h=0,m=l(n,e.length);m>=0?m>h:h>m;s=m>=0?++h:--h)v.push(i(e,a));return v},h=function(e,n,r,i){var a,o,s;for(null==i&&(i=t),a=e[r];r>n&&(s=r-1>>1,o=e[s],i(a,o)<0);)e[r]=o,r=s;return e[r]=a},p=function(e,n,r){var i,a,o,s,u;for(null==r&&(r=t),a=e.length,u=n,o=e[n],i=2*n+1;a>i;)s=i+1,a>s&&!(r(e[i],e[s])<0)&&(i=s),e[n]=e[i],n=i,i=2*n+1;return e[n]=o,h(e,u,n,r)},e=function(){function e(e){this.cmp=null!=e?e:t,this.nodes=[]}return e.push=a,e.pop=i,e.replace=s,e.pushpop=o,e.heapify=r,e.updateItem=d,e.nlargest=c,e.nsmallest=f,e.prototype.push=function(e){return a(this.nodes,e,this.cmp)},e.prototype.pop=function(){return i(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return s(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return o(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return r(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return d(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return t=new e,t.nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),function(e,t){return"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Heap=t()}(this,function(){return e})}.call(this),function(e){if("function"==typeof define&&define.amd)define(["d3","topojson"],e);else{var t="undefined"==typeof topojson?null:topojson;vg=e(d3,t)}}(function(e,t){function n(e){return e.replace(N,"$1\\'")}function r(e,t,n,r){for(;r>n;){var i=n+r>>>1;O.cmp(e[i],t)<0?n=i+1:r=i}return n}function a(e,t,n){var r=0,i=e.split(D);return e=n?(i=i.reverse()).filter(function(e){return r+=e.length,t>=r}).reverse():i.filter(function(e){return r+=e.length,t>=r}),e.length?e.join("").trim():i[0].slice(0,t)}function o(e){O.config.isNode?process.stderr.write(e+"\n"):console.log(e)}function s(e){O.config.isNode?process.stderr.write(e+"\n"):console.error(e)}function u(e){return e.__vgtree__=!0,e.nodes=function(){return l(this,[])},e}function l(e,t){var n,r=e.values,i=r?r.length:0;for(t.push(e),n=0;i>n;++n)l(r[n],t);return t}function c(e){var t,n,r=e;if(O.isArray(e))for(r=[],t=0,n=e.length;n>t;++t)r.push(c(e[t]));else if(O.isObject(e)){r={};for(t in e)r[t]=c(e[t])}return r}function f(e,t,n){if(r=[],n&&t.length>1){for(var r,i,a,o=d(e.domain()),s=-1,u=t.length,l=(t[1]-t[0])/++n;++s<u;)for(i=n;--i>0;)(a=+t[s]-i*l)>=o[0]&&r.push(a);for(--s,i=0;++i<n&&(a=+t[s]+i*l)<o[1];)r.push(a)}return r}function d(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function h(e){return e.rangeExtent?e.rangeExtent():d(e.range())}function p(e,t,n,r,i,a){i=Math.max(i,0)+a,("left"===e||"top"===e)&&(i*=-1),"top"===e||"bottom"===e?(O.extend(t.properties.enter,{x:n,y:{value:i}}),O.extend(t.properties.update,{x:r,y:{value:i},align:{value:"center"},baseline:{value:X[e]}})):(O.extend(t.properties.enter,{x:{value:i},y:n}),O.extend(t.properties.update,{x:{value:i},y:r,align:{value:G[e]},baseline:{value:"middle"}}))}function g(e,t,n,r,i){var a="left"===e||"top"===e?-1:1;i=i===1/0?"top"===e||"bottom"===e?{group:"mark.group.height",mult:-a}:{group:"mark.group.width",mult:-a}:{value:a*i},"top"===e||"bottom"===e?(O.extend(t.properties.enter,{x:n,y:{value:0},y2:i}),O.extend(t.properties.update,{x:r,y:{value:0},y2:i}),O.extend(t.properties.exit,{x:r})):(O.extend(t.properties.enter,{x:{value:0},x2:i,y:n}),O.extend(t.properties.update,{x:{value:0},x2:i,y:r}),O.extend(t.properties.exit,{y:r}))}function m(e,t,n,r){var i=~~((n[0]+n[1])/2),a="top"===e||"left"===e?-1:1;"bottom"===e||"top"===e?O.extend(t.properties.update,{x:{value:i},y:{value:a*r},angle:{value:0}}):O.extend(t.properties.update,{x:{value:a*r},y:{value:i},angle:{value:-90}})}function v(e,t,n,r){var i;("top"===e||"left"===e)&&(r=-1*r),i="bottom"===e||"top"===e?"M"+n[0]+","+r+"V0H"+n[1]+"V"+r:"M"+r+","+n[0]+"H0V"+n[1]+"H"+r,t.properties.update.path={value:i}}function y(e,t,n){var r=n?{}:e,i=e.mark.def.offset,a=e.mark.def.orient,o=t.width,s=t.height;if(O.isArray(i)){var u=i[0],l=i[1];switch(a){case"left":r.x=-u,r.y=l;break;case"right":r.x=o+u,r.y=l;break;case"bottom":r.x=u,r.y=s+l;break;case"top":r.x=u,r.y=-l;break;default:r.x=u,r.y=l}}else switch(O.isObject(i)&&(i=-t.scales[i.scale](i.value)),a){case"left":r.x=-i,r.y=0;break;case"right":r.x=o+i,r.y=0;break;case"bottom":r.x=0,r.y=s+i;break;case"top":r.x=0,r.y=-i;break;default:r.x=0,r.y=0}n&&n.interpolate(e,r)}function b(){return{type:"rule",interactive:!1,key:"data",properties:{enter:{stroke:{value:O.config.axis.tickColor},strokeWidth:{value:O.config.axis.tickWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function x(){return{type:"text",interactive:!0,key:"data",properties:{enter:{fill:{value:O.config.axis.tickLabelColor},font:{value:O.config.axis.tickLabelFont},fontSize:{value:O.config.axis.tickLabelFontSize},opacity:{value:1e-6},text:{field:"label"}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function w(){return{type:"text",interactive:!0,properties:{enter:{font:{value:O.config.axis.titleFont},fontSize:{value:O.config.axis.titleFontSize},fontWeight:{value:O.config.axis.titleFontWeight},fill:{value:O.config.axis.titleColor},align:{value:"center"},baseline:{value:"middle"},text:{field:"data"}},update:{}}}}function $(){return{type:"path",interactive:!1,properties:{enter:{x:{value:.5},y:{value:.5},stroke:{value:O.config.axis.axisColor},strokeWidth:{value:O.config.axis.axisWidth}},update:{}}}}function k(e,t,n){var r,i=n?{}:e,a=e.mark.def.offset,o=e.mark.def.orient,s=2*e.mark.def.padding,u=~~e.bounds.width()+(e.width?0:s),l=~~e.bounds.height()+(e.height?0:s);switch(i.x=.5,i.y=.5,i.width=u,i.height=l,!n&&t.bounds&&(t.bounds.delta=t.bounds.x2-t.width),o){case"left":r=t.bounds?t.bounds.x1:0,i.x+=r-a-u;break;case"right":r=t.width,t.bounds&&(r=n?t.width+t.bounds.delta:t.bounds.x2),i.x+=r+a}n&&n.interpolate(e,i),e.mark.def.properties.enter(e,t,n)}function _(e,t,n,r,i){var a=e.properties.enter,o=e.properties.update;t&&(a.size=o.size={scale:t.scaleName,field:"data"}),n&&(a.shape=o.shape={scale:n.scaleName,field:"data"}),r&&(a.fill=o.fill={scale:r.scaleName,field:"data"}),i&&(a.stroke=o.stroke={scale:i.scaleName,field:"data"})}function S(){var e=O.config.legend;return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{value:0},y:{value:0},fill:{value:e.titleColor},font:{value:e.titleFont},fontSize:{value:e.titleFontSize},fontWeight:{value:e.titleFontWeight},baseline:{value:"top"},text:{field:"data"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function E(){var e=O.config.legend;return{type:"symbol",interactive:!1,key:"data",properties:{enter:{x:{field:"offset",mult:.5},y:{scale:"legend",field:"index"},shape:{value:e.symbolShape},size:{value:e.symbolSize},stroke:{value:e.symbolColor},strokeWidth:{value:e.symbolStrokeWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{field:"offset",mult:.5},y:{scale:"legend",field:"index"},opacity:{value:1}}}}}function C(){var e=O.config.legend;return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{field:"offset",offset:5},y:{scale:"legend",field:"index"},fill:{value:e.labelColor},font:{value:e.labelFont},fontSize:{value:e.labelFontSize},align:{value:e.labelAlign},baseline:{value:e.labelBaseline},text:{field:"label"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1},x:{field:"offset",offset:5},y:{scale:"legend",field:"index"}}}}}function M(){var e=O.config.legend;return{type:"rect",interactive:!1,properties:{enter:{x:{value:0},y:{value:0},width:{value:e.gradientWidth},height:{value:e.gradientHeight},stroke:{value:e.gradientStrokeColor},strokeWidth:{value:e.gradientStrokeWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{value:0},y:{value:0},opacity:{value:1}}}}}function T(){var e=O.config.legend;return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{scale:"legend",field:"data"},y:{value:20},dy:{value:2},fill:{value:e.labelColor},font:{value:e.labelFont},fontSize:{value:e.labelFontSize},align:{field:"align"},baseline:{value:"top"},text:{field:"label"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{scale:"legend",field:"data"},y:{value:20},opacity:{value:1}}}}}var O={version:"1.5.4",d3:e,topojson:t},A=Object.prototype.toString;O.isObject=function(e){return e===Object(e)},O.isFunction=function(e){return"[object Function]"==A.call(e)},O.isString=function(e){return"[object String]"==A.call(e)},O.isArray=Array.isArray||function(e){return"[object Array]"==A.call(e)},O.isNumber=function(e){return"[object Number]"==A.call(e)},O.isBoolean=function(e){return"[object Boolean]"==A.call(e)},O.isTree=function(e){return e&&e.__vgtree__},O.tree=function(e,t){var n=[e];return n.__vgtree__=!0,n.children=t||"children",n},O.number=function(e){return null===e?null:+e},O["boolean"]=function(e){return null===e?null:!!e},O.date=function(e){return null===e?null:Date.parse(e)},O.startsWith=String.prototype.startsWith?function(e,t){return e.startsWith(t)}:function(e,t){return 0===e.lastIndexOf(t,0)},O.identity=function(e){return e},O["true"]=function(){return!0},O.extend=function(e){for(var t,n,r=1,i=arguments.length;i>r;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e},O.duplicate=function(e){return JSON.parse(JSON.stringify(e))},O.field=function(e){return e.split("\\.").map(function(e){return e.split(".")}).reduce(function(e,t){return e.length&&(e[e.length-1]+="."+t.shift()),e.push.apply(e,t),e},[])},O.accessor=function(e){var t;return O.isFunction(e)||null==e?e:O.isString(e)&&(t=O.field(e)).length>1?function(e){return t.reduce(function(e,t){return e[t]},e)}:function(t){return t[e]}},O.mutator=function(e){var t;return O.isString(e)&&(t=O.field(e)).length>1?function(e,n){for(var r=0;r<t.length-1;++r)e=e[t[r]];e[t[r]]=n}:function(t,n){t[e]=n}},O.comparator=function(e){var t=[];return void 0===e&&(e=[]),e=O.array(e).map(function(e){var n=1;return"-"===e[0]?(n=-1,e=e.slice(1)):"+"===e[0]&&(n=1,e=e.slice(1)),t.push(n),O.accessor(e)}),function(n,r){var i,a,o,s,u;for(i=0,a=e.length;a>i;++i){if(o=e[i],s=o(n),u=o(r),u>s)return-1*t[i];if(s>u)return t[i]}return 0}},O.cmp=function(e,t){return t>e?-1:e>t?1:e>=t?0:null===e&&null===t?0:null===e?-1:null===t?1:0/0},O.numcmp=function(e,t){return e-t},O.array=function(e){return null!=e?O.isArray(e)?e:[e]:[]},O.values=function(e){return O.isObject(e)&&!O.isArray(e)&&e.values?e.values:e},O.str=function(e){return O.isArray(e)?"["+e.map(O.str)+"]":O.isObject(e)?JSON.stringify(e):O.isString(e)?"'"+n(e)+"'":e};var N=/(^|[^\\])'/g;O.keystr=function(e){return e.join("|")},O.keys=function(e){var t=[];for(var n in e)t.push(n);return t},O.toMap=function(e){return e.reduce(function(e,t){return e[t]=1,e},{})},O.unique=function(e,t,n){if(!O.isArray(e)||0===e.length)return[];t=t||O.identity,n=n||[];for(var r,i={},a=0,o=e.length;o>a;++a)r=t(e[a]),r in i||(i[r]=!0,n.push(r));return n},O.minIndex=function(e,t){if(!O.isArray(e)||0==e.length)return-1;t=t||O.identity;for(var n=0,r=t(e[0]),i=r,a=1,o=e.length;o>a;++a)i=t(e[a]),r>i&&(r=i,n=a);return n},O.maxIndex=function(e,t){if(!O.isArray(e)||0==e.length)return-1;t=t||O.identity;for(var n=0,r=t(e[0]),i=r,a=1,o=e.length;o>a;++a)i=t(e[a]),i>r&&(r=i,n=a);return n},O.bins=function(e){e=e||{};var t,n,i,a,o=e.maxbins||1024,s=e.base||10,u=e.div||[5,2],l=e.minstep||0,c=Math.log(s),f=Math.ceil(Math.log(o)/c),d=e.min,h=e.max,p=h-d,g=Math.max(l,Math.pow(s,Math.round(Math.log(p)/c)-f)),m=Math.ceil(p/g);if(null!=e.step)g=e.step;else if(e.steps)g=e.steps[Math.min(e.steps.length-1,r(e.steps,p/o,0,e.steps.length))];else{do g*=s,m=Math.ceil(p/g);while(m>o);for(i=0;i<u.length;++i)n=g/u[i],n>=l&&o>=p/n&&(g=n,m=Math.ceil(p/g))}return n=Math.log(g),t=n>=0?0:~~(-n/c)+1,a=(0>d?-1:1)*Math.pow(s,-t-1),d=Math.min(d,Math.floor(d/g+a)*g),h=Math.ceil(h/g)*g,{start:d,stop:h,step:g,unit:t}},O.truncate=function(e,t,n,r,i){var o=e.length;if(t>=o)return e;i=i||"...";var s=Math.max(0,t-i.length);switch(n){case"left":return i+(r?a(e,s,1):e.slice(o-s));case"middle":case"center":var u=Math.ceil(s/2),l=Math.floor(s/2);return(r?a(e,u):e.slice(0,u))+i+(r?a(e,l,1):e.slice(o-l));default:return(r?a(e,s):e.slice(0,s))+i}};var D=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/;O.log=function(e){o("[Vega Log] "+e)},O.error=function(e){s("[Vega Err] "+e)},O.config={},O.config.isNode=!1,O.config.domainWhiteList=!1,O.config.dataHeaders=!1,O.config.safeMode=!1,O.config.baseURL="",O.config.defaultProtocol="http:",O.config.svgNamespace='version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"',O.config.autopadInset=5,O.config.scale={time:e.time.scale,utc:e.time.scale.utc},O.config.render={lineWidth:1,lineCap:"butt",font:"sans-serif",fontSize:11},O.config.axis={orient:"bottom",ticks:10,padding:3,axisColor:"#000",gridColor:"#d8d8d8",tickColor:"#000",tickLabelColor:"#000",axisWidth:1,tickWidth:1,tickSize:6,tickLabelFontSize:11,tickLabelFont:"sans-serif",titleColor:"#000",titleFont:"sans-serif",titleFontSize:11,titleFontWeight:"bold",titleOffset:35},O.config.legend={orient:"right",offset:10,padding:3,gradientStrokeColor:"#888",gradientStrokeWidth:1,gradientHeight:16,gradientWidth:100,labelColor:"#000",labelFontSize:10,labelFont:"sans-serif",labelAlign:"left",labelBaseline:"middle",labelOffset:8,symbolShape:"circle",symbolSize:50,symbolColor:"#888",symbolStrokeWidth:1,titleColor:"#000",titleFont:"sans-serif",titleFontSize:11,titleFontWeight:"bold"},O.config.color={rgb:[128,128,128],lab:[50,0,0],hcl:[0,0,50],hsl:[0,0,.5]},O.config.range={category10:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],category20:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],shapes:["circle","cross","diamond","square","triangle-down","triangle-up"]},O.Bounds=function(){var e=function(e){this.clear(),e&&this.union(e)},t=e.prototype;return t.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},t.set=function(e,t,n,r){return this.x1=e,this.y1=t,this.x2=n,this.y2=r,this},t.add=function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},t.expand=function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},t.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},t.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},t.rotate=function(e,t,n){var r=Math.cos(e),i=Math.sin(e),a=t-t*r+n*i,o=n-t*i-n*r,s=this.x1,u=this.x2,l=this.y1,c=this.y2;return this.clear().add(r*s-i*l+a,i*s+r*l+o).add(r*s-i*c+a,i*s+r*c+o).add(r*u-i*l+a,i*u+r*l+o).add(r*u-i*c+a,i*u+r*c+o)},t.union=function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},t.encloses=function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},t.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},t.contains=function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},t.width=function(){return this.x2-this.x1},t.height=function(){return this.y2-this.y1},e}(),O.Gradient=function(){function e(e){this.id="grad_"+L++,this.type=e||"linear",this.stops=[],this.x1=0,this.x2=1,this.y1=0,this.y2=0}var t=e.prototype;return t.stop=function(e,t){return this.stops.push({offset:e,color:t}),this},e}();var L=0;O.canvas={},O.canvas.path=function(){function t(e){var t,n,r,i=[];e=e.slice().replace(d[0],"###$1").split(d[1]).slice(1);for(var a,o,s=0,u=e.length;u>s;s++){t=e[s],n=t.slice(1).trim().replace(d[2],"$1###-").split(d[3]),o=[t.charAt(0)];for(var a=0,l=n.length;l>a;a++)r=parseFloat(n[a]),isNaN(r)||o.push(r);var c=o[0].toLowerCase(),h=f[c];if(o.length-1>h)for(var p=1,g=o.length;g>p;p+=h)i.push([o[0]].concat(o.slice(p,p+h)));else i.push(o)}return i}function n(e,t,n,r,o,s,u){for(var l=r[0],c=r[1],f=r[2],d=r[3],h=r[4],p=r[5],g=r[6],m=i(p,g,l,c,d,h,f,t,n),v=0;v<m.length;v++){var y=a.apply(null,m[v]);e.bezierCurveTo.apply(e,y),o.add(y[0]-s,y[1]-u),o.add(y[2]-s,y[3]-u),o.add(y[4]-s,y[5]-u)}}function r(e,t,n,r){for(var o=n[0],s=n[1],u=n[2],l=n[3],c=n[4],f=n[5],d=n[6],h=i(f,d,o,s,l,c,u,e,t),p=0;p<h.length;p++){var g=a.apply(null,h[p]);r.add(g[0],g[1]),r.add(g[2],g[3]),r.add(g[4],g[5])}}function i(e,t,n,r,i,a,o,s,u){if(c=g.call(arguments),h[c])return h[c];var l=o*(Math.PI/180),f=Math.sin(l),d=Math.cos(l);n=Math.abs(n),r=Math.abs(r);var p=d*(s-e)*.5+f*(u-t)*.5,m=d*(u-t)*.5-f*(s-e)*.5,v=p*p/(n*n)+m*m/(r*r);v>1&&(v=Math.sqrt(v),n*=v,r*=v);var y=d/n,b=f/n,x=-f/r,w=d/r,$=y*s+b*u,k=x*s+w*u,_=y*e+b*t,S=x*e+w*t,E=(_-$)*(_-$)+(S-k)*(S-k),C=1/E-.25;0>C&&(C=0);var M=Math.sqrt(C);a==i&&(M=-M);var T=.5*($+_)-M*(S-k),O=.5*(k+S)+M*(_-$),A=Math.atan2(k-O,$-T),N=Math.atan2(S-O,_-T),D=N-A;0>D&&1==a?D+=2*Math.PI:D>0&&0==a&&(D-=2*Math.PI);for(var L=Math.ceil(Math.abs(D/(.5*Math.PI+.001))),I=[],R=0;L>R;R++){var P=A+R*D/L,j=A+(R+1)*D/L;I[R]=[T,O,P,j,n,r,f,d]}return h[c]=I}function a(e,t,n,r,i,a,o,s){if(c=g.call(arguments),p[c])return p[c];var u=s*i,l=-o*a,f=o*i,d=s*a,h=Math.cos(n),m=Math.sin(n),v=Math.cos(r),y=Math.sin(r),b=.5*(r-n),x=Math.sin(.5*b),w=8/3*x*x/Math.sin(b),$=e+h-w*m,k=t+m+w*h,_=e+v,S=t+y,E=_+w*y,C=S-w*v;return p[c]=[u*$+l*k,f*$+d*k,u*E+l*C,f*E+d*C,u*_+l*S,f*_+d*S]}function o(e,t,r,i){var a,o,s,u,l,c=null,f=0,d=0,h=0,p=0,g=new O.Bounds;void 0==r&&(r=0),void 0==i&&(i=0),e.beginPath();for(var m=0,v=t.length;v>m;++m){switch(a=t[m],a[0]){case"l":f+=a[1],d+=a[2],e.lineTo(f+r,d+i),g.add(f,d);break;case"L":f=a[1],d=a[2],e.lineTo(f+r,d+i),g.add(f,d);break;case"h":f+=a[1],e.lineTo(f+r,d+i),g.add(f,d);break;case"H":f=a[1],e.lineTo(f+r,d+i),g.add(f,d);break;case"v":d+=a[1],e.lineTo(f+r,d+i),g.add(f,d);break;case"V":d=a[1],e.lineTo(f+r,d+i),g.add(f,d);break;case"m":f+=a[1],d+=a[2],e.moveTo(f+r,d+i),g.add(f,d);break;case"M":f=a[1],d=a[2],e.moveTo(f+r,d+i),g.add(f,d);break;case"c":o=f+a[5],s=d+a[6],h=f+a[3],p=d+a[4],e.bezierCurveTo(f+a[1]+r,d+a[2]+i,h+r,p+i,o+r,s+i),g.add(f+a[1],d+a[2]),g.add(h,p),g.add(o,s),f=o,d=s;break;case"C":f=a[5],d=a[6],h=a[3],p=a[4],e.bezierCurveTo(a[1]+r,a[2]+i,h+r,p+i,f+r,d+i),g.add(a[1],a[2]),g.add(h,p),g.add(f,d);break;case"s":o=f+a[3],s=d+a[4],h=2*f-h,p=2*d-p,e.bezierCurveTo(h+r,p+i,f+a[1]+r,d+a[2]+i,o+r,s+i),g.add(h,p),g.add(f+a[1],d+a[2]),g.add(o,s),h=f+a[1],p=d+a[2],f=o,d=s;break;case"S":o=a[3],s=a[4],h=2*f-h,p=2*d-p,e.bezierCurveTo(h+r,p+i,a[1]+r,a[2]+i,o+r,s+i),f=o,d=s,g.add(a[1],a[2]),g.add(h,p),g.add(o,s),h=a[1],p=a[2];break;case"q":o=f+a[3],s=d+a[4],h=f+a[1],p=d+a[2],e.quadraticCurveTo(h+r,p+i,o+r,s+i),f=o,d=s,g.add(h,p),g.add(o,s);break;case"Q":o=a[3],s=a[4],e.quadraticCurveTo(a[1]+r,a[2]+i,o+r,s+i),f=o,d=s,h=a[1],p=a[2],g.add(h,p),g.add(o,s);break;case"t":o=f+a[1],s=d+a[2],null===c[0].match(/[QqTt]/)?(h=f,p=d):"t"===c[0]?(h=2*f-u,p=2*d-l):"q"===c[0]&&(h=2*f-h,p=2*d-p),u=h,l=p,e.quadraticCurveTo(h+r,p+i,o+r,s+i),f=o,d=s,h=f+a[1],p=d+a[2],g.add(h,p),g.add(o,s);break;case"T":o=a[1],s=a[2],h=2*f-h,p=2*d-p,e.quadraticCurveTo(h+r,p+i,o+r,s+i),f=o,d=s,g.add(h,p),g.add(o,s);break;case"a":n(e,f+r,d+i,[a[1],a[2],a[3],a[4],a[5],a[6]+f+r,a[7]+d+i],g,r,i),f+=a[6],d+=a[7];break;case"A":n(e,f+r,d+i,[a[1],a[2],a[3],a[4],a[5],a[6]+r,a[7]+i],g,r,i),f=a[6],d=a[7];break;case"z":case"Z":e.closePath()}c=a}return g.translate(r,i)}function s(e,t){for(var n,i,a,o,s,u=null,l=0,c=0,f=0,d=0,h=0,p=e.length;p>h;++h){switch(n=e[h],n[0]){case"l":l+=n[1],c+=n[2],t.add(l,c);break;case"L":l=n[1],c=n[2],t.add(l,c);break;case"h":l+=n[1],t.add(l,c);break;case"H":l=n[1],t.add(l,c);break;case"v":c+=n[1],t.add(l,c);break;case"V":c=n[1],t.add(l,c);break;case"m":l+=n[1],c+=n[2],t.add(l,c);break;case"M":l=n[1],c=n[2],t.add(l,c);break;case"c":i=l+n[5],a=c+n[6],f=l+n[3],d=c+n[4],t.add(l+n[1],c+n[2]),t.add(f,d),t.add(i,a),l=i,c=a;break;case"C":l=n[5],c=n[6],f=n[3],d=n[4],t.add(n[1],n[2]),t.add(f,d),t.add(l,c);break;case"s":i=l+n[3],a=c+n[4],f=2*l-f,d=2*c-d,t.add(f,d),t.add(l+n[1],c+n[2]),t.add(i,a),f=l+n[1],d=c+n[2],l=i,c=a;break;case"S":i=n[3],a=n[4],f=2*l-f,d=2*c-d,l=i,c=a,t.add(n[1],n[2]),t.add(f,d),t.add(i,a),f=n[1],d=n[2];break;case"q":i=l+n[3],a=c+n[4],f=l+n[1],d=c+n[2],l=i,c=a,t.add(f,d),t.add(i,a);break;case"Q":i=n[3],a=n[4],l=i,c=a,f=n[1],d=n[2],t.add(f,d),t.add(i,a);break;case"t":i=l+n[1],a=c+n[2],null===u[0].match(/[QqTt]/)?(f=l,d=c):"t"===u[0]?(f=2*l-o,d=2*c-s):"q"===u[0]&&(f=2*l-f,d=2*c-d),o=f,s=d,l=i,c=a,f=l+n[1],d=c+n[2],t.add(f,d),t.add(i,a);break;case"T":i=n[1],a=n[2],f=2*l-f,d=2*c-d,l=i,c=a,t.add(f,d),t.add(i,a);break;case"a":r(l,c,[n[1],n[2],n[3],n[4],n[5],n[6]+l,n[7]+c],t),l+=n[6],c+=n[7];break;case"A":r(l,c,[n[1],n[2],n[3],n[4],n[5],n[6],n[7]],t),l=n[6],c=n[7];break;case"z":case"Z":}u=n}return t}function u(t){var n,r=t[0];return n="horizontal"===r.orient?e.svg.area().y(function(e){return e.y}).x0(function(e){return e.x}).x1(function(e){return e.x+e.width}):e.svg.area().x(function(e){return e.x}).y1(function(e){return e.y}).y0(function(e){return e.y+e.height}),r.interpolate&&n.interpolate(r.interpolate),null!=r.tension&&n.tension(r.tension),n(t)}function l(t){var n=t[0],r=e.svg.line().x(function(e){return e.x}).y(function(e){return e.y});return n.interpolate&&r.interpolate(n.interpolate),null!=n.tension&&r.tension(n.tension),r(t)}var c,f={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},d=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)-/g,/\s|,|###/],h={},p={},g=Array.prototype.join;return{parse:t,render:o,bounds:s,area:u,line:l}}(),O.canvas.marks=function(){function e(e,t){var n=t.x||0,r=t.y||0,i=t.innerRadius||0,a=t.outerRadius||0,o=(t.startAngle||0)-Math.PI/2,s=(t.endAngle||0)-Math.PI/2;e.beginPath(),0===i?e.moveTo(n,r):e.arc(n,r,i,o,s,0),e.arc(n,r,a,s,o,1),e.closePath()}function t(e,t){var n=t[0],r=n.mark,i=r.pathCache||(r.pathCache=_(O.canvas.path.area(t)));S(e,i)}function n(e,t){var n=t[0],r=n.mark,i=r.pathCache||(r.pathCache=_(O.canvas.path.line(t)));S(e,i)}function r(e,t){if(null!=t.path){var n=t.pathCache||(t.pathCache=_(t.path));return S(e,n,t.x,t.y)}}function i(e,t){e.beginPath();var n,r,i,a,o=null!=t.size?t.size:100,s=t.x,u=t.y;if(null==t.shape||"circle"===t.shape)return n=Math.sqrt(o/Math.PI),e.arc(s,u,n,0,2*Math.PI,0),void e.closePath();switch(t.shape){case"cross":n=Math.sqrt(o/5)/2,r=3*n,e.moveTo(s-r,u-n),e.lineTo(s-n,u-n),e.lineTo(s-n,u-r),e.lineTo(s+n,u-r),e.lineTo(s+n,u-n),e.lineTo(s+r,u-n),e.lineTo(s+r,u+n),e.lineTo(s+n,u+n),
e.lineTo(s+n,u+r),e.lineTo(s-n,u+r),e.lineTo(s-n,u+n),e.lineTo(s-r,u+n);break;case"diamond":a=Math.sqrt(o/(2*C)),i=a*C,e.moveTo(s,u-a),e.lineTo(s+i,u),e.lineTo(s,u+a),e.lineTo(s-i,u);break;case"square":r=Math.sqrt(o),n=r/2,e.rect(s-n,u-n,r,r);break;case"triangle-down":i=Math.sqrt(o/E),a=i*E/2,e.moveTo(s,u+a),e.lineTo(s+i,u-a),e.lineTo(s-i,u-a);break;case"triangle-up":i=Math.sqrt(o/E),a=i*E/2,e.moveTo(s,u-a),e.lineTo(s+i,u+a),e.lineTo(s-i,u+a)}e.closePath()}function a(e,t){var r=t[0],i=r.strokeWidth,a=r.strokeCap;e.lineWidth=null!=i?i:O.config.render.lineWidth,e.lineCap=null!=a?a:O.config.render.lineCap,n(e,t)}function o(e,t){var n=t.x||0,r=t.y||0,i=null!=t.x2?t.x2:n,a=null!=t.y2?t.y2:r,o=t.strokeWidth,s=t.strokeCap;e.lineWidth=null!=o?o:O.config.render.lineWidth,e.lineCap=null!=s?s:O.config.render.lineCap,e.beginPath(),e.moveTo(n,r),e.lineTo(i,a)}function s(e,t,n,r){var i,a,o,s=n.fill,u=n.stroke;e(t,r),i=null==n.opacity?1:n.opacity,0!=i&&(s||u)&&(s&&(t.globalAlpha=i*(null==n.fillOpacity?1:n.fillOpacity),t.fillStyle=m(t,n,s),t.fill()),u&&(o=null!=(o=n.strokeWidth)?o:O.config.render.lineWidth,o>0&&(t.globalAlpha=i*(null==n.strokeOpacity?1:n.strokeOpacity),t.strokeStyle=m(t,n,u),t.lineWidth=o,t.lineCap=null!=(a=n.strokeCap)?a:O.config.render.lineCap,t.vgLineDash(n.strokeDash||null),t.vgLineDashOffset(n.strokeDashOffset||0),t.stroke())))}function u(e,t,n,r){var i,a,o;for(i=0,a=n.items.length;a>i;++i)o=n.items[i],(!r||r.intersects(o.bounds))&&s(e,t,o,o)}function l(e,t,n){if(t.items.length)for(var r,i,a,o,s,u,l,c,f,d,h=t.items,p=0,g=h.length;g>p;++p)r=h[p],(!n||n.intersects(r.bounds))&&(l=r.x||0,c=r.y||0,f=r.width||0,d=r.height||0,o=null==r.opacity?1:r.opacity,0!=o&&((i=r.fill)&&(e.globalAlpha=o*(null==r.fillOpacity?1:r.fillOpacity),e.fillStyle=m(e,r,i),e.fillRect(l,c,f,d)),(a=r.stroke)&&(u=null!=(u=r.strokeWidth)?u:O.config.render.lineWidth,u>0&&(e.globalAlpha=o*(null==r.strokeOpacity?1:r.strokeOpacity),e.strokeStyle=m(e,r,a),e.lineWidth=u,e.lineCap=null!=(s=r.strokeCap)?s:O.config.render.lineCap,e.vgLineDash(r.strokeDash||null),e.vgLineDashOffset(r.strokeDashOffset||0),e.strokeRect(l,c,f,d)))))}function c(e,t,n){if(t.items.length)for(var r,i,a,o,s,u,l,c,f,d=t.items,h=0,p=d.length;p>h;++h)r=d[h],(!n||n.intersects(r.bounds))&&(u=r.x||0,l=r.y||0,c=null!=r.x2?r.x2:u,f=null!=r.y2?r.y2:l,a=null==r.opacity?1:r.opacity,0!=a&&(i=r.stroke)&&(s=null!=(s=r.strokeWidth)?s:O.config.render.lineWidth,s>0&&(e.globalAlpha=a*(null==r.strokeOpacity?1:r.strokeOpacity),e.strokeStyle=m(e,r,i),e.lineWidth=s,e.lineCap=null!=(o=r.strokeCap)?o:O.config.render.lineCap,e.vgLineDash(r.strokeDash||null),e.vgLineDashOffset(r.strokeDashOffset||0),e.beginPath(),e.moveTo(u,l),e.lineTo(c,f),e.stroke())))}function f(e,t,n){if(t.items.length)for(var r,i=this,a=t.items,o=0,s=a.length;s>o;++o)if(r=a[o],!n||n.intersects(r.bounds)){r.image&&r.image.url===r.url||(r.image=i.loadImage(r.url),r.image.url=r.url);var u,l,c,f,d;c=r.width||r.image&&r.image.width||0,f=r.height||r.image&&r.image.height||0,u=(r.x||0)-("center"===r.align?c/2:"right"===r.align?c:0),l=(r.y||0)-("middle"===r.baseline?f/2:"bottom"===r.baseline?f:0),r.image.loaded&&(e.globalAlpha=null!=(d=r.opacity)?d:1,e.drawImage(r.image,u,l,c,f))}}function d(e,t,n){if(t.items.length)for(var r,i,a,o,s,u,l,c,f,d=t.items,h=0,p=d.length;p>h;++h)r=d[h],(!n||n.intersects(r.bounds))&&(e.font=O.scene.fontString(r),e.textAlign=r.align||"left",e.textBaseline=r.baseline||"alphabetic",o=null==r.opacity?1:r.opacity,0!=o&&(u=r.x||0,l=r.y||0,(c=r.radius)&&(f=(r.theta||0)-Math.PI/2,u+=c*Math.cos(f),l+=c*Math.sin(f)),r.angle?(e.save(),e.translate(u,l),e.rotate(r.angle*Math.PI/180),u=r.dx||0,l=r.dy||0):(u+=r.dx||0,l+=r.dy||0),(i=r.fill)&&(e.globalAlpha=o*(null==r.fillOpacity?1:r.fillOpacity),e.fillStyle=m(e,r,i),e.fillText(r.text,u,l)),(a=r.stroke)&&(s=null!=(s=r.strokeWidth)?s:1,s>0&&(e.globalAlpha=o*(null==r.strokeOpacity?1:r.strokeOpacity),e.strokeStyle=m(r,a),e.lineWidth=s,e.strokeText(r.text,u,l))),r.angle&&e.restore()))}function h(e){return function(t,n,r){u(e,t,n,r)}}function p(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.items[0].bounds))&&s(e,t,n.items[0],n.items)}}function g(e,t,n){if(t.items.length){var r,i,a,o,s,u,c,f,d,h=t.items,p=this;for(l(e,t,n),u=0,c=h.length;c>u;++u){for(r=h[u],i=r.axisItems||[],a=r.legendItems||[],o=r.x||0,s=r.y||0,e.save(),e.translate(o,s),r.clip&&(e.beginPath(),e.rect(0,0,r.width||0,r.height||0),e.clip()),n&&n.translate(-o,-s),f=0,d=i.length;d>f;++f)"back"===i[f].def.layer&&p.draw(e,i[f],n);for(f=0,d=r.items.length;d>f;++f)p.draw(e,r.items[f],n);for(f=0,d=i.length;d>f;++f)"back"!==i[f].def.layer&&p.draw(e,i[f],n);for(f=0,d=a.length;d>f;++f)p.draw(e,a[f],n);n&&n.translate(o,s),e.restore()}}}function m(e,t,n){return n.id?v(e,n,t.bounds):n}function v(e,t,n){var r,i,a=n.width(),o=n.height(),s=n.x1+t.x1*a,u=n.y1+t.y1*o,l=n.x1+t.x2*a,c=n.y1+t.y2*o,f=e.createLinearGradient(s,u,l,c),d=t.stops;for(r=0,i=d.length;i>r;++r)f.addColorStop(d[r].offset,d[r].color);return f}function y(e,t,n,r,i,a){if(0===t.items.length||t.bounds&&!t.bounds.contains(i,a))return!1;var o,s,u,l,c,f,d,h=t.items,p=this;for(f=h.length;--f>=0;){for(s=h[f],l=s.x||0,c=s.y||0,e.save(),e.translate(l,c),d=s.items.length;--d>=0;)if(o=s.items[d],o.interactive!==!1&&(u=p.pick(o,n,r,i-l,a-c)))return e.restore(),u;e.restore()}return t.interactive?b(T.group,e,t,n,r,i,a):!1}function b(e,t,n,r,i,a,o){if(!n.items.length)return!1;var s,u,l;for(1!==t._ratio&&(r*=t._ratio,i*=t._ratio),l=n.items.length;--l>=0;)if(s=n.items[l],u=s.bounds,(!u||u.contains(a,o))&&u&&e(t,s,r,i,a,o))return s;return!1}function x(e,t,n,r,i,a){if(!t.items.length)return!1;var o,s=t.items;return o=s[0].bounds,o&&!o.contains(i,a)?!1:(1!==e._ratio&&(n*=e._ratio,r*=e._ratio),T.area(e,s,n,r)?s[0]:!1)}function w(e,t,n,r,i,a){if(!t.items.length)return!1;var o,s=t.items;return o=s[0].bounds,o&&!o.contains(i,a)?!1:(1!==e._ratio&&(n*=e._ratio,r*=e._ratio),T.line(e,s,n,r)?s[0]:!1)}function $(e){return function(t,n,r,i,a,o){return b(e,t,n,r,i,a,o)}}function k(e,t,n,r,i,a){if(!t.fontSize)return!1;if(!t.angle)return!0;var o=O.scene.bounds.text(t,M,!0),s=-t.angle*Math.PI/180,u=Math.cos(s),l=Math.sin(s),n=t.x,r=t.y,c=u*i-l*a+(n-n*u+r*l),f=l*i+u*a+(r-n*l-r*u);return o.contains(c,f)}var _=O.canvas.path.parse,S=O.canvas.path.render,E=(Math.PI/2,Math.sqrt(3)),C=Math.tan(30*Math.PI/180),M=new O.Bounds,T={text:k,rect:function(e,t,n,r){return!0},image:function(e,t,n,r){return!0},group:function(e,t,n,r){return t.fill||t.stroke},rule:function(e,t,n,r){return e.isPointInStroke?(o(e,t),e.isPointInStroke(n,r)):!1},line:function(e,t,n,r){return e.isPointInStroke?(a(e,t),e.isPointInStroke(n,r)):!1},arc:function(t,n,r,i){return e(t,n),t.isPointInPath(r,i)},area:function(e,n,r,i){return t(e,n),e.isPointInPath(r,i)},path:function(e,t,n,i){return r(e,t),e.isPointInPath(n,i)},symbol:function(e,t,n,r){return i(e,t),e.isPointInPath(n,r)}};return{draw:{group:g,area:p(t),line:p(n),arc:h(e),path:h(r),symbol:h(i),rect:l,rule:c,text:d,image:f,drawOne:p,drawAll:h},pick:{group:y,area:x,line:w,arc:$(T.arc),path:$(T.path),symbol:$(T.symbol),rect:$(T.rect),rule:$(T.rule),text:$(T.text),image:$(T.image),pickAll:b}}}(),O.canvas.Renderer=function(){function t(e,t){var n=window.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,i=n/r;if(n!==r){var a=e.width,o=e.height;e.setAttribute("width",a*i),e.setAttribute("height",o*i),e.style.width=a+"px",e.style.height=o+"px"}return i}function n(e){if(!e.vgLineDash){var t=[];e.setLineDash?(e.vgLineDash=function(e){this.setLineDash(e||t)},e.vgLineDashOffset=function(e){this.lineDashOffset=e}):void 0!==e.webkitLineDash?(e.vgLineDash=function(e){this.webkitLineDash=e||t},e.vgLineDashOffset=function(e){this.webkitLineDashOffset=e}):void 0!==e.mozDash?(e.vgLineDash=function(e){this.mozDash=e},e.vgLineDashOffset=function(e){}):(e.vgLineDash=function(e){},e.vgLineDashOffset=function(e){})}}function r(e,t){for(var n=new O.Bounds(t);null!=(e=e.mark.group);)n.translate(e.x||0,e.y||0);return n}function i(e){return e?O.array(e).reduce(function(e,t){return e.union(r(t,t.bounds)).union(r(t,t["bounds:prev"]))},new O.Bounds):null}function a(e,t){var n=null;return t&&(n=new O.Bounds(t).round(),e.beginPath(),e.rect(n.x1,n.y1,n.width(),n.height()),e.clip()),n}var o=function(){this._ctx=null,this._el=null,this._bgcolor=null,this._imgload=0},s=o.prototype;return s.initialize=function(t,n,r,i,a){if(this._el=t,this.background(a),!t)return this;var o=e.select(t).selectAll("canvas.marks").data([1]);return o.enter().append("canvas").attr("class","marks"),o.exit().remove(),this.resize(n,r,i)},s.background=function(e){return this._bgcolor=e,this},s.resize=function(r,i,a){if(this._width=r,this._height=i,this._padding=a,this._el){var o=e.select(this._el).select("canvas.marks");o.attr("width",r+a.left+a.right).attr("height",i+a.top+a.bottom);var s;this._ctx=o.node().getContext("2d"),this._ctx._ratio=s=t(o.node(),this._ctx)||1,this._ctx.setTransform(s,0,0,s,s*a.left,s*a.top)}return n(this._ctx),this},s.context=function(e){return e?(this._ctx=e,this):this._ctx},s.element=function(){return this._el},s.pendingImages=function(){return this._imgload},s.render=function(e,t){var n,r=this._ctx,o=this._padding,s=this._width+o.left+o.right,u=this._height+o.top+o.bottom,l=null;this._scene=e,r.save(),l=a(r,i(t)),this.clear(-o.left,-o.top,s,u),this.draw(r,e,l),t&&(r.restore(),r.save(),n=a(r,i(t)),l.encloses(n)||(this.clear(-o.left,-o.top,s,u),this.draw(r,e,n))),r.restore(),this._scene=null},s.draw=function(e,t,n){var r=t.marktype,i=O.canvas.marks.draw[r];i.call(this,e,t,n)},s.clear=function(e,t,n,r){var i=this._ctx;i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))},s.renderAsync=function(e){var t=this;t._async_id&&clearTimeout(t._async_id),t._async_id=setTimeout(function(){t.render(e),delete t._async_id},50)},s.loadImage=function(e){var t,n=this,r=n._scene,i=null;if(O.config.isNode)n._imgload+=1,i=new(require("canvas").Image),O.data.load(e,function(t,r){return n._imgload-=1,t?void O.error(t):(O.log("LOAD IMAGE: "+e),i.src=r,void(i.loaded=!0))});else{if(i=new Image,t=O.data.load.sanitizeUrl(e),!t)return;n._imgload+=1,i.onload=function(){O.log("LOAD IMAGE: "+t),i.loaded=!0,n._imgload-=1,n.renderAsync(r)},i.src=t}return i},o}(),O.canvas.Handler=function(){function t(e){var t=e.indexOf(".");return 0>t?e:e.slice(0,t)}var n=function(e,t){this._active=null,this._down=null,this._handlers={},e&&this.initialize(e),t&&this.model(t)},r=n.prototype;r.initialize=function(t,n,a){this._el=e.select(t).node(),this._canvas=e.select(t).select("canvas.marks").node(),this._padding=n,this._obj=a||null;var o=this._canvas,s=this;return i.forEach(function(e){o.addEventListener(e,function(t){r[e].call(s,t)})}),this},r.padding=function(e){return this._padding=e,this},r.model=function(e){return arguments.length?(this._model=e,this):this._model},r.handlers=function(){var e=this._handlers;return O.keys(e).reduce(function(t,n){return e[n].reduce(function(e,t){return e.push(t),e},t)},[])};var i=["mouseup","dblclick","wheel","keydown","keypress","keyup","mousewheel"];return i.forEach(function(e){r[e]=function(t){this.fire(e,t)}}),i.push("mousedown"),i.push("mousemove"),i.push("mouseout"),i.push("click"),r.mousemove=function(e){var t=this._padding,n=e.target.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top,a=this._active,o=this.pick(this._model.scene(),r,i,r-t.left,i-t.top);return o===a?void this.fire("mousemove",e):(a&&this.fire("mouseout",e),this._active=o,void(o&&this.fire("mouseover",e)))},r.mouseout=function(e){this._active&&this.fire("mouseout",e),this._active=null},r.mousedown=function(e){this._down=this._active,this.fire("mousedown",e)},r.click=function(e){this._down===this._active&&(this.fire("click",e),this._down=null)},r.DOMMouseScroll=function(e){this.fire("mousewheel",e)},r.fire=function(e,t){var n=this._active,r=this._handlers[e];if(n&&r)for(var i=0,a=r.length;a>i;++i)r[i].handler.call(this._obj,t,n)},r.on=function(e,n){var r=t(e),i=this._handlers;return i=i[r]||(i[r]=[]),i.push({type:e,handler:n}),this},r.off=function(e,n){var r=t(e),i=this._handlers[r];if(i){for(var a=i.length;--a>=0;)i[a].type===e&&(n&&i[a].handler!==n||i.splice(a,1));return this}},r.context=function(){return this._canvas.getContext("2d")},r.pick=function(e,t,n,r,i){var a=this.context(),o=e.marktype,s=O.canvas.marks.pick[o];return s.call(this,a,e,t,n,r,i)},n}(),O.svg={},O.svg.marks=function(){function t(e){return e.x||0}function n(e){return e.y||0}function r(e){return e.x+e.width||0}function i(e){return e.y+e.height||0}function a(e){return null==e.size?100:e.size}function o(e){return e.shape||"circle"}function s(e){var t,n,r,i,a,o=e.mark?e:e.length?e[0]:null;if(null!==o)for(t=0,n=L.length;n>t;++t)r=L[t],i=D[r],a=o[r],null==a?"fill"===i?this.style.setProperty(i,"none",null):this.style.removeProperty(i):(a.id&&(O.svg._cur._defs.gradient[a.id]=a,a="url("+window.location.href+"#"+a.id+")"),this.style.setProperty(i,a+"",null))}function u(e){var t=e.x||0,n=e.y||0;this.setAttribute("transform","translate("+t+","+n+")"),this.setAttribute("d",_(e))}function l(e){if(e.length){var t=e[0],n="horizontal"===t.orient?E:S;n.interpolate(t.interpolate||"linear").tension(null==t.tension?.7:t.tension),this.setAttribute("d",n(e))}}function c(e){if(e.length){var t=e[0];C.interpolate(t.interpolate||"linear").tension(null==t.tension?.7:t.tension),this.setAttribute("d",C(e))}}function f(e){var t=e.x||0,n=e.y||0;this.setAttribute("transform","translate("+t+","+n+")"),null!=e.path&&this.setAttribute("d",e.path)}function d(e){this.setAttribute("x",e.x||0),this.setAttribute("y",e.y||0),this.setAttribute("width",e.width||0),this.setAttribute("height",e.height||0)}function h(e){var t=e.x||0,n=e.y||0;this.setAttribute("x1",t),this.setAttribute("y1",n),this.setAttribute("x2",null!=e.x2?e.x2:t),this.setAttribute("y2",null!=e.y2?e.y2:n)}function p(e){var t=e.x||0,n=e.y||0;this.setAttribute("transform","translate("+t+","+n+")"),this.setAttribute("d",M(e))}function g(e){var t=e.width||e.image&&e.image.width||0,n=e.height||e.image&&e.image.height||0,r=e.x-("center"===e.align?t/2:"right"===e.align?t:0),i=e.y-("middle"===e.baseline?n/2:"bottom"===e.baseline?n:0),a=O.data.load.sanitizeUrl(e.url);a&&this.setAttributeNS("http://www.w3.org/1999/xlink","href",a),this.setAttribute("x",r),this.setAttribute("y",i),this.setAttribute("width",t),this.setAttribute("height",n)}function m(e){var t=(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+(null!=e.fontSize?e.fontSize:O.config.render.fontSize)+"px "+(e.font||O.config.render.font);return t}function v(e){var t=e.x||0,n=e.y||0,r=e.dx||0,i=e.dy||0,a=e.angle||0,o=e.radius||0,s=N[e.align||"left"],u="top"===e.baseline?".9em":"middle"===e.baseline?".35em":0;if(o){var l=(e.theta||0)-Math.PI/2;t+=o*Math.cos(l),n+=o*Math.sin(l)}this.setAttribute("x",t+r),this.setAttribute("y",n+i),this.setAttribute("text-anchor",s),a?this.setAttribute("transform","rotate("+a+" "+t+","+n+")"):this.removeAttribute("transform"),u?this.setAttribute("dy",u):this.removeAttribute("dy"),this.textContent=e.text,this.style.setProperty("font",m(e),null)}function y(e){var t=e.x||0,n=e.y||0;if(this.setAttribute("transform","translate("+t+","+n+")"),e.clip){var r={width:e.width||0,height:e.height||0},i=e.clip_id||(e.clip_id="clip"+A++);O.svg._cur._defs.clipping[i]=r,this.setAttribute("clip-path","url(#"+i+")")}}function b(e){var t=e.width||0,n=e.height||0;this.setAttribute("width",t),this.setAttribute("height",n)}function x(e){var t="type-"+e.type;return e.name&&(t+=" "+e.name),t}function w(e,t,n){return function(r,i,a){$(r,i,a,e,t,n)}}function $(t,n,r,i,a,o){var u=o?[n.items]:n.items,l=n.interactive===!1?"none":null,c=t.node().childNodes,f="g"!==i,d=(d=c[r+1])?e.select(d):t.append("g").attr("id","g"+ ++T).attr("class",x(n.def)),h=d.attr("id"),p="#"+h+" > "+i,g=d.selectAll(p).data(u),m=g.enter().append(i);return f?(d.style("pointer-events",l),m.each(function(e){e.mark?e._svg=this:e.length&&(e[0]._svg=this)})):m.append("rect").attr("class","background").style("pointer-events",l),g.exit().remove(),g.each(a),f?g.each(s):d.selectAll(p+" > rect.background").each(b).each(s),d}function k(t,n,r){var i,a,o,s=$(t,n,r,"g",y),u=s.node().childNodes,l=u.length;for(i=0;l>i;++i){var c=u[i].__data__.items,f=u[i].__data__.legendItems||[],d=u[i].__data__.axisItems||[],h=e.select(u[i]),p=0;for(a=0,o=d.length;o>a;++a)"back"===d[a].def.layer&&k.call(this,h,d[a],p++);for(a=0,o=c.length;o>a;++a)this.draw(h,c[a],p++);for(a=0,o=d.length;o>a;++a)"back"!==d[a].def.layer&&k.call(this,h,d[a],p++);for(a=0,o=f.length;o>a;++a)k.call(this,h,f[a],p++)}}var _=e.svg.arc(),S=e.svg.area().x(t).y1(n).y0(i),E=e.svg.area().y(n).x0(r).x1(t),C=e.svg.line().x(t).y(n),M=e.svg.symbol().type(o).size(a),T=0,A=0,N={left:"start",center:"middle",right:"end"},D={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity",strokeCap:"stroke-linecap",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",opacity:"opacity"},L=O.keys(D);return{update:{group:d,area:l,line:c,arc:u,path:f,symbol:p,rect:d,rule:h,text:v,image:g},nested:{area:!0,line:!0},style:s,draw:{group:k,area:w("path",l,!0),line:w("path",c,!0),arc:w("path",u),path:w("path",f),symbol:w("path",p),rect:w("rect",d),rule:w("line",h),text:w("text",v),image:w("image",g),draw:w}}}(),O.svg.Renderer=function(){var t=function(){this._svg=null,this._ctx=null,this._el=null,this._defs={gradient:{},clipping:{}}},n=t.prototype;return n.initialize=function(t,n,r,i,a){return this._el=t,e.select(t).select("svg.marks").remove(),this._svg=e.select(t).append("svg").attr("class","marks"),null!=a&&this._svg.style("background-color",a),this._ctx=this._svg.append("g"),this.resize(n,r,i)},n.resize=function(e,t,n){return this._width=e,this._height=t,this._padding=n,this._svg.attr("width",e+n.left+n.right).attr("height",t+n.top+n.bottom),this._ctx.attr("transform","translate("+n.left+","+n.top+")"),this},n.context=function(){return this._ctx},n.element=function(){return this._el},n.updateDefs=function(){var t,n,r=this._svg,i=this._defs,a=O.keys(i.gradient),o=O.keys(i.clipping),s=r.select("defs");return 0===a.length&&0==o.length?void s.remove():(s.empty()&&(s=r.insert("defs",":first-child")),t=s.selectAll("linearGradient").data(a,O.identity),t.enter().append("linearGradient").attr("id",O.identity),t.exit().remove(),t.each(function(t){var n=i.gradient[t],r=e.select(this);r.attr({x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),stop=r.selectAll("stop").data(n.stops),stop.enter().append("stop"),stop.exit().remove(),stop.attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color})}),n=s.selectAll("clipPath").data(o,O.identity),n.enter().append("clipPath").attr("id",O.identity),n.exit().remove(),void n.each(function(t){var n=i.clipping[t],r=e.select(this).selectAll("rect").data([1]);r.enter().append("rect"),r.attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height)}))},n.render=function(e,t){O.svg._cur=this,t?this.renderItems(O.array(t)):this.draw(this._ctx,e,-1),this.updateDefs(),delete O.svg._cur},n.renderItems=function(e){var t,n,r,i,a,o=O.svg.marks;for(i=0,a=e.length;a>i;++i)t=e[i],n=t._svg,r=t.mark.marktype,t=o.nested[r]?t.mark.items:t,o.update[r].call(n,t),o.style.call(n,t)},n.draw=function(e,t,n){var r=t.marktype,i=O.svg.marks.draw[r];i.call(this,e,t,n)},t}(),O.svg.Handler=function(){function t(e){var t=this;return function(n){var r=n.target,i=r.__data__;i&&(i=i.mark?i:i[0],e.call(t._obj,n,i))}}function n(e){var t=e.indexOf(".");return 0>t?e:e.slice(0,t)}var r=function(e,t){this._active=null,this._handlers={},e&&this.initialize(e),t&&this.model(t)},i=r.prototype;return i.initialize=function(t,n,r){return this._el=e.select(t).node(),this._svg=e.select(t).select("svg.marks").node(),this._padding=n,this._obj=r||null,this},i.padding=function(e){return this._padding=e,this},i.model=function(e){return arguments.length?(this._model=e,this):this._model},i.handlers=function(){var e=this._handlers;return O.keys(e).reduce(function(t,n){return e[n].reduce(function(e,t){return e.push(t),e},t)},[])},i.on=function(r,i){var a=n(r),o=this._handlers,s=e.select(this._svg).node(),u={type:r,handler:i,svg:t.call(this,i)};return o=o[a]||(o[a]=[]),o.push(u),s.addEventListener(a,u.svg),this},i.off=function(t,r){var i=n(t),a=this._handlers[i],o=e.select(this._svg).node();if(a){for(var s=a.length;--s>=0;)a[s].type===t&&(r&&a[s].handler!==r||(o.removeEventListener(i,a[s].svg),a.splice(s,1)));return this}},r}(),O.data={},O.data.ingestAll=function(e){return O.isTree(e)?u(O.data.ingestTree(e[0],e.children)):e.map(O.data.ingest)},O.data.ingest=function(e,t){return{data:e,index:t}},O.data.ingestTree=function(e,t,n){var r,i,a=O.data.ingest(e,n||0),o=e[t];if(o&&(r=o.length))for(a.values=Array(r),i=0;r>i;++i)a.values[i]=O.data.ingestTree(o[i],t,i);return a},O.data.mapper=function(e){return function(t){return t.forEach(e),t}},O.data.size=function(e,t){return e=O.isArray(e)?e:[0,e],e=e.map(function(e){return"string"==typeof e?t[e]:e})},O.data.load=function(){function t(e){if(O.config.baseURL&&!o.test(e)&&(O.startsWith(e,"/")||"/"===O.config.baseURL[O.config.baseURL.length-1]||(e="/"+e),e=O.config.baseURL+e),O.config.isNode&&O.startsWith(e,"//")&&(e=O.config.defaultProtocol+e),O.config.domainWhiteList){var t,n;if(O.config.isNode){var r=require("url").parse(e);if(O.config.safeMode&&"http:"!==r.protocol&&"https:"!==r.protocol)return!1;t=r.hostname,n=null}else{var i=document.createElement("a");i.href=e,""==i.host&&(i.href=i.href),t=i.hostname.toLowerCase(),n=window.location.hostname}if(n!==t){var a=O.config.domainWhiteList.some(function(e){var n=t.length-e.length;return e===t||n>1&&"."===t[n-1]&&t.lastIndexOf(e)===n});a||(O.error("URL is not whitelisted: "+e),e=!1)}}return e}function n(e,t){var n=O.data.load.sanitizeUrl(e);n?O.config.isNode?O.startsWith(n,s)?i(n.slice(s.length),t):a(n,t):r(n,t):t("Bad URL",null)}function r(t,n){O.log("LOAD XHR: "+t);var r=e.xhr(t);O.config.dataHeaders&&O.keys(O.config.dataHeaders).forEach(function(e){r.header(e,O.config.dataHeaders[e])}),r.get(function(e,t){t&&(t=t.responseText),n(e,t)})}function i(e,t){O.log("LOAD FILE: "+e),require("fs").readFile(e,t)}function a(e,t){O.log("LOAD HTTP: "+e);var n={url:e,encoding:null,gzip:!0};O.config.dataHeaders&&(n.headers=O.config.dataHeaders),require("request").get(n,function(e,n,r){e||200!==n.statusCode?t(e,null):t(null,r)})}var o=/^([A-Za-z]+:)?\/\//,s="file://";return n.sanitizeUrl=t,n}(),O.data.read=function(){function n(e,t){var n=t&&t.type||"json";return e=a[n](e,t),t&&t.parse&&r(e,t.parse),e}function r(e,t){var n=O.keys(t),r=n.map(function(e){return o[t[e]]}),a=O.isTree(e);i(a?[e]:e,n,r,a)}function i(e,t,n,i){var a,o,s,u,l;for(o=0,u=e.length;u>o;++o){for(a=e[o],s=0,l=t.length;l>s;++s)a[t[s]]=n[s](a[t[s]]);i&&a.values&&r(a,t,n,!0)}}var a={},o={number:O.number,"boolean":O["boolean"],date:O.date};return a.json=function(e,t){var n=O.isObject(e)?e:JSON.parse(e);return t&&t.property&&(n=O.accessor(t.property)(n)),n},a.csv=function(t,n){var r=e.csv.parse(t);return r},a.tsv=function(t,n){var r=e.tsv.parse(t);return r},a.topojson=function(e,n){if(null==t)return O.error("TopoJSON library not loaded."),[];var r=O.isObject(e)?e:JSON.parse(e),i=[];return n&&n.feature?i=(i=r.objects[n.feature])?t.feature(r,i).features:(O.error("Invalid TopoJSON object: "+n.feature),[]):n&&n.mesh?i=(i=r.objects[n.mesh])?[t.mesh(r,r.objects[n.mesh])]:(O.error("Invalid TopoJSON object: "+n.mesh),[]):O.error("Missing TopoJSON feature or mesh parameter."),i},a.treejson=function(e,t){return e=O.isObject(e)?e:JSON.parse(e),O.tree(e,t.children)},n.formats=a,n.parse=r,n}(),O.data.aggregate=function(){function e(e){this.field=e,this.ops=[],this.flags=0,this.count=0}var t=1,n=2,r=4,a=8,o=16,s=32;return e.prototype.clone=function(){var t,n,r=new e(this.field);for(t in this)n=this[t],r[t]=O.isArray(n)?n.slice():n;return r},e.prototype.init=function(e){"sum"===e?(this.flags|=t,this.sum=0):"avg"===e?(this.flags|=n,this.avg=0):"var"===e||"std"===e?(this.flags|=r|n,this.avg=0,this.dev=0):"min"===e?(this.flags|=a,this.min=+(1/0)):"max"===e?(this.flags|=o,this.max=-(1/0)):"median"===e&&(this.flags|=s,this.vals=[]),this.ops.push(e)},e.prototype.update=function(e){var i,u=this,l=u.flags;u.count+=1,l&t&&(u.sum+=e),l&n&&(i=e-u.avg,u.avg+=i/u.count),l&r&&(u.dev+=i*(e-u.avg)),l&a&&(u.min=e<u.min?e:u.min),l&o&&(u.max=e>u.max?e:u.max),l&s&&u.vals.push(e)},e.prototype.value=function(e){switch(e){case"sum":return this.sum;case"avg":return this.avg;case"var":return this.dev/(this.count-1);case"std":return Math.sqrt(this.dev/(this.count-1));case"min":return this.min;case"max":return this.max;case"median":var t=this.vals,n=t.length,r=~~(n/2);return n?n%2?t[r]:.5*(t[r-1]+t[r]):0}},e.prototype.done=function(e){this.vals&&this.vals.sort(O.numcmp);for(var t=this.ops,n=0;n<t.length;++n)"count"===t[n]?e.count=this.count:e[t[n]+"_"+this.field]=this.value(t[n]);return e},function(){function t(e){var t=O.keystr(o.map(function(t){return t(e)}));return l[t]||(l[t]=n(e))}function n(e){var t=a.map(function(e){return e.clone()});for(t.data={},i=0;i<u.length;++i)t.data[u[i]]=o[i](e);return t}function r(e){var n,r,i,a,o;for(r=0;r<e.length;++r)for(a=e[r],o=t(a),i=0;i<o.length;++i)o[i].update(s[i](a));var u=[],c=0;for(n in l){for(o=l[n],r=0;r<o.length;++r)o[r].done(o.data);u.push({index:c++,data:o.data})}return l={},u}var a,o,s,u=[],l={};return r.fields=function(t){var n={};return s=[],a=O.array(t).reduce(function(t,r){var i,a=r.field;return n[a]||(s.push(O.accessor(a)),i=0===a.indexOf("data.")?a.slice(5):a,t.push(n[a]=new e(i))),n[a].init(r.op),t},[]),r},r.groupby=function(e){return u=O.array(e),o=u.map(function(e,t){return 0===e.indexOf("data.")&&(u[t]=e.slice(5)),O.accessor(e)}),r},r}}(),O.data.array=function(){function e(e){return e.map(function(e){for(var n=[],r=0,i=t.length;i>r;++r)n.push(t[r](e));return n})}var t=[];return e.fields=function(n){return t=O.array(n).map(O.accessor),e},e},O.data.bin=function(){function e(e){var t={min:null!=i?i:+(1/0),max:null!=a?a:-(1/0),step:null!=o?o:null,maxbins:s};(null==i||null==a)&&e.forEach(function(e){var r=n(e);null==i&&r>t.max&&(t.max=r),null==a&&r<t.min&&(t.min=r)});var u=O.bins(t);return e.forEach(function(e){var t=n(e);r(e,u.start+u.step*~~((t-u.start)/u.step))}),e}var t,n,r,i,a,o,s=20,u="bin";return e.min=function(t){return i=t,e},e.max=function(t){return a=t,e},e.step=function(t){return o=t,e},e.maxbins=function(t){return s=t,e},e.field=function(r){return t=r,n=O.accessor(r),e},e.output=function(t){return u=t,r=O.mutator(t),e},e},O.data.copy=function(){var e=O.accessor("data"),t=[],n=null,r=O.data.mapper(function(r){var i,a,o=e(r),s=n||t;for(i=0,a=t.length;a>i;++i)r[s[i]]=o[t[i]];return r});return r.from=function(t){return e=O.accessor(t),r},r.fields=function(e){return t=O.array(e),r},r.as=function(e){return n=O.array(e),r},r},O.data.cross=function(){function e(e){var i,a,o,s=[],u=t||e,l=e.length;for(a=0;l>a;++a)for(o=0;l>o;++o)n&&a===o||(i={},i[r.left]=e[a],i[r.right]=u[o],s.push(i));return s}var t=null,n=!1,r={left:"a",right:"b"};return e["with"]=function(n){return t=n,e},e.diagonal=function(t){return n=!t,e},e.output=function(t){return O.keys(r).forEach(function(e){void 0!==t[e]&&(r[e]=t[e])}),e},e},O.data.facet=function(){function e(e){var r,i,a,o,s,u={key:"",keys:[],values:[]},l={},c=u.values;if(0===t.length)return c.push(r={key:"",keys:[],index:0,values:n?e.slice():e}),n&&n(r.values),u;for(s=0,o=e.length;o>s;++s)i=t.map(function(t){return t(e[s])}),a=O.keystr(i),r=l[a],void 0===r&&c.push(r=l[a]={key:a,keys:i,index:c.length,values:[]}),r.values.push(e[s]);if(n)for(s=0,o=c.length;o>s;++s)n(c[s].values);return u}var t=[],n=null;return e.keys=function(n){return t=O.array(n).map(O.accessor),e},e.sort=function(t){return n=O.data.sort().by(t),e},e},O.data.filter=function(){function e(e){return t?e.filter(t):e}var t=null;return e.test=function(n){return t=O.isFunction(n)?n:O.parse.expr(n),e},e},O.data.flatten=function(){function e(e){return t(e,[])}function t(e,n){if(O.isArray(e.values))for(var r=0,i=e.values.length;i>r;++r)t(e.values[r],n);else n.push(e);return n}return e},O.data.fold=function(){function e(e){var i,a,o,s,u=[],l=t.length;for(a=0,s=e.length;s>a;++a)for(i=e[a],o=0;l>o;++o){var c={index:u.length,data:i.data};c[r.key]=t[o],c[r.value]=n[o](i),u.push(c)}return u}var t=[],n=[],r={key:"key",value:"value"};return e.fields=function(r){return t=O.array(r),n=t.map(O.accessor),e},e.output=function(t){return O.keys(r).forEach(function(e){void 0!==t[e]&&(r[e]=t[e])}),e},e},O.data.force=function(){function t(e,t,i){n.size(O.data.size(u,i)).nodes(e),r&&t[r]&&n.links(t[r]),n.start();for(var a=0;s>a;++a)n.tick();return n.stop(),e}var n=e.layout.force(),r=null,i=20,a=1,o=-30,s=500,u=["width","height"],l=["friction","theta","gravity","alpha"];return t.links=function(e){return r=e,t},t.size=function(e){return u=e,t},t.linkDistance=function(e){return i="number"==typeof e?e:O.accessor(e),n.linkDistance(i),t},t.linkStrength=function(e){return a="number"==typeof e?e:O.accessor(e),n.linkStrength(a),t},t.charge=function(e){return o="number"==typeof e?e:O.accessor(e),n.charge(o),t},t.iterations=function(e){return s=e,t},l.forEach(function(e){t[e]=function(r){return n[e](r),t}}),t},O.data.force.dependencies=["links"],O.data.formula=function(){return function(){var e,t=null,n=O.identity,r=O.data.mapper(function(r,i,a){return t&&e(r,n.call(null,r,i,a)),r});return r.field=function(n){return t=n,e=O.mutator(t),r},r.expr=function(e){return n=O.isFunction(e)?e:O.parse.expr(e),r},r}}(),O.data.geo=function(){function t(){var t={},r="mercator",i=e.geo[r](),a=O.identity,o=O.identity,s={x:"x",y:"y"},u=O.data.mapper(function(e){var t=[o(e),a(e)],n=i(t);return e[s.x]=n[0],e[s.y]=n[1],e});return u.func=function(){return i},u.projection=function(n){if(r!==n){r=n,i=e.geo[r]();for(var a in t)i[a](t[a])}return u},n.forEach(function(e){u[e]=function(n){return t[e]=n,i[e](n),u}}),u.lon=function(e){return o=O.accessor(e),u},u.lat=function(e){return a=O.accessor(e),u},u.output=function(e){return O.keys(s).forEach(function(t){void 0!==e[t]&&(s[t]=e[t])}),e},u}var n=["center","scale","translate","rotate","precision","clipAngle"];return t.params=n,t}(),O.data.geopath=function(){var t=e.geo.path().projection(e.geo.mercator()),n="mercator",r=O.identity,i={},a={path:"path"},o=O.data.mapper(function(e){return e[a.path]=t(r(e)),e});return o.projection=function(r){if(n!==r){n=r;var a=e.geo[n]();for(var s in i)a[s](i[s]);t.projection(a)}return o},O.data.geo.params.forEach(function(e){o[e]=function(n){return i[e]=n,t.projection()[e](n),o}}),o.value=function(e){return r=O.accessor(e),o},o.output=function(e){return O.keys(a).forEach(function(t){void 0!==e[t]&&(a[t]=e[t])}),e},o},O.data.link=function(){function e(e){var t=o(e),n=s(e);return"M"+t.x+","+t.y+"L"+n.x+","+n.y}function t(e){var t=o(e),n=s(e),r=n.x-t.x,i=n.y-t.y,a=u*(r+i),l=u*(i-r);return"M"+t.x+","+t.y+"C"+(t.x+a)+","+(t.y+l)+" "+(n.x+l)+","+(n.y-a)+" "+n.x+","+n.y}function n(e){var t=o(e),n=s(e),r=(t.x+n.x)/2;return"M"+t.x+","+t.y+"C"+r+","+t.y+" "+r+","+n.y+" "+n.x+","+n.y}function r(e){var t=o(e),n=s(e),r=(t.y+n.y)/2;return"M"+t.x+","+t.y+"C"+t.x+","+r+" "+n.x+","+r+" "+n.x+","+n.y}function i(e){var t=c[a];return e.forEach(function(e){e[l.path]=t(e)}),e}var a="line",o=O.accessor("source"),s=O.accessor("target"),u=.2,l={path:"path"},c={line:e,curve:t,diagonal:n,diagonalX:n,diagonalY:r};return i.shape=function(e){return a=e,i},i.tension=function(e){return u=e,i},i.source=function(e){return o=O.accessor(e),i},i.target=function(e){return s=O.accessor(e),i},i.output=function(e){return O.keys(l).forEach(function(t){void 0!==e[t]&&(l[t]=e[t])}),i},i},O.data.pie=function(){function t(t){var n=t.map(function(e,t){return+r(e)}),u=i,l=(a-i)/e.sum(n),c=e.range(t.length);

return o&&c.sort(function(e,t){return n[e]-n[t]}),c.forEach(function(e){var r;t[e].value=r=n[e],t[e][s.startAngle]=u,t[e][s.midAngle]=u+.5*r*l,t[e][s.endAngle]=u+=r*l}),t}var n=function(){return 1},r=n,i=0,a=2*Math.PI,o=!1,s={startAngle:"startAngle",endAngle:"endAngle",midAngle:"midAngle"};return t.sort=function(e){return o=e,t},t.value=function(e){return r=e?O.accessor(e):n,t},t.startAngle=function(e){return i=Math.PI*e/180,t},t.endAngle=function(e){return a=Math.PI*e/180,t},t.output=function(e){return O.keys(s).forEach(function(t){void 0!==e[t]&&(s[t]=e[t])}),t},t},O.data.slice=function(){function e(e){if(e=O.values(e),"min"===t)e=[e[O.minIndex(e,n)]];else if("max"===t)e=[e[O.maxIndex(e,n)]];else if("median"===t){var r=e.slice().sort(function(e,t){return e=n(e),t=n(t),t>e?-1:e>t?1:0});e=[e[~~(r.length/2)]]}else{var i=O.array(t);e=e.slice(i[0],i[1])}return e}var t=null,n=O.accessor("data");return e.by=function(n){return t=n,e},e.field=function(t){return n=O.accessor(t),e},e},O.data.sort=function(){function e(e){e=O.isArray(e)?e:e.values||[],e.sort(t);for(var n=0,r=e.length;r>n;++n)e[n].index=n;return e}var t=null;return e.by=function(n){return t=O.comparator(n),e},e},O.data.stack=function(){function t(e){var t=s.y0,i=s.y1,a=s.cy,o=n(e);return 0===o.length?e:(r.out(function(e,n,r){e.datum&&(e.datum[t]=n,e.datum[i]=r+n,e.datum[a]=n+r/2)})(o),e)}function n(e){var t,n,r,o,s,u,l,c,f=O.values(e),d=[],h=[];if(0===f.length)return h;for(n=0,r=f.length;r>n;++n){for(t=O.values(f[n]),o=0,s=t.length;s>o;++o)d.push({x:i(t[o]),y:a(t[o]),z:n,datum:t[o]});h.push([])}for(d.sort(function(e,t){return e.x<t.x?-1:e.x>t.x?1:e.z<t.z?-1:e.z>t.z?1:0}),c=d[0].x,n=0,o=0,u=0,r=d.length;r>u;++u){if(l=d[u],l.x!==c){for(;n<h.length;)h[n++].push({x:o,y:0});c=l.x,n=0,o+=1}for(;l.z>n;)h[n++].push({x:o,y:0});l.x=o,h[n++].push(l)}for(;n<h.length;)h[n++].push({x:o,y:0});return h}var r=e.layout.stack(),i=O.accessor("index"),a=O.accessor("data"),o=["offset","order"],s={y0:"y2",y1:"y",cy:"cy"};return t.point=function(e){return i=O.accessor(e),t},t.height=function(e){return a=O.accessor(e),t},o.forEach(function(e){t[e]=function(n){return r[e](n),t}}),t.output=function(n){return e.keys(s).forEach(function(e){void 0!==n[e]&&(s[e]=n[e])}),t},t},O.data.stats=function(){function e(e){var t,o,s,u,l=+(1/0),c=-(1/0),f=0,d=0,h=0,p=(O.isArray(e)?e:e.values||[]).map(n);for(t=0,o=p.length;o>t;++t)s=p[t],l>s&&(l=s),s>c&&(c=s),f+=s,u=s-d,d+=u/(t+1),h+=u*(s-d);h/=o-1;var g=O.isArray(e)?{}:e;if(i&&(p.sort(O.numcmp),t=p.length>>1,g[a.median]=p.length%2?p[t]:(p[t-1]+p[t])/2),g[a.count]=o,g[a.min]=l,g[a.max]=c,g[a.sum]=f,g[a.mean]=d,g[a.variance]=h,g[a.stdev]=Math.sqrt(h),r){for(p=O.isArray(e)?e:e.values,s={},s[a.count]=o,s[a.min]=l,s[a.max]=c,s[a.sum]=f,s[a.mean]=d,s[a.variance]=h,s[a.stdev]=Math.sqrt(h),i&&(s[a.median]=g[a.median]),t=0,o=p.length;o>t;++t)p[t].stats=s;O.isArray(e)&&(g=p)}return g}function t(t){return O.isArray(t)?e(t):(t.values||[]).map(e)}var n=O.accessor("data"),r=!1,i=!1,a={count:"count",min:"min",max:"max",sum:"sum",mean:"mean",variance:"variance",stdev:"stdev",median:"median"};return t.median=function(e){return i=e||!1,t},t.value=function(e){return n=O.accessor(e),t},t.assign=function(e){return r=e,t},t.output=function(e){return O.keys(a).forEach(function(t){void 0!==e[t]&&(a[t]=e[t])}),t},t},O.data.treemap=function(){function t(e,t,a){e=n.size(O.data.size(i,a)).value(r).nodes(O.isTree(e)?e:{values:e});var s=O.keys(o),u=s.length;return e.forEach(function(e){for(var t,n,r=0;u>r;++r)t=s[r],t!==o[t]&&(n=e[t],delete e[t],e[o[t]]=n)}),e}var n=e.layout.treemap().children(function(e){return e.values}),r=O.accessor("data"),i=["width","height"],a=["round","sticky","ratio","padding"],o={x:"x",y:"y",dx:"width",dy:"height"};return t.size=function(e){return i=e,t},t.value=function(e){return r=O.accessor(e),t},a.forEach(function(e){t[e]=function(r){return n[e](r),t}}),t.output=function(e){return O.keys(o).forEach(function(t){void 0!==e[t]&&(o[t]=e[t])}),t},t},O.data.truncate=function(){var e,t=O.accessor("data"),n="truncate",r="right",i="...",a=!0,o=100,s=O.data.mapper(function(n){var s=O.truncate(t(n),o,r,a,i);return e(n,s),n});return s.value=function(e){return t=O.accessor(e),s},s.output=function(t){return n=t,e=O.mutator(t),s},s.limit=function(e){return o=+e,s},s.position=function(e){return r=e,s},s.ellipsis=function(e){return i=e+"",s},s.wordbreak=function(e){return a=!!e,s},s},O.data.unique=function(){function e(e){return O.unique(e,t).map(function(e){var t={};return t[n]=e,t})}var t=null,n="field";return e.field=function(n){return t=O.accessor(n),e},e.as=function(t){return n=t,e},e},O.data.window=function(){function e(e){e=O.isArray(e)?e:e.values||[];var r,i,a,o=[],s=e.length-t;for(r=0;s>=r;r+=n){for(i=0,a=[];t>i;++i)a.push(e[r+i]);o.push({key:r,values:a})}return{values:o}}var t=2,n=1;return e.size=function(n){return t=n,e},e.step=function(t){return n=t,e},e},O.data.wordcloud=function(){function t(e,t,s){function l(t,r){var i,o,s,l,c,f=n.size(),d=f[0]/2,h=f[1]/2,p=O.keys(u),g=p.length;for(e.sort(function(e,t){return a(t)-a(e)}),s=0,l=t.length;l>s;++s)for(o=e[s],c=0;g>c;++c)i=p[c],o[u[i]]=t[s][i],"x"===i&&(o[u.x]+=d),"y"===i&&(o[u.y]+=h)}return n.size(O.data.size(i,s)).text(r).fontSize(a).rotate(o).words(e).on("end",l).start(),e}var n=e.layout.cloud().size([900,500]),r=O.accessor("data"),i=["width","height"],a=function(){return 14},o=function(){return 0},s=["font","fontStyle","fontWeight","padding"],u={x:"x",y:"y",size:"fontSize",font:"font",rotate:"angle"};return t.text=function(e){return r=O.accessor(e),t},t.size=function(e){return i=e,t},t.fontSize=function(e){return a=O.accessor(e),t},t.rotate=function(e){var n;return O.isObject(e)&&!Array.isArray(e)?void 0!==e.random?(n=(n=e.random)?O.array(n):[0],o=function(){return n[~~(Math.random()*n.length-1e-5)]}):void 0!==e.alternate&&(n=(n=e.alternate)?O.array(n):[0],o=function(e,t){return n[t%n.length]}):o=O.accessor(field),t},s.forEach(function(e){t[e]=function(r){return n[e](r),t}}),t.output=function(e){return O.keys(u).forEach(function(t){void 0!==e[t]&&(u[t]=e[t])}),t},t},O.data.zip=function(){function e(e,o){var s,u,l,c,f,d=o[n],h=d.length;for(a&&(f={},d.forEach(function(e){f[a(e)]=e})),l=0,c=e.length;c>l;++l)u=e[l],u[r]=f?null!=(s=f[i(u)])?s:t:d[l%h];return e}var t,n=null,r="zip",i=O.accessor("data"),a=null;return e["with"]=function(t){return n=t,e},e["default"]=function(n){return t=n,e},e.as=function(t){return r=t,e},e.key=function(t){return i=O.accessor(t),e},e.withKey=function(t){return a=O.accessor(t),e},e},O.data.zip.dependencies=["with"],O.expression={},O.expression.parse=function(e,t){return j.parse("("+e+")",t)},O.expression.code=function(e){return P(e)};var I={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},R=function(e){function t(t,n,r,i){var a=e(n[0]);return r&&(a=r+"("+a+")",O.startsWith(r,"new ")&&(a="("+a+")")),a+"."+t+(0>i?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}var n="new Date",r="String",i="RegExp";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",now:"Date.now",datetime:"new Date",date:function(e){return t("getDate",e,n,0)},day:function(e){return t("getDay",e,n,0)},year:function(e){return t("getFullYear",e,n,0)},month:function(e){return t("getMonth",e,n,0)},hours:function(e){return t("getHours",e,n,0)},minutes:function(e){return t("getMinutes",e,n,0)},seconds:function(e){return t("getSeconds",e,n,0)},milliseconds:function(e){return t("getMilliseconds",e,n,0)},time:function(e){return t("getTime",e,n,0)},timezoneoffset:function(e){return t("getTimezoneOffset",e,n,0)},utcdate:function(e){return t("getUTCDate",e,n,0)},utcday:function(e){return t("getUTCDay",e,n,0)},utcyear:function(e){return t("getUTCFullYear",e,n,0)},utcmonth:function(e){return t("getUTCMonth",e,n,0)},utchours:function(e){return t("getUTCHours",e,n,0)},utcminutes:function(e){return t("getUTCMinutes",e,n,0)},utcseconds:function(e){return t("getUTCSeconds",e,n,0)},utcmilliseconds:function(e){return t("getUTCMilliseconds",e,n,0)},length:function(e){return t("length",e,null,-1)},indexof:function(e){return t("indexOf",e,null)},lastindexof:function(e){return t("lastIndexOf",e,null)},parseFloat:"parseFloat",parseInt:"parseInt",upper:function(e){return t("toUpperCase",e,r,0)},lower:function(e){return t("toLowerCase",e,r,0)},slice:function(e){return t("slice",e,r)},substring:function(e){return t("substring",e,r)},test:function(e){return t("test",e,i)},"if":function(t){if(t.length<3)throw new Error("Missing arguments to if function.");if(t.length>3)throw new Error("Too many arguments to if function.");var n=t.map(e);return n[0]+"?"+n[1]+":"+n[2]}}},P=function(e){function t(e){if(e instanceof String)return e;var t=s[e.type];if(null==t)throw new Error("Unsupported type: "+e.type);return t(e)}e=e||{};var n=e.constants||I,r=(e.functions||R)(t),i=e.idWhiteList?O.toMap(e.idWhiteList):null,a=e.idBlackList?O.toMap(e.idBlackList):null,o=0,s={Literal:function(e){return e.raw},Identifier:function(e){var t=e.name;if(o>0)return t;if(n.hasOwnProperty(t))return n[t];if(i){if(i.hasOwnProperty(t))return t;throw new Error("Illegal identifier: "+t)}if(a&&a.hasOwnProperty(t))throw new Error("Illegal identifier: "+t);return t},Program:function(e){return e.body.map(t).join("\n")},MemberExpression:function(e){var n=!e.computed,r=t(e.object);n&&(o+=1);var i=t(e.property);return n&&(o-=1),r+(n?"."+i:"["+i+"]")},CallExpression:function(e){if("Identifier"!==e.callee.type)throw new Error("Illegal callee type: "+e.callee.type);var n=e.callee.name,i=e.arguments,a=r.hasOwnProperty(n)&&r[n];if(!a)throw new Error("Unrecognized function: "+n);return a instanceof Function?a(i):a+"("+i.map(t).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(t).join(",")+"]"},BinaryExpression:function(e){return"("+t(e.left)+e.operator+t(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+t(e.argument)+")"},UpdateExpression:function(e){return"("+(prefix?e.operator+t(e.argument):t(e.argument)+e.operator)+")"},ConditionalExpression:function(e){return"("+t(e.test)+"?"+t(e.consequent)+":"+t(e.alternate)+")"},LogicalExpression:function(e){return"("+t(e.left)+e.operator+t(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(t).join(",")+"}"},Property:function(e){o+=1;var n=t(e.key);return o-=1,n+":"+t(e.value)},ExpressionStatement:function(e){return t(e.expression)}};return t},j=function(){"use strict";function e(e,t){if(!e)throw new Error("ASSERT: "+t)}function t(e){return e>=48&&57>=e}function n(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function r(e){return"01234567".indexOf(e)>=0}function i(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function a(e){return 10===e||13===e||8232===e||8233===e}function o(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||92===e||e>=128&&_e.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function s(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e||92===e||e>=128&&_e.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function u(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function l(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function c(e){if(Ee&&l(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function f(){var e,t;for(t=0===Ce;Oe>Ce;)if(e=Se.charCodeAt(Ce),i(e))++Ce;else{if(!a(e))break;++Ce,13===e&&10===Se.charCodeAt(Ce)&&++Ce,++Me,Te=Ce,t=!0}}function d(e){var t,r,i,a=0;for(r="u"===e?4:2,t=0;r>t;++t){if(!(Oe>Ce&&n(Se[Ce])))return"";i=Se[Ce++],a=16*a+"0123456789abcdef".indexOf(i.toLowerCase())}return String.fromCharCode(a)}function h(){var e,t,r,i;for(e=Se[Ce],t=0,"}"===e&&F({},ke.UnexpectedToken,"ILLEGAL");Oe>Ce&&(e=Se[Ce++],n(e));)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&F({},ke.UnexpectedToken,"ILLEGAL"),65535>=t?String.fromCharCode(t):(r=(t-65536>>10)+55296,i=(t-65536&1023)+56320,String.fromCharCode(r,i))}function p(){var e,t;for(e=Se.charCodeAt(Ce++),t=String.fromCharCode(e),92===e&&(117!==Se.charCodeAt(Ce)&&F({},ke.UnexpectedToken,"ILLEGAL"),++Ce,e=d("u"),e&&"\\"!==e&&o(e.charCodeAt(0))||F({},ke.UnexpectedToken,"ILLEGAL"),t=e);Oe>Ce&&(e=Se.charCodeAt(Ce),s(e));)++Ce,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==Se.charCodeAt(Ce)&&F({},ke.UnexpectedToken,"ILLEGAL"),++Ce,e=d("u"),e&&"\\"!==e&&s(e.charCodeAt(0))||F({},ke.UnexpectedToken,"ILLEGAL"),t+=e);return t}function g(){var e,t;for(e=Ce++;Oe>Ce;){if(t=Se.charCodeAt(Ce),92===t)return Ce=e,p();if(!s(t))break;++Ce}return Se.slice(e,Ce)}function m(){var e,t,n;return e=Ce,t=92===Se.charCodeAt(Ce)?p():g(),n=1===t.length?be.Identifier:c(t)?be.Keyword:"null"===t?be.NullLiteral:"true"===t||"false"===t?be.BooleanLiteral:be.Identifier,{type:n,value:t,lineNumber:Me,lineStart:Te,start:e,end:Ce}}function v(){var e,t,n,r,i=Ce,a=Se.charCodeAt(Ce),o=Se[Ce];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ce,De.tokenize&&(40===a?De.openParenToken=De.tokens.length:123===a&&(De.openCurlyToken=De.tokens.length)),{type:be.Punctuator,value:String.fromCharCode(a),lineNumber:Me,lineStart:Te,start:i,end:Ce};default:if(e=Se.charCodeAt(Ce+1),61===e)switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ce+=2,{type:be.Punctuator,value:String.fromCharCode(a)+String.fromCharCode(e),lineNumber:Me,lineStart:Te,start:i,end:Ce};case 33:case 61:return Ce+=2,61===Se.charCodeAt(Ce)&&++Ce,{type:be.Punctuator,value:Se.slice(i,Ce),lineNumber:Me,lineStart:Te,start:i,end:Ce}}}return r=Se.substr(Ce,4),">>>="===r?(Ce+=4,{type:be.Punctuator,value:r,lineNumber:Me,lineStart:Te,start:i,end:Ce}):(n=r.substr(0,3),">>>"===n||"<<="===n||">>="===n?(Ce+=3,{type:be.Punctuator,value:n,lineNumber:Me,lineStart:Te,start:i,end:Ce}):(t=n.substr(0,2),o===t[1]&&"+-<>&|".indexOf(o)>=0||"=>"===t?(Ce+=2,{type:be.Punctuator,value:t,lineNumber:Me,lineStart:Te,start:i,end:Ce}):"<>=!+-*%&|^/".indexOf(o)>=0?(++Ce,{type:be.Punctuator,value:o,lineNumber:Me,lineStart:Te,start:i,end:Ce}):void F({},ke.UnexpectedToken,"ILLEGAL")))}function y(e){for(var t="";Oe>Ce&&n(Se[Ce]);)t+=Se[Ce++];return 0===t.length&&F({},ke.UnexpectedToken,"ILLEGAL"),o(Se.charCodeAt(Ce))&&F({},ke.UnexpectedToken,"ILLEGAL"),{type:be.NumericLiteral,value:parseInt("0x"+t,16),lineNumber:Me,lineStart:Te,start:e,end:Ce}}function b(e){for(var n="0"+Se[Ce++];Oe>Ce&&r(Se[Ce]);)n+=Se[Ce++];return(o(Se.charCodeAt(Ce))||t(Se.charCodeAt(Ce)))&&F({},ke.UnexpectedToken,"ILLEGAL"),{type:be.NumericLiteral,value:parseInt(n,8),octal:!0,lineNumber:Me,lineStart:Te,start:e,end:Ce}}function x(){var n,i,a;if(a=Se[Ce],e(t(a.charCodeAt(0))||"."===a,"Numeric literal must start with a decimal digit or a decimal point"),i=Ce,n="","."!==a){if(n=Se[Ce++],a=Se[Ce],"0"===n){if("x"===a||"X"===a)return++Ce,y(i);if(r(a))return b(i);a&&t(a.charCodeAt(0))&&F({},ke.UnexpectedToken,"ILLEGAL")}for(;t(Se.charCodeAt(Ce));)n+=Se[Ce++];a=Se[Ce]}if("."===a){for(n+=Se[Ce++];t(Se.charCodeAt(Ce));)n+=Se[Ce++];a=Se[Ce]}if("e"===a||"E"===a)if(n+=Se[Ce++],a=Se[Ce],("+"===a||"-"===a)&&(n+=Se[Ce++]),t(Se.charCodeAt(Ce)))for(;t(Se.charCodeAt(Ce));)n+=Se[Ce++];else F({},ke.UnexpectedToken,"ILLEGAL");return o(Se.charCodeAt(Ce))&&F({},ke.UnexpectedToken,"ILLEGAL"),{type:be.NumericLiteral,value:parseFloat(n),lineNumber:Me,lineStart:Te,start:i,end:Ce}}function w(){var t,n,i,o,s,u,l,c,f="",p=!1;for(l=Me,c=Te,t=Se[Ce],e("'"===t||'"'===t,"String literal must starts with a quote"),n=Ce,++Ce;Oe>Ce;){if(i=Se[Ce++],i===t){t="";break}if("\\"===i)if(i=Se[Ce++],i&&a(i.charCodeAt(0)))++Me,"\r"===i&&"\n"===Se[Ce]&&++Ce,Te=Ce;else switch(i){case"u":case"x":"{"===Se[Ce]?(++Ce,f+=h()):(u=Ce,s=d(i),s?f+=s:(Ce=u,f+=i));break;case"n":f+="\n";break;case"r":f+="\r";break;case"t":f+="	";break;case"b":f+="\b";break;case"f":f+="\f";break;case"v":f+="";break;default:r(i)?(o="01234567".indexOf(i),0!==o&&(p=!0),Oe>Ce&&r(Se[Ce])&&(p=!0,o=8*o+"01234567".indexOf(Se[Ce++]),"0123".indexOf(i)>=0&&Oe>Ce&&r(Se[Ce])&&(o=8*o+"01234567".indexOf(Se[Ce++]))),f+=String.fromCharCode(o)):f+=i}else{if(a(i.charCodeAt(0)))break;f+=i}}return""!==t&&F({},ke.UnexpectedToken,"ILLEGAL"),{type:be.StringLiteral,value:f,octal:p,startLineNumber:l,startLineStart:c,lineNumber:Me,lineStart:Te,start:n,end:Ce}}function $(e,t){var n,r=e;t.indexOf("u")>=0&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(e,t){return parseInt(t,16)<=1114111?"x":void F({},ke.InvalidRegExp)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{n=new RegExp(r)}catch(i){F({},ke.InvalidRegExp)}try{return new RegExp(e,t)}catch(a){return null}}function k(){var t,n,r,i,o;for(t=Se[Ce],e("/"===t,"Regular expression literal must start with a slash"),n=Se[Ce++],r=!1,i=!1;Oe>Ce;)if(t=Se[Ce++],n+=t,"\\"===t)t=Se[Ce++],a(t.charCodeAt(0))&&F({},ke.UnterminatedRegExp),n+=t;else if(a(t.charCodeAt(0)))F({},ke.UnterminatedRegExp);else if(r)"]"===t&&(r=!1);else{if("/"===t){i=!0;break}"["===t&&(r=!0)}return i||F({},ke.UnterminatedRegExp),o=n.substr(1,n.length-2),{value:o,literal:n}}function _(){var e,t,n,r;for(t="",n="";Oe>Ce&&(e=Se[Ce],s(e.charCodeAt(0)));)if(++Ce,"\\"===e&&Oe>Ce)if(e=Se[Ce],"u"===e){if(++Ce,r=Ce,e=d("u"))for(n+=e,t+="\\u";Ce>r;++r)t+=Se[r];else Ce=r,n+="u",t+="\\u";U({},ke.UnexpectedToken,"ILLEGAL")}else t+="\\",U({},ke.UnexpectedToken,"ILLEGAL");else n+=e,t+=e;return{value:n,literal:t}}function S(){var e,t,n,r;return Ae=null,f(),e=Ce,t=k(),n=_(),r=$(t.value,n.value),De.tokenize?{type:be.RegularExpression,value:r,regex:{pattern:t.value,flags:n.value},lineNumber:Me,lineStart:Te,start:e,end:Ce}:{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Ce}}function E(){var e,t,n,r;return f(),e=Ce,t={start:{line:Me,column:Ce-Te}},n=S(),t.end={line:Me,column:Ce-Te},De.tokenize||(De.tokens.length>0&&(r=De.tokens[De.tokens.length-1],r.range[0]===e&&"Punctuator"===r.type&&("/"===r.value||"/="===r.value)&&De.tokens.pop()),De.tokens.push({type:"RegularExpression",value:n.literal,regex:n.regex,range:[e,Ce],loc:t})),n}function C(e){return e.type===be.Identifier||e.type===be.Keyword||e.type===be.BooleanLiteral||e.type===be.NullLiteral}function M(){var e,t;if(e=De.tokens[De.tokens.length-1],!e)return E();if("Punctuator"===e.type){if("]"===e.value)return v();if(")"===e.value)return t=De.tokens[De.openParenToken-1],!t||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?v():E();if("}"===e.value){if(De.tokens[De.openCurlyToken-3]&&"Keyword"===De.tokens[De.openCurlyToken-3].type){if(t=De.tokens[De.openCurlyToken-4],!t)return v()}else{if(!De.tokens[De.openCurlyToken-4]||"Keyword"!==De.tokens[De.openCurlyToken-4].type)return v();if(t=De.tokens[De.openCurlyToken-5],!t)return E()}return v()}return E()}return"Keyword"===e.type&&"this"!==e.value?E():v()}function T(){var e;return f(),Ce>=Oe?{type:be.EOF,lineNumber:Me,lineStart:Te,start:Ce,end:Ce}:(e=Se.charCodeAt(Ce),o(e)?m():40===e||41===e||59===e?v():39===e||34===e?w():46===e?t(Se.charCodeAt(Ce+1))?x():v():t(e)?x():De.tokenize&&47===e?M():v())}function O(){var e,t,n,r;return f(),e={start:{line:Me,column:Ce-Te}},t=T(),e.end={line:Me,column:Ce-Te},t.type!==be.EOF&&(n=Se.slice(t.start,t.end),r={type:xe[t.type],value:n,range:[t.start,t.end],loc:e},t.regex&&(r.regex={pattern:t.regex.pattern,flags:t.regex.flags}),De.tokens.push(r)),t}function A(){var e;return e=Ae,Ce=e.end,Me=e.lineNumber,Te=e.lineStart,Ae="undefined"!=typeof De.tokens?O():T(),Ce=e.end,Me=e.lineNumber,Te=e.lineStart,e}function N(){var e,t,n;e=Ce,t=Me,n=Te,Ae="undefined"!=typeof De.tokens?O():T(),Ce=e,Me=t,Te=n}function D(){this.line=Me,this.column=Ce-Te}function L(){this.start=new D,this.end=null}function I(e){this.start=e.type===be.StringLiteral?{line:e.startLineNumber,column:e.start-e.startLineStart}:{line:e.lineNumber,column:e.start-e.lineStart},this.end=null}function R(){Ce=Ae.start,Ae.type===be.StringLiteral?(Me=Ae.startLineNumber,Te=Ae.startLineStart):(Me=Ae.lineNumber,Te=Ae.lineStart),De.range&&(this.range=[Ce,0]),De.loc&&(this.loc=new L)}function P(e){De.range&&(this.range=[e.start,0]),De.loc&&(this.loc=new I(e))}function j(){var e,t,n,r;return e=Ce,t=Me,n=Te,f(),r=Me!==t,Ce=e,Me=t,Te=n,r}function F(t,n){var r,i=Array.prototype.slice.call(arguments,2),a=n.replace(/%(\d)/g,function(t,n){return e(n<i.length,"Message reference must be in range"),i[n]});throw"number"==typeof t.lineNumber?(r=new Error("Line "+t.lineNumber+": "+a),r.index=t.start,r.lineNumber=t.lineNumber,r.column=t.start-Te+1):(r=new Error("Line "+Me+": "+a),r.index=Ce,r.lineNumber=Me,r.column=Ce-Te+1),r.description=a,r}function U(){try{F.apply(null,arguments)}catch(e){if(!De.errors)throw e;De.errors.push(e)}}function z(e){if(e.type===be.EOF&&F(e,ke.UnexpectedEOS),e.type===be.NumericLiteral&&F(e,ke.UnexpectedNumber),e.type===be.StringLiteral&&F(e,ke.UnexpectedString),e.type===be.Identifier&&F(e,ke.UnexpectedIdentifier),e.type===be.Keyword){if(u(e.value))F(e,ke.UnexpectedReserved);else if(Ee&&l(e.value))return void U(e,ke.StrictReservedWord);F(e,ke.UnexpectedToken,e.value)}F(e,ke.UnexpectedToken,e.value)}function q(e){var t=A();(t.type!==be.Punctuator||t.value!==e)&&z(t)}function H(e){if(De.errors){var t=Ae;t.type!==be.Punctuator&&t.value!==e?U(t,ke.UnexpectedToken,t.value):A()}else q(e)}function B(e){return Ae.type===be.Punctuator&&Ae.value===e}function W(e){return Ae.type===be.Keyword&&Ae.value===e}function V(){var e;return 59===Se.charCodeAt(Ce)||B(";")?void A():(e=Me,f(),void(Me===e&&(Ae.type===be.EOF||B("}")||z(Ae))))}function Y(){var e=[],t=new R;for(q("[");!B("]");)B(",")?(A(),e.push(null)):(e.push(le()),B("]")||q(","));return A(),t.finishArrayExpression(e)}function G(){var e,t=new R;return e=A(),e.type===be.StringLiteral||e.type===be.NumericLiteral?(Ee&&e.octal&&U(e,ke.StrictOctalLiteral),t.finishLiteral(e)):t.finishIdentifier(e.value)}function X(){var e,t,n,r,i=new R;return e=Ae,e.type===be.Identifier?(n=G(),q(":"),r=le(),i.finishProperty("init",n,r)):e.type!==be.EOF&&e.type!==be.Punctuator?(t=G(),q(":"),r=le(),i.finishProperty("init",t,r)):void z(e)}function K(){var e,t,n,r,i=[],a={},o=String,s=new R;for(q("{");!B("}");)e=X(),t=e.key.type===we.Identifier?e.key.name:o(e.key.value),r="init"===e.kind?$e.Data:"get"===e.kind?$e.Get:$e.Set,n="$"+t,Object.prototype.hasOwnProperty.call(a,n)?(a[n]===$e.Data?Ee&&r===$e.Data?U({},ke.StrictDuplicateProperty):r!==$e.Data&&U({},ke.AccessorDataProperty):r===$e.Data?U({},ke.AccessorDataProperty):a[n]&r&&U({},ke.AccessorGetSet),a[n]|=r):a[n]=r,i.push(e),B("}")||H(",");return q("}"),s.finishObjectExpression(i)}function J(){var e;return q("("),++Ne.parenthesisCount,e=ce(),q(")"),e}function Z(){var e,t,n,r;if(B("("))return J();if(B("["))return Y();if(B("{"))return K();if(e=Ae.type,r=new R,e===be.Identifier||Le[Ae.value])n=r.finishIdentifier(A().value);else if(e===be.StringLiteral||e===be.NumericLiteral)Ee&&Ae.octal&&U(Ae,ke.StrictOctalLiteral),n=r.finishLiteral(A());else{if(e===be.Keyword)throw new Error("Disabled.");e===be.BooleanLiteral?(t=A(),t.value="true"===t.value,n=r.finishLiteral(t)):e===be.NullLiteral?(t=A(),t.value=null,n=r.finishLiteral(t)):B("/")||B("/=")?(n=r.finishLiteral("undefined"!=typeof De.tokens?E():S()),N()):z(A())}return n}function Q(){var e=[];if(q("("),!B(")"))for(;Oe>Ce&&(e.push(le()),!B(")"));)H(",");return q(")"),e}function ee(){var e,t=new R;return e=A(),C(e)||z(e),t.finishIdentifier(e.value)}function te(){return q("."),ee()}function ne(){var e;return q("["),e=ce(),q("]"),e}function re(){var e,t,n,r,i=Ne.allowIn;for(r=Ae,Ne.allowIn=!0,e=Z();;)if(B("."))n=te(),e=new P(r).finishMemberExpression(".",e,n);else if(B("("))t=Q(),e=new P(r).finishCallExpression(e,t);else{if(!B("["))break;n=ne(),e=new P(r).finishMemberExpression("[",e,n)}return Ne.allowIn=i,e}function ie(){var e;if(e=re(),Ae.type===be.Punctuator&&(B("++")||B("--"))&&!j())throw new Error("Disabled.");return e}function ae(){var e,t,n;if(Ae.type!==be.Punctuator&&Ae.type!==be.Keyword)t=ie();else{if(B("++")||B("--"))throw new Error("Disabled.");if(B("+")||B("-")||B("~")||B("!"))n=Ae,e=A(),t=ae(),t=new P(n).finishUnaryExpression(e.value,t);else{if(W("delete")||W("void")||W("typeof"))throw new Error("Disabled.");t=ie()}}return t}function oe(e,t){var n=0;if(e.type!==be.Punctuator&&e.type!==be.Keyword)return 0;switch(e.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=t?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function se(){var e,t,n,r,i,a,o,s,u,l;if(e=Ae,u=ae(),r=Ae,i=oe(r,Ne.allowIn),0===i)return u;for(r.prec=i,A(),t=[e,Ae],o=ae(),a=[u,r,o];(i=oe(Ae,Ne.allowIn))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),s=a.pop().value,u=a.pop(),t.pop(),n=new P(t[t.length-1]).finishBinaryExpression(s,u,o),a.push(n);r=A(),r.prec=i,a.push(r),t.push(Ae),n=ae(),a.push(n)}for(l=a.length-1,n=a[l],t.pop();l>1;)n=new P(t.pop()).finishBinaryExpression(a[l-1].value,a[l-2],n),l-=2;return n}function ue(){var e,t,n,r,i;return i=Ae,e=se(),B("?")&&(A(),t=Ne.allowIn,Ne.allowIn=!0,n=le(),Ne.allowIn=t,q(":"),r=le(),e=new P(i).finishConditionalExpression(e,n,r)),e}function le(){var e,t,n,r;return e=Ne.parenthesisCount,r=Ae,t=Ae,n=ue()}function ce(){var e;if(e=le(),B(","))throw new Error("Disabled.");return e}function fe(e){var t=ce();return V(),e.finishExpressionStatement(t)}function de(){var e,t,n=Ae.type;if(n===be.EOF&&z(Ae),n===be.Punctuator&&"{"===Ae.value)throw new Error("Disabled.");if(t=new R,n===be.Punctuator)switch(Ae.value){case";":throw new Error("Disabled.");case"(":return fe(t)}else if(n===be.Keyword)throw new Error("Disabled.");return e=ce(),V(),t.finishExpressionStatement(e)}function he(){if(Ae.type===be.Keyword)switch(Ae.value){case"const":case"let":throw new Error("Disabled.");case"function":throw new Error("Disabled.");default:return de()}return Ae.type!==be.EOF?de():void 0}function pe(){for(var e,t,n,r,i=[];Oe>Ce&&(t=Ae,t.type===be.StringLiteral)&&(e=he(),i.push(e),e.expression.type===we.Literal);)n=Se.slice(t.start+1,t.end-1),"use strict"===n?(Ee=!0,r&&U(r,ke.StrictOctalLiteral)):!r&&t.octal&&(r=t);for(;Oe>Ce&&(e=he(),"undefined"!=typeof e);)i.push(e);return i}function ge(){var e,t;return f(),N(),t=new R,Ee=!0,e=pe(),t.finishProgram(e)}function me(){var e,t,n,r=[];for(e=0;e<De.tokens.length;++e)t=De.tokens[e],n={type:t.type,value:t.value},t.regex&&(n.regex={pattern:t.regex.pattern,flags:t.regex.flags}),De.range&&(n.range=t.range),De.loc&&(n.loc=t.loc),r.push(n);De.tokens=r}function ve(e,t){var n,r;n=String,"string"==typeof e||e instanceof String||(e=n(e)),Se=e,Ce=0,Me=Se.length>0?1:0,Te=0,Oe=Se.length,Ae=null,Ne={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},De={},t=t||{},t.tokens=!0,De.tokens=[],De.tokenize=!0,De.openParenToken=-1,De.openCurlyToken=-1,De.range="boolean"==typeof t.range&&t.range,De.loc="boolean"==typeof t.loc&&t.loc,"boolean"==typeof t.tolerant&&t.tolerant&&(De.errors=[]);try{if(N(),Ae.type===be.EOF)return De.tokens;for(A();Ae.type!==be.EOF;)try{A()}catch(i){if(De.errors){De.errors.push(i);break}throw i}me(),r=De.tokens,"undefined"!=typeof De.errors&&(r.errors=De.errors)}catch(a){throw a}finally{De={}}return r}function ye(e,t){var n,r;r=String,"string"==typeof e||e instanceof String||(e=r(e)),Se=e,Ce=0,Me=Se.length>0?1:0,Te=0,Oe=Se.length,Ae=null,Ne={allowIn:!0,labelSet:{},parenthesisCount:0,inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},De={},"undefined"!=typeof t&&(De.range="boolean"==typeof t.range&&t.range,De.loc="boolean"==typeof t.loc&&t.loc,De.loc&&null!==t.source&&void 0!==t.source&&(De.source=r(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(De.tokens=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(De.errors=[]));try{n=ge(),"undefined"!=typeof De.tokens&&(me(),n.tokens=De.tokens),"undefined"!=typeof De.errors&&(n.errors=De.errors)}catch(i){throw i}finally{De={}}return n}var be,xe,we,$e,ke,_e,Se,Ee,Ce,Me,Te,Oe,Ae,Ne,De;be={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},xe={},xe[be.BooleanLiteral]="Boolean",xe[be.EOF]="<end>",xe[be.Identifier]="Identifier",xe[be.Keyword]="Keyword",xe[be.NullLiteral]="Null",xe[be.NumericLiteral]="Numeric",xe[be.Punctuator]="Punctuator",xe[be.StringLiteral]="String",xe[be.RegularExpression]="RegularExpression",we={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BinaryExpression:"BinaryExpression",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ExpressionStatement:"ExpressionStatement",Identifier:"Identifier",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression"},$e={Data:1,Get:2,Set:4},ke={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",
StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},_e={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԯԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠ-ࢲࣤ-ॣ०-९ॱ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧ᪰-᪽ᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶ᳸᳹ᴀ-᷵᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚝꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꧠ-ꧾꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︭︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},P.prototype=R.prototype={finish:function(){De.range&&(this.range[1]=Ce),De.loc&&(this.loc.end=new D,De.source&&(this.loc.source=De.source))},finishArrayExpression:function(e){return this.type=we.ArrayExpression,this.elements=e,this.finish(),this},finishAssignmentExpression:function(e,t,n){return this.type=we.AssignmentExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishBinaryExpression:function(e,t,n){return this.type="||"===e||"&&"===e?we.LogicalExpression:we.BinaryExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishCallExpression:function(e,t){return this.type=we.CallExpression,this.callee=e,this.arguments=t,this.finish(),this},finishConditionalExpression:function(e,t,n){return this.type=we.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n,this.finish(),this},finishExpressionStatement:function(e){return this.type=we.ExpressionStatement,this.expression=e,this.finish(),this},finishIdentifier:function(e){return this.type=we.Identifier,this.name=e,this.finish(),this},finishLiteral:function(e){return this.type=we.Literal,this.value=e.value,this.raw=Se.slice(e.start,e.end),e.regex&&("//"==this.raw&&(this.raw="/(?:)/"),this.regex=e.regex),this.finish(),this},finishMemberExpression:function(e,t,n){return this.type=we.MemberExpression,this.computed="["===e,this.object=t,this.property=n,this.finish(),this},finishObjectExpression:function(e){return this.type=we.ObjectExpression,this.properties=e,this.finish(),this},finishProgram:function(e){return this.type=we.Program,this.body=e,this.finish(),this},finishProperty:function(e,t,n){return this.type=we.Property,this.key=t,this.value=n,this.kind=e,this.finish(),this},finishUnaryExpression:function(e,t){return this.type="++"===e||"--"===e?we.UpdateExpression:we.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0,this.finish(),this}};var Le={"if":1,"this":1};return{tokenize:ve,parse:ye}}();O.parse={},O.parse.axes=function(){function e(e,n,r){(e||[]).forEach(function(e,i){n[i]=n[i]||O.scene.axis(),t(e,i,n[i],r)})}function t(e,t,r,i){void 0!==e.scale&&r.scale(i[e.scale]),r.orient(e.orient||n[e.type]),r.offset(e.offset||0),r.layer(e.layer||"front"),r.grid(e.grid||!1),r.title(e.title||null),r.titleOffset(null!=e.titleOffset?e.titleOffset:O.config.axis.titleOffset),r.tickValues(e.values||null),r.tickFormat(e.format||null),r.tickSubdivide(e.subdivide||0),r.tickPadding(e.tickPadding||O.config.axis.padding);var a=[];if(void 0!==e.tickSize)for(var o=0;3>o;++o)a.push(e.tickSize);else{var s=O.config.axis.tickSize;a=[s,s,s]}null!=e.tickSizeMajor&&(a[0]=e.tickSizeMajor),null!=e.tickSizeMinor&&(a[1]=e.tickSizeMinor),null!=e.tickSizeEnd&&(a[2]=e.tickSizeEnd),a.length&&r.tickSize.apply(r,a),r.tickCount(e.ticks||O.config.axis.ticks);var u=e.properties;u&&u.ticks?(r.majorTickProperties(u.majorTicks?O.extend({},u.ticks,u.majorTicks):u.ticks),r.minorTickProperties(u.minorTicks?O.extend({},u.ticks,u.minorTicks):u.ticks)):(r.majorTickProperties(u&&u.majorTicks||{}),r.minorTickProperties(u&&u.minorTicks||{})),r.tickLabelProperties(u&&u.labels||{}),r.titleProperties(u&&u.title||{}),r.gridLineProperties(u&&u.grid||{}),r.domainProperties(u&&u.axis||{})}var n={x:"bottom",y:"left",top:"top",bottom:"bottom",left:"left",right:"right"};return e}(),O.parse.background=function(t){return null==t?null:e.rgb(t)+""},O.parse.data=function(e,t){function n(e){return function(n,r){if(n)O.error("LOADING FAILED: "+e.url);else try{i.load[e.name]=O.data.read(r.toString(),e.format)}catch(o){O.error("UNABLE TO PARSE: "+e.url+" "+o.toString())}0===--a&&t()}}function r(e){1!==l[e]&&(l[e]||(l[e]=1,(i.source[e]||[]).forEach(r),(i.deps[e]||[]).forEach(r),l[e]=2,u.push(e)))}var i={defs:e,load:{},flow:{},deps:{},source:{},sorted:null},a=0;(e||[]).forEach(function(e){if(e.url?(a+=1,O.data.load(e.url,n(e))):e.values?i.load[e.name]=O.data.read(e.values,e.format):e.source&&(i.source[e.source]||(i.source[e.source]=[])).push(e.name),e.transform){var t=O.parse.dataflow(e);i.flow[e.name]=t,t.dependencies.forEach(function(t){(i.deps[t]||(i.deps[t]=[])).push(e.name)})}});for(var o,s=(e||[]).map(O.accessor("name")),u=[],l={};s.length;)2!==l[o=s.pop()]&&r(o);return i.sorted=u.reverse(),0===a&&setTimeout(t,1),i},O.parse.dataflow=function(e){var t=(e.transform||[]).map(O.parse.transform),n=t.length?function(e,n,r){return t.reduce(function(e,t){return t(e,n,r)},e)}:O.identity;return n.transforms=t,n.dependencies=O.keys((e.transform||[]).reduce(function(e,t){var n=O.data[t.type].dependencies;return n&&n.forEach(function(n){t[n]&&(e[t[n]]=1)}),e},{})),n},O.parse.expr=function(){var e=O.expression.parse,t=O.expression.code({idWhiteList:["d","index","data"]});return function(n){var r=t(e(n));return Function("d","index","data",'"use strict"; return ('+r+");")}}(),O.parse.legends=function(){function e(e,n,r){(e||[]).forEach(function(e,i){n[i]=n[i]||O.scene.legend(),t(e,i,n[i],r)})}function t(e,t,n,r){n.size(e.size?r[e.size]:null),n.shape(e.shape?r[e.shape]:null),n.fill(e.fill?r[e.fill]:null),n.stroke(e.stroke?r[e.stroke]:null),e.orient&&n.orient(e.orient),null!=e.offset&&n.offset(e.offset),n.title(e.title||null),n.values(e.values||null),n.format(void 0!==e.format?e.format:null);var i=e.properties;n.titleProperties(i&&i.title||{}),n.labelProperties(i&&i.labels||{}),n.legendProperties(i&&i.legend||{}),n.symbolProperties(i&&i.symbols||{}),n.gradientProperties(i&&i.gradient||{})}return e}(),O.parse.mark=function(e){var t=e.properties,n=e.marks;if(O.keys(t).forEach(function(n){t[n]=O.parse.properties(e.type,t[n])}),e.delay&&(e.delay=O.parse.properties(e.type,{delay:e.delay})),e.from){var r=e.from.data,i=O.parse.dataflow(e.from);e.from=function(e,t,n){var a=O.scene.data(r?e[r]:null,n);return i(a,e,t)}}return n&&(e.marks=n.map(O.parse.mark)),e},O.parse.marks=function(e,t,n){return{type:"group",width:t,height:n,scales:e.scales||[],axes:e.axes||[],legends:e.legends||[],marks:(e.marks||[]).map(O.parse.mark)}},O.parse.padding=function(e){if(null==e)return"auto";if(O.isString(e))return"strict"===e?"strict":"auto";if(O.isObject(e))return e;var t=O.isNumber(e)?e:20;return{top:t,left:t,right:t,bottom:t}},O.parse.properties=function(){function e(e,r){var i,a,o,s,u="",l=O.keys(r),c={};for(u+="var o = trans ? {} : item;\n",i=0,a=l.length;a>i;++i)s=r[o=l[i]],u+=i>0?"\n  ":"  ",u+="o."+o+" = "+n(o,s)+";",c[o]=!0;c.x2&&(c.x?(u+="\n  if (o.x > o.x2) { var t = o.x; o.x = o.x2; o.x2 = t; };",u+="\n  o.width = (o.x2 - o.x);"):u+=c.width?"\n  o.x = (o.x2 - o.width);":"\n  o.x = o.x2;"),c.xc&&(u+=c.width?"\n  o.x = (o.xc - o.width/2);":"\n  o.x = o.xc;"),c.y2&&(c.y?(u+="\n  if (o.y > o.y2) { var t = o.y; o.y = o.y2; o.y2 = t; };",u+="\n  o.height = (o.y2 - o.y);"):u+=c.height?"\n  o.y = (o.y2 - o.height);":"\n  o.y = o.y2;"),c.yc&&(u+=c.height?"\n  o.y = (o.yc - o.height/2);":"\n  o.y = o.yc;"),t(e,c)&&(u+="\n  item.touch();"),u+="\n  if (trans) trans.interpolate(item, o);";try{return Function("item","group","trans",u)}catch(f){O.error(f),O.log(u)}}function t(e,t){return t.path||("area"===e||"line"===e)&&(t.x||t.x2||t.width||t.y||t.y2||t.height||t.tension||t.interpolate)}function n(e,t){if(null==t)return null;var n="fill"===e||"stroke"===e;if(n){if(t.c)return r("hcl",t.h,t.c,t.l);if(t.h||t.s)return r("hsl",t.h,t.s,t.l);if(t.l||t.a)return r("lab",t.l,t.a,t.b);if(t.r||t.g||t.b)return r("rgb",t.r,t.g,t.b)}if(t.template)return O.parse.template.source(t.template,"item.datum");var a="item.datum.data";if(void 0!==t.value&&(a=O.str(t.value)),null!=t.group){var o="group.datum";O.isString(t.group)&&(o=i[t.group]?"group."+t.group:"group.datum["+O.field(t.group).map(O.str).join("][")+"]")}if(null!=t.field?O.isString(t.field)?(a="item.datum["+O.field(t.field).map(O.str).join("][")+"]",null!=t.group&&(a="this.accessor("+a+")("+o+")")):a="this.accessor(group.datum["+O.field(t.field.group).map(O.str).join("][")+"])(item.datum.data)":null!=t.group&&(a=o),null!=t.scale){var s=O.isString(t.scale)?O.str(t.scale):(t.scale.group?"group":"item")+".datum["+O.str(t.scale.group||t.scale.field)+"]";s="group.scales["+s+"]",a=s+(t.band?".rangeBand()":"("+a+")")}return a="("+(null!=t.mult?O.number(t.mult)+" * ":"")+a+")"+(t.offset?" + "+O.number(t.offset):"")}function r(e,t,r,i){var a=t?n("",t):O.config.color[e][0],o=r?n("",r):O.config.color[e][1],s=i?n("",i):O.config.color[e][2];return"(this.d3."+e+"("+[a,o,s].join(",")+') + "")'}var i={width:1,height:1,"mark.group.width":1,"mark.group.height":1};return e}(),O.parse.scales=function(){function t(e,t,r,i){return(e||[]).reduce(function(e,t){var a=t.name,o=a+":prev";return e[a]=n(t,e[a],r,i),e[o]=e[o]||e[a],e},t||{})}function n(e,t,n,o){var s=r(e,t),u=s.type===f?i:a,c=l(e,o),d=O.values(o.datum);return u(e,s,c,n,d),s}function r(t,n){var r=t.type||c;if(!n||r!==n.type){var i=O.config.scale[r]||e.scale[r];i||O.error("Unrecognized scale type: "+r),(n=i()).type=n.type||r,n.scaleName=t.name}return n}function i(e,t,n,r,i){var a,u,l,c,f=!1,d=e.padding||0,h=null==e.outerPadding?d:e.outerPadding;if(O.isObject(e.range)&&!O.isArray(e.range)&&(f=!0,c=e.range.fields||O.array(e.range),n=o(c,r,i)),u=e.sort&&!f,a=s(e,r,i,u),a&&t.domain(a),e.bandWidth){var p,g=e.bandWidth,m=a.length,v=e.points?d*g:d*g*(m-1)+2*h;n[0]>n[1]?(p=n[1]||0,n=[p+(g*m+v),p]):(p=n[0]||0,n=[p,p+(g*m+v)])}l="string"==typeof n[0],l||n.length>2||1===n.length||f?t.range(n):e.points&&(e.round||null==e.round)?t.rangeRoundPoints(n,d):e.points?t.rangePoints(n,d):e.round||null==e.round?t.rangeRoundBands(n,d,h):t.rangeBands(n,d,h)}function a(t,n,r,i,a){var o,l;o=t.type===g?s(t,i,a,!1):u(t,i,a),n.domain(o),"height"===t.range&&(r=r.reverse()),n[t.round&&n.rangeRound?"rangeRound":"range"](r),t.exponent&&t.type===h&&n.exponent(t.exponent),t.clamp&&n.clamp(!0),t.nice&&(t.type===p?(l=e.time[t.nice],l||O.error("Unrecognized interval: "+l),n.nice(l)):n.nice())}function o(e,t,n){return e.reduce(function(e,r){var i=O.values(t[r.data]||n),a=O.accessor(O.isString(r.field)?r.field:"data."+O.accessor(r.field.group)(n));return O.unique(i,a,e)},[])}function s(e,t,n,r){var i,a,s=e.domain;return O.isArray(s)?i=r?s.slice():s:O.isObject(s)&&(a=s.fields||O.array(s),i=o(a,t,n)),i&&r&&i.sort(O.cmp),i}function u(t,n,r){function i(t,i,a,o){var u=O.values(n[t.data]||r),l=O.array(t.field).map(function(e){return O.isString(e)?e:"data."+O.accessor(e.group)(r)});l.forEach(function(t,n){t=O.accessor(t),i&&(s[0]=e.min([s[0],e.min(u,t)])),a&&(s[o]=e.max([s[o],e.max(u,t)]))})}var a,o,s=[null,null];return void 0!==t.domain&&(O.isArray(t.domain)?s=t.domain.slice():O.isObject(t.domain)?(a=t.domain.fields||O.array(t.domain),a.forEach(function(e){i(e,1,1,1)})):s=t.domain),o=s.length-1,void 0!==t.domainMin&&(O.isObject(t.domainMin)?(s[0]=null,a=t.domainMin.fields||O.array(t.domainMin),a.forEach(function(e){i(e,1,0,o)})):s[0]=t.domainMin),void 0!==t.domainMax&&(O.isObject(t.domainMax)?(s[o]=null,a=t.domainMax.fields||O.array(t.domainMax),a.forEach(function(e){i(e,0,1,o)})):s[o]=t.domainMax),t.type===d||t.type===p||!t.zero&&void 0!==t.zero||(s[0]=Math.min(0,s[0]),s[o]=Math.max(0,s[o])),s}function l(e,t){var n=[null,null];if(void 0!==e.range)if("string"==typeof e.range)if(m[e.range])n=[0,t[e.range]];else{if(!O.config.range[e.range])return O.error("Unrecogized range: "+e.range),n;n=O.config.range[e.range]}else if(O.isArray(e.range))n=O.duplicate(e.range);else{if(O.isObject(e.range))return null;n=[0,e.range]}if(void 0!==e.rangeMin&&(n[0]=e.rangeMin),void 0!==e.rangeMax&&(n[n.length-1]=e.rangeMax),void 0!==e.reverse){var r=e.reverse;O.isObject(r)&&(r=O.accessor(r.field)(t.datum)),r&&(n=n.reverse())}return n}var c="linear",f="ordinal",d="log",h="pow",p="time",g="quantile",m={width:1,height:1};return t}(),O.parse.spec=function(t,n,r){function i(e){e=O.duplicate(e);var t=e.width||500,i=e.height||500,a=e.viewport||null,o={width:t,height:i,viewport:a,background:O.parse.background(e.background),padding:O.parse.padding(e.padding),marks:O.parse.marks(e,t,i),data:O.parse.data(e.data,function(){n(s)})},s=r(o)}r=r||O.ViewFactory,O.isObject(t)?i(t):e.json(t,function(e,t){e?O.error(e):i(t)})},O.parse.template=function(e){var t=O.parse.template.source(e,"d");t="var __t; return "+t+";";try{return new Function("d",t).bind(O)}catch(n){throw n.source=t,n}},O.parse.template.source=function(e,t){t=t||"obj";var n=0,r="'",i=U;return e.replace(i,function(i,a,o){return r+=e.slice(n,o).replace(q,H),n=o+i.length,a&&(r+="'\n+((__t=("+F(a,t)+"))==null?'':__t)+\n'"),i}),r+"'"};var F=function(t,n){function r(e){return e=e||"",o?(o=!1,s="String("+s+")"+e):s+=e,s}var i=t.split("|"),a=i.shift().trim(),o=!0,s=O.field(a).map(O.str).join("][");s=n+"["+s+"]";for(var u=0;u<i.length;++u){var l,c,f,d=i[u],h=null;switch((l=d.indexOf(":"))>0&&(d=d.slice(0,l),h=i[u].slice(l+1).split(",").map(function(e){return e.trim()})),d=d.trim()){case"length":r(".length");break;case"lower":r(".toLowerCase()");break;case"upper":r(".toUpperCase()");break;case"lower-locale":r(".toLocaleLowerCase()");break;case"upper-locale":r(".toLocaleUpperCase()");break;case"trim":r(".trim()");break;case"left":c=O.number(h[0]),r(".slice(0,"+c+")");break;case"right":c=O.number(h[0]),r(".slice(-"+c+")");break;case"mid":c=O.number(h[0]),f=c+O.number(h[1]),r(".slice(+"+c+","+f+")");break;case"slice":c=O.number(h[0]),r(".slice("+c+(h.length>1?","+O.number(h[1]):"")+")");break;case"truncate":c=O.number(h[0]),f=h[1],f="left"!==f&&"middle"!==f&&"center"!==f?"right":f,s="this.truncate("+r()+","+c+',"'+f+'")';break;case"number":c=V(h[0],e.format),o=!1,s="this.__formats["+c+"]("+s+")";break;case"time":c=V(h[0],e.time.format),o=!1,s="this.__formats["+c+"]("+s+")";break;default:throw Error("Unrecognized template filter: "+d)}}return s},U=/\{\{(.+?)\}\}|$/g,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,H=function(e){return"\\"+z[e]},B=[],W={},V=function(e,t){if(!("'"===e[0]&&"'"===e[e.length-1]||'"'!==e[0]&&'"'===e[e.length-1]))throw Error("Format pattern must be quoted: "+e);if(e=e.slice(1,-1),!W[e]){var n=t(e),r=B.length;B.push(n),W[e]=r}return W[e]};O.__formats=B,O.parse.transform=function(e){var t=O.data[e.type]();return O.keys(e).forEach(function(n){"type"!==n&&t[n](e[n])}),t},O.scene={},O.scene.GROUP="group",O.scene.ENTER=0,O.scene.UPDATE=1,O.scene.EXIT=2,O.scene.DEFAULT_DATA={sentinel:1},O.scene.data=function(e,t){var n=O.scene.DEFAULT_DATA;return e=O.values(e||t||[n]),e===n&&(e=[n]),e},O.scene.fontString=function(e){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+(null!=e.fontSize?e.fontSize:O.config.render.fontSize)+"px "+(e.font||O.config.render.font)},O.scene.Item=function(){function e(e){this.mark=e}var t=e.prototype;return t.hasPropertySet=function(e){var t=this.mark.def.properties;return t&&null!=t[e]},t.cousin=function(e,t){if(0===e)return this;e=e||-1;var n=this.mark,r=n.group,i=null==t?n.items.indexOf(this):t,a=r.items.indexOf(n)+e;return r.items[a].items[i]},t.sibling=function(e){if(0===e)return this;e=e||-1;var t=this.mark,n=t.items.indexOf(this)+e;return t.items[n]},t.remove=function(){var e=this,t=e.mark.items,n=t.indexOf(e);return n>=0&&(n===t.length-1?t.pop():t.splice(n,1)),e},t.touch=function(){this.pathCache&&(this.pathCache=null),this.mark.pathCache&&(this.mark.pathCache=null)},e}(),O.scene.item=function(e){return new O.scene.Item(e)},O.scene.visit=function(e,t){var n,r,i,a,o;if(t(e))return!0;var s=["items","axisItems","legendItems"];for(i=0,a=s.length;a>i;++i)if(o=e[s[i]])for(n=0,r=o.length;r>n;++n)if(O.scene.visit(o[n],t))return!0},O.scene.build=function(){function t(e,t,o,u,l){var c=O.scene.data(e.from?e.from(t,o,u):null,u);return o=n(e,o),o.items=r(e,c,o),a(e,o),e.type===s&&i(e,t,o,l),o}function n(e,t){return t=t||{},t.def=e,t.marktype=e.type,t.interactive=e.interactive!==!1,t}function r(e,t,n){var r,i,a,s,f,d,h=o(e.key),p=n.items||[],g=[],m={};for(r=0,a=p.length;a>r;++r)s=p[r],s.status=c,h&&(m[s.key]=s);for(r=0,a=t.length;a>r;++r)f=t[r],i=r,s=h?m[i=h(f)]:p[r],d=s?!1:(s=O.scene.item(n),!0),s.status=d?u:l,s.datum=f,s.key=i,g.push(s);for(r=0,a=p.length;a>r;++r)s=p[r],s.status===c&&(s.key=h?s.key:g.length,g.splice(s.index,0,s));return g}function i(e,n,r,i){var a,o,s,u,l,c,f=r.items,d=e.marks;for(a=0,o=f.length;o>a;++a){if(c=f[a],!i&&c.scales)for(l in c.scales)l.indexOf(":prev")<0&&(c.scales[l+":prev"]=c.scales[l].copy());for(c.items=c.items||[],s=0,u=d.length;u>s;++s)c.items[s]=t(d[s],n,c.items[s],c.datum),c.items[s].group=c}}function a(t,n){if(t.duration&&(n.duration=t.duration),t.ease&&(n.ease=e.ease(t.ease)),t.delay){var r,i=n.items,a=n.group,o=i.length;for(r=0;o>r;++r)t.delay.call(this,i[r],a)}}function o(e){if(null==e)return null;var t=O.array(e).map(O.accessor);return function(e){for(var n="",r=0,i=t.length;i>r;++r)r>0&&(n+="|"),n+=String(t[r](e));return n}}var s=O.scene.GROUP,u=O.scene.ENTER,l=O.scene.UPDATE,c=O.scene.EXIT;return t}(),O.scene.bounds=function(){function t(){return $||($=(O.config.isNode?new(require("canvas"))(1,1):e.select("body").append("canvas").attr("class","vega_hidden").attr("width",1).attr("height",1).style("display","none").node()).getContext("2d"))}function n(e,t,n){return null==t?n.set(0,0,0,0):(m(t,n),e.stroke&&0!==e.opacity&&e.strokeWidth>0&&n.expand(e.strokeWidth)),n}function r(e,t){var r=e.path?e.pathCache||(e.pathCache=g(e.path)):null;return n(e,r,t)}function i(e,t){var r=e.mark.items,e=r[0],i=e.pathCache||(e.pathCache=g(v(r)));return n(r[0],i,t)}function a(e,t){var r=e.mark.items,e=r[0],i=e.pathCache||(e.pathCache=g(y(r)));return n(r[0],i,t)}function o(e,t){var n=e.x||0,r=e.y||0,i=n+e.width||0,a=r+e.height||0;return t.set(n,r,i,a),e.stroke&&0!==e.opacity&&e.strokeWidth>0&&t.expand(e.strokeWidth),t}function s(e,t){var n=e.width||0,r=e.height||0,i=(e.x||0)-("center"===e.align?n/2:"right"===e.align?n:0),a=(e.y||0)-("middle"===e.baseline?r/2:"bottom"===e.baseline?r:0);return t.set(i,a,i+n,a+r)}function u(e,t){var n,r;return t.set(n=e.x||0,r=e.y||0,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r),e.stroke&&0!==e.opacity&&e.strokeWidth>0&&t.expand(e.strokeWidth),t}function l(e,t){var n,r,i,a,o,s,u,l,c,f=e.x||0,d=e.y||0,h=e.innerRadius||0,p=e.outerRadius||0,g=(e.startAngle||0)-b,m=(e.endAngle||0)-b,v=1/0,y=-(1/0),x=1/0,w=-(1/0),$=[g,m],k=g-g%b;for(r=0;4>r&&m>k;++r,k+=b)$.push(k);for(r=0,i=$.length;i>r;++r)n=$[r],a=Math.cos(n),s=h*a,l=p*a,o=Math.sin(n),u=h*o,c=p*o,v=Math.min(v,s,l),y=Math.max(y,s,l),x=Math.min(x,u,c),w=Math.max(w,u,c);return t.set(f+v,d+x,f+y,d+w),e.stroke&&0!==e.opacity&&e.strokeWidth>0&&t.expand(e.strokeWidth),t}function c(e,t){var n,r,i,a,o=null!=e.size?e.size:100,s=e.x||0,u=e.y||0;switch(e.shape){case"cross":n=Math.sqrt(o/5)/2,r=3*n,t.set(s-r,u-n,s+r,u+n);break;case"diamond":a=Math.sqrt(o/(2*w)),i=a*w,t.set(s-i,u-a,s+i,u+a);break;case"square":r=Math.sqrt(o),n=r/2,t.set(s-n,u-n,s+n,u+n);break;case"triangle-down":i=Math.sqrt(o/x),a=i*x/2,t.set(s-i,u-a,s+i,u+a);break;case"triangle-up":i=Math.sqrt(o/x),a=i*x/2,t.set(s-i,u-a,s+i,u+a);break;default:n=Math.sqrt(o/Math.PI),t.set(s-n,u-n,s+n,u+n)}return e.stroke&&0!==e.opacity&&e.strokeWidth>0&&t.expand(e.strokeWidth),t}function f(e,n,r){var i,a,o=(e.x||0)+(e.dx||0),s=(e.y||0)+(e.dy||0),u=e.fontSize||O.config.render.fontSize,l=e.align,c=e.baseline,f=e.radius||0,d=t();return d.font=O.scene.fontString(e),d.textAlign=l||"left",d.textBaseline=c||"alphabetic",i=d.measureText(e.text||"").width,f&&(a=(e.theta||0)-Math.PI/2,o+=f*Math.cos(a),s+=f*Math.sin(a)),"center"===l?o-=i/2:"right"===l&&(o-=i),"top"===c?s+=u/5:"bottom"===c?s-=u:"middle"===c?s=s-u/2+u/10:s-=4*u/5,n.set(o,s,o+i,s+u),e.angle&&!r&&n.rotate(e.angle*Math.PI/180,e.x||0,e.y||0),n.expand(r?0:1)}function d(e,t,n){var r,i,a=e.axisItems||[],o=e.legendItems||[];for(r=0,i=a.length;i>r;++r)t.union(a[r].bounds);for(r=0,i=e.items.length;i>r;++r)t.union(e.items[r].bounds);if(n){for(r=0,i=o.length;i>r;++r)t.union(o[r].bounds);null!=e.width&&null!=e.height&&t.add(e.width,e.height),null!=e.x&&null!=e.y&&t.add(0,0)}return t.translate(e.x||0,e.y||0),t}function h(e,t,n){t=t||k[e.mark.marktype],e.bounds_prev||(e["bounds:prev"]=new O.Bounds);var r=e.bounds,i=e["bounds:prev"];return r&&i.clear().union(r),e.bounds=t(e,r?r.clear():new O.Bounds,n),r||i.clear().union(e.bounds),e.bounds}function p(e,t,n){t=t||e.bounds&&e.bounds.clear()||new O.Bounds;var r,i,a=e.marktype,o=k[a],s=e.items;if("area"===a||"line"===a)s.length&&(s[0].bounds=o(s[0],t));else for(r=0,i=s.length;i>r;++r)t.union(h(s[r],o,n));e.bounds=t}var g=O.canvas.path.parse,m=O.canvas.path.bounds,v=O.canvas.path.area,y=O.canvas.path.line,b=Math.PI/2,x=Math.sqrt(3),w=Math.tan(30*Math.PI/180),$=null,k={group:d,symbol:c,image:s,rect:o,rule:u,arc:l,text:f,path:r,area:i,line:a};return{mark:p,item:h,text:f,group:d}}(),O.scene.encode=function(){function e(e,r,i,a,o){return a&&o?t.call(this,e,r,i,a,o):n.call(this,e,e,r,i,a),e}function t(e,t,n,r,i){i=O.array(i);var a,o,s,u,l,c;for(a=0,o=i.length;o>a;++a)s=i[a],u=s.mark.group||null,l=s.mark.def.properties,c=l&&l[r],c&&(c.call(O,s,u,n),O.scene.bounds.item(s))}function n(e,t,n,r,s){a.call(this,e,t.items,n,r,s),t.marktype===o?i.call(this,t,n,e,r,s):O.scene.bounds.mark(t)}function r(e,t,n,r,o){i.call(this,t,n,e,r,o),a.call(this,e,t.items,n,r,o),O.scene.bounds.mark(t,null,!0)}function i(e,t,i,a,o){var s,u,l,c,f,d,h,p,g,m,v,y;for(s=0,u=e.items.length;u>s;++s)for(f=e.items[s],d=f.scales||(f.scales=t.scales?O.extend({},i.scales):i.scales),t.scales&&O.parse.scales(t.scales,d,this._data,f),t.axes&&(h=f.axes||(f.axes=[]),p=f.axisItems||(f.axisItems=[]),O.parse.axes(t.axes,h,f.scales),h.forEach(function(e,t){g=e.def(),p[t]=O.scene.build(g,this._data,p[t],null,1),p[t].group=f,n.call(this,f,f.axisItems[t],g,a)})),l=0,c=f.items.length;c>l;++l)n.call(this,f,f.items[l],t.marks[l],a,o);if(O.scene.bounds.mark(e,null,!t.legends),t.legends){for(s=0,u=e.items.length;u>s;++s)f=e.items[s],m=f.legends||(f.legends=[]),v=f.legendItems||(f.legendItems=[]),O.parse.legends(t.legends,m,f.scales),m.forEach(function(e,t){y=e.def(),v[t]=O.scene.build(y,this._data,v[t],null,1),v[t].group=f,r.call(this,f,f.legendItems[t],y,a)});O.scene.bounds.mark(e,null,!0)}}function a(e,t,n,r,i){var a,o,f,d,h=n.properties||c,p=h.enter,g=h.update,m=h.exit;if(i){if(d=h[i])for(a=0,o=t.length;o>a;++a)d.call(O,t[a],e,r)}else for(a=0;a<t.length;++a)f=t[a],f.status===s&&(p&&p.call(O,f,e),f.status=u),f.status!==l&&g&&g.call(O,f,e,r),f.status===l&&(m&&m.call(O,f,e,r),r&&!m?r.interpolate(f,c):r||t[a--].remove())}var o=O.scene.GROUP,s=O.scene.ENTER,u=O.scene.UPDATE,l=O.scene.EXIT,c={};return e}(),O.scene.Transition=function(){function t(t,n){this.duration=t||500,this.ease=n&&e.ease(n)||e.ease("cubic-in-out"),this.updates={next:null}}function n(e){for(var t,n,r,i,a,o,s=this.updates,u=s,l=u.next,c=this.duration,f=!0;null!=l;u=l,l=u.next)if(t=l.item,n=t.delay||0,r=(e-n)/c,0>r)f=!1;else{for(r>1&&(r=1),i=l.ease(r),a=0,o=l.length;o>a;++a)t[l[a].property]=l[a](i);t.touch(),O.scene.bounds.item(t),1===r?(l.remove&&t.remove(),u.next=l.next,l=u):f=!1}return this.callback(),f}var r=t.prototype,i={text:1,url:1};return r.interpolate=function(t,n){var r,a,o,s,u=null;for(r in n)a=t[r],o=n[r],a!==o&&(i[r]||void 0===a?t[r]=o:"number"!=typeof a||isFinite(a)?(s=e.interpolate(a,o),s.property=r,(u||(u=[])).push(s)):t[r]=o);return null===u&&t.status===O.scene.EXIT&&(u=[]),null!=u&&(u.item=t,u.ease=t.mark.ease||this.ease,u.next=this.updates.next,this.updates.next=u),this},r.start=function(t){for(var r=this,i=r.updates,a=i.next;null!=a;i=a,a=i.next)a.item.status===O.scene.EXIT&&(a.remove=!0);r.callback=t,e.timer(function(e){return n.call(r,e)})},t}(),O.scene.transition=function(e,t){return new O.scene.Transition(e,t)},O.scene.axis=function(){function t(){c=null}function n(){return A||("log"===o.type?".1s":null)}function r(){var t=n();return o.tickFormat?o.tickFormat(D,t):t?"time"===o.type?e.time.format(t):e.format(t):String}function i(e){var t={major:T,minor:null};return null==t.major&&(t.major=o.ticks?o.ticks(D):o.domain()),t.minor=f(o,t.major,N).map(O.data.ingest),t.major=t.major.map(function(t){return t=O.data.ingest(t),t.label=e(t.data),t}),t}function a(e){var t,n,r;"ordinal"===e.type?(t={scale:e.scaleName,offset:.5+e.rangeBand()/2},n=t):(t={scale:e.scaleName,offset:.5},n={scale:e.scaleName+":prev",offset:.5}),r=h(e);var i=b(),a=b(),o=b(),u=x(),c=$(),f=w();i.properties.enter.stroke={value:O.config.axis.gridColor},g(s,i,n,t,1/0),g(s,a,n,t,S),g(s,o,n,t,E),p(s,u,n,t,S,M),v(s,c,r,C),m(s,f,r,l),O.extend(i.properties.update,L),O.extend(a.properties.update,R),O.extend(o.properties.update,P),O.extend(u.properties.update,I),O.extend(c.properties.update,F),O.extend(f.properties.update,j);var d=[i,a,o,u,c,f];return{type:"group",interactive:!1,properties:{enter:y,update:y},marks:d.map(O.parse.mark)}}var o,s=O.config.axis.orient,u=0,l=O.config.axis.titleOffset,c=null,d="front",k=!1,_=null,S=O.config.axis.tickSize,E=O.config.axis.tickSize,C=O.config.axis.tickSize,M=O.config.axis.padding,T=null,A=null,N=0,D=O.config.axis.ticks,L={},I={},R={},P={},j={},F={},U={};return U.def=function(){var e=c?c:c=a(o),t=r(),n=i(t),l=_?[_].map(O.data.ingest):[];return e.marks[0].from=function(){return k?n.major:[]},e.marks[1].from=function(){return n.major},e.marks[2].from=function(){return n.minor},e.marks[3].from=e.marks[1].from,e.marks[4].from=function(){return[1]},e.marks[5].from=function(){return l},e.offset=u,e.orient=s,e.layer=d,e},U.scale=function(e){return arguments.length?(o!==e&&(o=e,t()),U):o},U.orient=function(e){return arguments.length?(s!==e&&(s=e in Y?e+"":O.config.axis.orient,t()),U):s},U.title=function(e){return arguments.length?(_!==e&&(_=e,t()),U):_},U.tickCount=function(e){return arguments.length?(D=e,U):D},U.tickValues=function(e){return arguments.length?(T=e,U):T},U.tickFormat=function(e){return arguments.length?(A!==e&&(A=e,t()),U):A},U.tickSize=function(e,n){if(!arguments.length)return S;var r=arguments.length-1,i=+e,a=r>1?+n:S,o=r>0?+arguments[r]:S;return(S!==i||E!==a||C!==o)&&t(),S=i,E=a,C=o,U},U.tickSubdivide=function(e){return arguments.length?(N=+e,U):N},U.offset=function(e){return arguments.length?(u=O.isObject(e)?e:+e,U):u},U.tickPadding=function(e){return arguments.length?(M!==+e&&(M=+e,t()),U):M},U.titleOffset=function(e){return arguments.length?(l!==+e&&(l=+e,t()),U):l},U.layer=function(e){return arguments.length?(d!==e&&(d=e,t()),U):d},U.grid=function(e){return arguments.length?(k!==e&&(k=e,t()),U):k},U.gridLineProperties=function(e){return arguments.length?(L!==e&&(L=e),U):L},U.majorTickProperties=function(e){return arguments.length?(R!==e&&(R=e),U):R},U.minorTickProperties=function(e){return arguments.length?(P!==e&&(P=e),U):P},U.tickLabelProperties=function(e){return arguments.length?(I!==e&&(I=e),U):I},U.titleProperties=function(e){return arguments.length?(j!==e&&(j=e),U):j},U.domainProperties=function(e){return arguments.length?(F!==e&&(F=e),U):F},U.reset=function(){t()},U};var Y={top:1,right:1,bottom:1,left:1},G={bottom:"center",top:"center",left:"right",right:"left"},X={bottom:"top",top:"bottom",left:"middle",right:"middle"};O.scene.legend=function(){function t(){u=null}function n(e){return"ordinal"===e||"quantize"===e||"quantile"===e||"threshold"===e}function r(t){var n,r,a,o=i(l,c,f,d),u=(null==p?t.ticks?t.ticks.apply(t,x):t.domain():p).map(O.data.ingest),m=null==g?t.tickFormat?t.tickFormat.apply(t,x):String:g,v=5,y=e.range(u.length);l?(r=u.map(function(e){return Math.sqrt(l(e.data))}),a=e.max(r),r=r.reduce(function(e,t,n,r){return n>0&&(e[n]=e[n-1]+r[n-1]/2+v),e[n]+=t/2,e},[0]).map(Math.round)):(a=Math.round(Math.sqrt(O.config.legend.symbolSize)),r=h||(n=D.fontSize)&&n.value+v||O.config.legend.labelFontSize+v,r=y.map(function(e,t){return Math.round(a/2+t*r)}));var w,$=b;s&&(w=N.fontSize,$+=5+(w&&w.value||O.config.legend.titleFontSize));for(var k=0,_=r.length;_>k;++k)r[k]+=$;var t={name:"legend",type:"ordinal",points:!0,domain:y,range:r},S=(s?[s]:[]).map(O.data.ingest);return u.forEach(function(e){e.label=m(e.data),e.offset=a}),o.scales=[t],o.marks[0].from=function(){return S},o.marks[1].from=function(){return u},o.marks[2].from=o.marks[1].from,o}function i(e,t,n,r){var i=S(),a=E(),o=C();return _(a,e,t,n,r),O.extend(i.properties.update,N),O.extend(a.properties.update,$),O.extend(o.properties.update,D),i.properties.enter.x.value+=b,i.properties.enter.y.value+=b,o.properties.enter.x.offset+=b+1,a.properties.enter.x.offset=b+1,o.properties.update.x.offset+=b+1,a.properties.update.x.offset=b+1,{type:"group",interactive:!1,properties:{enter:O.parse.properties("group",w),update:k},marks:[i,a,o].map(O.parse.mark)}}function a(e){var t=o(e),n=e.domain(),r=n.map(O.data.ingest),i=A.width&&A.width.value||O.config.legend.gradientWidth,a=null==g?e.tickFormat?e.tickFormat.apply(e,x):String:g,u={name:"legend",type:e.type,round:!0,zero:!1,domain:[n[0],n[n.length-1]],range:[b,i+b]};"pow"===e.type&&(u.exponent=e.exponent());var l=(s?[s]:[]).map(O.data.ingest);return r.forEach(function(e,t){e.label=a(e.data),e.align=t==r.length-1?"right":0==t?"left":"center"}),t.scales=[u],t.marks[0].from=function(){return l},t.marks[1].from=function(){return[1]},t.marks[2].from=function(){return r},t}function o(e){var t=S(),n=M(),r=T(),i=new O.Gradient,a=e.domain(),o=a[0],u=a[a.length-1],l=e.copy().domain([o,u]).range([0,1]),c="linear"!==e.type&&e.ticks?e.ticks.call(e,15):a;o!==c[0]&&c.unshift(o),u!==c[c.length-1]&&c.push(u);for(var f=0,d=c.length;d>f;++f)i.stop(l(c[f]),e(c[f]));n.properties.enter.fill={value:i},O.extend(t.properties.update,N),O.extend(n.properties.update,A),O.extend(r.properties.update,D);var h=n.properties,p=A.height,g=p&&p.value||h.enter.height.value;if(r.properties.enter.y.value=g,r.properties.update.y.value=g,s){var m=t.properties,v=N.fontSize,y=4+(v&&v.value||m.enter.fontSize.value);n.properties.enter.y.value+=y,r.properties.enter.y.value+=y,
n.properties.update.y.value+=y,r.properties.update.y.value+=y}return t.properties.enter.x.value+=b,t.properties.enter.y.value+=b,n.properties.enter.x.value+=b,n.properties.enter.y.value+=b,r.properties.enter.y.value+=b,n.properties.update.x.value+=b,n.properties.update.y.value+=b,r.properties.update.y.value+=b,{type:"group",interactive:!1,properties:{enter:O.parse.properties("group",w),update:k},marks:[t,n,r].map(O.parse.mark)}}var s,u,l=null,c=null,f=null,d=null,h=null,p=null,g=null,m=null,v="right",y=O.config.legend.offset,b=O.config.legend.padding,x=[5],w={},$={},A={},N={},D={},L={},u=null;return L.def=function(){var t=l||c||f||d;return g=m?"time"===t.type?e.time.format(m):e.format(m):null,u||(u=t!==f&&t!==d||n(t.type)?r(t):a(t)),u.orient=v,u.offset=y,u.padding=b,u},L.size=function(e){return arguments.length?(l!==e&&(l=e,t()),L):l},L.shape=function(e){return arguments.length?(c!==e&&(c=e,t()),L):c},L.fill=function(e){return arguments.length?(f!==e&&(f=e,t()),L):f},L.stroke=function(e){return arguments.length?(d!==e&&(d=e,t()),L):d},L.title=function(e){return arguments.length?(s!==e&&(s=e,t()),L):s},L.format=function(e){return arguments.length?(m!==e&&(m=e,t()),L):m},L.spacing=function(e){return arguments.length?(h!==+e&&(h=+e,t()),L):h},L.orient=function(e){return arguments.length?(v=e in K?e+"":O.config.legend.orient,L):v},L.offset=function(e){return arguments.length?(y=+e,L):y},L.values=function(e){return arguments.length?(p=e,L):p},L.legendProperties=function(e){return arguments.length?(w=e,L):w},L.symbolProperties=function(e){return arguments.length?($=e,L):$},L.gradientProperties=function(e){return arguments.length?(A=e,L):A},L.labelProperties=function(e){return arguments.length?(D=e,L):D},L.titleProperties=function(e){return arguments.length?(N=e,L):N},L.reset=function(){t()},L};var K={right:1,left:1};return O.Model=function(){function e(){this._defs=null,this._data={},this._scene=null,this._reset={axes:!1,legends:!1}}var t=e.prototype;return t.defs=function(e){return arguments.length?(this._defs=e,this):this._defs},t.data=function(e){function t(e){(s[e]||[]).forEach(function(n){a[n]=e,t(n)})}if(!arguments.length)return this._data;var n,r,i,a={},o=this._defs,s=o.data.source,l=o.data.flow||{},f=o.data.sorted,d=f.length;for(O.keys(e).forEach(t),n=0;d>n;++n){if(e[r=f[n]])i=e[r];else{if(!a[r])continue;i=c(this._data[a[r]]),O.isTree(e)&&u(i)}this._data[r]=l[r]?l[r](i,this._data,o.marks):i}return this._reset.legends=!0,this},t.width=function(e){return this._defs&&(this._defs.width=e),this._defs&&this._defs.marks&&(this._defs.marks.width=e),this._scene&&(this._scene.items[0].width=e),this._reset.axes=!0,this},t.height=function(e){return this._defs&&(this._defs.height=e),this._defs&&this._defs.marks&&(this._defs.marks.height=e),this._scene&&(this._scene.items[0].height=e),this._reset.axes=!0,this},t.scene=function(e){return arguments.length?(this._scene=e,this):this._scene},t.build=function(){var e=this,t=e._data,n=e._defs.marks;return e._scene=O.scene.build.call(e,n,t,e._scene),e._scene.items[0].width=n.width,e._scene.items[0].height=n.height,e._scene.interactive=!1,this},t.encode=function(e,t,n){this.reset();var r=this,i=r._scene,a=r._defs;return O.scene.encode.call(r,i,a.marks,e,t,n),this},t.reset=function(){return this._scene&&this._reset.axes&&(O.scene.visit(this._scene,function(e){e.axes&&e.axes.forEach(function(e){e.reset()})}),this._reset.axes=!1),this._scene&&this._reset.legends&&(O.scene.visit(this._scene,function(e){e.legends&&e.legends.forEach(function(e){e.reset()})}),this._reset.legends=!1),this},e}(),O.View=function(){var t=function(e,t,n){this._el=null,this._build=!1,this._model=new O.Model,this._width=this.__width=t||500,this._height=this.__height=n||500,this._bgcolor=null,this._autopad=1,this._padding={top:0,left:0,bottom:0,right:0},this._viewport=null,this._renderer=null,this._handler=null,this._io=O.canvas,e&&this.initialize(e)},n=t.prototype;return n.width=function(e){return arguments.length?(this.__width!==e&&(this._width=this.__width=e,this._el&&this.initialize(this._el.parentNode),this._model.width(e),this._strict&&(this._autopad=1)),this):this.__width},n.height=function(e){return arguments.length?(this.__height!==e&&(this._height=this.__height=e,this._el&&this.initialize(this._el.parentNode),this._model.height(this._height),this._strict&&(this._autopad=1)),this):this.__height},n.background=function(e){return arguments.length?(this._bgcolor!==e&&(this._bgcolor=e,this._el&&this.initialize(this._el.parentNode)),this):this._bgcolor},n.padding=function(e){return arguments.length?(this._padding!==e&&(O.isString(e)?(this._autopad=1,this._padding={top:0,left:0,bottom:0,right:0},this._strict="strict"===e):(this._autopad=0,this._padding=e,this._strict=!1),this._el&&(this._renderer.resize(this._width,this._height,e),this._handler.padding(e))),this):this._padding},n.autopad=function(e){if(this._autopad<1)return this;this._autopad=0;var t=this._padding,n=this.model().scene().bounds,r=O.config.autopadInset,i=n.x1<0?Math.ceil(-n.x1)+r:0,a=n.y1<0?Math.ceil(-n.y1)+r:0,o=n.x2>this._width?Math.ceil(+n.x2-this._width)+r:0,n=n.y2>this._height?Math.ceil(+n.y2-this._height)+r:0;return t={left:i,top:a,right:o,bottom:n},this._strict?(this._autopad=0,this._padding=t,this._width=Math.max(0,this.__width-(i+o)),this._height=Math.max(0,this.__height-(a+n)),this._model.width(this._width),this._model.height(this._height),this._el&&this.initialize(this._el.parentNode),this.update({props:"enter"}).update({props:"update"})):this.padding(t).update(e),this},n.viewport=function(e){return arguments.length?(this._viewport!==e&&(this._viewport=e,this._el&&this.initialize(this._el.parentNode)),this):this._viewport},n.renderer=function(e){return arguments.length?("canvas"===e&&(e=O.canvas),"svg"===e&&(e=O.svg),this._io!==e&&(this._io=e,this._renderer=null,this._el&&this.initialize(this._el.parentNode),this._build&&this.render()),this):this._io},n.defs=function(e){return arguments.length?(this._model.defs(e),this):this._model.defs()},n.data=function(e){if(!arguments.length)return this._model.data();var t=O.keys(e).reduce(function(t,n){return t[n]=O.data.ingestAll(e[n]),t},{});return this._model.data(t),this._build=!1,this},n.model=function(e){return arguments.length?(this._model!==e&&(this._model=e,this._handler&&this._handler.model(e)),this):this._model},n.initialize=function(t){var n,r=this,i=r._width,a=r._height,o=r._bgcolor,s=r._padding;return e.select(t).select("div.vega").remove(),this._el=t=e.select(t).append("div").attr("class","vega").style("position","relative").node(),r._viewport&&e.select(t).style("width",(r._viewport[0]||i)+"px").style("height",(r._viewport[1]||a)+"px").style("overflow","auto"),r._renderer=(r._renderer||new this._io.Renderer).initialize(t,i,a,s,o),n=r._handler,r._handler=(new this._io.Handler).initialize(t,s,r).model(r._model),n&&n.handlers().forEach(function(e){r._handler.on(e.type,e.handler)}),this},n.render=function(e){return this._renderer.render(this._model.scene(),e),this},n.on=function(){return this._handler.on.apply(this._handler,arguments),this},n.off=function(){return this._handler.off.apply(this._handler,arguments),this},n.update=function(e){e=e||{};var t=this,n=e.duration?O.scene.transition(e.duration,e.ease):null;return t._build=t._build||(t._model.build(),!0),t._model.encode(n,e.props,e.items),n?n.start(function(e){t._renderer.render(t._model.scene(),e)}):t.render(e.items),t.autopad(e)},t}(),O.ViewFactory=function(e){return function(t){t=t||{};var n=(new O.View).width(e.width).height(e.height).background(e.background).padding(e.padding).viewport(e.viewport).renderer(t.renderer||"canvas").defs(e);return e.data.load&&n.data(e.data.load),t.data&&n.data(t.data),t.el&&n.initialize(t.el),t.hover!==!1&&n.on("mouseover",function(e,t){t.hasPropertySet("hover")&&this.update({props:"hover",items:t})}).on("mouseout",function(e,t){t.hasPropertySet("hover")&&this.update({props:"update",items:t})}),n}},O.Spec=function(){var e=function(e){this.spec={width:500,height:500,padding:0,data:[],scales:[],axes:[],marks:[]},e&&O.extend(this.spec,e)},t=e.prototype;return t.width=function(e){return this.spec.width=e,this},t.height=function(e){return this.spec.height=e,this},t.padding=function(e){return this.spec.padding=e,this},t.viewport=function(e){return this.spec.viewport=e,this},t.data=function(e,t){return t?t.name=e:t=O.isString(e)?{name:e}:e,this.spec.data.push(t),this},t.scale=function(e,t){return t?t.name=e:t=O.isString(e)?{name:e}:e,this.spec.scales.push(t),this},t.axis=function(e){return this.spec.axes.push(e),this},t.mark=function(e,t){t?t.type=e:t={type:e},t.properties={},this.spec.marks.push(t);var n=this;return{from:function(e,n){return t.from=n?(n.data=e,n):O.isString(e)?{data:e}:e,this},prop:function(e,n){return t.properties[e]=O.keys(n).reduce(function(e,t){var r=n[t];return e[t]=O.isObject(r)?r:{value:r},e},{}),this},done:function(){return n}}},t.parse=function(e){O.parse.spec(this.spec,e)},t.json=function(){return this.spec},e}(),O.spec=function(e){return new O.Spec(e)},O.headless={},O.headless.canvas=O.canvas.Renderer,O.headless.svg=function(){function t(e,t,n){var r="<"+e;if(t)for(var i in t){var a=t[i];null!=a&&(r+=" "+i+'="'+a+'"')}return n&&(r+=" "+n),r+">"}function n(e){return"</"+e+">"}function r(e){return e=null==e?"":String(e),e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(e){return String(e).replace(/\"/g,"'")}function a(e){var r=e.width||0,i=e.height||0;return 0===r&&0===i?"":t("rect",{"class":"background",width:r,height:i},k(e,"rect"))+n("rect")}function o(e,t){var n=e.x||0,r=e.y||0,i={transform:"translate("+n+","+r+")"};if(e.clip){var a={width:e.width||0,height:e.height||0},o=e.clip_id||(e.clip_id="clip"+L++);t.clipping[o]=a,i["clip-path"]="url(#"+o+")"}return i}function s(e){var t=e.x||0,n=e.y||0;return{transform:"translate("+t+","+n+")",d:M(e)}}function u(e){if(e.length){var t=e[0],n="horizontal"===t.orient?A:T;return n.interpolate(t.interpolate||"linear").tension(null==t.tension?.7:t.tension),{d:n(e)}}}function l(e){if(e.length){var t=e[0];return N.interpolate(t.interpolate||"linear").tension(null==t.tension?.7:t.tension),{d:N(e)}}}function c(e){var t=e.x||0,n=e.y||0;return{transform:"translate("+t+","+n+")",d:e.path}}function f(e){return{x:e.x||0,y:e.y||0,width:e.width||0,height:e.height||0}}function d(e){var t=e.x||0,n=e.y||0;return{x1:t,y1:n,x2:null!=e.x2?e.x2:t,y2:null!=e.y2?e.y2:n}}function h(e){var t=e.x||0,n=e.y||0;return{transform:"translate("+t+","+n+")",d:D(e)}}function p(e){var t=e.width||e.image&&e.image.width||0,n=e.height||e.image&&e.image.height||0,r=e.x-("center"===e.align?t/2:"right"===e.align?t:0),i=e.y-("middle"===e.baseline?n/2:"bottom"===e.baseline?n:0),a=O.config.baseURL+e.url;return{"xlink:href":a,x:r,y:i,width:t,height:n}}function g(e){var t=e.x||0,n=e.y||0,r=e.dx||0,i=e.dy||0,a=e.angle||0,o=e.radius||0,s=I[e.align||"left"],u="top"===e.baseline?".9em":"middle"===e.baseline?".35em":0;if(o){var l=(e.theta||0)-Math.PI/2;t+=o*Math.cos(l),n+=o*Math.sin(l)}return{x:t+r,y:n+i,"text-anchor":s,transform:a?"rotate("+a+" "+t+","+n+")":null,dy:u?u:null}}function m(e){var t="type-"+e.type;return e.name&&(t+=" "+e.name),t}function v(e){return e.x||0}function y(e){return e.y||0}function b(e){return e.x+e.width||0}function x(e){return e.y+e.height||0}function w(e){return null==e.size?100:e.size}function $(e){return e.shape||"circle"}function k(e,t,n){var r,i,a,o,s,u=e.mark?e:e.length?e[0]:null;if(null===u)return null;var l="";for(r=0,i=P.length;i>r;++r)a=P[r],o=R[a],s=u[a],null==s?"fill"===o&&(l+="fill:none;"):(s.id&&(n.gradient[s.id]=s,s="url("+window.location.href+"#"+s.id+")"),l+=o+":"+s+";");return"text"===t&&(l+="font:"+_(u)),l.length?'style="'+l+'"':null}function _(e){var t=(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+(null!=e.fontSize?e.fontSize:O.config.render.fontSize)+"px "+(e.font&&i(e.font)||O.config.render.font);return t}var S=function(){this._text={head:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}},E=S.prototype;E.initialize=function(e,r,i,a,o){var s=this._text,u={width:r,height:i};null!=o&&(u.style="background-color:"+o+";"),s.head=t("svg",u,O.config.svgNamespace),s.root=t("g",{transform:"translate("+a.left+","+a.top+")"}),s.foot=n("g")+n("svg")},E.svg=function(){var e=this._text;return e.head+e.defs+e.root+e.body+e.foot},E.buildDefs=function(){var e,r,i=this._defs,a=O.keys(i.gradient),o=O.keys(i.clipping),s="";for(e=0;e<a.length;++e){var u=a[e],l=i.gradient[u],c=l.stops;for(s+=t("linearGradient",{id:u,x1:l.x1,x2:l.x2,y1:l.y1,y2:l.y2}),r=0;r<c.length;++r)s+=t("stop",{offset:c[r].offset,"stop-color":c[r].color})+n("stop");s+=n("linearGradient")}for(e=0;e<o.length;++e){var u=o[e],l=i.clipping[u];s+=t("clipPath",{id:u}),s+=t("rect",{x:0,y:0,width:l.width,height:l.height})+n("rect"),s+=n("clipPath")}return s},E.render=function(e){this._text.body=this.draw(e),this._text.defs=this.buildDefs()},E.draw=function(e){var i,a,o=C[e.marktype],s=o[0],u=o[1],l=o[2]||!1,c=l?[e.items]:e.items,f=this._defs,d="";for(d+=t("g",{"class":m(e.def)}),i=0;i<c.length;++i)a="g"===s?null:k(c[i],s,f),d+=t(s,u(c[i],f),a),"text"===s&&(d+=r(c[i].text)),"g"===s&&(d+=this.drawGroup(c[i])),d+=n(s);return d+n("g")};var C={group:["g",o],area:["path",u,!0],line:["path",l,!0],arc:["path",s],path:["path",c],symbol:["path",h],rect:["rect",f],rule:["line",d],text:["text",g],image:["image",p]};E.drawGroup=function(e){var t,n,r="",i=e.axisItems||[],o=e.items,s=e.legendItems||[];for(r+=a(e),t=0,n=i.length;n>t;++t)"back"===i[t].def.layer&&(r+=this.draw(i[t]));for(t=0,n=o.length;n>t;++t)r+=this.draw(o[t]);for(t=0,n=i.length;n>t;++t)"back"!==i[t].def.layer&&(r+=this.draw(i[t]));for(t=0,n=s.length;n>t;++t)r+=this.draw(s[t]);return r};var M=e.svg.arc(),T=e.svg.area().x(v).y1(y).y0(x),A=e.svg.area().y(y).x0(b).x1(v),N=e.svg.line().x(v).y(y),D=e.svg.symbol().type($).size(w),L=0,I={left:"start",center:"middle",right:"end"},R={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity",strokeCap:"stroke-linecap",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",opacity:"opacity"},P=O.keys(R);return S}(),O.headless.View=function(){var e=function(e,t,n,r,i,a){this._canvas=null,this._type=i,this._el="body",this._build=!1,this._model=new O.Model,this._width=this.__width=e||500,this._height=this.__height=t||500,this._bgcolor=r||null,this._padding=n||{top:0,left:0,bottom:0,right:0},this._autopad=O.isString(this._padding)?1:0,this._renderer=new O.headless[i],this._viewport=a||null,this.initialize()},t=e.prototype;return t.el=function(e){return arguments.length?(this._el!==e&&(this._el=e,this.initialize()),this):this._el},t.model=function(){return this._model},t.width=function(e){return arguments.length?(this._width!==e&&(this._width=e,this.initialize(),this._model.width(e)),this):this._width},t.height=function(e){return arguments.length?(this._height!==e&&(this._height=e,this.initialize(),this._model.height(this._height)),this):this._height},t.background=function(e){return arguments.length?(this._bgcolor!==e&&(this._bgcolor=e,this.initialize()),this):this._bgcolor},t.padding=function(e){return arguments.length?(this._padding!==e&&(O.isString(e)?(this._autopad=1,this._padding={top:0,left:0,bottom:0,right:0},this._strict="strict"===e):(this._autopad=0,this._padding=e,this._strict=!1),this.initialize()),this):this._padding},t.autopad=function(e){if(this._autopad<1)return this;this._autopad=0;var t=this._padding,n=this._model.scene().bounds,r=O.config.autopadInset,i=n.x1<0?Math.ceil(-n.x1)+r:0,a=n.y1<0?Math.ceil(-n.y1)+r:0,o=n.x2>this._width?Math.ceil(+n.x2-this._width)+r:0,n=n.y2>this._height?Math.ceil(+n.y2-this._height)+r:0;return t={left:i,top:a,right:o,bottom:n},this._strict?(this._autopad=0,this._padding=t,this._width=Math.max(0,this.__width-(i+o)),this._height=Math.max(0,this.__height-(a+n)),this._model.width(this._width),this._model.height(this._height),this._el&&this.initialize(),this.update({props:"enter"}).update({props:"update"})):this.padding(t).update(e),this},t.viewport=function(e){return arguments.length?(this._viewport=e,this.initialize(),this):_viewport},t.defs=function(e){return arguments.length?(this._model.defs(e),this):this._model.defs()},t.data=function(e){if(!arguments.length)return this._model.data();var t=O.keys(e).reduce(function(t,n){return t[n]=O.data.ingestAll(e[n]),t},{});return this._model.data(t),this._build=!1,this},t.renderer=function(){return this._renderer},t.canvas=function(){return this._canvas},t.canvasAsync=function(e){function t(){0===n.pendingImages()?(r.render(),e(r._canvas)):setTimeout(t,10)}var n=this._renderer,r=this;n.pendingImages()>0?t():e(this._canvas)},t.svg=function(){return"svg"===this._type?this._renderer.svg():null},t.initialize=function(){var e=this._width,t=this._height,n=this._bgcolor,r=this._padding;return this._viewport&&(e=this._viewport[0]-(r?r.left+r.right:0),t=this._viewport[1]-(r?r.top+r.bottom:0)),"svg"===this._type?this.initSVG(e,t,r,n):this.initCanvas(e,t,r,n),this},t.initCanvas=function(e,t,n,r){var i=require("canvas"),a=e+(n?n.left+n.right:0),o=t+(n?n.top+n.bottom:0),s=this._canvas=new i(a,o),u=s.getContext("2d");u.setTransform(1,0,0,1,n.left,n.top),this._renderer.context(u),this._renderer.resize(e,t,n),this._renderer.background(r)},t.initSVG=function(e,t,n,r){var i=e+(n?n.left+n.right:0),a=t+(n?n.top+n.bottom:0);this._renderer.initialize(this._el,i,a,n,r)},t.render=function(e){return this._renderer.render(this._model.scene(),e),this},t.update=function(e){e=e||{};var t=this;return t._build=t._build||(t._model.build(),!0),t._model.encode(null,e.props,e.items),t.render(e.items),t.autopad(e)},e}(),O.headless.View.Factory=function(e){return function(t){t=t||{};var n=e.width,r=e.height,i=e.padding,a=e.background,o=e.viewport,s=t.renderer||"canvas",u=new O.headless.View(n,r,i,a,s,o).defs(e);return e.data.load&&u.data(e.data.load),t.data&&u.data(t.data),u}},O.headless.render=function(e,t){function n(n){try{var r=n({data:e.data,renderer:e.renderer}).update();"svg"===e.renderer?t(null,{svg:r.svg(),view:r}):r.canvasAsync(function(e){t(null,{canvas:e,view:r})})}catch(i){t(i,null)}}O.parse.spec(e.spec,n,O.headless.View.Factory)},O}),/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.11.2 - 2015-03-17T04:08:46.474Z
 * License: MIT
 */
function(){"use strict";var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var n=t.which;switch(n){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var t=0,n=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,generateId:function(){return t++},appendToBody:!1}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,r,i){i(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?t.replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);n.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(e,t,n,r){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme;return n+"/choices.tpl.html"},compile:function(i,a){if(!a.repeat)throw n("repeat","Expected 'repeat' expression.");return function(i,a,o,s,u){var l=o.groupBy;if(s.parseRepeatAttr(o.repeat,l),s.disableChoiceExpression=o.uiDisableChoice,s.onHighlightCallback=o.onHighlight,l){var c=a.querySelectorAll(".ui-select-choices-group");if(1!==c.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",c.length);c.attr("ng-repeat",t.getGroupNgRepeatExpression())}var f=a.querySelectorAll(".ui-select-choices-row");if(1!==f.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",f.length);f.attr("ng-repeat",t.getNgRepeatExpression(s.parserResult.itemName,"$select.items",s.parserResult.trackByExp,l)).attr("ng-if","$select.open").attr("ng-mouseenter","$select.setActiveItem("+s.parserResult.itemName+")").attr("ng-click","$select.select("+s.parserResult.itemName+",false,$event)");var d=a.querySelectorAll(".ui-select-choices-row-inner");if(1!==d.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",d.length);d.attr("uis-transclude-append",""),r(a,u)(i),i.$watch("$select.search",function(e){e&&!s.open&&s.multiple&&s.activate(!1,!0),s.activeIndex=s.tagging.isActivated?-1:0,s.refresh(o.refresh)}),o.$observe("refreshDelay",function(){var t=i.$eval(o.refreshDelay);s.refreshDelay=void 0!==t?t:e.refreshDelay})}}}}]),n.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig",function(t,n,r,i,a,o,s){function u(){(f.resetSearchInput||void 0===f.resetSearchInput&&s.resetSearchInput)&&(f.search=d,f.selected&&f.items.length&&!f.multiple&&(f.activeIndex=f.items.indexOf(f.selected)))}function l(t){var n=!0;switch(t){case e.DOWN:!f.open&&f.multiple?f.activate(!1,!0):f.activeIndex<f.items.length-1&&f.activeIndex++;break;case e.UP:!f.open&&f.multiple?f.activate(!1,!0):(f.activeIndex>0||0===f.search.length&&f.tagging.isActivated&&f.activeIndex>-1)&&f.activeIndex--;break;case e.TAB:(!f.multiple||f.open)&&f.select(f.items[f.activeIndex],!0);break;case e.ENTER:f.open&&f.activeIndex>=0?f.select(f.items[f.activeIndex]):f.activate(!1,!0);break;case e.ESC:f.close();break;default:n=!1}return n}function c(){var e=n.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw o("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(f.activeIndex<0)){var r=t[f.activeIndex],i=r.offsetTop+r.clientHeight-e[0].scrollTop,a=e[0].offsetHeight;i>a?e[0].scrollTop+=i-a:i<r.clientHeight&&(f.isGrouped&&0===f.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=r.clientHeight-i)}}var f=this,d="";if(f.placeholder=s.placeholder,f.searchEnabled=s.searchEnabled,f.sortable=s.sortable,f.refreshDelay=s.refreshDelay,f.removeSelected=!1,f.closeOnSelect=!0,f.search=d,f.activeIndex=0,f.items=[],f.open=!1,f.focus=!1,f.disabled=!1,f.selected=void 0,f.focusser=void 0,f.resetSearchInput=!0,f.multiple=void 0,f.disableChoiceExpression=void 0,f.tagging={isActivated:!1,fct:void 0},f.taggingTokens={isActivated:!1,tokens:void 0},f.lockChoiceExpression=void 0,f.clickTriggeredSelect=!1,f.$filter=i,f.searchInput=n.querySelectorAll("input.ui-select-search"),1!==f.searchInput.length)throw o("searchInput","Expected 1 input.ui-select-search but got '{0}'.",f.searchInput.length);f.isEmpty=function(){return angular.isUndefined(f.selected)||null===f.selected||""===f.selected},f.activate=function(e,n){f.disabled||f.open||(n||u(),t.$broadcast("uis:activate"),f.open=!0,f.activeIndex=f.activeIndex>=f.items.length?0:f.activeIndex,-1===f.activeIndex&&f.taggingLabel!==!1&&(f.activeIndex=0),r(function(){f.search=e||f.search,f.searchInput[0].focus()}))},f.findGroupByName=function(e){return f.groups&&f.groups.filter(function(t){return t.name===e})[0]},f.parseRepeatAttr=function(e,n){function r(e){f.groups=[],angular.forEach(e,function(e){var r=t.$eval(n),i=angular.isFunction(r)?r(e):e[r],a=f.findGroupByName(i);a?a.items.push(e):f.groups.push({name:i,items:[e]})}),f.items=[],f.groups.forEach(function(e){f.items=f.items.concat(e.items)})}function i(e){f.items=e}f.setItemsFn=n?r:i,f.parserResult=a.parse(e),f.isGrouped=!!n,f.itemProperty=f.parserResult.itemName,f.refreshItems=function(e){e=e||f.parserResult.source(t);var n=f.selected;if(angular.isArray(n)&&!n.length||!f.removeSelected)f.setItemsFn(e);else if(void 0!==e){var r=e.filter(function(e){return n.indexOf(e)<0});f.setItemsFn(r)}},t.$watchCollection(f.parserResult.source,function(e){if(void 0===e||null===e)f.items=[];else{if(!angular.isArray(e))throw o("items","Expected an array but got '{0}'.",e);f.refreshItems(e),f.ngModel.$modelValue=null}})};var h;f.refresh=function(e){void 0!==e&&(h&&r.cancel(h),h=r(function(){t.$eval(e)},f.refreshDelay))},f.setActiveItem=function(e){f.activeIndex=f.items.indexOf(e)},f.isActive=function(e){if(!f.open)return!1;var t=f.items.indexOf(e[f.itemProperty]),n=t===f.activeIndex;return!n||0>t&&f.taggingLabel!==!1||0>t&&f.taggingLabel===!1?!1:(n&&!angular.isUndefined(f.onHighlightCallback)&&e.$eval(f.onHighlightCallback),n)},f.isDisabled=function(e){if(f.open){var t,n=f.items.indexOf(e[f.itemProperty]),r=!1;return n>=0&&!angular.isUndefined(f.disableChoiceExpression)&&(t=f.items[n],r=!!e.$eval(f.disableChoiceExpression),t._uiSelectChoiceDisabled=r),r}},f.select=function(e,n,i){if(void 0===e||!e._uiSelectChoiceDisabled){if(!f.items&&!f.search)return;if(!e||!e._uiSelectChoiceDisabled){if(f.tagging.isActivated){if(f.taggingLabel===!1)if(f.activeIndex<0){if(e=void 0!==f.tagging.fct?f.tagging.fct(f.search):f.search,!e||angular.equals(f.items[0],e))return}else e=f.items[f.activeIndex];else if(0===f.activeIndex){if(void 0===e)return;if(void 0!==f.tagging.fct&&"string"==typeof e){if(e=f.tagging.fct(f.search),!e)return}else"string"==typeof e&&(e=e.replace(f.taggingLabel,"").trim())}if(f.selected&&angular.isArray(f.selected)&&f.selected.filter(function(t){return angular.equals(t,e)}).length>0)return void f.close(n)}t.$broadcast("uis:select",e);var a={};a[f.parserResult.itemName]=e,r(function(){f.onSelectCallback(t,{$item:e,$model:f.parserResult.modelMapper(t,a)})}),f.closeOnSelect&&f.close(n),i&&"click"===i.type&&(f.clickTriggeredSelect=!0)}}},f.close=function(e){f.open&&(f.ngModel&&f.ngModel.$setTouched&&f.ngModel.$setTouched(),u(),f.open=!1,t.$broadcast("uis:close",e))},f.setFocus=function(){f.focus||f.focusInput[0].focus()},f.clear=function(e){f.select(void 0),e.stopPropagation(),f.focusser[0].focus()},f.toggle=function(e){f.open?(f.close(),e.preventDefault(),e.stopPropagation()):f.activate()},f.isLocked=function(e,t){var n,r=f.selected[t];return r&&!angular.isUndefined(f.lockChoiceExpression)&&(n=!!e.$eval(f.lockChoiceExpression),r._uiSelectChoiceLocked=n),n};var p=null;f.sizeSearchInput=function(){var e=f.searchInput[0],n=f.searchInput.parent().parent()[0],i=function(){return n.clientWidth*!!e.offsetParent},a=function(t){if(0===t)return!1;var n=t-e.offsetLeft-10;return 50>n&&(n=t),f.searchInput.css("width",n+"px"),!0};f.searchInput.css("width","10px"),r(function(){null!==p||a(i())||(p=t.$watch(i,function(e){a(e)&&(p(),p=null)}))})},f.searchInput.on("keydown",function(n){var i=n.which;t.$apply(function(){var t=!1;if((f.items.length>0||f.tagging.isActivated)&&(l(i),f.taggingTokens.isActivated)){for(var a=0;a<f.taggingTokens.tokens.length;a++)f.taggingTokens.tokens[a]===e.MAP[n.keyCode]&&f.search.length>0&&(t=!0);t&&r(function(){f.searchInput.triggerHandler("tagged");var t=f.search.replace(e.MAP[n.keyCode],"").trim();f.tagging.fct&&(t=f.tagging.fct(t)),t&&f.select(t,!0)})}}),e.isVerticalMovement(i)&&f.items.length>0&&c()}),f.searchInput.on("paste",function(e){var t=e.originalEvent.clipboardData.getData("text/plain");if(t&&t.length>0&&f.taggingTokens.isActivated&&f.tagging.fct){var n=t.split(f.taggingTokens.tokens[0]);n&&n.length>0&&(angular.forEach(n,function(e){var t=f.tagging.fct(e);t&&f.select(t,!0)}),e.preventDefault(),e.stopPropagation())}}),f.searchInput.on("tagged",function(){r(function(){u()})}),t.$on("$destroy",function(){f.searchInput.off("keyup keydown tagged blur paste")})}]),n.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,r,i,a,o){return{restrict:"EA",templateUrl:function(e,n){var r=n.theme||t.theme;return r+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(i,s){return angular.isDefined(s.multiple)?i.append("<ui-select-multiple/>").removeAttr("multiple"):i.append("<ui-select-single/>"),function(i,s,u,l,c){function f(e){if(p.open){var t=!1;if(t=window.jQuery?window.jQuery.contains(s[0],e.target):s[0].contains(e.target),!t&&!p.clickTriggeredSelect){var n=["input","button","textarea"],r=angular.element(e.target).scope(),a=r&&r.$select&&r.$select!==p;a||(a=~n.indexOf(e.target.tagName.toLowerCase())),p.close(a),i.$digest()}p.clickTriggeredSelect=!1}}function d(){var t=r(s);v=angular.element('<div class="ui-select-placeholder"></div>'),v[0].style.width=t.width+"px",v[0].style.height=t.height+"px",s.after(v),y=s[0].style.width,e.find("body").append(s),s[0].style.position="absolute",s[0].style.left=t.left+"px",s[0].style.top=t.top+"px",s[0].style.width=t.width+"px"}function h(){null!==v&&(v.replaceWith(s),v=null,s[0].style.position="",s[0].style.left="",s[0].style.top="",s[0].style.width=y)}var p=l[0],g=l[1];p.generatedId=t.generateId(),p.baseTitle=u.title||"Select box",p.focusserTitle=p.baseTitle+" focus",p.focusserId="focusser-"+p.generatedId,p.closeOnSelect=function(){return angular.isDefined(u.closeOnSelect)?a(u.closeOnSelect)():t.closeOnSelect}(),p.onSelectCallback=a(u.onSelect),p.onRemoveCallback=a(u.onRemove),p.ngModel=g,p.choiceGrouped=function(e){return p.isGrouped&&e&&e.name},u.tabindex&&u.$observe("tabindex",function(e){p.focusInput.attr("tabindex",e),s.removeAttr("tabindex")}),i.$watch("searchEnabled",function(){var e=i.$eval(u.searchEnabled);p.searchEnabled=void 0!==e?e:t.searchEnabled}),i.$watch("sortable",function(){var e=i.$eval(u.sortable);p.sortable=void 0!==e?e:t.sortable}),u.$observe("disabled",function(){p.disabled=void 0!==u.disabled?u.disabled:!1}),u.$observe("resetSearchInput",function(){var e=i.$eval(u.resetSearchInput);p.resetSearchInput=void 0!==e?e:!0}),u.$observe("tagging",function(){if(void 0!==u.tagging){var e=i.$eval(u.tagging);p.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else p.tagging={isActivated:!1,fct:void 0}}),u.$observe("taggingLabel",function(){void 0!==u.tagging&&(p.taggingLabel="false"===u.taggingLabel?!1:void 0!==u.taggingLabel?u.taggingLabel:"(new)")}),u.$observe("taggingTokens",function(){if(void 0!==u.tagging){var e=void 0!==u.taggingTokens?u.taggingTokens.split("|"):[",","ENTER"];p.taggingTokens={isActivated:!0,tokens:e}}}),angular.isDefined(u.autofocus)&&o(function(){p.setFocus()}),angular.isDefined(u.focusOn)&&i.$on(u.focusOn,function(){o(function(){p.setFocus()})}),e.on("click",f),i.$on("$destroy",function(){e.off("click",f)}),c(i,function(e){var t=angular.element("<div>").append(e),r=t.querySelectorAll(".ui-select-match");if(r.removeAttr("ui-select-match"),r.removeAttr("data-ui-select-match"),1!==r.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",r.length);s.querySelectorAll(".ui-select-match").replaceWith(r);var i=t.querySelectorAll(".ui-select-choices");if(i.removeAttr("ui-select-choices"),i.removeAttr("data-ui-select-choices"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",i.length);s.querySelectorAll(".ui-select-choices").replaceWith(i)});var m=i.$eval(u.appendToBody);(void 0!==m?m:t.appendToBody)&&(i.$watch("$select.open",function(e){e?d():h()}),i.$on("$destroy",function(){h()}));var v=null,y=""}}}}]),n.directive("uiSelectMatch",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme,r=t.parent().attr("multiple");return n+(r?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,r,i){function a(e){i.allowClear=angular.isDefined(e)?""===e?!0:"true"===e.toLowerCase():!1}i.lockChoiceExpression=r.uiLockChoice,r.$observe("placeholder",function(t){i.placeholder=void 0!==t?t:e.placeholder}),r.$observe("allowClear",a),a(r.allowClear),i.multiple&&i.sizeSearchInput()}}}]),n.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,r=this,i=e.$select;e.$evalAsync(function(){n=e.ngModel}),r.activeMatchIndex=-1,r.updateModel=function(){n.$setViewValue(Date.now()),r.refreshComponent()},r.refreshComponent=function(){i.refreshItems(),i.sizeSearchInput()},r.removeChoice=function(n){var a=i.selected[n];if(!a._uiSelectChoiceLocked){var o={};o[i.parserResult.itemName]=a,i.selected.splice(n,1),r.activeMatchIndex=-1,i.sizeSearchInput(),t(function(){i.onRemoveCallback(e,{$item:a,$model:i.parserResult.modelMapper(e,o)})}),r.updateModel()}},r.getPlaceholder=function(){return i.selected.length?void 0:i.placeholder}}],controllerAs:"$selectMultiple",link:function(r,i,a,o){function s(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function u(t){function n(){switch(t){case e.LEFT:return~h.activeMatchIndex?c:o;case e.RIGHT:return~h.activeMatchIndex&&u!==o?l:(f.activate(),!1);case e.BACKSPACE:return~h.activeMatchIndex?(h.removeChoice(u),c):o;case e.DELETE:return~h.activeMatchIndex?(h.removeChoice(h.activeMatchIndex),u):!1}}var r=s(f.searchInput[0]),i=f.selected.length,a=0,o=i-1,u=h.activeMatchIndex,l=h.activeMatchIndex+1,c=h.activeMatchIndex-1,d=u;return r>0||f.search.length&&t==e.RIGHT?!1:(f.close(),d=n(),h.activeMatchIndex=f.selected.length&&d!==!1?Math.min(o,Math.max(a,d)):-1,!0)}function l(e){if(void 0===e||void 0===f.search)return!1;var t=e.filter(function(e){return void 0===f.search.toUpperCase()||void 0===e?!1:e.toUpperCase()===f.search.toUpperCase()}).length>0;return t}function c(e,t){var n=-1;if(angular.isArray(e))for(var r=angular.copy(e),i=0;i<r.length;i++)if(void 0===f.tagging.fct)r[i]+" "+f.taggingLabel===t&&(n=i);else{var a=r[i];a.isTag=!0,angular.equals(a,t)&&(n=i)}return n}var f=o[0],d=r.ngModel=o[1],h=r.$selectMultiple;f.multiple=!0,f.removeSelected=!0,f.focusInput=f.searchInput,d.$parsers.unshift(function(){for(var e,t={},n=[],i=f.selected.length-1;i>=0;i--)t={},t[f.parserResult.itemName]=f.selected[i],e=f.parserResult.modelMapper(r,t),n.unshift(e);return n}),d.$formatters.unshift(function(e){var t,n=f.parserResult.source(r,{$select:{search:""}}),i={};if(!n)return e;var a=[],o=function(e,n){if(e&&e.length){for(var o=e.length-1;o>=0;o--){if(i[f.parserResult.itemName]=e[o],t=f.parserResult.modelMapper(r,i),f.parserResult.trackByExp){var s=/\.(.+)/.exec(f.parserResult.trackByExp);if(s.length>0&&t[s[1]]==n[s[1]])return a.unshift(e[o]),!0}if(angular.equals(t,n))return a.unshift(e[o]),!0}return!1}};if(!e)return a;for(var s=e.length-1;s>=0;s--)o(f.selected,e[s])||o(n,e[s])||a.unshift(e[s]);return a}),r.$watchCollection(function(){return d.$modelValue},function(e,t){t!=e&&(d.$modelValue=null,h.refreshComponent())}),d.$render=function(){if(!angular.isArray(d.$viewValue)){if(!angular.isUndefined(d.$viewValue)&&null!==d.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",d.$viewValue);f.selected=[]}f.selected=d.$viewValue,r.$evalAsync()},r.$on("uis:select",function(e,t){f.selected.push(t),h.updateModel()}),r.$on("uis:activate",function(){h.activeMatchIndex=-1}),r.$watch("$select.disabled",function(e,t){t&&!e&&f.sizeSearchInput()}),f.searchInput.on("keydown",function(t){var n=t.which;r.$apply(function(){var r=!1;e.isHorizontalMovement(n)&&(r=u(n)),r&&n!=e.TAB&&(t.preventDefault(),t.stopPropagation())})}),f.searchInput.on("keyup",function(t){if(e.isVerticalMovement(t.which)||r.$evalAsync(function(){f.activeIndex=f.taggingLabel===!1?-1:0}),f.tagging.isActivated&&f.search.length>0){if(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||e.isVerticalMovement(t.which))return;if(f.activeIndex=f.taggingLabel===!1?-1:0,f.taggingLabel===!1)return;var n,i,a,o,s=angular.copy(f.items),u=angular.copy(f.items),d=!1,h=-1;if(void 0!==f.tagging.fct){if(a=f.$filter("filter")(s,{isTag:!0}),a.length>0&&(o=a[0]),s.length>0&&o&&(d=!0,s=s.slice(1,s.length),u=u.slice(1,u.length)),n=f.tagging.fct(f.search),n.isTag=!0,u.filter(function(e){return angular.equals(e,f.tagging.fct(f.search))}).length>0)return;n.isTag=!0}else{if(a=f.$filter("filter")(s,function(e){return e.match(f.taggingLabel)}),a.length>0&&(o=a[0]),i=s[0],void 0!==i&&s.length>0&&o&&(d=!0,s=s.slice(1,s.length),u=u.slice(1,u.length)),n=f.search+" "+f.taggingLabel,c(f.selected,f.search)>-1)return;if(l(u.concat(f.selected)))return void(d&&(s=u,r.$evalAsync(function(){f.activeIndex=0,f.items=s})));if(l(u))return void(d&&(f.items=u.slice(1,u.length)))}d&&(h=c(f.selected,n)),h>-1?s=s.slice(h+1,s.length-1):(s=[],s.push(n),s=s.concat(u)),r.$evalAsync(function(){f.activeIndex=0,f.items=s})}}),f.searchInput.on("blur",function(){n(function(){h.activeMatchIndex=-1})})}}}]),n.directive("uiSelectSingle",["$timeout","$compile",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(r,i,a,o){var s=o[0],u=o[1];u.$parsers.unshift(function(e){var t,n={};return n[s.parserResult.itemName]=e,t=s.parserResult.modelMapper(r,n)}),u.$formatters.unshift(function(e){var t,n=s.parserResult.source(r,{$select:{search:""}}),i={};if(n){var a=function(n){return i[s.parserResult.itemName]=n,t=s.parserResult.modelMapper(r,i),t==e};if(s.selected&&a(s.selected))return s.selected;for(var o=n.length-1;o>=0;o--)if(a(n[o]))return n[o]}return e}),r.$watch("$select.selected",function(e){u.$viewValue!==e&&u.$setViewValue(e)}),u.$render=function(){s.selected=u.$viewValue},r.$on("uis:select",function(e,t){s.selected=t}),r.$on("uis:close",function(e,n){t(function(){s.focusser.prop("disabled",!1),n||s.focusser[0].focus()},0,!1)}),r.$on("uis:activate",function(){l.prop("disabled",!0)});var l=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");n(l)(r),s.focusser=l,s.focusInput=l,i.parent().append(l),l.bind("focus",function(){r.$evalAsync(function(){s.focus=!0})}),l.bind("blur",function(){r.$evalAsync(function(){s.focus=!1})}),l.bind("keydown",function(t){return t.which===e.BACKSPACE?(t.preventDefault(),t.stopPropagation(),s.select(void 0),void r.$apply()):void(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||((t.which==e.DOWN||t.which==e.UP||t.which==e.ENTER||t.which==e.SPACE)&&(t.preventDefault(),t.stopPropagation(),s.activate()),r.$digest()))}),l.bind("keyup input",function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(s.activate(l.val()),l.val(""),r.$digest())})}}}]),n.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:"^uiSelect",link:function(t,r,i,a){if(null===t[i.uiSelectSort])throw n("sort","Expected a list to sort");var o=angular.extend({axis:"horizontal"},t.$eval(i.uiSelectSortOptions)),s=o.axis,u="dragging",l="dropping",c="dropping-before",f="dropping-after";t.$watch(function(){return a.sortable},function(e){e?r.attr("draggable",!0):r.removeAttr("draggable")}),r.on("dragstart",function(e){r.addClass(u),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text/plain",t.$index)}),r.on("dragend",function(){r.removeClass(u)});var d,h=function(e,t){this.splice(t,0,this.splice(e,1)[0])},p=function(e){e.preventDefault();var t="vertical"===s?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===s?"offsetHeight":"offsetWidth"]/2?(r.removeClass(f),r.addClass(c)):(r.removeClass(c),r.addClass(f))},g=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text/plain"),10);e.cancel(d),d=e(function(){m(n)},20)},m=function(e){var n=t.$eval(i.uiSelectSort),a=n[e],o=null;o=r.hasClass(c)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,h.apply(n,[e,o]),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:a,from:e,to:o})}),r.removeClass(l),r.removeClass(c),r.removeClass(f),r.off("drop",g)};r.on("dragenter",function(){r.hasClass(u)||(r.addClass(l),r.on("dragover",p),r.on("drop",g))}),r.on("dragleave",function(e){e.target==r&&(r.removeClass(l),r.removeClass(c),r.removeClass(f),r.off("dragover",p),r.off("drop",g))})}}}]),n.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var r=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!r)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);return{itemName:r[2],source:t(r[3]),trackByExp:r[4],modelMapper:t(r[1]||r[2])}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups"},n.getNgRepeatExpression=function(e,t,n,r){var i=e+" in "+(r?"$group.items":t);return n&&(i+=" track by "+n),i}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),e.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),
e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}]),/**
 * sifter.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(e=r(String(e||"").toLowerCase()),!e||!e.length)return[];var t,n,a,s,u=[],l=e.split(/ +/);for(t=0,n=l.length;n>t;t++){if(a=i(l[t]),this.settings.diacritics)for(s in o)o.hasOwnProperty(s)&&(a=a.replace(new RegExp(s,"g"),o[s]));u.push({string:l[t],regex:new RegExp(a,"i")})}return u},e.prototype.iterator=function(e,t){var n;n=a(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;n>t;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},n.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var n,r,i,a;n=this,e=n.prepareSearch(e,t),i=e.tokens,r=e.options.fields,a=i.length;var o=function(e,t){var n,r;return e?(e=String(e||""),r=e.search(t.regex),-1===r?0:(n=t.string.length/e.length,0===r&&(n+=.5),n)):0},s=function(){var e=r.length;return e?1===e?function(e,t){return o(t[r[0]],e)}:function(t,n){for(var i=0,a=0;e>i;i++)a+=o(n[r[i]],t);return a/e}:function(){return 0}}();return a?1===a?function(e){return s(i[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,r=0;a>n;n++){if(t=s(i[n],e),0>=t)return 0;r+=t}return r/a}:function(e){for(var t=0,n=0;a>t;t++)n+=s(i[t],e);return n/a}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var r,i,a,o,s,u,l,c,f,d,h;if(a=this,e=a.prepareSearch(e,n),h=!e.query&&n.sort_empty||n.sort,f=function(e,t){return"$score"===e?t.score:a.items[t.id][e]},s=[],h)for(r=0,i=h.length;i>r;r++)(e.query||"$score"!==h[r].field)&&s.push(h[r]);if(e.query){for(d=!0,r=0,i=s.length;i>r;r++)if("$score"===s[r].field){d=!1;break}d&&s.unshift({field:"$score",direction:"desc"})}else for(r=0,i=s.length;i>r;r++)if("$score"===s[r].field){s.splice(r,1);break}for(c=[],r=0,i=s.length;i>r;r++)c.push("desc"===s[r].direction?-1:1);return u=s.length,u?1===u?(o=s[0].field,l=c[0],function(e,n){return l*t(f(o,e),f(o,n))}):function(e,n){var r,i,a;for(r=0;u>r;r++)if(a=s[r].field,i=c[r]*t(f(a,e),f(a,n)))return i;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;t=n({},t);var r=t.fields,i=t.sort,o=t.sort_empty;return r&&!a(r)&&(t.fields=[r]),i&&!a(i)&&(t.sort=[i]),o&&!a(o)&&(t.sort_empty=[o]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var n,r,i,a,o=this;return r=this.prepareSearch(e,t),t=r.options,e=r.query,a=t.score||o.getScoreFunction(r),e.length?o.iterator(o.items,function(e,i){n=a(e),(t.filter===!1||n>0)&&r.items.push({score:n,id:i})}):o.iterator(o.items,function(e,t){r.items.push({score:1,id:t})}),i=o.getSortFunction(r,t),i&&r.items.sort(i),r.total=r.items.length,"number"==typeof t.limit&&(r.items=r.items.slice(0,t.limit)),r};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:t>e?-1:0:(e=s(String(e||"")),t=s(String(t||"")),e>t?1:t>e?-1:0)},n=function(e,t){var n,r,i,a;for(n=1,r=arguments.length;r>n;n++)if(a=arguments[n])for(i in a)a.hasOwnProperty(i)&&(e[i]=a[i]);return e},r=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},i=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},a=Array.isArray||$&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o={a:"[aÀÁÂÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌÍÎÏìíîïĪī]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[sŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},s=function(){var e,t,n,r,i="",a={};for(n in o)if(o.hasOwnProperty(n))for(r=o[n].substring(2,o[n].length-1),i+=r,e=0,t=r.length;t>e;e++)a[r.charAt(e)]=n;var s=new RegExp("["+i+"]","g");return function(e){return e.replace(s,function(e){return a[e]}).toLowerCase()}}();return e}),/**
 * microplugin.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,r,i,a=this,o=[];if(a.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,r=e.length;r>n;n++)"string"==typeof e[n]?o.push(e[n]):(a.plugins.settings[e[n].name]=e[n].options,o.push(e[n].name));else if(e)for(i in e)e.hasOwnProperty(i)&&(a.plugins.settings[i]=e[i],o.push(i));for(;o.length;)a.require(o.shift())},e.prototype.loadPlugin=function(t){var n=this,r=n.plugins,i=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');r.requested[t]=!0,r.loaded[t]=i.fn.apply(n,[n.plugins.settings[t]||{}]),r.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),/**
 * selectize.js (v0.12.1)
 * Copyright (c) 2013–2015 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(e,t){"function"==typeof define&&define.amd?define(["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(e,t,n){"use strict";var r=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,r=function(e){var t=0;if(3===e.nodeType){var i=e.data.search(n);if(i>=0&&e.data.length>0){var a=e.data.match(n),o=document.createElement("span");o.className="highlight";var s=e.splitText(i),u=(s.splitText(a[0].length),s.cloneNode(!0));o.appendChild(u),s.parentNode.replaceChild(o,s),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var l=0;l<e.childNodes.length;++l)l+=r(e.childNodes[l]);return t};return e.each(function(){r(this)})}},i=function(){};i.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=i.prototype[t[n]]};var a=/Mac/.test(navigator.userAgent),o=65,s=13,u=27,l=37,c=38,f=80,d=39,h=40,p=78,g=8,m=46,v=16,y=a?91:17,b=a?18:17,x=9,w=1,$=2,k=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,_=function(e){return"undefined"!=typeof e},S=function(e){return"undefined"==typeof e||null===e?null:"boolean"==typeof e?e?"1":"0":e+""},E=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},C=function(e){return(e+"").replace(/\$/g,"$$$$")},M={};M.before=function(e,t,n){var r=e[t];e[t]=function(){return n.apply(e,arguments),r.apply(e,arguments)}},M.after=function(e,t,n){var r=e[t];e[t]=function(){var t=r.apply(e,arguments);return n.apply(e,arguments),t}};var T=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},O=function(e,t){var n;return function(){var r=this,i=arguments;window.clearTimeout(n),n=window.setTimeout(function(){e.apply(r,i)},t)}},A=function(e,t,n){var r,i=e.trigger,a={};e.trigger=function(){var n=arguments[0];return-1===t.indexOf(n)?i.apply(e,arguments):void(a[n]=arguments)},n.apply(e,[]),e.trigger=i;for(r in a)a.hasOwnProperty(r)&&i.apply(e,a[r])},N=function(e,t,n,r){e.on(t,n,function(t){for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;return t.currentTarget=n,r.apply(this,[t])})},D=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),r=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-r,t.length=r}return t},L=function(e,t,n){var r,i,a={};if(n)for(r=0,i=n.length;i>r;r++)a[n[r]]=e.css(n[r]);else a=e.css();t.css(a)},I=function(t,n){if(!t)return 0;var r=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");L(n,r,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var i=r.width();return r.remove(),i},R=function(e){var t=null,n=function(n,r){var i,a,o,s,u,l,c,f;n=n||window.event||{},r=r||{},n.metaKey||n.altKey||(r.force||e.data("grow")!==!1)&&(i=e.val(),n.type&&"keydown"===n.type.toLowerCase()&&(a=n.keyCode,o=a>=97&&122>=a||a>=65&&90>=a||a>=48&&57>=a||32===a,a===m||a===g?(f=D(e[0]),f.length?i=i.substring(0,f.start)+i.substring(f.start+f.length):a===g&&f.start?i=i.substring(0,f.start-1)+i.substring(f.start+1):a===m&&"undefined"!=typeof f.start&&(i=i.substring(0,f.start)+i.substring(f.start+1))):o&&(l=n.shiftKey,c=String.fromCharCode(n.keyCode),c=l?c.toUpperCase():c.toLowerCase(),i+=c)),s=e.attr("placeholder"),!i&&s&&(i=s),u=I(i,e)+4,u!==t&&(t=u,e.width(u),e.triggerHandler("resize")))};e.on("keydown keyup update blur",n),n()},P=function(n,r){var i,a,o,s,u=this;s=n[0],s.selectize=u;var l=window.getComputedStyle&&window.getComputedStyle(s,null);if(o=l?l.getPropertyValue("direction"):s.currentStyle&&s.currentStyle.direction,o=o||n.parents("[dir]:first").attr("dir")||"",e.extend(u,{order:0,settings:r,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===s.tagName.toLowerCase()?w:$,rtl:/rtl/i.test(o),eventNS:".selectize"+ ++P.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===r.loadThrottle?u.onSearchChange:O(u.onSearchChange,r.loadThrottle)}),u.sifter=new t(this.options,{diacritics:r.diacritics}),u.settings.options){for(i=0,a=u.settings.options.length;a>i;i++)u.registerOption(u.settings.options[i]);delete u.settings.options}if(u.settings.optgroups){for(i=0,a=u.settings.optgroups.length;a>i;i++)u.registerOptionGroup(u.settings.optgroups[i]);delete u.settings.optgroups}u.settings.mode=u.settings.mode||(1===u.settings.maxItems?"single":"multi"),"boolean"!=typeof u.settings.hideSelected&&(u.settings.hideSelected="multi"===u.settings.mode),u.initializePlugins(u.settings.plugins),u.setupCallbacks(),u.setupTemplates(),u.setup()};return i.mixin(P),n.mixin(P),e.extend(P.prototype,{setup:function(){var t,n,r,i,o,s,u,l,c,f=this,d=f.settings,h=f.eventNS,p=e(window),g=e(document),m=f.$input;if(u=f.settings.mode,l=m.attr("class")||"",t=e("<div>").addClass(d.wrapperClass).addClass(l).addClass(u),n=e("<div>").addClass(d.inputClass).addClass("items").appendTo(t),r=e('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",m.is(":disabled")?"-1":f.tabIndex),s=e(d.dropdownParent||t),i=e("<div>").addClass(d.dropdownClass).addClass(u).hide().appendTo(s),o=e("<div>").addClass(d.dropdownContentClass).appendTo(i),f.settings.copyClassesToDropdown&&i.addClass(l),t.css({width:m[0].style.width}),f.plugins.names.length&&(c="plugin-"+f.plugins.names.join(" plugin-"),t.addClass(c),i.addClass(c)),(null===d.maxItems||d.maxItems>1)&&f.tagType===w&&m.attr("multiple","multiple"),f.settings.placeholder&&r.attr("placeholder",d.placeholder),!f.settings.splitOn&&f.settings.delimiter){var x=f.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");f.settings.splitOn=new RegExp("\\s*"+x+"+\\s*")}m.attr("autocorrect")&&r.attr("autocorrect",m.attr("autocorrect")),m.attr("autocapitalize")&&r.attr("autocapitalize",m.attr("autocapitalize")),f.$wrapper=t,f.$control=n,f.$control_input=r,f.$dropdown=i,f.$dropdown_content=o,i.on("mouseenter","[data-selectable]",function(){return f.onOptionHover.apply(f,arguments)}),i.on("mousedown click","[data-selectable]",function(){return f.onOptionSelect.apply(f,arguments)}),N(n,"mousedown","*:not(input)",function(){return f.onItemSelect.apply(f,arguments)}),R(r),n.on({mousedown:function(){return f.onMouseDown.apply(f,arguments)},click:function(){return f.onClick.apply(f,arguments)}}),r.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return f.onKeyDown.apply(f,arguments)},keyup:function(){return f.onKeyUp.apply(f,arguments)},keypress:function(){return f.onKeyPress.apply(f,arguments)},resize:function(){f.positionDropdown.apply(f,[])},blur:function(){return f.onBlur.apply(f,arguments)},focus:function(){return f.ignoreBlur=!1,f.onFocus.apply(f,arguments)},paste:function(){return f.onPaste.apply(f,arguments)}}),g.on("keydown"+h,function(e){f.isCmdDown=e[a?"metaKey":"ctrlKey"],f.isCtrlDown=e[a?"altKey":"ctrlKey"],f.isShiftDown=e.shiftKey}),g.on("keyup"+h,function(e){e.keyCode===b&&(f.isCtrlDown=!1),e.keyCode===v&&(f.isShiftDown=!1),e.keyCode===y&&(f.isCmdDown=!1)}),g.on("mousedown"+h,function(e){if(f.isFocused){if(e.target===f.$dropdown[0]||e.target.parentNode===f.$dropdown[0])return!1;f.$control.has(e.target).length||e.target===f.$control[0]||f.blur(e.target)}}),p.on(["scroll"+h,"resize"+h].join(" "),function(){f.isOpen&&f.positionDropdown.apply(f,arguments)}),p.on("mousemove"+h,function(){f.ignoreHover=!1}),this.revertSettings={$children:m.children().detach(),tabindex:m.attr("tabindex")},m.attr("tabindex",-1).hide().after(f.$wrapper),e.isArray(d.items)&&(f.setValue(d.items),delete d.items),k&&m.on("invalid"+h,function(e){e.preventDefault(),f.isInvalid=!0,f.refreshState()}),f.updateOriginalInput(),f.refreshItems(),f.refreshState(),f.updatePlaceholder(),f.isSetup=!0,m.is(":disabled")&&f.disable(),f.on("change",this.onChange),m.data("selectize",f),m.addClass("selectized"),f.trigger("initialize"),d.preload===!0&&f.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,r=t.settings.optgroupLabelField,i={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[r])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},i,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]],t&&this.on(e,t))},onClick:function(e){var t=this;t.isFocused||(t.focus(),e.preventDefault())},onMouseDown:function(t){{var n=this,r=t.isDefaultPrevented();e(t.target)}if(n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():r||n.setActiveItem(null),!1}else r||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var n=this;n.isFull()||n.isInputHidden||n.isLocked?t.preventDefault():n.settings.splitOn&&setTimeout(function(){for(var t=e.trim(n.$control_input.val()||"").split(n.settings.splitOn),r=0,i=t.length;i>r;r++)n.createItem(t[r])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t=(e.target===this.$control_input[0],this);if(t.isLocked)return void(e.keyCode!==x&&e.preventDefault());switch(e.keyCode){case o:if(t.isCmdDown)return void t.selectAll();break;case u:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case p:if(!e.ctrlKey||e.altKey)break;case h:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case f:if(!e.ctrlKey||e.altKey)break;case c:if(t.$activeOption){t.ignoreHover=!0;var r=t.getAdjacentOption(t.$activeOption,-1);r.length&&t.setActiveOption(r,!0,!0)}return void e.preventDefault();case s:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case l:return void t.advanceSelection(-1,e);case d:return void t.advanceSelection(1,e);case x:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case g:case m:return void t.deleteSelection(e)}return!t.isFull()&&!t.isInputHidden||(a?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(r){n.apply(t,[e,r])})))},onFocus:function(e){var t=this,n=t.isFocused;return t.isDisabled?(t.blur(),e&&e.preventDefault(),!1):void(t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()))},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);var r=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(t||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,r):r()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,r,i=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),r=e(t.currentTarget),r.hasClass("create")?i.createItem(null,function(){i.settings.closeAfterSelect&&i.close()}):(n=r.attr("data-value"),"undefined"!=typeof n&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(n),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&i.setActiveOption(i.getOption(n))))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input,n=t.val()!==e;n&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return this.tagType===w&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){var n=t?[]:["change"];A(this,n,function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(t,n){var r,i,a,o,s,u,l,c,f=this;if("single"!==f.settings.mode){if(t=e(t),!t.length)return e(f.$activeItems).removeClass("active"),f.$activeItems=[],void(f.isFocused&&f.showInput());if(r=n&&n.type.toLowerCase(),"mousedown"===r&&f.isShiftDown&&f.$activeItems.length){for(c=f.$control.children(".active:last"),o=Array.prototype.indexOf.apply(f.$control[0].childNodes,[c[0]]),s=Array.prototype.indexOf.apply(f.$control[0].childNodes,[t[0]]),o>s&&(l=o,o=s,s=l),i=o;s>=i;i++)u=f.$control[0].childNodes[i],-1===f.$activeItems.indexOf(u)&&(e(u).addClass("active"),f.$activeItems.push(u));n.preventDefault()}else"mousedown"===r&&f.isCtrlDown||"keydown"===r&&this.isShiftDown?t.hasClass("active")?(a=f.$activeItems.indexOf(t[0]),f.$activeItems.splice(a,1),t.removeClass("active")):f.$activeItems.push(t.addClass("active")[0]):(e(f.$activeItems).removeClass("active"),f.$activeItems=[t.addClass("active")[0]]);f.hideInput(),this.isFocused||f.focus()}},setActiveOption:function(t,n,r){var i,a,o,s,u,l=this;l.$activeOption&&l.$activeOption.removeClass("active"),l.$activeOption=null,t=e(t),t.length&&(l.$activeOption=t.addClass("active"),(n||!_(n))&&(i=l.$dropdown_content.height(),a=l.$activeOption.outerHeight(!0),n=l.$dropdown_content.scrollTop()||0,o=l.$activeOption.offset().top-l.$dropdown_content.offset().top+n,s=o,u=o-i+a,o+a>i+n?l.$dropdown_content.stop().animate({scrollTop:u},r?l.settings.scrollDuration:0):n>o&&l.$dropdown_content.stop().animate({scrollTop:s},r?l.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var n,r,i,a=this,o=a.settings,s=this.getSearchOptions();if(o.score&&(i=a.settings.score.apply(this,[t]),"function"!=typeof i))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==a.lastQuery?(a.lastQuery=t,r=a.sifter.search(t,e.extend(s,{score:i})),a.currentResults=r):r=e.extend(!0,{},a.currentResults),o.hideSelected)for(n=r.items.length-1;n>=0;n--)-1!==a.items.indexOf(S(r.items[n].id))&&r.items.splice(n,1);return r},refreshOptions:function(t){var n,i,a,o,s,u,l,c,f,d,h,p,g,m,v,y;"undefined"==typeof t&&(t=!0);var b=this,x=e.trim(b.$control_input.val()),w=b.search(x),$=b.$dropdown_content,k=b.$activeOption&&S(b.$activeOption.attr("data-value"));for(o=w.items.length,"number"==typeof b.settings.maxOptions&&(o=Math.min(o,b.settings.maxOptions)),s={},u=[],n=0;o>n;n++)for(l=b.options[w.items[n].id],c=b.render("option",l),f=l[b.settings.optgroupField]||"",d=e.isArray(f)?f:[f],i=0,a=d&&d.length;a>i;i++)f=d[i],b.optgroups.hasOwnProperty(f)||(f=""),s.hasOwnProperty(f)||(s[f]=[],u.push(f)),s[f].push(c);for(this.settings.lockOptgroupOrder&&u.sort(function(e,t){var n=b.optgroups[e].$order||0,r=b.optgroups[t].$order||0;return n-r}),h=[],n=0,o=u.length;o>n;n++)f=u[n],b.optgroups.hasOwnProperty(f)&&s[f].length?(p=b.render("optgroup_header",b.optgroups[f])||"",p+=s[f].join(""),h.push(b.render("optgroup",e.extend({},b.optgroups[f],{html:p})))):h.push(s[f].join(""));if($.html(h.join("")),b.settings.highlight&&w.query.length&&w.tokens.length)for(n=0,o=w.tokens.length;o>n;n++)r($,w.tokens[n].regex);if(!b.settings.hideSelected)for(n=0,o=b.items.length;o>n;n++)b.getOption(b.items[n]).addClass("selected");g=b.canCreate(x),g&&($.prepend(b.render("option_create",{input:x})),y=e($[0].childNodes[0])),b.hasOptions=w.items.length>0||g,b.hasOptions?(w.items.length>0?(v=k&&b.getOption(k),v&&v.length?m=v:"single"===b.settings.mode&&b.items.length&&(m=b.getOption(b.items[0])),m&&m.length||(m=y&&!b.settings.addPrecedence?b.getAdjacentOption(y,1):$.find("[data-selectable]:first"))):m=y,b.setActiveOption(m),t&&!b.isOpen&&b.open()):(b.setActiveOption(null),t&&b.isOpen&&b.close())},addOption:function(t){var n,r,i,a=this;if(e.isArray(t))for(n=0,r=t.length;r>n;n++)a.addOption(t[n]);else(i=a.registerOption(t))&&(a.userOptions[i]=!0,a.lastQuery=null,a.trigger("option_add",i,t))},registerOption:function(e){var t=S(e[this.settings.valueField]);return!t||this.options.hasOwnProperty(t)?!1:(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=S(e[this.settings.optgroupValueField]);return t?(e.$order=e.$order||++this.order,this.optgroups[t]=e,t):!1},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var r,i,a,o,s,u,l,c=this;if(t=S(t),a=S(n[c.settings.valueField]),null!==t&&c.options.hasOwnProperty(t)){if("string"!=typeof a)throw new Error("Value must be set in option data");l=c.options[t].$order,a!==t&&(delete c.options[t],o=c.items.indexOf(t),-1!==o&&c.items.splice(o,1,a)),n.$order=n.$order||l,c.options[a]=n,s=c.renderCache.item,u=c.renderCache.option,s&&(delete s[t],delete s[a]),u&&(delete u[t],delete u[a]),-1!==c.items.indexOf(a)&&(r=c.getItem(t),i=e(c.render("item",n)),r.hasClass("active")&&i.addClass("active"),r.replaceWith(i)),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=S(e);var r=n.renderCache.item,i=n.renderCache.option;r&&delete r[e],i&&delete i[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,n){var r=this.$dropdown.find("[data-selectable]"),i=r.index(t)+n;return i>=0&&i<r.length?r.eq(i):e()},getElementWithValue:function(t,n){if(t=S(t),"undefined"!=typeof t&&null!==t)for(var r=0,i=n.length;i>r;r++)if(n[r].getAttribute("data-value")===t)return e(n[r]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,n){for(var r=e.isArray(t)?t:[t],i=0,a=r.length;a>i;i++)this.isPending=a-1>i,this.addItem(r[i],n)},addItem:function(t,n){var r=n?[]:["change"];A(this,r,function(){var r,i,a,o,s,u=this,l=u.settings.mode;return t=S(t),-1!==u.items.indexOf(t)?void("single"===l&&u.close()):void(u.options.hasOwnProperty(t)&&("single"===l&&u.clear(n),"multi"===l&&u.isFull()||(r=e(u.render("item",u.options[t])),s=u.isFull(),u.items.splice(u.caretPos,0,t),u.insertAtCaret(r),(!u.isPending||!s&&u.isFull())&&u.refreshState(),u.isSetup&&(a=u.$dropdown_content.find("[data-selectable]"),u.isPending||(i=u.getOption(t),o=u.getAdjacentOption(i,1).attr("data-value"),u.refreshOptions(u.isFocused&&"single"!==l),o&&u.setActiveOption(u.getOption(o))),!a.length||u.isFull()?u.close():u.positionDropdown(),u.updatePlaceholder(),u.trigger("item_add",t,r),u.updateOriginalInput({silent:n})))))})},removeItem:function(e,t){var n,r,i,a=this;n="object"==typeof e?e:a.getItem(e),e=S(n.attr("data-value")),r=a.items.indexOf(e),-1!==r&&(n.remove(),n.hasClass("active")&&(i=a.$activeItems.indexOf(n[0]),a.$activeItems.splice(i,1)),a.items.splice(r,1),a.lastQuery=null,!a.settings.persist&&a.userOptions.hasOwnProperty(e)&&a.removeOption(e,t),r<a.caretPos&&a.setCaret(a.caretPos-1),a.refreshState(),a.updatePlaceholder(),a.updateOriginalInput({silent:t}),a.positionDropdown(),a.trigger("item_remove",e,n))},createItem:function(t,n){var r=this,i=r.caretPos;t=t||e.trim(r.$control_input.val()||"");var a=arguments[arguments.length-1];if("function"!=typeof a&&(a=function(){}),"boolean"!=typeof n&&(n=!0),!r.canCreate(t))return a(),!1;r.lock();var o="function"==typeof r.settings.create?this.settings.create:function(e){var t={};return t[r.settings.labelField]=e,t[r.settings.valueField]=e,t},s=T(function(e){if(r.unlock(),!e||"object"!=typeof e)return a();var t=S(e[r.settings.valueField]);return"string"!=typeof t?a():(r.setTextboxValue(""),r.addOption(e),r.setCaret(i),r.addItem(t),r.refreshOptions(n&&"single"!==r.settings.mode),void a(e))}),u=o.apply(this,[t,s]);return"undefined"!=typeof u&&s(u),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var e,t=this;t.isRequired&&(t.items.length&&(t.isInvalid=!1),t.$control_input.prop("required",e)),t.refreshClasses()},refreshClasses:function(){var t=this,n=t.isFull(),r=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",r).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!r)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,r,i,a=this;if(e=e||{},a.tagType===w){for(r=[],t=0,n=a.items.length;n>t;t++)i=a.options[a.items[t]][a.settings.labelField]||"",r.push('<option value="'+E(a.items[t])+'" selected="selected">'+E(i)+"</option>");r.length||this.$input.attr("multiple")||r.push('<option value="" selected="selected"></option>'),a.$input.html(r.join(""))}else a.$input.val(a.getValue()),a.$input.attr("value",a.$input.val());a.isSetup&&(e.silent||a.trigger("change",a.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(t):e(this.$control[0].childNodes[n]).before(t),this.setCaret(n+1)},deleteSelection:function(t){var n,r,i,a,o,s,u,l,c,f=this;if(i=t&&t.keyCode===g?-1:1,a=D(f.$control_input[0]),f.$activeOption&&!f.settings.hideSelected&&(u=f.getAdjacentOption(f.$activeOption,-1).attr("data-value")),o=[],f.$activeItems.length){for(c=f.$control.children(".active:"+(i>0?"last":"first")),s=f.$control.children(":not(input)").index(c),i>0&&s++,n=0,r=f.$activeItems.length;r>n;n++)o.push(e(f.$activeItems[n]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(f.isFocused||"single"===f.settings.mode)&&f.items.length&&(0>i&&0===a.start&&0===a.length?o.push(f.items[f.caretPos-1]):i>0&&a.start===f.$control_input.val().length&&o.push(f.items[f.caretPos]));if(!o.length||"function"==typeof f.settings.onDelete&&f.settings.onDelete.apply(f,[o])===!1)return!1;for("undefined"!=typeof s&&f.setCaret(s);o.length;)f.removeItem(o.pop());return f.showInput(),f.positionDropdown(),f.refreshOptions(!0),u&&(l=f.getOption(u),l.length&&f.setActiveOption(l)),!0},advanceSelection:function(e,t){var n,r,i,a,o,s,u=this;0!==e&&(u.rtl&&(e*=-1),n=e>0?"last":"first",r=D(u.$control_input[0]),u.isFocused&&!u.isInputHidden?(a=u.$control_input.val().length,o=0>e?0===r.start&&0===r.length:r.start===a,o&&!a&&u.advanceCaret(e,t)):(s=u.$control.children(".active:"+n),s.length&&(i=u.$control.children(":not(input)").index(s),u.setActiveItem(null),u.setCaret(e>0?i+1:i))))},advanceCaret:function(e,t){var n,r,i=this;0!==e&&(n=e>0?"next":"prev",i.isShiftDown?(r=i.$control_input[n](),r.length&&(i.hideInput(),i.setActiveItem(r),t&&t.preventDefault())):i.setCaret(i.caretPos+e))},setCaret:function(t){var n=this;if(t="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,t)),!n.isPending){var r,i,a,o;for(a=n.$control.children(":not(input)"),r=0,i=a.length;i>r;r++)o=e(a[r]).detach(),t>r?n.$control_input.before(o):n.$control.append(o)}n.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,r=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(r.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:r.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(e,t){var n,r,i="",a=!1,o=this,s=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return("option"===e||"item"===e)&&(n=S(t[o.settings.valueField]),a=!!n),a&&(_(o.renderCache[e])||(o.renderCache[e]={}),o.renderCache[e].hasOwnProperty(n))?o.renderCache[e][n]:(i=o.settings.render[e].apply(this,[t,E]),("option"===e||"option_create"===e)&&(i=i.replace(s,"<$1 data-selectable")),"optgroup"===e&&(r=t[o.settings.optgroupValueField]||"",i=i.replace(s,'<$1 data-group="'+C(E(r))+'"')),("option"===e||"item"===e)&&(i=i.replace(s,'<$1 data-value="'+C(E(n||""))+'"')),a&&(o.renderCache[e][n]=i),i)},clearCache:function(e){var t=this;"undefined"==typeof e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return!(!e.length||"function"==typeof n&&!n.apply(t,[e])||"string"==typeof n&&!new RegExp(n).test(e)||n instanceof RegExp&&!n.test(e))}}),P.count=0,P.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var n=e.fn.selectize.defaults,r=e.extend({},n,t),i=r.dataAttr,a=r.labelField,o=r.valueField,s=r.optgroupField,u=r.optgroupLabelField,l=r.optgroupValueField,c=function(t,n){var s,u,l,c,f=t.attr(i);if(f)for(n.options=JSON.parse(f),s=0,u=n.options.length;u>s;s++)n.items.push(n.options[s][o]);else{var d=e.trim(t.val()||"");if(!r.allowEmptyOption&&!d.length)return;for(l=d.split(r.delimiter),s=0,u=l.length;u>s;s++)c={},c[a]=l[s],c[o]=l[s],n.options.push(c);n.items=l}},f=function(t,n){var c,f,d,h,p=n.options,g={},m=function(e){var t=i&&e.attr(i);return"string"==typeof t&&t.length?JSON.parse(t):null},v=function(t,i){t=e(t);var u=S(t.attr("value"));if(u||r.allowEmptyOption)if(g.hasOwnProperty(u)){if(i){var l=g[u][s];l?e.isArray(l)?l.push(i):g[u][s]=[l,i]:g[u][s]=i}}else{var c=m(t)||{};c[a]=c[a]||t.text(),c[o]=c[o]||u,c[s]=c[s]||i,g[u]=c,p.push(c),t.is(":selected")&&n.items.push(u);

}},y=function(t){var r,i,a,o,s;for(t=e(t),a=t.attr("label"),a&&(o=m(t)||{},o[u]=a,o[l]=a,n.optgroups.push(o)),s=e("option",t),r=0,i=s.length;i>r;r++)v(s[r],a)};for(n.maxItems=t.attr("multiple")?null:1,h=t.children(),c=0,f=h.length;f>c;c++)d=h[c].tagName.toLowerCase(),"optgroup"===d?y(h[c]):"option"===d&&v(h[c])};return this.each(function(){if(!this.selectize){var i,a=e(this),o=this.tagName.toLowerCase(),s=a.attr("placeholder")||a.attr("data-placeholder");s||r.allowEmptyOption||(s=a.children('option[value=""]').text());var u={placeholder:s,options:[],optgroups:[],items:[]};"select"===o?f(a,u):c(a,u),i=new P(a,e.extend(!0,{},n,u,t))}})},e.fn.selectize.defaults=P.defaults,e.fn.selectize.support={validity:k},P.define("drag_drop",function(t){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=function(){var e=n.lock;return function(){var t=n.$control.data("sortable");return t&&t.disable(),e.apply(n,arguments)}}(),n.unlock=function(){var e=n.unlock;return function(){var t=n.$control.data("sortable");return t&&t.enable(),e.apply(n,arguments)}}(),n.setup=function(){var t=n.setup;return function(){t.apply(this,arguments);var r=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),r.css({overflow:"visible"})},stop:function(){r.css({overflow:"hidden"});var t=n.$activeItems?n.$activeItems.slice():null,i=[];r.children("[data-value]").each(function(){i.push(e(this).attr("data-value"))}),n.setValue(i),n.setActiveItem(t)}})}}()}}),P.define("dropdown_header",function(t){var n=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),n.setup=function(){var r=n.setup;return function(){r.apply(n,arguments),n.$dropdown_header=e(t.html(t)),n.$dropdown.prepend(n.$dropdown_header)}}()}),P.define("optgroup_columns",function(t){var n=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,n){var r=t.closest("[data-group]").find("[data-selectable]"),i=r.index(t)+n;return i>=0&&i<r.length?r.eq(i):e()},this.onKeyDown=function(){var e=n.onKeyDown;return function(t){var r,i,a,o;return!this.isOpen||t.keyCode!==l&&t.keyCode!==d?e.apply(this,arguments):(n.ignoreHover=!0,o=this.$activeOption.closest("[data-group]"),r=o.find("[data-selectable]").index(this.$activeOption),o=t.keyCode===l?o.prev("[data-group]"):o.next("[data-group]"),a=o.find("[data-selectable]"),i=a.eq(Math.min(a.length-1,r)),void(i.length&&this.setActiveOption(i)))}}();var r=function(){var e,t=r.width,n=document;return"undefined"==typeof t&&(e=n.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=r.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t},i=function(){var i,a,o,s,u,l,c;if(c=e("[data-group]",n.$dropdown_content),a=c.length,a&&n.$dropdown_content.width()){if(t.equalizeHeight){for(o=0,i=0;a>i;i++)o=Math.max(o,c.eq(i).height());c.css({height:o})}t.equalizeWidth&&(l=n.$dropdown_content.innerWidth()-r(),s=Math.round(l/a),c.css({width:s}),a>1&&(u=l-s*(a-1),c.eq(a-1).css({width:u})))}};(t.equalizeHeight||t.equalizeWidth)&&(M.after(this,"positionDropdown",i),M.after(this,"refreshOptions",i))}),P.define("remove_button",function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n=this,r='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+E(t.title)+'">'+t.label+"</a>",i=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};this.setup=function(){var a=n.setup;return function(){if(t.append){var o=n.settings.render.item;n.settings.render.item=function(e){return i(o.apply(this,arguments),r)}}a.apply(this,arguments),this.$control.on("click","."+t.className,function(t){if(t.preventDefault(),!n.isLocked){var r=e(t.currentTarget).parent();n.setActiveItem(r),n.deleteSelection()&&n.setCaret(n.items.length)}})}}()}}),P.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var n=t.onKeyDown;return function(t){var r,i;return t.keyCode===g&&""===this.$control_input.val()&&!this.$activeItems.length&&(r=this.caretPos-1,r>=0&&r<this.items.length)?(i=this.options[this.items[r]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[i])),this.refreshOptions(!0)),void t.preventDefault()):n.apply(this,arguments)}}()}),P}),/**
 * Angular Google Analytics - Easy tracking for your AngularJS application
 * @version v1.1.0 - 2015-09-27
 * @link http://github.com/revolunet/angular-google-analytics
 * @author Julien Bouquillon <julien@revolunet.com> (https://github.com/revolunet)
 * @contributors Julien Bouquillon (https://github.com/revolunet),Justin Saunders (https://github.com/justinsa),Chris Esplin (https://github.com/deltaepsilon),Adam Misiorny (https://github.com/adam187)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(e,t,n,r){"use strict";n.module("angular-google-analytics",[]).provider("Analytics",function(){var i,a,o,s,u,l=!0,c="auto",f=!1,d=!1,h="USD",p=!1,g=!1,m=!1,v=!1,y=!1,b=!1,x=!1,w=!1,$="$routeChangeSuccess",k=!1,_="",S=!0,E=!1;this.log=[],this.offlineQueue=[],this.setAccount=function(e){return i=n.isUndefined(e)||e===!1?r:n.isArray(e)?e:n.isObject(e)?[e]:[{tracker:e,trackEvent:!0}],this},this.trackPages=function(e){return S=e,this},this.trackPrefix=function(e){return _=e,this},this.setDomainName=function(e){return o=e,this},this.useDisplayFeatures=function(e){return g=!!e,this},this.useAnalytics=function(e){return l=!!e,this},this.useEnhancedLinkAttribution=function(e){return y=!!e,this},this.useCrossDomainLinker=function(e){return d=!!e,this},this.setCrossLinkDomains=function(e){return a=e,this},this.setPageEvent=function(e){return $=e,this},this.setCookieConfig=function(e){return c=e,this},this.useECommerce=function(e,t){return m=!!e,v=!!t,this},this.setCurrency=function(e){return h=e,this},this.setRemoveRegExp=function(e){return e instanceof RegExp&&(u=e),this},this.setExperimentId=function(e){return s=e,this},this.ignoreFirstPageLoad=function(e){return b=!!e,this},this.trackUrlParams=function(e){return E=!!e,this},this.startOffline=function(e){return w=!!e,w===!0&&this.delayScriptTag(!0),this},this.delayScriptTag=function(e){return p=!!e,this},this.logAllCalls=function(e){return x=!!e,this},this.enterTestMode=function(){return k=!0,this},this.$get=["$document","$location","$log","$rootScope","$window",function(C,M,T,O,A){var N=this,D=function(e,t){return n.isString(t)?t+"."+e:L("name",t)?t.name+"."+e:e},L=function(e,t){return n.isObject(t)&&n.isDefined(t[e])},I=function(e,t,n){return L(e,t)&&t[e]===n},R=function(){var e=E?M.url():M.path();return u?e.replace(u,""):e},P=function(){var e={utm_source:"campaignSource",utm_medium:"campaignMedium",utm_term:"campaignTerm",utm_content:"campaignContent",utm_campaign:"campaignName"},t={};return n.forEach(M.search(),function(r,i){var a=e[i];n.isDefined(a)&&(t[a]=r)}),t},j=function(e,t,n,r,i,a,o,s,u){var l={};return e&&(l.id=e),t&&(l.affiliation=t),n&&(l.revenue=n),r&&(l.tax=r),i&&(l.shipping=i),a&&(l.coupon=a),o&&(l.list=o),s&&(l.step=s),u&&(l.option=u),l},F=function(e){!l&&A._gaq&&"function"==typeof e&&e()},U=function(){var e=Array.prototype.slice.call(arguments);return w===!0?void N.offlineQueue.push([U,e]):(A._gaq||(A._gaq=[]),x===!0&&N._log.apply(N,e),void A._gaq.push(e))},z=function(e){l&&A.ga&&"function"==typeof e&&e()},q=function(){var e=Array.prototype.slice.call(arguments);return w===!0?void N.offlineQueue.push([q,e]):"function"!=typeof A.ga?void N._log("warn","ga function not set on window"):(x===!0&&N._log.apply(N,e),void A.ga.apply(null,e))},H=function(e){var t=Array.prototype.slice.call(arguments,1),n=t[0],r=[];return"function"==typeof e?i.forEach(function(t){e(t)&&r.push(t)}):r=i,0===r.length?void q.apply(N,t):void r.forEach(function(e){t[0]=D(n,e),q.apply(N,t)})};return this._log=function(){var e=Array.prototype.slice.call(arguments);if(e.length>0){if(e.length>1)switch(e[0]){case"warn":T.warn(e.slice(1));break;case"error":T.error(e.slice(1))}N.log.push(e)}},this._createScriptTag=function(){if(!i||i.length<1)return void N._log("warn","No account id set to create script tag");if(i.length>1&&(N._log("warn","Multiple trackers are not supported with ga.js. Using first tracker only"),i=i.slice(0,1)),f===!0)return void N._log("warn","ga.js or analytics.js script tag already created");U("_setAccount",i[0].tracker),o&&U("_setDomainName",o),y&&U("_require","inpage_linkid","//www.google-analytics.com/plugins/ga/inpage_linkid.js"),S&&!b&&(u?U("_trackPageview",R()):U("_trackPageview"));var e;return e=g===!0?("https:"===t.location.protocol?"https://":"http://")+"stats.g.doubleclick.net/dc.js":("https:"===t.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",k!==!0?!function(){var t=C[0],n=t.createElement("script");n.type="text/javascript",n.async=!0,n.src=e;var r=t.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r)}():N._log("inject",e),f=!0,!0},this._createAnalyticsScriptTag=function(){if(!i)return void N._log("warn","No account id set to create analytics script tag");if(f===!0)return void N._log("warn","ga.js or analytics.js script tag already created");var r="//www.google-analytics.com/analytics.js";if(k!==!0?!function(e,t,n,r,i,a,o){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,a=t.createElement(n),o=t.getElementsByTagName(n)[0],a.async=1,a.src=r,o.parentNode.insertBefore(a,o)}(e,t,"script",r,"ga"):("function"!=typeof A.ga&&(A.ga=function(){}),N._log("inject",r)),i.forEach(function(e){e.crossDomainLinker=L("crossDomainLinker",e)?e.crossDomainLinker:d,e.crossLinkDomains=L("crossLinkDomains",e)?e.crossLinkDomains:a,e.displayFeatures=L("displayFeatures",e)?e.displayFeatures:g,e.enhancedLinkAttribution=L("enhancedLinkAttribution",e)?e.enhancedLinkAttribution:y,e.trackEcommerce=L("trackEcommerce",e)?e.trackEcommerce:m,e.trackEvent=L("trackEvent",e)?e.trackEvent:!1;var t={};L("fields",e)?t=e.fields:L("cookieConfig",e)?n.isString(e.cookieConfig)?t.cookieDomain=e.cookieConfig:t=e.cookieConfig:n.isString(c)?t.cookieDomain=c:c&&(t=c),e.crossDomainLinker===!0&&(t.allowLinker=!0),L("name",e)&&(t.name=e.name),e.fields=t,q("create",e.tracker,e.fields),e.crossDomainLinker===!0&&(q(D("require",e),"linker"),n.isDefined(e.crossLinkDomains)&&q(D("linker:autoLink",e),e.crossLinkDomains)),e.displayFeatures&&q(D("require",e),"displayfeatures"),e.trackEcommerce&&(v?(q(D("require",e),"ec"),q(D("set",e),"&cu",h)):q(D("require",e),"ecommerce")),e.enhancedLinkAttribution&&q(D("require",e),"linkid"),S&&!b&&q(D("send",e),"pageview",R())}),s){var o=t.createElement("script"),u=t.getElementsByTagName("script")[0];o.src="//www.google-analytics.com/cx/api.js?experiment="+s,u.parentNode.insertBefore(o,u)}return f=!0,!0},this._ecommerceEnabled=function(e,t){var n=m&&!v;return e===!0&&n===!1&&(m&&v?N._log("warn",t+" is not available when Enhanced Ecommerce is enabled with analytics.js"):N._log("warn","Ecommerce must be enabled to use "+t+" with analytics.js")),n},this._enhancedEcommerceEnabled=function(e,t){var n=m&&v;return e===!0&&n===!1&&N._log("warn","Enhanced Ecommerce must be enabled to use "+t+" with analytics.js"),n},this._trackPage=function(e,t,i){e=e?e:R(),t=t?t:C[0].title,F(function(){U("_set","title",t),U("_trackPageview",_+e)}),z(function(){var a={page:_+e,title:t};n.extend(a,P()),n.isObject(i)&&n.extend(a,i),H(r,"send","pageview",a)})},this._trackEvent=function(e,t,r,i,a,o){F(function(){U("_trackEvent",e,t,r,i,!!a)}),z(function(){var s={},u=function(e){return I("trackEvent",e,!0)};n.isDefined(a)&&(s.nonInteraction=!!a),n.isObject(o)&&n.extend(s,o),H(u,"send","event",e,t,r,i,s)})},this._addTrans=function(e,t,n,r,i,a,o,s,u){F(function(){U("_addTrans",e,t,n,r,i,a,o,s)}),z(function(){if(N._ecommerceEnabled(!0,"addTrans")){var a=function(e){return I("trackEcommerce",e,!0)};H(a,"ecommerce:addTransaction",{id:e,affiliation:t,revenue:n,tax:r,shipping:i,currency:u||"USD"})}})},this._addItem=function(e,t,n,r,i,a){F(function(){U("_addItem",e,t,n,r,i,a)}),z(function(){if(N._ecommerceEnabled(!0,"addItem")){var o=function(e){return I("trackEcommerce",e,!0)};H(o,"ecommerce:addItem",{id:e,name:n,sku:t,category:r,price:i,quantity:a})}})},this._trackTrans=function(){F(function(){U("_trackTrans")}),z(function(){if(N._ecommerceEnabled(!0,"trackTrans")){var e=function(e){return I("trackEcommerce",e,!0)};H(e,"ecommerce:send")}})},this._clearTrans=function(){z(function(){if(N._ecommerceEnabled(!0,"clearTrans")){var e=function(e){return I("trackEcommerce",e,!0)};H(e,"ecommerce:clear")}})},this._addProduct=function(e,t,r,i,a,o,s,u,l,c){F(function(){U("_addProduct",e,t,r,i,a,o,s,u,l)}),z(function(){if(N._enhancedEcommerceEnabled(!0,"addProduct")){var f=function(e){return I("trackEcommerce",e,!0)},d={id:e,name:t,category:r,brand:i,variant:a,price:o,quantity:s,coupon:u,position:l};n.isObject(c)&&n.extend(d,c),H(f,"ec:addProduct",d)}})},this._addImpression=function(e,t,n,r,i,a,o,s){F(function(){U("_addImpression",e,t,n,r,i,a,o,s)}),z(function(){if(N._enhancedEcommerceEnabled(!0,"addImpression")){var u=function(e){return I("trackEcommerce",e,!0)};H(u,"ec:addImpression",{id:e,name:t,category:i,brand:r,variant:a,list:n,position:o,price:s})}})},this._addPromo=function(e,t,n,r){F(function(){U("_addPromo",e,t,n,r)}),z(function(){if(N._enhancedEcommerceEnabled(!0,"addPromo")){var i=function(e){return I("trackEcommerce",e,!0)};H(i,"ec:addPromo",{id:e,name:t,creative:n,position:r})}})},this._setAction=function(e,t){F(function(){U("_setAction",e,t)}),z(function(){if(N._enhancedEcommerceEnabled(!0,"setAction")){var n=function(e){return I("trackEcommerce",e,!0)};H(n,"ec:setAction",e,t)}})},this._trackTransaction=function(e,t,n,r,i,a,o,s,u){this._setAction("purchase",j(e,t,n,r,i,a,o,s,u))},this._trackRefund=function(e){this._setAction("refund",j(e))},this._trackCheckOut=function(e,t){this._setAction("checkout",j(null,null,null,null,null,null,null,e,t))},this._trackDetail=function(){this._setAction("detail"),this._pageView()},this._trackCart=function(e){-1!==["add","remove"].indexOf(e)&&(this._setAction(e),this._trackEvent("UX","click",e+("add"===e?" to cart":" from cart")))},this._promoClick=function(e){this._setAction("promo_click"),this._trackEvent("Internal Promotions","click",e)},this._productClick=function(e){this._setAction("click",j(null,null,null,null,null,null,e,null,null)),this._trackEvent("UX","click",e)},this._pageView=function(e){z(function(){q(D("send",e),"pageview")})},this._send=function(){var e=Array.prototype.slice.call(arguments);e.unshift("send"),z(function(){q.apply(N,e)})},this._set=function(e,t,n){z(function(){q(D("set",n),e,t)})},this._trackTimings=function(e,t,n,r){this._send("timing",e,t,n,r)},p||(l?this._createAnalyticsScriptTag():this._createScriptTag()),S&&O.$on($,function(){N._trackPage()}),{log:N.log,offlineQueue:N.offlineQueue,configuration:{accounts:i,universalAnalytics:l,crossDomainLinker:d,crossLinkDomains:a,currency:h,delayScriptTag:p,displayFeatures:g,domainName:o,ecommerce:N._ecommerceEnabled(),enhancedEcommerce:N._enhancedEcommerceEnabled(),enhancedLinkAttribution:y,experimentId:s,ignoreFirstPageLoad:b,logAllCalls:x,pageEvent:$,removeRegExp:u,testMode:k,trackPrefix:_,trackRoutes:S,trackUrlParams:E},getUrl:R,setCookieConfig:N._setCookieConfig,getCookieConfig:function(){return c},createAnalyticsScriptTag:function(e){return e&&(c=e),N._createAnalyticsScriptTag()},createScriptTag:function(){return N._createScriptTag()},offline:function(e){if(e===!0&&w===!1&&(w=!0),e===!1&&w===!0)for(w=!1;N.offlineQueue.length>0;){var t=N.offlineQueue.shift();t[0].apply(N,t[1])}return w},trackPage:function(e,t,n){N._trackPage.apply(N,arguments)},trackEvent:function(e,t,n,r,i,a){N._trackEvent.apply(N,arguments)},addTrans:function(e,t,n,r,i,a,o,s,u){N._addTrans.apply(N,arguments)},addItem:function(e,t,n,r,i,a){N._addItem.apply(N,arguments)},trackTrans:function(){N._trackTrans.apply(N,arguments)},clearTrans:function(){N._clearTrans.apply(N,arguments)},addProduct:function(e,t,n,r,i,a,o,s,u,l){N._addProduct.apply(N,arguments)},addPromo:function(e,t,n,r){N._addPromo.apply(N,arguments)},addImpression:function(e,t,n,r,i,a,o,s){N._addImpression.apply(N,arguments)},productClick:function(e){N._productClick.apply(N,arguments)},promoClick:function(e){N._promoClick.apply(N,arguments)},trackDetail:function(){N._trackDetail.apply(N,arguments)},trackCart:function(e){N._trackCart.apply(N,arguments)},trackCheckout:function(e,t){N._trackCheckOut.apply(N,arguments)},trackTimings:function(e,t,n,r){N._trackTimings.apply(N,arguments)},trackTransaction:function(e,t,n,r,i,a,o,s,u){N._trackTransaction.apply(N,arguments)},setAction:function(e,t){N._setAction.apply(N,arguments)},pageView:function(){N._pageView.apply(N,arguments)},send:function(e){N._send.apply(N,arguments)},set:function(e,t,n){N._set.apply(N,arguments)}}}]}).directive("gaTrackEvent",["Analytics","$parse",function(e,t){return{restrict:"A",link:function(n,r,i){var a=t(i.gaTrackEvent);r.bind("click",function(){(!i.gaTrackEventIf||n.$eval(i.gaTrackEventIf))&&a.length>1&&e.trackEvent.apply(e,a(n))})}}}])}(window,document,window.angular),function(){"use strict";angular.module("vlui",["LocalStorageModule","ui.select","angular-google-analytics"]).constant("_",window._).constant("dl",window.dl).constant("vl",window.vl).constant("vg",window.vg).constant("Blob",window.Blob).constant("URL",window.URL).constant("Drop",window.Drop).constant("Heap",window.Heap).constant("consts",{addCount:!0,debug:!0,useUrl:!0,logging:!0,defaultConfigSet:"large",appId:"vlui",embeddedData:window.vguiData||void 0,priority:{bookmark:0,popup:0,vislist:1e3},myriaRest:"http://ec2-52-1-38-182.compute-1.amazonaws.com:8753",typeNames:{N:"text",O:"text-ordinal",Q:"number",T:"time",G:"geo"}}).config(["AnalyticsProvider",function(e){e.setAccount({tracker:"UA-44428446-4",name:"voyager",trackEvent:!0})}])}(),function(){angular.module("vlui").run(["$templateCache",function(e){e.put("bookmarklist/bookmarklist.html",'<div class="vflex full-width full-height" id="evs"><div class="modal-header no-shrink card no-top-margin no-right-margin"><modal-close-button on-close="logBookmarksClosed()"></modal-close-button><h2 class="no-bottom-margin">Bookmarks ({{ Bookmarks.length }})</h2><a ng-click="Bookmarks.clear()"><i class="fa fa-trash-o"></i> Clear all</a></div><div class="flex-grow-1 scroll-y"><div ng-if="Bookmarks.length > 0" class="vis-list hflex flex-wrap"><vl-plot-group ng-repeat="chart in Bookmarks.dict | orderObjectBy : \'timeAdded\' : false" class="wrapped-vl-plot-group" chart="chart" field-set="chart.fieldSet" show-bookmark="true" show-debug="consts.debug" show-expand="false" always-selected="true" highlighted="highlighted" ng-mouseover="(highlighted||{})[field.name] = true" ng-mouseout="(highlighted||{})[field.name] = false" overflow="true" tooltip="true" priority="consts.priority.bookmark"></vl-plot-group></div><div class="vis-list-empty" ng-if="Bookmarks.length === 0">You have no bookmarks</div></div></div>'),e.put("fieldinfo/fieldinfo.html",'<span class="field-info"><span class="hflex full-width" ng-click="clicked($event)"><span class="type-caret" ng-class="{active: !disableCountCaret || field.aggregate!==\'count\'}"><i class="fa fa-caret-down" ng-show="showCaret"></i> <span class="type fa {{icon}}" ng-show="showType" title="{{typeNames[field.type]}}"></span></span> <span ng-if="field.aggregate!==\'count\'" class="field-info-text"><span ng-if="func(field)" class="field-func" ng-class="{any: field._any}">{{ func(field) === \'avg\' ? \'mean\' : func(field) }}</span><span class="field-name" ng-class="{hasfunc: func(field), any: field._any}">{{ field.name | underscore2space }}</span></span> <span ng-if="field.aggregate===\'count\'" class="field-count field-info-text"><span class="field-name">COUNT</span></span> <span class="no-shrink remove" ng-show="showRemove"><a class="remove-field" ng-click="removeAction()"><i class="fa fa-times"></i></a></span> <span class="no-shrink info" ng-show="showInfo"><i ng-if="field.aggregate !== \'count\' && isTypes(field, [\'N\', \'O\'])" class="fa fa-info-circle" tooltips="" tooltip-size="small" tooltip-html="<div class=\'tooltip-content\'> <strong>Name:</strong> {{field.name}}<br> <strong>Cardinality:</strong> {{stats.distinct | number}}<br> <strong>Min:</strong> {{stats.min}}<br> <strong>Max:</strong> {{stats.max}}<br> <strong>Sample:</strong> <span class=\'sample\'>{{stats.sample.join(\', \')}}</span> </div>" tooltip-side="right"></i> <i ng-if="field.aggregate !== \'count\' && field.type === \'T\'" class="fa fa-info-circle" tooltips="" tooltip-size="small" tooltip-html="<div class=\'tooltip-content\'> <strong>Name:</strong> {{field.name}}<br> <strong>Cardinality:</strong> {{stats.distinct | number}}<br> <strong>Min:</strong> {{stats.min | date: short}}<br> <strong>Max:</strong> {{stats.max | date: short}}<br> <strong>Sample:</strong> <span class=\'sample\'>{{stats.sample.join(\', \')}}</span> </div>" tooltip-side="right"></i> <i ng-if="field.aggregate !== \'count\' && field.type === \'Q\'" class="fa fa-info-circle" tooltips="" tooltip-size="small" tooltip-html="<div class=\'tooltip-content\'> <strong>Name:</strong> {{field.name}}<br> <strong>Cardinality:</strong> {{stats.distinct | number}}<br> <strong>Min:</strong> {{stats.min | number}}<br> <strong>Max:</strong> {{stats.max | number}}<br> <strong>Stdev:</strong> {{stats.stdev | number:2}}<br> <strong>Mean:</strong> {{stats.mean | number:2}}<br> <strong>Median:</strong> {{stats.median | number}}<br> <strong>Sample:</strong> <span class=\'sample\'>{{stats.sample.join(\', \')}}</span> </div>" tooltip-side="right"></i><i ng-if="field.aggregate === \'count\'" class="fa fa-info-circle" tooltips="" tooltip-size="small" tooltip-html="<div class=\'tooltip-content\'> <strong>Count:</strong> {{stats.max}} </div>" tooltip-side="right"></i></span></span></span>'),e.put("dataset/addmyriadataset.html",'<div class="add-myria-dataset"><p>Select a dataset from the Myria instance at <code>{{myriaRestUrl}}</code>.</p><form ng-submit="addDataset(myriaDataset)"><ui-select ng-model="$parent.myriaDataset" style="width: 300px" theme="selectize" ng-disabled="disabled" reset-search-input="false"><ui-select-match placeholder="Select dataset...">{{$select.selected.relationName}}</ui-select-match><ui-select-choices id="dataset-name" repeat="dataset in myriaDatasets" refresh="loadDatasets($select.search)" refresh-delay="100">{{ dataset.userName}}:{{dataset.programName}}:{{dataset.relationName }}</ui-select-choices></ui-select><button type="submit">Add dataset</button></form></div>'),e.put("dataset/addurldataset.html",'<div class="add-url-dataset"><p>Add the name of the dataset and the URL to a <b>JSON</b> or <b>CSV</b> (with header) file. Make sure that the formatting is correct and clean the data before adding it to Voyager. The added dataset is only visible to you.</p><form ng-submit="addFromUrl(addedDataset)"><div class="form-group"><label for="dataset-name">Name</label> <input ng-model="addedDataset.name" id="dataset-name" type="text"></div><div class="form-group"><label for="dataset-url">URL</label> <input ng-model="addedDataset.url" id="dataset-url" type="url"><p>Make sure that you host the file on a server that has <code>Access-Control-Allow-Origin: *</code> set.</p></div><button type="submit">Add dataset</button></form></div>'),e.put("dataset/datasetmodal.html",'<modal id="dataset-modal" max-width="800px"><div class="modal-header"><modal-close-button></modal-close-button><h2>Add Dataset</h2></div><tabset><tab heading="Paste or Upload Data"><paste-dataset></paste-dataset></tab><tab heading="From URL"><add-url-dataset></add-url-dataset></tab><tab heading="From Myria"><add-myria-dataset></add-myria-dataset></tab></tabset></modal>'),e.put("dataset/datasetselector.html",'<div><div class="open-dataset-popup"></div><select id="dataset-select" ng-model="Dataset.dataset" ng-change="datasetChanged()" ng-options="dataset.name group by dataset.group for dataset in Dataset.datasets track by dataset.id"><option value="">Add dataset...</option></select></div>'),e.put("dataset/filedropzone.html",'<div class="dropzone" ng-transclude=""></div>'),e.put("dataset/pastedataset.html",'<div class="paste-data"><file-dropzone dataset="dataset" max-file-size="3" valid-mime-types="[text/csv, text/json, text/tsv]"><div class="upload-data"><div class="form-group"><label for="dataset-file">File</label> <input type="file" id="dataset-file" accept="text/csv,text/tsv"></div><p>Upload a CSV, or paste data in <a href="https://en.wikipedia.org/wiki/Comma-separated_values">CSV</a> format into the fields.</p><div class="dropzone-target"><p>Drop CSV file here</p></div></div><form ng-submit="addDataset()"><div class="form-group"><label for="dataset-name">Name</label> <input type="name" ng-model="dataset.name" id="dataset-name" required=""></div><div class="form-group"><textarea ng-model="dataset.data" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 17, \'blur\': 0 }}" required="">\n      </textarea></div><button type="submit">Add data</button></form></file-dropzone></div>'),e.put("modal/modal.html",'<div class="modal" ng-if="isOpen"><div class="modal-wrapper" style="{{wrapperStyle}}" ng-transclude=""></div></div>'),e.put("modal/modalclosebutton.html",'<div class="right"><a ng-click="closeModal()" class="right">Close</a></div>'),e.put("tabs/tab.html",'<div ng-if="active" ng-transclude=""></div>'),e.put("tabs/tabset.html",'<div class="tab-container"><div><a href="" class="tab" ng-repeat="tab in tabset.tabs" ng-class="{\'active\': tab.active}" ng-click="tabset.showTab(tab)">{{tab.heading}}</a></div><div class="tab-contents" ng-transclude=""></div></div>'),e.put("vlplot/vlplot.html",'<div class="vis" id="vis-{{visId}}" ng-class="{ fit: !alwaysScrollable && !overflow && (maxHeight && (!height || height <= maxHeight)) && (maxWidth && (!width || width <= maxWidth)), overflow: alwaysScrollable || overflow || (maxHeight && height && height > maxHeight) || (maxWidth && width && width > maxWidth), scroll: alwaysScrollable || unlocked || hoverFocus }" ng-mousedown="unlocked=!thumbnail" ng-mouseup="unlocked=false" ng-mouseover="mouseover()" ng-mouseout="mouseout()"><div class="vis-tooltip" ng-show="tooltipActive"><table><tr ng-repeat="p in data"><td class="key">{{p[0]}}</td><td class="value"><b>{{p[1]}}</b></td></tr></table></div></div>'),e.put("vlplotgroup/vlplotgroup.html",'<div class="vl-plot-group card vflex"><div ng-show="showExpand || fieldSet || showTranspose || showBookmark && Bookmarks.isSupported || showToggle" class="vl-plot-group-header full-width no-shrink"><div class="field-set-info"><field-info ng-repeat="field in fieldSet" ng-if="fieldSet" field="field" show-type="true" ng-class="{ selected: alwaysSelected || (isSelected && isSelected(field.name)), unselected: isSelected && !isSelected(field.name), highlighted: (highlighted||{})[field.name] }" ng-mouseover="(highlighted||{})[field.name] = true" ng-mouseout="(highlighted||{})[field.name] = false"></field-info></div><div class="toolbox"><a ng-show="consts.debug && showDebug" class="command debug"><i class="fa fa-wrench" ng-click="shCopied=\'\'; vlCopied=\'\'; vgCopied=\'\';"></i></a><div class="drop-container"><div class="popup-menu popup-command no-shrink dev-tool"><div class="command debug"><span class="debug">Vls</span> <a class="debug" ui-zeroclip="" zeroclip-copied="shCopied=\'(Copied)\'" zeroclip-model="chart.shorthand">Copy</a> / <a class="debug" ng-click="logCode(\'VL shorthand\', chart.shorthand); shCopied=\'(Logged)\';">Log</a> <span>{{shCopied}}</span></div><div class="command debug"><span class="debug">Vl</span> <a class="debug" ui-zeroclip="" zeroclip-copied="vlCopied=\'(Copied)\'" zeroclip-model="chart.cleanSpec | compactJSON">Copy</a> / <a class="debug" ng-click="logCode(\'Vega-lite\', chart.cleanSpec); vlCopied=\'(Logged)\';">Log</a> <span>{{vlCopied}}</span></div><div class="command debug"><span class="debug">Vg</span> <a class="debug" ui-zeroclip="" zeroclip-copied="vgCopied=\'(Copied)\'" zeroclip-model="chart.vgSpec | compactJSON">Copy</a> / <a class="debug" ng-click="logCode(\'Vega\', chart.vgSpec); vgCopied=\'(Logged)\';">Log</a> <span>{{vgCopied}}</span></div><a class="command debug" ng-href="{{ {type:\'vl\', encoding: chart.cleanSpec} | reportUrl }}" target="_blank">Report Bad Render</a> <a ng-click="showFeature=!showFeature" class="command debug">{{chart.score}}</a><div ng-repeat="f in chart.scoreFeatures track by f.reason">[{{f.score}}] {{f.reason}}</div></div></div><a ng-if="showMarkType" class="command disabled"><i class="fa fa-font"></i> <i class="fa fa-line-chart"></i> <i class="fa fa-area-chart"></i> <i class="fa fa-bar-chart"></i> <i class="fa fa-circle-o"></i></a> <a ng-if="showLog && chart.vlSpec && log.support(chart.vlSpec, \'x\')" class="command" ng-click="log.toggle(chart.vlSpec, \'x\')" ng-class="{active: log.active(chart.vlSpec, \'x\')}"><i class="fa fa-long-arrow-right"></i> <small>LOG X</small></a> <a ng-if="showLog && chart.vlSpec && log.support(chart.vlSpec, \'y\')" class="command" ng-click="log.toggle(chart.vlSpec, \'y\')" ng-class="{active: log.active(chart.vlSpec, \'y\')}"><i class="fa fa-long-arrow-up"></i> <small>LOG Y</small></a> <a ng-show="showSort && chart.vlSpec && toggleSort.support(chart.vlSpec, Dataset.stats)" class="command" ng-click="toggleSort(chart.vlSpec)"><i class="fa sort" ng-class="toggleSortClass(chart.vlSpec)"></i> <small ng-if="showLabel">Sort</small></a> <a ng-if="showFilterNull && chart.vlSpec && toggleFilterNull.support(chart.vlSpec, Dataset.stats)" class="command" ng-click="toggleFilterNull(chart.vlSpec)" ng-class="{active: chart.vlSpec && chart.vlSpec.cfg.filterNull.O}"><i class="fa fa-filter"></i> <small ng-if="showLabel">Filter</small> <small>NULL</small></a> <a ng-if="showTranspose" class="command" ng-click="transpose()"><i class="fa fa-refresh transpose"></i> <small ng-if="showLabel">Transpose</small></a> <a ng-if="showBookmark && Bookmarks.isSupported" class="command" ng-click="Bookmarks.toggle(chart)" ng-class="{disabled: !chart.vlSpec.encoding, active: Bookmarks.isBookmarked(chart.shorthand)}"><i class="fa fa-bookmark"></i> <small ng-if="showLabel">Bookmark</small></a> <a ng-if="showExpand" ng-click="expandAction()" class="command"><i class="fa fa-expand"></i></a></div></div><div class="vl-plot-wrapper full-width vis-{{fieldSet.key}} flex-grow-1"><vl-plot chart="chart" disabled="disabled" is-in-list="isInList" always-scrollable="alwaysScrollable" config-set="{{configSet||\'small\'}}" max-height="maxHeight" max-width="maxWidth" overflow="overflow" priority="priority" rescale="rescale" thumbnail="thumbnail" tooltip="tooltip"></vl-plot></div></div>')}])}(),function(){"use strict";angular.module("vlui").service("Alerts",["$timeout","_",function(e,t){var n={};return n.alerts=[],n.add=function(r,i){var a={msg:r};n.alerts.push(a),i&&e(function(){var e=t.findIndex(n.alerts,a);n.closeAlert(e)},i)},n.closeAlert=function(e){n.alerts.splice(e,1)},n}])}(),function(){"use strict";angular.module("vlui").directive("bookmarkList",["Bookmarks","consts","Logger",function(e,t,n){return{templateUrl:"bookmarklist/bookmarklist.html",restrict:"E",replace:!0,scope:{highlighted:"="},link:function(r){n.logInteraction(n.actions.BOOKMARK_OPEN),r.logBookmarksClosed=function(){n.logInteraction(n.actions.BOOKMARK_CLOSE)},r.Bookmarks=e,r.consts=t}}}])}(),function(){"use strict";angular.module("vlui").service("Bookmarks",["_","vl","localStorageService","Logger","Dataset",function(e,t,n,r,i){var a=function(){this.dict={},this.length=0,this.isSupported=n.isSupported},o=a.prototype;return o.updateLength=function(){this.length=Object.keys(this.dict).length},o.save=function(){n.set("bookmarks",this.dict)},o.load=function(){this.dict=n.get("bookmarks")||{},this.updateLength()},o.clear=function(){this.dict={},this.updateLength(),this.save(),r.logInteraction(r.actions.BOOKMARK_CLEAR)},o.toggle=function(e){var t=e.shorthand;this.dict[t]?this.remove(e):this.add(e)},o.add=function(t){var n=t.shorthand;console.log("adding",t.vlSpec,n),t.timeAdded=(new Date).getTime(),t.stats=i.stats,this.dict[n]=e.cloneDeep(t),this.updateLength(),this.save(),r.logInteraction(r.actions.BOOKMARK_ADD,n)},o.remove=function(e){var t=e.shorthand;console.log("removing",e.vlSpec,t),delete this.dict[t],this.updateLength(),this.save(),r.logInteraction(r.actions.BOOKMARK_REMOVE,t)},o.isBookmarked=function(e){return e in this.dict},new a}])}(),function(){"use strict";angular.module("vlui").factory("Config",["vl","_",function(e,t){var n={};return n.schema=e.schema.schema.properties.config,n.dataschema=e.schema.schema.properties.data,n.data=e.schema.util.instantiate(n.dataschema),n.config=e.schema.util.instantiate(n.schema),n.getConfig=function(){return t.cloneDeep(n.config)},n.getData=function(){return t.cloneDeep(n.data)},n.large=function(){return{singleWidth:400,singleHeight:400,largeBandMaxCardinality:20}},n.small=function(){return{}},n.updateDataset=function(e,t){e.values?(n.data.values=e.values,delete n.data.url,n.data.formatType=void 0):(n.data.url=e.url,delete n.data.values,n.data.formatType=t)},n}])}(),function(){"use strict";angular.module("vlui").directive("fieldInfo",["Dataset","Drop","vl","consts",function(e,t,n,r){return{templateUrl:"fieldinfo/fieldinfo.html",restrict:"E",replace:!0,scope:{field:"=",showType:"=",showInfo:"=",showCaret:"=",popupContent:"=",showRemove:"=",removeAction:"&",action:"&",disableCountCaret:"="},link:function(i,a){var o;switch(i.typeNames=r.typeNames,i.stats=e.stats[i.field.name],i.isTypes=n.field.isTypes,i.field.type){case"O":i.icon="fa-font";break;case"N":i.icon="fa-font";break;case"Q":i.icon="icon-hash";break;case"T":i.icon="fa-calendar"}i.clicked=function(e){i.action&&e.target!==a.find(".fa-caret-down")[0]&&e.target!==a.find("span.type")[0]&&i.action(e)},i.func=function(e){return e.aggregate||e.timeUnit||e.bin&&"bin"||e._aggregate||e._timeUnit||e._bin&&"bin"||e._any&&"auto"},i.$watch("popupContent",function(e){e&&(o&&o.destroy(),o=new t({content:e,target:a.find(".type-caret")[0],position:"bottom left",openOn:"click"}))}),i.$on("$destroy",function(){o&&o.destroy()})}}}])}(),function(){"use strict";angular.module("vlui").directive("addMyriaDataset",["$http","Dataset","consts",function(e,t,n){return{templateUrl:"dataset/addmyriadataset.html",restrict:"E",require:"?^^modal",replace:!0,scope:!0,link:function(r,i,a,o){function s(){o&&o.close()}r.myriaRestUrl=n.myriaRest,r.myriaDatasets=[],r.myriaDataset=null,r.loadDatasets=function(t){return e.get(r.myriaRestUrl+"/dataset/search/?q="+t).then(function(e){r.myriaDatasets=e.data})},r.addDataset=function(e){var n={group:"myria",name:e.relationName,url:r.myriaRestUrl+"/dataset/user-"+e.userName+"/program-"+e.programName+"/relation-"+e.relationName+"/data?format=json"};t.type="json",t.dataset=t.add(n),t.update(t.dataset),s()}}}}])}(),function(){"use strict";angular.module("vlui").directive("addUrlDataset",["Dataset","Logger",function(e,t){return{templateUrl:"dataset/addurldataset.html",restrict:"E",require:"?^^modal",replace:!0,scope:!0,link:function(n,r,i,a){function o(){a&&a.close()}n.addedDataset={group:"user"},n.addFromUrl=function(n){t.logInteraction(t.actions.DATASET_NEW_URL,n.url),e.dataset=e.add(n),e.update(e.dataset),o()}}}}])}(),function(){"use strict";function e(e){return e.reduce(function(e,t){return e[t.name]=t,e},{})}angular.module("vlui").factory("Dataset",["$http","$q","Alerts","_","dl","vl","SampleData","Config","Logger",function(t,n,r,i,a,o,s,u,l){var c={},f=s;c.datasets=f,c.dataset=f[1],c.currentDataset=void 0,c.dataschema=[],c.dataschema.byName={},c.stats={},c.type=void 0;var d={N:0,O:0,G:2,T:3,Q:4};return c.fieldOrderBy={},c.fieldOrderBy.type=function(e){return"count"===e.aggregate?4:d[e.type]},c.fieldOrderBy.typeThenName=function(e){return c.fieldOrderBy.type(e)+"_"+("count"===e.aggregate?"~":e.name.toLowerCase())},c.fieldOrderBy.original=function(){return 0},c.fieldOrderBy.name=function(e){return e.name},c.fieldOrderBy.cardinality=function(e,t){return t[e.name].distinct},c.fieldOrder=c.fieldOrderBy.typeThenName,c.getSchema=function(e,t,n){var r=a.type.inferAll(e),s=i.reduce(r,function(e,n,r){var i={name:r,type:o.data.types[n],primitiveType:n};return"Q"===i.type&&t[i.name].distinct<=5&&(i.type="O"),e.push(i),e},[]);return s=a.stablesort(s,n||c.fieldOrderBy.typeThenName,c.fieldOrderBy.name),s.push(o.field.count()),s},c.onUpdate=[],c.update=function(e){var r;return l.logInteraction(l.actions.DATASET_CHANGE,e.name),r=e.values?n(function(t,n){c.type=void 0,c.updateFromData(e,e.values),t()}):t.get(e.url,{cache:!0}).then(function(t){var n;i.isObject(t.data)?(n=t.data,c.type="json"):(n=a.read(t.data,{type:"csv"}),c.type="csv"),c.updateFromData(e,n)}),c.onUpdate.forEach(function(e){r=r.then(e);

}),r.then(function(){u.updateDataset(e,c.type)}),r},c.updateFromData=function(t,n){c.data=n,c.currentDataset=t,c.stats=o.data.stats(c.data);for(var r in c.stats)"*"!==r&&(c.stats[r].sample=i.sample(i.pluck(c.data,r),7));c.dataschema=c.getSchema(c.data,c.stats),c.dataschema.byName=e(c.dataschema)},c.add=function(e){return e.id||(e.id=e.url),f.push(e),e},c}])}(),function(){"use strict";angular.module("vlui").directive("datasetModal",function(){return{templateUrl:"dataset/datasetmodal.html",restrict:"E",scope:!1}})}(),function(){"use strict";angular.module("vlui").directive("datasetSelector",["Dataset","Modals","Logger",function(e,t,n){return{templateUrl:"dataset/datasetselector.html",restrict:"E",replace:!0,scope:{},link:function(r){r.Dataset=e,r.datasetChanged=function(){return e.dataset?void e.update(e.dataset):(e.dataset=e.currentDataset,n.logInteraction(n.actions.DATASET_OPEN),void t.open("dataset-modal"))}}}}])}(),function(){"use strict";angular.module("vlui").constant("FileReader",window.FileReader).directive("fileDropzone",["Modals","Alerts","FileReader",function(e,t,n){function r(e,n){return!n||+n>e/1024/1024?!0:(t.add("File must be smaller than "+n+" MB"),!1)}function i(e,n){return!n||n.indexOf(e)>-1?!0:(t.add("Invalid file type. File must be one of following types: "+n),!1)}return{templateUrl:"dataset/filedropzone.html",replace:!0,restrict:"E",transclude:!0,scope:{maxFileSize:"@",validMimeTypes:"@",dataset:"="},link:function(e,a){function o(a){if(i(a.type,e.validMimeTypes)&&r(a.size,e.maxFileSize)){var o=new n;o.onload=function(t){return e.$apply(function(e){e.dataset.data=t.target.result,e.dataset.name=a.name.replace(/\.\w+$/,"")})},o.onerror=function(){t.add("Error reading file")},o.readAsText(a)}}e.dataset=e.dataset||{},a.on("dragover dragenter",function(e){e&&e.preventDefault(),e.originalEvent.dataTransfer.effectAllowed="copy"}),a.on("drop",function(e){e&&e.preventDefault(),o(e.originalEvent.dataTransfer.files[0])}),a.find('input[type="file"]').on("change",function(){o(this.files[0])})}}}])}(),function(){"use strict";angular.module("vlui").directive("pasteDataset",["Dataset","Alerts","Logger","Config","_","dl",function(e,t,n,r,i,a){return{templateUrl:"dataset/pastedataset.html",restrict:"E",require:"?^^modal",replace:!0,scope:!0,link:function(t,r,i,o){function s(){o&&o.close()}t.dataset={name:"",data:""},t.addDataset=function(){var r=a.read(t.dataset.data,{type:"csv"}),i={id:Date.now(),name:t.dataset.name,values:r,group:"pasted"};n.logInteraction(n.actions.DATASET_NEW_PASTE,i.name),e.dataset=e.add(i),e.update(e.dataset),s()}}}}])}(),function(){angular.module("vlui").constant("SampleData",[{name:"Barley",url:"data/barley.json",id:"barley",group:"sample"},{name:"Cars",url:"data/cars.json",id:"cars",group:"sample"},{name:"Crimea",url:"data/crimea.json",id:"crimea",group:"sample"},{name:"Driving",url:"data/driving.json",id:"driving",group:"sample"},{name:"Iris",url:"data/iris.json",id:"iris",group:"sample"},{name:"Jobs",url:"data/jobs.json",id:"jobs",group:"sample"},{name:"Population",url:"data/population.json",id:"population",group:"sample"},{name:"Movies",url:"data/movies.json",id:"movies",group:"sample"},{name:"Birdstrikes",url:"data/birdstrikes.json",id:"birdstrikes",group:"sample"},{name:"Burtin",url:"data/burtin.json",id:"burtin",group:"sample"},{name:"Budget 2016",url:"data/budget.json",id:"budget",group:"sample"},{name:"Climate Normals",url:"data/climate.json",id:"climate",group:"sample"},{name:"Campaigns",url:"data/weball26.json",id:"weball26",group:"sample"}])}(),function(){"use strict";angular.module("vlui").service("Logger",["$location","$window","consts","Analytics",function(e,t,n,r){var i={};return i.levels={OFF:{id:"OFF",rank:0},TRACE:{id:"TRACE",rank:1},DEBUG:{id:"DEBUG",rank:2},INFO:{id:"INFO",rank:3},WARN:{id:"WARN",rank:4},ERROR:{id:"ERROR",rank:5},FATAL:{id:"FATAL",rank:6}},i.actions={INITIALIZE:{category:"DATA",id:"INITIALIZE",level:i.levels.DEBUG},UNDO:{category:"DATA",id:"UNDO",level:i.levels.INFO},REDO:{category:"DATA",id:"REDO",level:i.levels.INFO},DATASET_CHANGE:{category:"DATA",id:"DATASET_CHANGE",level:i.levels.INFO},DATASET_OPEN:{category:"DATA",id:"DATASET_OPEN",level:i.levels.INFO},DATASET_NEW_PASTE:{category:"DATA",id:"DATASET_NEW_PASTE",level:i.levels.INFO},DATASET_NEW_URL:{category:"DATA",id:"DATASET_NEW_URL",level:i.levels.INFO},BOOKMARK_ADD:{category:"BOOKMARK",id:"BOOKMARK_ADD",level:i.levels.INFO},BOOKMARK_REMOVE:{category:"BOOKMARK",id:"BOOKMARK_REMOVE",level:i.levels.INFO},BOOKMARK_OPEN:{category:"BOOKMARK",id:"BOOKMARK_OPEN",level:i.levels.INFO},BOOKMARK_CLOSE:{category:"BOOKMARK",id:"BOOKMARK_CLOSE",level:i.levels.INFO},BOOKMARK_CLEAR:{category:"BOOKMARK",id:"BOOKMARK_CLEAR",level:i.levels.INFO},CHART_MOUSEOVER:{category:"CHART",id:"CHART_MOUSEOVER",level:i.levels.DEBUG},CHART_MOUSEOUT:{category:"CHART",id:"CHART_MOUSEOUT",level:i.levels.DEBUG},CHART_RENDER:{category:"CHART",id:"CHART_RENDER",level:i.levels.DEBUG},CHART_EXPOSE:{category:"CHART",id:"CHART_EXPOSE",level:i.levels.DEBUG},CHART_TOOLTIP:{category:"CHART",id:"CHART_TOOLTIP",level:i.levels.DEBUG},CHART_TOOLTIP_END:{category:"CHART",id:"CHART_TOOLTIP_END",level:i.levels.DEBUG},SORT_TOGGLE:{category:"CHART",id:"SORT_TOGGLE",level:i.levels.INFO},MARKTYPE_TOGGLE:{category:"CHART",id:"MARKTYPE_TOGGLE",level:i.levels.INFO},DRILL_DOWN_OPEN:{category:"CHART",id:"DRILL_DOWN_OPEN",level:i.levels.INFO},DRILL_DOWN_CLOSE:{category:"CHART",id:"DRILL_DOWN_CLOSE",level:i.levels.INFO},LOG_TOGGLE:{category:"CHART",id:"LOG_TOGGLE",level:i.levels.INFO},TRANSPOSE_TOGGLE:{category:"CHART",id:"TRANSPOSE_TOGGLE",level:i.levels.INFO},NULL_FILTER_TOGGLE:{category:"CHART",id:"NULL_FILTER_TOGGLE",level:i.levels.INFO},CLUSTER_SELECT:{category:"CHART",id:"CLUSTER_SELECT",level:i.levels.INFO},LOAD_MORE:{category:"CHART",id:"LOAD_MORE",level:i.levels.INFO},FIELDS_CHANGE:{category:"FIELDS",id:"FIELDS_CHANGE",level:i.levels.INFO},FIELDS_RESET:{category:"FIELDS",id:"FIELDS_RESET",level:i.levels.INFO},FUNC_CHANGE:{category:"FIELDS",id:"FUNC_CHANGE",level:i.levels.INFO},SPEC_CHANGE:{category:"POLESTAR",id:"SPEC_CHANGE",level:i.levels.DEBUG},FIELD_DROP:{category:"POLESTAR",id:"FIELD_DROP",level:i.levels.DEBUG},MARK_CHANGE:{category:"POLESTAR",id:"MARK_CHANGE",level:i.levels.DEBUG}},i.logInteraction=function(e,t,a){if(n.logging){var o=a?a.value:void 0;e.level.rank>=i.levels.INFO.rank&&(r.trackEvent(e.category,e.id,t,o),console.log("[Logging] ",e.id,t,a))}},i.logInteraction(i.actions.INITIALIZE,n.appId),i}])}(),function(){"use strict";angular.module("vlui").directive("modal",["Modals",function(e){return{templateUrl:"modal/modal.html",restrict:"E",transclude:!0,scope:{maxWidth:"@"},controller:["$scope",function(e){this.close=function(){e.isOpen=!1}}],link:function(t,n,r){var i=r.id;t.wrapperStyle="max-width:"+t.maxWidth,t.isOpen=!1,e.register(i,t),t.$on("$destroy",function(){e.deregister(i)})}}}])}(),function(){"use strict";angular.module("vlui").directive("modalCloseButton",function(){return{templateUrl:"modal/modalclosebutton.html",restrict:"E",require:"^^modal",scope:{closeCallback:"&onClose"},link:function(e,t,n,r){e.closeModal=function(){r.close(),e.closeCallback&&e.closeCallback()}}}})}(),function(){"use strict";angular.module("vlui").factory("Modals",["$cacheFactory",function(e){var t=e("modals");return{register:function(e,n){return t.get(e)?void console.error("Cannot register two modals with id "+e):void t.put(e,n)},deregister:function(e){t.remove(e)},open:function(e){var n=t.get(e);return n?void(n.isOpen=!0):void console.error("Unregistered modal id "+e)},close:function(e){var n=t.get(e);return n?void(n.isOpen=!1):void console.error("Unregistered modal id "+e)},empty:function(){t.removeAll()},count:function(){return t.info().size}}}])}(),function(){"use strict";angular.module("vlui").directive("tab",function(){return{templateUrl:"tabs/tab.html",restrict:"E",require:"^^tabset",replace:!0,transclude:!0,scope:{heading:"@"},link:function(e,t,n,r){r.addTab(e)}}})}(),function(){"use strict";angular.module("vlui").directive("tabset",function(){return{templateUrl:"tabs/tabset.html",restrict:"E",transclude:!0,controller:function(){var e=this;this.tabs=[],this.addTab=function(t){t.active=0===e.tabs.length,e.tabs.push(t)},this.showTab=function(t){e.tabs.forEach(function(e){e.active=e===t})}},controllerAs:"tabset"}})}(),function(){(function(){function e(t,r){function a(e){if(a[e]!==m)return a[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=a("json-stringify")&&a("json-parse");else{var n,i='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var u=r.stringify,c="function"==typeof u&&b;if(c){(n=function(){return 1}).toJSON=n;try{c="0"===u(0)&&"0"===u(new o)&&'""'==u(new s)&&u(y)===m&&u(m)===m&&u()===m&&"1"===u(n)&&"[1]"==u([n])&&"[null]"==u([m])&&"null"==u(null)&&"[null,null,null]"==u([m,y,null])&&u({a:[n,!0,!1,null,"\x00\b\n\f\r	"]})==i&&"1"===u(null,n)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new l(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==u(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new l(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==u(new l(-1))}catch(f){c=!1}}t=c}if("json-parse"==e){var d=r.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){n=d(i);var h=5==n.a.length&&1===n.a[0];if(h){try{h=!d('"	"')}catch(f){}if(h)try{h=1!==d("01")}catch(f){}if(h)try{h=1!==d("1.")}catch(f){}}}}catch(f){h=!1}t=h}}return a[e]=!!t}t||(t=i.Object()),r||(r=i.Object());var o=t.Number||i.Number,s=t.String||i.String,u=t.Object||i.Object,l=t.Date||i.Date,c=t.SyntaxError||i.SyntaxError,f=t.TypeError||i.TypeError,d=t.Math||i.Math,h=t.JSON||i.JSON;"object"==typeof h&&h&&(r.stringify=h.stringify,r.parse=h.parse);var p,g,m,v=u.prototype,y=v.toString,b=new l(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(x){}var w="[object Function]",$="[object Date]",k="[object Number]",_="[object String]",S="[object Array]",E="[object Boolean]",C=a("bug-string-char-index");if(!b)var M=d.floor,T=[0,31,59,90,120,151,181,212,243,273,304,334],O=function(e,t){return T[t]+365*(e-1970)+M((e-1969+(t=+(t>1)))/4)-M((e-1901+t)/100)+M((e-1601+t)/400)};(p=v.hasOwnProperty)||(p=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=y?p=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,p=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,p.call(this,e)}),g=function(e,t){var r,i,a,o=0;(r=function(){this.valueOf=0}).prototype.valueOf=0,i=new r;for(a in i)p.call(i,a)&&o++;return r=i=null,o?g=2==o?function(e,t){var n,r={},i=y.call(e)==w;for(n in e)i&&"prototype"==n||p.call(r,n)||!(r[n]=1)||!p.call(e,n)||t(n)}:function(e,t){var n,r,i=y.call(e)==w;for(n in e)i&&"prototype"==n||!p.call(e,n)||(r="constructor"===n)||t(n);(r||p.call(e,n="constructor"))&&t(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(e,t){var r,a,o=y.call(e)==w,s=!o&&"function"!=typeof e.constructor&&n[typeof e.hasOwnProperty]&&e.hasOwnProperty||p;for(r in e)o&&"prototype"==r||!s.call(e,r)||t(r);for(a=i.length;r=i[--a];s.call(e,r)&&t(r));}),g(e,t)};var A={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},N="000000",D=function(e,t){return(N+(t||0)).slice(-e)},L="\\u00",I=function(e){for(var t='"',n=0,r=e.length,i=!C||r>10,a=i&&(C?e.split(""):e);r>n;n++){var o=e.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=A[o];break;default:if(32>o){t+=L+D(2,o.toString(16));break}t+=i?a[n]:e.charAt(n)}}return t+'"'},R=function(e,t,n,r,i,a,o,s){var u,l,c,d,h,v,b,x,w,C,T,A,N,L,P,j;s=s||0;try{u=t[e]}catch(F){}if("object"==typeof u&&u)if(l=y.call(u),l!=$||p.call(u,"toJSON"))"function"==typeof u.toJSON&&(l!=k&&l!=_&&l!=S||p.call(u,"toJSON"))&&(u=u.toJSON(e));else if(u>-1/0&&1/0>u){if(O){for(h=M(u/864e5),c=M(h/365.2425)+1970-1;O(c+1,0)<=h;c++);for(d=M((h-O(c,0))/30.42);O(c,d+1)<=h;d++);h=1+h-O(c,d),v=(u%864e5+864e5)%864e5,b=M(v/36e5)%24,x=M(v/6e4)%60,w=M(v/1e3)%60,C=v%1e3}else c=u.getUTCFullYear(),d=u.getUTCMonth(),h=u.getUTCDate(),b=u.getUTCHours(),x=u.getUTCMinutes(),w=u.getUTCSeconds(),C=u.getUTCMilliseconds();u=(0>=c||c>=1e4?(0>c?"-":"+")+D(6,0>c?-c:c):D(4,c))+"-"+D(2,d+1)+"-"+D(2,h)+"T"+D(2,b)+":"+D(2,x)+":"+D(2,w)+"."+D(3,C)+"Z"}else u=null;if(n&&(u=n.call(t,e,u)),null===u)return"null";if(l=y.call(u),l==E)return""+u;if(l==k)return u>-1/0&&1/0>u?""+u:"null";if(l==_)return I(""+u);if("object"==typeof u){for(L=o.length;L--;)if(o[L]===u)throw f();if(o.push(u),T=[],P=a,a+=i,l==S){var j,U=a.length;for(N=0,L=u.length;L>N;N++)A=R(N,u,n,r,i,a,o,s),j=A===m?"null":A,U+=j.length+(N>0?1:0),T.push(j);j=T.length?i&&U>s?"[\n"+a+T.join(",\n"+a)+"\n"+P+"]":"["+T.join(",")+"]":"[]"}else{var U=a.length,N=0;g(r||u,function(e){var t,l=R(e,u,n,r,i,a,o,s);l!==m&&(t=I(e)+":"+(i?" ":"")+l,U+=t.length+(N++>0?1:0),T.push(t))}),j=T.length?i&&U>s?"{\n"+a+T.join(",\n"+a)+"\n"+P+"}":"{"+T.join(",")+"}":"{}"}return o.pop(),j}};if(r.stringify=function(e,t,r,i){var a,o,s,u;if(n[typeof t]&&t)if((u=y.call(t))==w)o=t;else if(u==S){s={};for(var l,c=0,f=t.length;f>c;l=t[c++],u=y.call(l),(u==_||u==k)&&(s[l]=1));}if(r)if((u=y.call(r))==k){if((r-=r%1)>0)for(a="",r>10&&(r=10);a.length<r;a+=" ");}else u==_&&(a=r.length<=10?r:r.slice(0,10));return R("",(l={},l[""]=e,l),o,s,a,"",[],i)},r.compactStringify=function(e,t,n){return r.stringify(e,t,n,60)},!a("json-parse")){var P,j,F=s.fromCharCode,U={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},z=function(){throw P=j=null,c()},q=function(){for(var e,t,n,r,i,a=j,o=a.length;o>P;)switch(i=a.charCodeAt(P)){case 9:case 10:case 13:case 32:P++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=C?a.charAt(P):a[P],P++,e;case 34:for(e="@",P++;o>P;)if(i=a.charCodeAt(P),32>i)z();else if(92==i)switch(i=a.charCodeAt(++P)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=U[i],P++;break;case 117:for(t=++P,n=P+4;n>P;P++)i=a.charCodeAt(P),i>=48&&57>=i||i>=97&&102>=i||i>=65&&70>=i||z();e+=F("0x"+a.slice(t,P));break;default:z()}else{if(34==i)break;for(i=a.charCodeAt(P),t=P;i>=32&&92!=i&&34!=i;)i=a.charCodeAt(++P);e+=a.slice(t,P)}if(34==a.charCodeAt(P))return P++,e;z();default:if(t=P,45==i&&(r=!0,i=a.charCodeAt(++P)),i>=48&&57>=i){for(48==i&&(i=a.charCodeAt(P+1),i>=48&&57>=i)&&z(),r=!1;o>P&&(i=a.charCodeAt(P),i>=48&&57>=i);P++);if(46==a.charCodeAt(P)){for(n=++P;o>n&&(i=a.charCodeAt(n),i>=48&&57>=i);n++);n==P&&z(),P=n}if(i=a.charCodeAt(P),101==i||69==i){for(i=a.charCodeAt(++P),(43==i||45==i)&&P++,n=P;o>n&&(i=a.charCodeAt(n),i>=48&&57>=i);n++);n==P&&z(),P=n}return+a.slice(t,P)}if(r&&z(),"true"==a.slice(P,P+4))return P+=4,!0;if("false"==a.slice(P,P+5))return P+=5,!1;if("null"==a.slice(P,P+4))return P+=4,null;z()}return"$"},H=function(e){var t,n;if("$"==e&&z(),"string"==typeof e){if("@"==(C?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=q(),"]"!=e;n||(n=!0))n&&(","==e?(e=q(),"]"==e&&z()):z()),","==e&&z(),t.push(H(e));return t}if("{"==e){for(t={};e=q(),"}"!=e;n||(n=!0))n&&(","==e?(e=q(),"}"==e&&z()):z()),(","==e||"string"!=typeof e||"@"!=(C?e.charAt(0):e[0])||":"!=q())&&z(),t[e.slice(1)]=H(q());return t}z()}return e},B=function(e,t,n){var r=W(e,t,n);r===m?delete e[t]:e[t]=r},W=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(y.call(i)==S)for(r=i.length;r--;)B(i,r,n);else g(i,function(e){B(i,e,n)});return n.call(e,t,i)};r.parse=function(e,t){var n,r;return P=0,j=""+e,n=H(q()),"$"!=q()&&z(),P=j=null,t&&y.call(t)==w?W((r={},r[""]=n,r),"",t):n}}return r.runInContext=e,r}var t="function"==typeof define&&define.amd,n={"function":!0,object:!0},r=n[typeof exports]&&exports&&!exports.nodeType&&exports,i=n[typeof window]&&window||this,a=r&&n[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!a||a.global!==a&&a.window!==a&&a.self!==a||(i=a),r&&!t)e(i,r);else{var o=i.JSON,s=i.JSON3,u=!1,l=e(i,i.JSON3={noConflict:function(){return u||(u=!0,i.JSON=o,i.JSON3=s,o=s=null),l}});i.JSON={parse:l.parse,stringify:l.stringify}}t&&define(function(){return l})}).call(this)}(),function(){"use strict";angular.module("vlui").directive("vlPlot",["vl","vg","$timeout","$q","Dataset","Config","consts","_","$document","Logger","Heap",function(e,t,n,r,i,a,o,s,u,l,c){function f(e,t){return e>h||t>h||e*t>p?"svg":"canvas"}var d=0,h=16383.5,p=67108864,g=new c(function(e,t){return t.priority-e.priority}),m=!1;return{templateUrl:"vlplot/vlplot.html",restrict:"E",scope:{chart:"=",disabled:"=",isInList:"=",alwaysScrollable:"=",configSet:"@",maxHeight:"=",maxWidth:"=",overflow:"=",priority:"=",rescale:"=",thumbnail:"=",tooltip:"="},replace:!0,link:function(r,c){function h(e,i){i.datum.data&&(r.tooltipPromise=n(function(){r.tooltipActive=!0,l.logInteraction(l.actions.CHART_TOOLTIP,i.datum),r.data=s.pairs(i.datum.data).map(function(e){return e[1]=t.isNumber(e[1])?k(e[1]):e[1],e}),r.$digest();var n=c.find(".vis-tooltip"),a=angular.element(u),o=n.width(),f=n.height();e.pageY+10+f<a.height()?n.css("top",e.pageY+10):n.css("top",e.pageY-10-f),e.pageX+10+o<a.width()?n.css("left",e.pageX+10):n.css("left",e.pageX-10-o)},$))}function p(e,t){var i=c.find(".vis-tooltip");i.css("top",null),i.css("left",null),n.cancel(r.tooltipPromise),r.tooltipActive&&l.logInteraction(l.actions.CHART_TOOLTIP_END,t.datum),r.tooltipActive=!1,r.data=[],r.$digest()}function v(){var t=r.configSet||o.defaultConfigSet||{};if(r.chart.vlSpec){var n=s.cloneDeep(r.chart.vlSpec);e.extend(n.config,a[t]());var u=r.chart.stats||i.stats;return e.compile(n,u)}}function y(){if(r.rescale){for(var e=r.maxWidth>0?r.maxWidth/r.width:1,t=r.maxHeight>0?r.maxHeight/r.height:1,n=Math.min(e,t),i=1;.75*i>n;)i/=2;var a=100*i/2&&0;c.find(".vega").css("transform","translate(-"+a+"%, -"+a+"%) scale("+i+")")}else c.find(".vega").css("transform",null)}function b(){if(g.size()>0){var e=g.pop();e.parse()}else m=!1}function x(n){function a(){if(r.destroyed||r.disabled||r.isInList&&r.chart.fieldSetKey&&!r.isInList(r.chart.fieldSetKey))return console.log("cancel rendering",s),void b();var e=(new Date).getTime();t.parse.spec(n,function(t){try{var a=(new Date).getTime();_=null,_=t({el:c[0]}),o.useUrl||_.data({raw:i.data}),r.width=_.width(),r.height=_.height(),_.renderer(f(n.width,r.height)),_.update(),l.logInteraction(l.actions.CHART_RENDER,"",r.chart.vlSpec),y();var u=(new Date).getTime();console.log("parse spec",a-e,"charting",u-a,s),r.tooltip&&(_.on("mouseover",h),_.on("mouseout",p))}catch(d){console.error(d)}finally{b()}})}if(!n)return void(_&&(_.off("mouseover"),_.off("mouseout")));r.height=n.height,c||console.error("can not find vis element");var s=r.chart.shorthand||(r.chart.vlSpec?e.Encoding.shorthand(r.chart.vlSpec):"");r.renderer=f(n),m?g.push({priority:r.priority||0,parse:a}):(m=!0,a())}var w=500,$=250;r.visId=d++,r.hoverPromise=null,r.tooltipPromise=null,r.hoverFocus=!1,r.tooltipActive=!1,r.destroyed=!1;var k=e.format("");r.mouseover=function(){r.hoverPromise=n(function(){l.logInteraction(l.actions.CHART_MOUSEOVER,"",r.chart.vlSpec),r.hoverFocus=!r.thumbnail},w)},r.mouseout=function(){r.hoverFocus&&l.logInteraction(l.actions.CHART_MOUSEOUT,"",r.chart.vlSpec),n.cancel(r.hoverPromise),r.hoverFocus=r.unlocked=!1};var _;r.$watch("chart.vlSpec",function(){var t=r.chart.vgSpec=v();r.chart.cleanSpec||(r.chart.cleanSpec=e.Encoding.fromSpec(r.chart.vlSpec).toSpec(!0)),x(t)},!0),r.$on("$destroy",function(){console.log("vlplot destroyed"),_&&(_.off("mouseover"),_.off("mouseout"),_=null),r.destroyed=!0})}}}])}(),function(){"use strict";angular.module("vlui").directive("vlPlotGroup",["Bookmarks","consts","vl","Dataset","Drop","Logger",function(e,t,n,r,i,a){return{templateUrl:"vlplotgroup/vlplotgroup.html",restrict:"E",replace:!0,scope:{chart:"=",disabled:"=",isInList:"=",alwaysScrollable:"=",configSet:"@",maxHeight:"=",maxWidth:"=",overflow:"=",priority:"=",rescale:"=",thumbnail:"=",tooltip:"=",fieldSet:"=",showBookmark:"@",showDebug:"=",showExpand:"=",showFilterNull:"@",showLabel:"@",showLog:"@",showMarkType:"@",showSort:"@",showTranspose:"@",alwaysSelected:"=",isSelected:"=",highlighted:"=",expandAction:"&"},link:function(o,s){o.Bookmarks=e,o.consts=t,o.Dataset=r,o.logCode=function(e,t){console.log(e+":\n\n",JSON.stringify(t))},o.log={},o.log.support=function(e,t){if(!e)return!1;var n=e.encoding,r=n[t];return r&&"Q"===r.type&&!r.bin},o.log.toggle=function(e,t){if(o.log.support(e,t)){var n=e.encoding[t],r=n.scale=n.scale||{};r.type="log"===r.type?"linear":"log",a.logInteraction(a.actions.LOG_TOGGLE,o.chart.shorthand)}},o.log.active=function(e,t){if(o.log.support(e,t)){var n=e.encoding[t],r=n.scale=n.scale||{};return"log"===r.type}};var u=o.toggleSort=function(e){a.logInteraction(a.actions.SORT_TOGGLE,o.chart.shorthand),n.Encoding.toggleSort(e)};u.support=n.Encoding.toggleSort.support,o.toggleFilterNull=function(e,t){a.logInteraction(a.actions.NULL_FILTER_TOGGLE,o.chart.shorthand),n.Encoding.toggleFilterNullO(e,t)},o.toggleFilterNull.support=n.Encoding.toggleFilterNullO.support;var l=new i({content:s.find(".dev-tool")[0],target:s.find(".fa-wrench")[0],position:"bottom right",openOn:"click",constrainToWindow:!0});o.toggleSortClass=function(e){var t=e&&n.Encoding.toggleSort.direction(e),r=e&&n.Encoding.toggleSort.mode(e);return"y"===t?"Q"===r?"fa-sort-amount-desc":"fa-sort-alpha-asc":"x"===t?"Q"===r?"fa-sort-amount-desc sort-x":"fa-sort-alpha-asc sort-x":"invisible"},o.transpose=function(){a.logInteraction(a.actions.TRANSPOSE_TOGGLE,o.chart.shorthand),n.Encoding.transpose(o.chart.vlSpec)},o.$on("$destroy",function(){o.chart=null,l.destroy()})}}}])}(),function(){"use strict";angular.module("vlui").filter("compactJSON",function(){return function(e){return JSON.stringify(e,null,"  ",80)}})}(),function(){"use strict";angular.module("vlui").filter("encodeURI",function(){return function(e){return window.encodeURI(e)}})}(),function(){"use strict";angular.module("vlui").filter("reportUrl",["compactJSONFilter","_","consts",function(e,t,n){function r(n){var r="https://docs.google.com/forms/d/1T9ZA14F3mmzrHR7JJVUKyPXzrMqF54CjLIOjv2E7ZEM/viewform?";if(n.fields){var i=encodeURI(e(t.values(n.fields)));r+="entry.1245199477="+i+"&"}if(n.encoding){var a=t.omit(n.encoding,"config");a=encodeURI(e(a)),r+="entry.1323680136="+a+"&"}if(n.encoding2){var o=t.omit(n.encoding2,"config");o=encodeURI(e(o)),r+="entry.853137786="+o+"&"}var s="entry.1940292677=";switch(n.type){case"vl":r+=s+"Visualization+Rendering+(Vegalite)&";break;case"vr":r+=s+"Recommender+Algorithm+(Visrec)&";break;case"fv":r+=s+"Recommender+UI+(FacetedViz)&"}return r}function i(n){var r="https://docs.google.com/forms/d/1xKs-qGaLZEUfbTmhdmSoS13OKOEpuu_NNWE5TAAml_Y/viewform?";if(n.encoding){var i=t.omit(n.encoding,"config");i=encodeURI(e(i)),r+="entry.1245199477="+i+"&"}return r}return"voyager"===n.appId?r:i}])}(),function(){"use strict";angular.module("vlui").filter("underscore2space",function(){return function(e){return e?e.replace(/_+/g," "):""}})}(),function(){"use strict";angular.module("vlui").filter("scaleType",function(){return function(e){var t={Q:"Quantitative",N:"Nominal",O:"Ordinal",T:"Time"};return t[e]}})}();