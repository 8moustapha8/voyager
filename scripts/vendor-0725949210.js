/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Q.type(e);return"function"===n||Q.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(Q.isFunction(t))return Q.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Q.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return Q.filter(t,e,n);t=Q.filter(t,e)}return Q.grep(e,function(e){return V.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=pe[e]={};return Q.each(e.match(de)||[],function(e,n){t[n]=!0}),t}function a(){Z.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+s.uid++}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(xe,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:be.test(n)?Q.parseJSON(n):n}catch(i){}ye.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function f(){try{return Z.activeElement}catch(e){}}function h(e,t){return Q.nodeName(e,"table")&&Q.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function p(e){var t=Ie.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,r=e.length;r>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function m(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),a=ve.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)Q.event.add(t,i,l[i][n])}ye.hasData(e)&&(s=ye.access(e),u=Q.extend({},s),ye.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Q.nodeName(e,t)?Q.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&_e.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function b(t,n){var r,i=Q(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:Q.css(i[0],"display");return i.detach(),o}function x(e){var t=Z,n=Ue[e];return n||(n=b(e,t),"none"!==n&&n||(Fe=(Fe||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Fe[0].contentDocument,t.write(),t.close(),n=b(e,t),Fe.detach()),Ue[e]=n),n}function w(e,t,n){var r,i,o,a,s=e.style;return n=n||He(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||Q.contains(e.ownerDocument,e)||(a=Q.style(e,t)),ze.test(a)&&qe.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function $(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function k(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ge.length;i--;)if(t=Ge[i]+n,t in e)return t;return r}function _(e,t,n){var r=Be.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function S(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=Q.css(e,n+$e[o],!0,i)),r?("content"===n&&(a-=Q.css(e,"padding"+$e[o],!0,i)),"margin"!==n&&(a-=Q.css(e,"border"+$e[o]+"Width",!0,i))):(a+=Q.css(e,"padding"+$e[o],!0,i),"padding"!==n&&(a+=Q.css(e,"border"+$e[o]+"Width",!0,i)));return a}function C(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=He(e),a="border-box"===Q.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=w(e,t,o),(0>i||null==i)&&(i=e.style[t]),ze.test(i))return i;r=a&&(K.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+S(e,t,n||(a?"border":"content"),r,o)+"px"}function E(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ve.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&ke(r)&&(o[a]=ve.access(r,"olddisplay",x(r.nodeName)))):(i=ke(r),"none"===n&&i||ve.set(r,"olddisplay",i?n:Q.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function M(e,t,n,r,i){return new M.prototype.init(e,t,n,r,i)}function T(){return setTimeout(function(){Ke=void 0}),Ke=Q.now()}function A(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=$e[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function O(e,t,n){for(var r,i=(nt[t]||[]).concat(nt["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function D(e,t,n){var r,i,o,a,s,u,l,c,f=this,h={},d=e.style,p=e.nodeType&&ke(e),g=ve.get(e,"fxshow");n.queue||(s=Q._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,Q.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=Q.css(e,"display"),c="none"===l?ve.get(e,"olddisplay")||x(e.nodeName):l,"inline"===c&&"none"===Q.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Je.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}h[r]=g&&g[r]||Q.style(e,r)}else l=void 0;if(Q.isEmptyObject(h))"inline"===("none"===l?x(e.nodeName):l)&&(d.display=l);else{g?"hidden"in g&&(p=g.hidden):g=ve.access(e,"fxshow",{}),o&&(g.hidden=!p),p?Q(e).show():f.done(function(){Q(e).hide()}),f.done(function(){var t;ve.remove(e,"fxshow");for(t in h)Q.style(e,t,h[t])});for(r in h)a=O(p?g[r]:0,r,f),r in g||(g[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function N(e,t){var n,r,i,o,a;for(n in e)if(r=Q.camelCase(n),i=t[r],o=e[n],Q.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=Q.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function L(e,t,n){var r,i,o=0,a=tt.length,s=Q.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Ke||T(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ke||T(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Q.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(N(c,l.opts.specialEasing);a>o;o++)if(r=tt[o].call(l,e,c,l.opts))return r;return Q.map(c,O,l),Q.isFunction(l.opts.start)&&l.opts.start.call(e,l),Q.fx.timer(Q.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(de)||[];if(Q.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function I(e,t,n,r){function i(s){var u;return o[s]=!0,Q.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===bt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function R(e,t){var n,r,i=Q.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Q.extend(!0,e,r),e}function j(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function F(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function U(e,t,n,r){var i;if(Q.isArray(t))Q.each(t,function(t,i){n||_t.test(e)?r(e,i):U(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Q.type(t))r(e,t);else for(i in t)U(e+"["+i+"]",t[i],n,r)}function q(e){return Q.isWindow(e)?e:9===e.nodeType&&e.defaultView}var z=[],H=z.slice,W=z.concat,B=z.push,V=z.indexOf,Y={},X=Y.toString,G=Y.hasOwnProperty,K={},Z=e.document,J="2.1.4",Q=function(e,t){return new Q.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};Q.fn=Q.prototype={jquery:J,constructor:Q,selector:"",length:0,toArray:function(){return H.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:H.call(this)},pushStack:function(e){var t=Q.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Q.each(this,e,t)},map:function(e){return this.pushStack(Q.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(H.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:B,sort:z.sort,splice:z.splice},Q.extend=Q.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(Q.isPlainObject(r)||(i=Q.isArray(r)))?(i?(i=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},a[t]=Q.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},Q.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Q.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Q.type(e)||e.nodeType||Q.isWindow(e)?!1:e.constructor&&!G.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Y[X.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Q.trim(e),e&&(1===e.indexOf("use strict")?(t=Z.createElement("script"),t.text=e,Z.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Q.merge(r,"string"==typeof e?[e]:e):B.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:V.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return W.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),Q.isFunction(e)?(r=H.call(arguments,2),i=function(){return e.apply(t||this,r.concat(H.call(arguments)))},i.guid=e.guid=e.guid||Q.guid++,i):void 0},now:Date.now,support:K}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()});var ie=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(e){function t(e,t,n,r){var i,o,a,s,u,l,f,d,p,g;if((t?t.ownerDocument||t:U)!==D&&O(t),t=t||D,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&L){if(11!==s&&(i=ye.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&j(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return J.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return J.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!P||!P.test(e))){if(d=f=F,p=t,g=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=S(e),(f=t.getAttribute("id"))?d=f.replace(xe,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+h(l[u]);p=be.test(e)&&c(t.parentNode)||t,g=l.join(",")}if(g)try{return J.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{f||t.removeAttribute("id")}}}return E(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>$.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[F]=!0,e}function i(e){var t=D.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)$.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function h(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=z++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l=[q,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[F]||(t[F]={}),(s=u[r])&&s[0]===q&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[F]&&(i=v(i)),o&&!o[F]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,f,h=[],d=[],p=a.length,v=r||g(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:m(v,h,e,s,u),b=n?o||(r?e:p||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=m(b,d),i(l,[],s,u),c=l.length;c--;)(f=l[c])&&(b[d[c]]=!(y[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=b.length;c--;)(f=b[c])&&l.push(y[c]=f);o(null,b=[],l,u)}for(c=b.length;c--;)(f=b[c])&&(l=o?ee(r,f):h[c])>-1&&(r[l]=!(a[l]=f))}}else b=m(b===a?b.splice(p,b.length):b),o?o(null,a,b,u):J.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=$.relative[e[0].type],a=o||$.relative[" "],s=o?1:0,u=d(function(e){return e===t},a,!0),l=d(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==M)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=$.relative[e[s].type])c=[d(p(c),n)];else{if(n=$.filter[e[s].type].apply(null,e[s].matches),n[F]){for(r=++s;i>r&&!$.relative[e[r].type];r++);return v(s>1&&p(c),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&h(e))}c.push(n)}return p(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,f,h,d=0,p="0",g=r&&[],v=[],y=M,b=r||o&&$.find.TAG("*",l),x=q+=null==y?1:Math.random()||.1,w=b.length;for(l&&(M=a!==D&&a);p!==w&&null!=(c=b[p]);p++){if(o&&c){for(f=0;h=e[f++];)if(h(c,a,s)){u.push(c);break}l&&(q=x)}i&&((c=!h&&c)&&d--,r&&g.push(c))}if(d+=p,i&&p!==d){for(f=0;h=n[f++];)h(g,v,a,s);if(r){if(d>0)for(;p--;)g[p]||v[p]||(v[p]=K.call(u));v=m(v)}J.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(q=x,M=y),g};return i?r(a):a}var x,w,$,k,_,S,C,E,M,T,A,O,D,N,L,P,I,R,j,F="sizzle"+1*new Date,U=e.document,q=0,z=0,H=n(),W=n(),B=n(),V=function(e,t){return e===t&&(A=!0),0},Y=1<<31,X={}.hasOwnProperty,G=[],K=G.pop,Z=G.push,J=G.push,Q=G.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),fe=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(ae),de=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),$e=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},ke=function(){O()};try{J.apply(G=Q.call(U.childNodes),U.childNodes),G[U.childNodes.length].nodeType}catch(_e){J={apply:G.length?function(e,t){Z.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},_=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},O=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:U;return r!==D&&9===r.nodeType&&r.documentElement?(D=r,N=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",ke,!1):n.attachEvent&&n.attachEvent("onunload",ke)),L=!_(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(r.getElementsByClassName),w.getById=i(function(e){return N.appendChild(e).id=F,!r.getElementsByName||!r.getElementsByName(F).length}),w.getById?($.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},$.filter.ID=function(e){var t=e.replace(we,$e);return function(e){return e.getAttribute("id")===t}}):(delete $.find.ID,$.filter.ID=function(e){var t=e.replace(we,$e);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),$.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},$.find.CLASS=w.getElementsByClassName&&function(e,t){return L?t.getElementsByClassName(e):void 0},I=[],P=[],(w.qsa=ve.test(r.querySelectorAll))&&(i(function(e){N.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+F+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||P.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(w.matchesSelector=ve.test(R=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&i(function(e){w.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),I.push("!=",ae)}),P=P.length&&new RegExp(P.join("|")),I=I.length&&new RegExp(I.join("|")),t=ve.test(N.compareDocumentPosition),j=t||ve.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===U&&j(U,e)?-1:t===r||t.ownerDocument===U&&j(U,t)?1:T?ee(T,e)-ee(T,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:T?ee(T,e)-ee(T,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===U?-1:l[i]===U?1:0},r):D},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==D&&O(e),n=n.replace(fe,"='$1']"),!(!w.matchesSelector||!L||I&&I.test(n)||P&&P.test(n)))try{var r=R.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,D,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==D&&O(e),j(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==D&&O(e);var n=$.attrHandle[t.toLowerCase()],r=n&&X.call($.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==r?r:w.attributes||!L?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!w.detectDuplicates,T=!w.sortStable&&e.slice(0),e.sort(V),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return T=null,e},k=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=k(t);return n},$=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,$e),e[3]=(e[3]||e[4]||e[5]||"").replace(we,$e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,$e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,h,d,p,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(c=m[F]||(m[F]={}),l=c[e]||[],d=l[0]===q&&l[1],h=l[0]===q&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(h=d=0)||p.pop();)if(1===f.nodeType&&++h&&f===t){c[e]=[q,d,h];break}}else if(y&&(l=(t[F]||(t[F]={}))[e])&&l[0]===q)h=l[1];else for(;(f=++d&&f&&f[g]||(h=d=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++h||(y&&((f[F]||(f[F]={}))[e]=[q,h]),f!==t)););return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,n){var i,o=$.pseudos[e]||$.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[F]?o(n):o.length>1?(i=[e,e,"",n],$.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=C(e.replace(ue,"$1"));return i[F]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,$e),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,$e).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!$.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},$.pseudos.nth=$.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})$.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})$.pseudos[x]=u(x);return f.prototype=$.filters=$.pseudos,$.setFilters=new f,S=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=W[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=$.preFilter;s;){(!r||(i=le.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));for(a in $.filter)!(i=pe[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):W(e,u).slice(0)},C=t.compile=function(e,t){var n,r=[],i=[],o=B[e+" "];if(!o){for(t||(t=S(e)),n=t.length;n--;)o=y(t[n]),o[F]?r.push(o):i.push(o);o=B(e,b(i,r)),o.selector=e}return o},E=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,f=!r&&S(e=l.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&L&&$.relative[o[1].type]){if(t=($.find.ID(a.matches[0].replace(we,$e),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=pe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!$.relative[s=a.type]);)if((u=$.find[s])&&(r=u(a.matches[0].replace(we,$e),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&h(o),!e)return J.apply(n,r),n;break}}return(l||C(e,f))(r,t,!L,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=F.split("").sort(V).join("")===F,w.detectDuplicates=!!A,O(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Q.find=ie,Q.expr=ie.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=ie.uniqueSort,Q.text=ie.getText,Q.isXMLDoc=ie.isXML,Q.contains=ie.contains;var oe=Q.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Q.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Q.find.matchesSelector(r,e)?[r]:[]:Q.find.matches(e,Q.grep(t,function(e){return 1===e.nodeType}))},Q.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(Q(e).filter(function(){for(t=0;n>t;t++)if(Q.contains(i[t],this))return!0}));for(t=0;n>t;t++)Q.find(e,i[t],r);return r=this.pushStack(n>1?Q.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&oe.test(e)?Q(e):e||[],!1).length}});var ue,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Q.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:le.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ue).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Q?t[0]:t,Q.merge(this,Q.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),ae.test(n[1])&&Q.isPlainObject(t))for(n in t)Q.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=Z.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?"undefined"!=typeof ue.ready?ue.ready(e):e(Q):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))};ce.prototype=Q.fn,ue=Q(Z);var fe=/^(?:parents|prev(?:Until|All))/,he={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Q(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Q.fn.extend({has:function(e){var t=Q(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Q.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=oe.test(e)||"string"!=typeof e?Q(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(e){return e?"string"==typeof e?V.call(Q(e),this[0]):V.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Q.unique(Q.merge(this.get(),Q(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Q.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Q.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Q.dir(e,"previousSibling",n)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(n,r){var i=Q.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Q.filter(r,i)),this.length>1&&(he[e]||Q.unique(i),fe.test(e)&&i.reverse()),this.pushStack(i)}});var de=/\S+/g,pe={};Q.Callbacks=function(e){e="string"==typeof e?pe[e]||o(e):Q.extend({},e);var t,n,r,i,a,s,u=[],l=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,s=i||0,i=0,a=u.length,r=!0;u&&a>s;s++)if(u[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function o(t){Q.each(t,function(t,n){var r=Q.type(n);"function"===r?e.unique&&f.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?a=u.length:t&&(i=n,c(t))}return this},remove:function(){return u&&Q.each(arguments,function(e,t){for(var n;(n=Q.inArray(t,u,n))>-1;)u.splice(n,1),r&&(a>=n&&a--,s>=n&&s--)}),this},has:function(e){return e?Q.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||f.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(n){Q.each(t,function(t,o){var a=Q.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,r):r}},i={};return r.pipe=r.then,Q.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=H.call(arguments),a=o.length,s=1!==a||e&&Q.isFunction(e.promise)?a:0,u=1===s?e:Q.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?H.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&Q.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}});var ge;Q.fn.ready=function(e){return Q.ready.promise().done(e),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){(e===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,e!==!0&&--Q.readyWait>0||(ge.resolveWith(Z,[Q]),Q.fn.triggerHandler&&(Q(Z).triggerHandler("ready"),Q(Z).off("ready"))))}}),Q.ready.promise=function(t){return ge||(ge=Q.Deferred(),"complete"===Z.readyState?setTimeout(Q.ready):(Z.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),ge.promise(t)},Q.ready.promise();var me=Q.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===Q.type(n)){i=!0;for(s in n)Q.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,Q.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(Q(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o};Q.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,Q.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,Q.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{Q.isArray(t)?r=t.concat(t.map(Q.camelCase)):(i=Q.camelCase(t),t in a?r=[t,i]:(r=i,r=r in a?[r]:r.match(de)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!Q.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new s,ye=new s,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;Q.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Q.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=Q.camelCase(r.slice(5)),u(o,r,i[r])));ve.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ye.set(this,e)}):me(this,function(t){var n,r=Q.camelCase(e);if(o&&void 0===t){if(n=ye.get(o,e),void 0!==n)return n;if(n=ye.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,r);ye.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),Q.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ve.get(e,t),n&&(!r||Q.isArray(n)?r=ve.access(e,t,Q.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Q.queue(e,t),r=n.length,i=n.shift(),o=Q._queueHooks(e,t),a=function(){Q.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Q.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Q.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Q.queue(this[0],e):void 0===t?this:this.each(function(){var n=Q.queue(this,e,t);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Q.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ve.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$e=["Top","Right","Bottom","Left"],ke=function(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)},_e=/^(?:checkbox|radio)$/i;!function(){var e=Z.createDocumentFragment(),t=e.appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),K.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Se="undefined";K.focusinBubbles="onfocusin"in e;var Ce=/^key/,Ee=/^(?:mouse|pointer|contextmenu)|click/,Me=/^(?:focusinfocus|focusoutblur)$/,Te=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,h,d,p,g,m=ve.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Q.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(t){return typeof Q!==Se&&Q.event.triggered!==t.type?Q.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(de)||[""],l=t.length;l--;)s=Te.exec(t[l])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d&&(f=Q.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=Q.event.special[d]||{},c=Q.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Q.expr.match.needsContext.test(i),namespace:p.join(".")},o),(h=u[d])||(h=u[d]=[],h.delegateCount=0,f.setup&&f.setup.call(e,r,p,a)!==!1||e.addEventListener&&e.addEventListener(d,a,!1)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),Q.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,h,d,p,g,m=ve.hasData(e)&&ve.get(e);if(m&&(u=m.events)){for(t=(t||"").match(de)||[""],l=t.length;l--;)if(s=Te.exec(t[l])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d){for(f=Q.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,h=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,f.remove&&f.remove.call(e,c));a&&!h.length&&(f.teardown&&f.teardown.call(e,p,m.handle)!==!1||Q.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)Q.event.remove(e,d+t[l],n,r,!0);Q.isEmptyObject(u)&&(delete m.handle,ve.remove(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,f,h=[r||Z],d=G.call(t,"type")?t.type:t,p=G.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||Z,3!==r.nodeType&&8!==r.nodeType&&!Me.test(d+Q.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),d=p.shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[Q.expando]?t:new Q.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),
n=null==n?[t]:Q.makeArray(n,[t]),f=Q.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!Q.isWindow(r)){for(u=f.delegateType||d,Me.test(u+d)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||Z)&&h.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=h[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||d,c=(ve.get(a,"events")||{})[t.type]&&ve.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&Q.acceptData(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&f._default.apply(h.pop(),n)!==!1||!Q.acceptData(r)||l&&Q.isFunction(r[d])&&!Q.isWindow(r)&&(s=r[l],s&&(r[l]=null),Q.event.triggered=d,r[d](),Q.event.triggered=void 0,s&&(r[l]=s)),t.result}},dispatch:function(e){e=Q.event.fix(e);var t,n,r,i,o,a=[],s=H.call(arguments),u=(ve.get(this,"events")||{})[e.type]||[],l=Q.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=Q.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((Q.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;s>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Q(i,this).index(u)>=0:Q.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Z,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Q.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ee.test(i)?this.mouseHooks:Ce.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new Q.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=Z),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Q.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=Q.extend(new Q.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Q.event.trigger(i,null,t):Q.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Q.Event=function(e,t){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?l:c):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(e,t)},Q.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=l,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!Q.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),K.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ve.access(r,t);i||r.addEventListener(e,n,!0),ve.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ve.access(r,t)-1;i?ve.access(r,t,i):(r.removeEventListener(e,n,!0),ve.remove(r,t))}}}),Q.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(e){return Q().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Q(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){Q.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Q.event.trigger(e,t,n,!0):void 0}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Oe=/<([\w:]+)/,De=/<|&#?\w+;/,Ne=/<(?:script|style|link)/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^$|\/(?:java|ecma)script/i,Ie=/^true\/(.*)/,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,je={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};je.optgroup=je.option,je.tbody=je.tfoot=je.colgroup=je.caption=je.thead,je.th=je.td,Q.extend({clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=Q.contains(e.ownerDocument,e);if(!(K.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(a=v(s),o=v(e),r=0,i=o.length;i>r;r++)y(o[r],a[r]);if(t)if(n)for(o=o||v(e),a=a||v(s),r=0,i=o.length;i>r;r++)m(o[r],a[r]);else m(e,s);return a=v(s,"script"),a.length>0&&g(a,!u&&v(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c=t.createDocumentFragment(),f=[],h=0,d=e.length;d>h;h++)if(i=e[h],i||0===i)if("object"===Q.type(i))Q.merge(f,i.nodeType?[i]:i);else if(De.test(i)){for(o=o||c.appendChild(t.createElement("div")),a=(Oe.exec(i)||["",""])[1].toLowerCase(),s=je[a]||je._default,o.innerHTML=s[1]+i.replace(Ae,"<$1></$2>")+s[2],l=s[0];l--;)o=o.lastChild;Q.merge(f,o.childNodes),o=c.firstChild,o.textContent=""}else f.push(t.createTextNode(i));for(c.textContent="",h=0;i=f[h++];)if((!r||-1===Q.inArray(i,r))&&(u=Q.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),u&&g(o),n))for(l=0;i=o[l++];)Pe.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o=Q.event.special,a=0;void 0!==(n=e[a]);a++){if(Q.acceptData(n)&&(i=n[ve.expando],i&&(t=ve.cache[i]))){if(t.events)for(r in t.events)o[r]?Q.event.remove(n,r):Q.removeEvent(n,r,t.handle);ve.cache[i]&&delete ve.cache[i]}delete ye.cache[n[ye.expando]]}}}),Q.fn.extend({text:function(e){return me(this,function(e){return void 0===e?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Q.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(t&&Q.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Q.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return me(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!je[(Oe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ae,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(Q.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Q.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=W.apply([],e);var n,r,i,o,a,s,u=0,l=this.length,c=this,f=l-1,h=e[0],g=Q.isFunction(h);if(g||l>1&&"string"==typeof h&&!K.checkClone&&Le.test(h))return this.each(function(n){var r=c.eq(n);g&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)});if(l&&(n=Q.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Q.map(v(n,"script"),d),o=i.length;l>u;u++)a=n,u!==f&&(a=Q.clone(a,!0,!0),o&&Q.merge(i,v(a,"script"))),t.call(this[u],a,u);if(o)for(s=i[i.length-1].ownerDocument,Q.map(i,p),u=0;o>u;u++)a=i[u],Pe.test(a.type||"")&&!ve.access(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(Re,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(e){for(var n,r=[],i=Q(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),Q(i[a])[t](n),B.apply(r,n.get());return this.pushStack(r)}});var Fe,Ue={},qe=/^margin/,ze=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),He=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var t=e.getComputedStyle(a,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(o)}var n,r,i=Z.documentElement,o=Z.createElement("div"),a=Z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),e.getComputedStyle&&Q.extend(K,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=a.appendChild(Z.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(o),a.removeChild(n),t}}))}(),Q.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var We=/^(none|table(?!-c[ea]).+)/,Be=new RegExp("^("+we+")(.*)$","i"),Ve=new RegExp("^([+-])=("+we+")","i"),Ye={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=Q.camelCase(t),u=e.style;return t=Q.cssProps[s]||(Q.cssProps[s]=k(u,s)),a=Q.cssHooks[t]||Q.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=Ve.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Q.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||Q.cssNumber[s]||(n+="px"),K.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,a,s=Q.camelCase(t);return t=Q.cssProps[s]||(Q.cssProps[s]=k(e.style,s)),a=Q.cssHooks[t]||Q.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=w(e,t,r)),"normal"===i&&t in Xe&&(i=Xe[t]),""===n||n?(o=parseFloat(i),n===!0||Q.isNumeric(o)?o||0:i):i}}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,n,r){return n?We.test(Q.css(e,"display"))&&0===e.offsetWidth?Q.swap(e,Ye,function(){return C(e,t,r)}):C(e,t,r):void 0},set:function(e,n,r){var i=r&&He(e);return _(e,n,r?S(e,t,r,"border-box"===Q.css(e,"boxSizing",!1,i),i):0)}}}),Q.cssHooks.marginRight=$(K.reliableMarginRight,function(e,t){return t?Q.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+$e[r]+t]=o[r]||o[r-2]||o[0];return i}},qe.test(e)||(Q.cssHooks[e+t].set=_)}),Q.fn.extend({css:function(e,t){return me(this,function(e,t,n){var r,i,o={},a=0;if(Q.isArray(t)){for(r=He(e),i=t.length;i>a;a++)o[t[a]]=Q.css(e,t[a],!1,r);return o}return void 0!==n?Q.style(e,t,n):Q.css(e,t)},e,t,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ke(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=M,M.prototype={constructor:M,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,n=M.propHooks[this.prop];return this.pos=t=this.options.duration?Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.fx=M.prototype.init,Q.fx.step={};var Ke,Ze,Je=/^(?:toggle|show|hide)$/,Qe=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[D],nt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Qe.exec(t),o=i&&i[3]||(Q.cssNumber[e]?"":"px"),a=(Q.cssNumber[e]||"px"!==o&&+r)&&Qe.exec(Q.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,Q.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};Q.Animation=Q.extend(L,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Q.speed=function(e,t,n){var r=e&&"object"==typeof e?Q.extend({},e):{complete:n||!n&&t||Q.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Q.isFunction(t)&&t};return r.duration=Q.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Q.fx.speeds?Q.fx.speeds[r.duration]:Q.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Q.isFunction(r.old)&&r.old.call(this),r.queue&&Q.dequeue(this,r.queue)},r},Q.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ke).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Q.isEmptyObject(e),o=Q.speed(t,n,r),a=function(){var t=L(this,Q.extend({},e),o);(i||ve.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Q.timers,a=ve.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&et.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&Q.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Q.timers,a=r?r.length:0;for(n.finish=!0,Q.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(e,t){var n=Q.fn[t];Q.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,r,i)}}),Q.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Q.timers=[],Q.fx.tick=function(){var e,t=0,n=Q.timers;for(Ke=Q.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Q.fx.stop(),Ke=void 0},Q.fx.timer=function(e){Q.timers.push(e),e()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Ze||(Ze=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Ze),Ze=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(e,t){return e=Q.fx?Q.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=Z.createElement("input"),t=Z.createElement("select"),n=t.appendChild(Z.createElement("option"));e.type="checkbox",K.checkOn=""!==e.value,K.optSelected=n.selected,t.disabled=!0,K.optDisabled=!n.disabled,e=Z.createElement("input"),e.value="t",e.type="radio",K.radioValue="t"===e.value}();var rt,it,ot=Q.expr.attrHandle;Q.fn.extend({attr:function(e,t){return me(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})}}),Q.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Se?Q.prop(e,t,n):(1===o&&Q.isXMLDoc(e)||(t=t.toLowerCase(),r=Q.attrHooks[t]||(Q.expr.match.bool.test(t)?it:rt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=Q.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Q.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(de);if(o&&1===e.nodeType)for(;n=o[i++];)r=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!K.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),it={set:function(e,t,n){return t===!1?Q.removeAttr(e,n):e.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||Q.find.attr;ot[t]=function(e,t,r){var i,o;return r||(o=ot[t],ot[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,ot[t]=o),i}});var at=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(e,t){return me(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Q.propFix[e]||e]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!Q.isXMLDoc(e),o&&(t=Q.propFix[t]||t,i=Q.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),K.optSelected||(Q.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,u=0,l=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(de)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=Q.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(de)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?Q.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(Q.isFunction(e)?function(n){Q(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=Q(this),o=e.match(de)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Se||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var ut=/\r/g;Q.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=Q.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Q(this).val()):e,null==i?i="":"number"==typeof i?i+="":Q.isArray(i)&&(i=Q.map(i,function(e){return null==e?"":e+""})),t=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=Q.valHooks[i.type]||Q.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ut,""):null==n?"":n)}}}),Q.extend({valHooks:{option:{get:function(e){var t=Q.find.attr(e,"value");return null!=t?t:Q.trim(Q.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(K.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Q.nodeName(n.parentNode,"optgroup"))){if(t=Q(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=Q.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=Q.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(e,t){return Q.isArray(t)?e.checked=Q.inArray(Q(e).val(),t)>=0:void 0}},K.checkOn||(Q.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Q.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var lt=Q.now(),ct=/\?/;Q.parseJSON=function(e){return JSON.parse(e+"")},Q.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+e),t};var ft=/#.*$/,ht=/([?&])_=[^&]*/,dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,mt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yt={},bt={},xt="*/".concat("*"),wt=e.location.href,$t=vt.exec(wt.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt,type:"GET",isLocal:pt.test($t[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,Q.ajaxSettings),t):R(Q.ajaxSettings,e)},ajaxPrefilter:P(yt),ajaxTransport:P(bt),ajax:function(e,t){function n(e,t,n,a){var u,c,v,y,x,$=t;2!==b&&(b=2,s&&clearTimeout(s),r=void 0,o=a||"",w.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(y=j(f,w,n)),y=F(f,y,w,u),u?(f.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(Q.lastModified[i]=x),x=w.getResponseHeader("etag"),x&&(Q.etag[i]=x)),204===e||"HEAD"===f.type?$="nocontent":304===e?$="notmodified":($=y.state,c=y.data,v=y.error,u=!v)):(v=$,(e||!$)&&($="error",0>e&&(e=0))),w.status=e,w.statusText=(t||$)+"",u?p.resolveWith(h,[c,$,w]):p.rejectWith(h,[w,$,v]),w.statusCode(m),m=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?c:v]),g.fireWith(h,[w,$]),l&&(d.trigger("ajaxComplete",[w,f]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,l,c,f=Q.ajaxSetup({},t),h=f.context||f,d=f.context&&(h.nodeType||h.jquery)?Q(h):Q.event,p=Q.Deferred(),g=Q.Callbacks("once memory"),m=f.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=dt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return r&&r.abort(t),n(0,t),this}};if(p.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||wt)+"").replace(ft,"").replace(mt,$t[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=Q.trim(f.dataType||"*").toLowerCase().match(de)||[""],null==f.crossDomain&&(u=vt.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===$t[1]&&u[2]===$t[2]&&(u[3]||("http:"===u[1]?"80":"443"))===($t[3]||("http:"===$t[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Q.param(f.data,f.traditional)),I(yt,f,t,w),2===b)return w;l=Q.event&&f.global,l&&0===Q.active++&&Q.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!gt.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(ct.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=ht.test(i)?i.replace(ht,"$1_="+lt++):i+(ct.test(i)?"&":"?")+"_="+lt++)),f.ifModified&&(Q.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Q.lastModified[i]),Q.etag[i]&&w.setRequestHeader("If-None-Match",Q.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+xt+"; q=0.01":""):f.accepts["*"]);for(c in f.headers)w.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(f.beforeSend.call(h,w,f)===!1||2===b))return w.abort();x="abort";for(c in{success:1,error:1,complete:1})w[c](f[c]);if(r=I(bt,f,t,w)){w.readyState=1,l&&d.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},f.timeout));try{b=1,r.send(v,n)}catch($){if(!(2>b))throw $;n(-1,$)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return Q.get(e,t,n,"json")},getScript:function(e,t){return Q.get(e,void 0,t,"script")}}),Q.each(["get","post"],function(e,t){Q[t]=function(e,n,r,i){return Q.isFunction(n)&&(i=i||r,r=n,n=void 0),Q.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),Q._evalUrl=function(e){return Q.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(e){var t;return Q.isFunction(e)?this.each(function(t){Q(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Q(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Q.isFunction(e)?function(t){Q(this).wrapInner(e.call(this,t))}:function(){var t=Q(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(n){Q(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)};var kt=/%20/g,_t=/\[\]$/,St=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i;Q.param=function(e,t){var n,r=[],i=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t);

};if(void 0===t&&(t=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){i(this.name,this.value)});else for(n in e)U(n,e[n],t,i);return r.join("&").replace(kt,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&Et.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!_e.test(e))}).map(function(e,t){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:n.replace(St,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Mt=0,Tt={},At={0:200,1223:204},Ot=Q.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Tt)Tt[e]()}),K.cors=!!Ot&&"withCredentials"in Ot,K.ajax=Ot=!!Ot,Q.ajaxTransport(function(e){var t;return K.cors||Ot&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),a=++Mt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Tt[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(At[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Tt[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Q.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=Q("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),Z.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Dt=[],Nt=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Dt.pop()||Q.expando+"_"+lt++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(Nt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Nt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=Q.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Nt,"$1"+i):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||Q.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Dt.push(i)),a&&Q.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),Q.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Z;var r=ae.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=Q.buildFragment([e],t,i),i&&i.length&&Q(i).remove(),Q.merge([],r.childNodes))};var Lt=Q.fn.load;Q.fn.load=function(e,t,n){if("string"!=typeof e&&Lt)return Lt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=Q.trim(e.slice(s)),e=e.slice(0,s)),Q.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&Q.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?Q("<div>").append(Q.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length};var Pt=e.document.documentElement;Q.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=Q.css(e,"position"),f=Q(e),h={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=Q.css(e,"top"),u=Q.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),Q.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+i),"using"in t?t.using.call(e,h):f.css(h)}},Q.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,Q.contains(t,r)?(typeof r.getBoundingClientRect!==Se&&(i=r.getBoundingClientRect()),n=q(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Q.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Q.nodeName(e[0],"html")||(r=e.offset()),r.top+=Q.css(e[0],"borderTopWidth",!0),r.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Q.css(n,"marginTop",!0),left:t.left-r.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Pt;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||Pt})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Q.fn[t]=function(i){return me(this,function(t,i,o){var a=q(t);return void 0===o?a?a[n]:t[i]:void(a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),Q.each(["top","left"],function(e,t){Q.cssHooks[t]=$(K.pixelPosition,function(e,n){return n?(n=w(e,t),ze.test(n)?Q(e).position()[t]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(e,t){Q.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Q.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return me(this,function(t,n,r){var i;return Q.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?Q.css(t,n,a):Q.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var It=e.jQuery,Rt=e.$;return Q.noConflict=function(t){return e.$===Q&&(e.$=Rt),t&&e.jQuery===Q&&(e.jQuery=It),Q},typeof t===Se&&(e.jQuery=e.$=Q),Q}),/**
 * @license AngularJS v1.3.16
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";function r(e,t){return t=t||Error,function(){var n,r,i=arguments[0],o="["+(e?e+":":"")+i+"] ",a=arguments[1],s=arguments;for(n=o+a.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t+2<s.length?he(s[t+2]):e}),n=n+"\nhttp://errors.angularjs.org/1.3.16/"+(e?e+"/":"")+i,r=2;r<arguments.length;r++)n=n+(2==r?"?":"&")+"p"+(r-2)+"="+encodeURIComponent(he(arguments[r]));return new t(n)}}function i(e){if(null==e||S(e))return!1;var t="length"in Object(e)&&e.length;return e.nodeType===br&&t?!0:x(e)||hr(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t,n){var r,a;if(e)if(k(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(hr(e)||i(e)){var s="object"!=typeof e;for(r=0,a=e.length;a>r;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);return e}function a(e){return Object.keys(e).sort()}function s(e,t,n){for(var r=a(e),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function u(e){return function(t,n){e(n,t)}}function l(){return++cr}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function f(e){for(var t=e.$$hashKey,n=1,r=arguments.length;r>n;n++){var i=arguments[n];if(i)for(var o=Object.keys(i),a=0,s=o.length;s>a;a++){var u=o[a];e[u]=i[u]}}return c(e,t),e}function h(e){return parseInt(e,10)}function d(e,t){return f(Object.create(e),t)}function p(){}function g(e){return e}function m(e){return function(){return e}}function v(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function b(e){return null!==e&&"object"==typeof e}function x(e){return"string"==typeof e}function w(e){return"number"==typeof e}function $(e){return"[object Date]"===sr.call(e)}function k(e){return"function"==typeof e}function _(e){return"[object RegExp]"===sr.call(e)}function S(e){return e&&e.window===e}function C(e){return e&&e.$evalAsync&&e.$watch}function E(e){return"[object File]"===sr.call(e)}function M(e){return"[object FormData]"===sr.call(e)}function T(e){return"[object Blob]"===sr.call(e)}function A(e){return"boolean"==typeof e}function O(e){return e&&k(e.then)}function D(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function N(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function L(e){return Gn(e.nodeName||e[0]&&e[0].nodeName)}function P(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),t}function I(e,t,n,r){if(S(e)||C(e))throw ur("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw ur("cpi","Can't copy! Source and destination are identical.");if(n=n||[],r=r||[],b(e)){var i=n.indexOf(e);if(-1!==i)return r[i];n.push(e),r.push(t)}var a;if(hr(e)){t.length=0;for(var s=0;s<e.length;s++)a=I(e[s],null,n,r),b(e[s])&&(n.push(e[s]),r.push(a)),t.push(a)}else{var u=t.$$hashKey;hr(t)?t.length=0:o(t,function(e,n){delete t[n]});for(var l in e)e.hasOwnProperty(l)&&(a=I(e[l],null,n,r),b(e[l])&&(n.push(e[l]),r.push(a)),t[l]=a);c(t,u)}}else if(t=e,e)if(hr(e))t=I(e,[],n,r);else if($(e))t=new Date(e.getTime());else if(_(e))t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex;else if(b(e)){var f=Object.create(Object.getPrototypeOf(e));t=I(e,f,n,r)}return t}function R(e,t){if(hr(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(b(e)){t=t||{};for(var i in e)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=e[i])}return t||e}function j(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,i,o,a=typeof e,s=typeof t;if(a==s&&"object"==a){if(!hr(e)){if($(e))return $(t)?j(e.getTime(),t.getTime()):!1;if(_(e))return _(t)?e.toString()==t.toString():!1;if(C(e)||C(t)||S(e)||S(t)||hr(t)||$(t)||_(t))return!1;o={};for(i in e)if("$"!==i.charAt(0)&&!k(e[i])){if(!j(e[i],t[i]))return!1;o[i]=!0}for(i in t)if(!o.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t[i]!==n&&!k(t[i]))return!1;return!0}if(!hr(t))return!1;if((r=e.length)==t.length){for(i=0;r>i;i++)if(!j(e[i],t[i]))return!1;return!0}}return!1}function F(e,t,n){return e.concat(ir.call(t,n))}function U(e,t){return ir.call(e,t||0)}function q(e,t){var n=arguments.length>2?U(arguments,2):[];return!k(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,F(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function z(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:S(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":C(r)&&(i="$SCOPE"),i}function H(e,t){return"undefined"==typeof e?n:(w(t)||(t=t?2:null),JSON.stringify(e,z,t))}function W(e){return x(e)?JSON.parse(e):e}function B(e){e=tr(e).clone();try{e.empty()}catch(t){}var n=tr("<div>").append(e).html();try{return e[0].nodeType===wr?Gn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Gn(t)})}catch(t){return Gn(n)}}function V(e){try{return decodeURIComponent(e)}catch(t){}}function Y(e){var t,n,r={};return o((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),n=V(t[0]),y(n))){var i=y(t[1])?V(t[1]):!0;Kn.call(r,n)?hr(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function X(e){var t=[];return o(e,function(e,n){hr(e)?o(e,function(e){t.push(K(n,!0)+(e===!0?"":"="+K(e,!0)))}):t.push(K(n,!0)+(e===!0?"":"="+K(e,!0)))}),t.length?t.join("&"):""}function G(e){return K(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function K(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function Z(e,t){var n,r,i=mr.length;for(e=tr(e),r=0;i>r;++r)if(n=mr[r]+t,x(n=e.attr(n)))return n;return null}function J(e,t){var n,r,i={};o(mr,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),o(mr,function(t){var i,o=t+"app";!n&&(i=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==Z(n,"strict-di"),t(n,r?[r]:[],i))}function Q(n,r,i){b(i)||(i={});var a={strictDi:!1};i=f(a,i);var s=function(){if(n=tr(n),n.injector()){var e=n[0]===t?"document":B(n);throw ur("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var o=We(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},u=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&u.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(u,"")),e&&!l.test(e.name)?s():(e.name=e.name.replace(l,""),lr.resumeBootstrap=function(e){return o(e,function(e){r.push(e)}),s()},void(k(lr.resumeDeferredBootstrap)&&lr.resumeDeferredBootstrap()))}function ee(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function te(e){var t=lr.element(e).injector();if(!t)throw ur("test","no injector found for element argument to getTestability");return t.get("$$testability")}function ne(e,t){return t=t||"_",e.replace(vr,function(e,n){return(n?t:"")+e.toLowerCase()})}function re(){var t;yr||(nr=e.jQuery,nr&&nr.fn.on?(tr=nr,f(nr.fn,{scope:Fr.scope,isolateScope:Fr.isolateScope,controller:Fr.controller,injector:Fr.injector,inheritedData:Fr.inheritedData}),t=nr.cleanData,nr.cleanData=function(e){var n;if(fr)fr=!1;else for(var r,i=0;null!=(r=e[i]);i++)n=nr._data(r,"events"),n&&n.$destroy&&nr(r).triggerHandler("$destroy");t(e)}):tr=xe,lr.element=tr,yr=!0)}function ie(e,t,n){if(!e)throw ur("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function oe(e,t,n){return n&&hr(e)&&(e=e[e.length-1]),ie(k(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ae(e,t){if("hasOwnProperty"===e)throw ur("badname","hasOwnProperty is not a valid {0} name",t)}function se(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;a>s;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&k(e)?q(o,e):e}function ue(e){var t=e[0],n=e[e.length-1],r=[t];do{if(t=t.nextSibling,!t)break;r.push(t)}while(t!==n);return tr(r)}function le(){return Object.create(null)}function ce(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||r,t(o,"module",function(){var e={};return function(r,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),o&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,n,r,i){return i||(i=t),function(){return i[r||"push"]([e,n,arguments]),l}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var t=[],i=[],s=[],u=e("$injector","invoke","push",i),l={_invokeQueue:t,_configBlocks:i,_runBlocks:s,requires:o,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:u,run:function(e){return s.push(e),this}};return a&&u(a),l})}})}function fe(e){var t=[];return JSON.stringify(e,function(e,n){if(n=z(e,n),b(n)){if(t.indexOf(n)>=0)return"<<already seen>>";t.push(n)}return n})}function he(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?fe(e):e}function de(t){f(t,{bootstrap:Q,copy:I,extend:f,equals:j,element:tr,forEach:o,injector:We,noop:p,bind:q,toJson:H,fromJson:W,identity:g,isUndefined:v,isDefined:y,isString:x,isFunction:k,isObject:b,isNumber:w,isElement:D,isArray:hr,version:Sr,isDate:$,lowercase:Gn,uppercase:Zn,callbacks:{counter:0},getTestability:te,$$minErr:r,$$csp:gr,reloadWithDebugInfo:ee}),rr=ce(e);try{rr("ngLocale")}catch(n){rr("ngLocale",[]).provider("$locale",mt)}rr("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Xt}),e.provider("$compile",Ze).directive({a:Oi,input:Xi,textarea:Xi,form:Ii,script:jo,select:qo,style:Ho,option:zo,ngBind:Zi,ngBindHtml:Qi,ngBindTemplate:Ji,ngClass:to,ngClassEven:ro,ngClassOdd:no,ngCloak:io,ngController:oo,ngForm:Ri,ngHide:Do,ngIf:uo,ngInclude:lo,ngInit:fo,ngNonBindable:Co,ngPluralize:Eo,ngRepeat:Mo,ngShow:Oo,ngStyle:No,ngSwitch:Lo,ngSwitchWhen:Po,ngSwitchDefault:Io,ngOptions:Uo,ngTransclude:Ro,ngModel:ko,ngList:ho,ngChange:eo,pattern:Bo,ngPattern:Bo,required:Wo,ngRequired:Wo,minlength:Yo,ngMinlength:Yo,maxlength:Vo,ngMaxlength:Vo,ngValue:Ki,ngModelOptions:So}).directive({ngInclude:co}).directive(Di).directive(ao),e.provider({$anchorScroll:Be,$animate:Gr,$browser:Xe,$cacheFactory:Ge,$controller:tt,$document:nt,$exceptionHandler:rt,$filter:sn,$interpolate:pt,$interval:gt,$http:ct,$httpBackend:ht,$location:At,$log:Ot,$parse:zt,$rootScope:Yt,$q:Ht,$$q:Wt,$sce:Jt,$sceDelegate:Zt,$sniffer:Qt,$templateCache:Ke,$templateRequest:en,$$testability:tn,$timeout:nn,$window:an,$$rAF:Vt,$$asyncCallback:Ve,$$jqLite:Fe})}])}function pe(){return++Er}function ge(e){return e.replace(Ar,function(e,t,n,r){return r?n.toUpperCase():n}).replace(Or,"Moz$1")}function me(e){return!Pr.test(e)}function ve(e){var t=e.nodeType;return t===br||!t||t===kr}function ye(e,t){var n,r,i,a,s=t.createDocumentFragment(),u=[];if(me(e))u.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),r=(Ir.exec(e)||["",""])[1].toLowerCase(),i=jr[r]||jr._default,n.innerHTML=i[1]+e.replace(Rr,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;u=F(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(u,function(e){s.appendChild(e)}),s}function be(e,n){n=n||t;var r;return(r=Lr.exec(e))?[n.createElement(r[1])]:(r=ye(e,n))?r.childNodes:[]}function xe(e){if(e instanceof xe)return e;var t;if(x(e)&&(e=dr(e),t=!0),!(this instanceof xe)){if(t&&"<"!=e.charAt(0))throw Nr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new xe(e)}t?Ae(this,be(e)):Ae(this,e)}function we(e){return e.cloneNode(!0)}function $e(e,t){if(t||_e(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)_e(n[r])}function ke(e,t,n,r){if(y(r))throw Nr("offargs","jqLite#off() does not support the `selector` argument");var i=Se(e),a=i&&i.events,s=i&&i.handle;if(s)if(t)o(t.split(" "),function(t){if(y(n)){var r=a[t];if(P(r||[],n),r&&r.length>0)return}Tr(e,t,s),delete a[t]});else for(t in a)"$destroy"!==t&&Tr(e,t,s),delete a[t]}function _e(e,t){var r=e.ng339,i=r&&Cr[r];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),ke(e)),delete Cr[r],e.ng339=n}}function Se(e,t){var r=e.ng339,i=r&&Cr[r];return t&&!i&&(e.ng339=r=pe(),i=Cr[r]={events:{},data:{},handle:n}),i}function Ce(e,t,n){if(ve(e)){var r=y(n),i=!r&&t&&!b(t),o=!t,a=Se(e,!i),s=a&&a.data;if(r)s[t]=n;else{if(o)return s;if(i)return s&&s[t];f(s,t)}}}function Ee(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Me(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",dr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+dr(t)+" "," ")))})}function Te(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=dr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",dr(n))}}function Ae(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Oe(e,t){return De(e,"$"+(t||"ngController")+"Controller")}function De(e,t,r){e.nodeType==kr&&(e=e.documentElement);for(var i=hr(t)?t:[t];e;){for(var o=0,a=i.length;a>o;o++)if((r=tr.data(e,i[o]))!==n)return r;e=e.parentNode||e.nodeType===_r&&e.host}}function Ne(e){for($e(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Le(e,t){t||$e(e);var n=e.parentNode;n&&n.removeChild(e)}function Pe(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):tr(n).on("load",t)}function Ie(e,t){var n=Ur[t.toLowerCase()];return n&&qr[L(e)]&&n}function Re(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&zr[t]}function je(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(i=R(i));for(var s=0;o>s;s++)n.isImmediatePropagationStopped()||i[s].call(e,n)}};return n.elem=e,n}function Fe(){this.$get=function(){return f(xe,{hasClass:function(e,t){return e.attr&&(e=e[0]),Ee(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Te(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Me(e,t)}})}}function Ue(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||l)():r+":"+e}function qe(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function ze(e){var t=e.toString().replace(Vr,""),n=t.match(Hr);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function He(e,t,n){var r,i,a,s;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw x(n)&&n||(n=e.name||ze(e)),Yr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=e.toString().replace(Vr,""),a=i.match(Hr),o(a[1].split(Wr),function(e){e.replace(Br,function(e,t,n){r.push(n)})})}e.$inject=r}}else hr(e)?(s=e.length-1,oe(e[s],"fn"),r=e.slice(0,s)):oe(e,"fn",!0);return r}function We(e,t){function r(e){return function(t,n){return b(t)?void o(t,u(e)):e(t,n)}}function i(e,t){if(ae(e,"service"),(k(t)||hr(t))&&(t=C.instantiate(t)),!t.$get)throw Yr("pget","Provider '{0}' must define $get factory method.",e);return S[e+w]=t}function a(e,t){return function(){var n=M.invoke(t,this);if(v(n))throw Yr("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return i(e,{$get:n!==!1?a(e,t):t})}function l(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return s(e,m(t),!1)}function f(e,t){ae(e,"constant"),S[e]=t,E[e]=t}function h(e,t){var n=C.get(e+w),r=n.$get;n.$get=function(){var e=M.invoke(r,n);return M.invoke(t,null,{$delegate:e})}}function d(e){var t,n=[];return o(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=C.get(r[0]);i[r[1]].apply(i,r[2])}}if(!_.get(e)){_.put(e,!0);try{x(e)?(t=rr(e),n=n.concat(d(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):k(e)?n.push(C.invoke(e)):hr(e)?n.push(C.invoke(e)):oe(e,"module")}catch(i){throw hr(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Yr("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function g(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===y)throw Yr("cdep","Circular dependency found: {0}",t+" <- "+$.join(" <- "));return e[t]}try{return $.unshift(t),e[t]=y,e[t]=n(t,r)}catch(i){throw e[t]===y&&delete e[t],i}finally{$.shift()}}function i(e,n,i,o){"string"==typeof i&&(o=i,i=null);var a,s,u,l=[],c=We.$$annotate(e,t,o);for(s=0,a=c.length;a>s;s++){if(u=c[s],"string"!=typeof u)throw Yr("itkn","Incorrect injection token! Expected service name as string, got {0}",u);l.push(i&&i.hasOwnProperty(u)?i[u]:r(u,o))}return hr(e)&&(e=e[a]),e.apply(n,l)}function o(e,t,n){var r=Object.create((hr(e)?e[e.length-1]:e).prototype||null),o=i(e,r,t,n);return b(o)||k(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:We.$$annotate,has:function(t){return S.hasOwnProperty(t+w)||e.hasOwnProperty(t)}}}t=t===!0;var y={},w="Provider",$=[],_=new qe([],!0),S={$provide:{provider:r(i),factory:r(s),service:r(l),value:r(c),constant:r(f),decorator:h}},C=S.$injector=g(S,function(e,t){throw lr.isString(t)&&$.push(t),Yr("unpr","Unknown provider: {0}",$.join(" <- "))}),E={},M=E.$injector=g(E,function(e,t){var r=C.get(e+w,t);return M.invoke(r.$get,r,n,e)});return o(d(e),function(e){M.invoke(e||p)}),M}function Be(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===L(e)?(t=e,!0):void 0}),t}function o(){var e=s.yOffset;if(k(e))e=e();else if(D(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else w(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(){var e,t=n.hash();t?(e=u.getElementById(t))?a(e):(e=i(u.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var u=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&Pe(function(){r.$evalAsync(s)})}),s}]}function Ve(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Ye(e,t,r,i){function a(e){try{e.apply(null,U(arguments,1))}finally{if(_--,0===_)for(;S.length;)try{S.pop()()}catch(t){r.error(t)}}}function s(e){var t=e.indexOf("#");return-1===t?"":e.substr(t+1)}function u(e,t){!function n(){o(E,function(e){e()}),C=t(n,e)}()}function l(){f(),h()}function c(){try{return b.state}catch(e){}}function f(){M=c(),M=v(M)?null:M,j(M,P)&&(M=P),P=M}function h(){(A!==g.url()||T!==M)&&(A=g.url(),T=M,o(N,function(e){e(g.url(),M)}))}function d(e){try{return decodeURIComponent(e)}catch(t){return e}}var g=this,m=t[0],y=e.location,b=e.history,w=e.setTimeout,$=e.clearTimeout,k={};g.isMock=!1;var _=0,S=[];g.$$completeOutstandingRequest=a,g.$$incOutstandingRequestCount=function(){_++},g.notifyWhenNoOutstandingRequests=function(e){o(E,function(e){e()}),0===_?e():S.push(e)};var C,E=[];g.addPollFn=function(e){return v(C)&&u(100,w),E.push(e),e};var M,T,A=y.href,O=t.find("base"),D=null;f(),T=M,g.url=function(t,n,r){if(v(r)&&(r=null),y!==e.location&&(y=e.location),b!==e.history&&(b=e.history),t){var o=T===r;if(A===t&&(!i.history||o))return g;var a=A&&wt(A)===wt(t);return A=t,T=r,!i.history||a&&o?(a||(D=t),n?y.replace(t):a?y.hash=s(t):y.href=t):(b[n?"replaceState":"pushState"](r,"",t),f(),T=M),g}return D||y.href.replace(/%27/g,"'")},g.state=function(){return M};var N=[],L=!1,P=null;g.onUrlChange=function(t){return L||(i.history&&tr(e).on("popstate",l),tr(e).on("hashchange",l),L=!0),N.push(t),t},g.$$checkUrlChange=h,g.baseHref=function(){var e=O.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var I={},R="",F=g.baseHref();g.cookies=function(e,t){var i,o,a,s,u;if(!e){if(m.cookie!==R)for(R=m.cookie,o=R.split("; "),I={},s=0;s<o.length;s++)a=o[s],u=a.indexOf("="),u>0&&(e=d(a.substring(0,u)),I[e]===n&&(I[e]=d(a.substring(u+1))));return I}t===n?m.cookie=encodeURIComponent(e)+"=;path="+F+";expires=Thu, 01 Jan 1970 00:00:00 GMT":x(t)&&(i=(m.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path="+F).length+1,i>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},g.defer=function(e,t){var n;return _++,n=w(function(){delete k[n],a(e)},t||0),k[n]=!0,n},g.defer.cancel=function(e){return k[e]?(delete k[e],$(e),a(p),!0):!1}}function Xe(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Ye(e,r,t,n)}]}function Ge(){this.$get=function(){function e(e,n){function i(e){e!=h&&(d?d==e&&(d=e.n):d=e,o(e.n,e.p),o(e,h),h=e,h.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=f({},n,{id:e}),u={},l=n&&n.capacity||Number.MAX_VALUE,c={},h=null,d=null;return t[e]={put:function(e,t){if(l<Number.MAX_VALUE){var n=c[e]||(c[e]={key:e});i(n)}if(!v(t))return e in u||a++,u[e]=t,a>l&&this.remove(d.key),t},get:function(e){if(l<Number.MAX_VALUE){var t=c[e];if(!t)return;i(t)}return u[e]},remove:function(e){if(l<Number.MAX_VALUE){var t=c[e];if(!t)return;t==h&&(h=t.p),t==d&&(d=t.n),o(t.n,t.p),delete c[e]}delete u[e],a--},removeAll:function(){u={},a=0,c={},h=d=null},destroy:function(){u=null,s=null,c=null,delete t[e]},info:function(){return f({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Ke(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Ze(e,r){function i(e,t){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return o(e,function(e,i){var o=e.match(n);if(!o)throw Kr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,i,e);r[i]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||i}}),r}function a(e){var t=e.charAt(0);if(!t||t!==Gn(t))throw Kr("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);return e}var s={},l="Directive",c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,h=/(([\w\-]+)(?:\:([^;]+))?;?)/,v=N("ngSrc,ngSrcset,src,srcset"),w=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,$=/^(on[a-z]+|formaction)$/;this.directive=function S(t,n){return ae(t,"directive"),x(t)?(a(t),ie(n,"directiveFactory"),s.hasOwnProperty(t)||(s[t]=[],e.factory(t+l,["$injector","$exceptionHandler",function(e,n){var r=[];return o(s[t],function(o,a){try{var s=e.invoke(o);k(s)?s={compile:m(s)}:!s.compile&&s.link&&(s.compile=m(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",b(s.scope)&&(s.$$isolateBindings=i(s.scope,s.name)),r.push(s)}catch(u){n(u)}}),r}])),s[t].push(n)):o(t,u(S)),this},this.aHrefSanitizationWhitelist=function(e){return y(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var _=!0;this.debugInfoEnabled=function(e){return y(e)?(_=e,this):_},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,i,a,u,m,y,S,E,M,T){function A(e,t){try{e.addClass(t)}catch(n){}}function O(e,t,n,r,i){e instanceof tr||(e=tr(e)),o(e,function(t,n){t.nodeType==wr&&t.nodeValue.match(/\S+/)&&(e[n]=tr(t).wrap("<span></span>").parent()[0])});var a=N(e,t,e,n,r,i);O.$$addScopeClass(e);var s=null;return function(t,n,r){ie(t,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers,u=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=D(u));var l;if(l="html"!==s?tr(J(s,tr("<div>").append(e).html())):n?Fr.clone.call(e):e,o)for(var c in o)l.data("$"+c+"Controller",o[c].instance);return O.$$addScopeInfo(l,t),n&&n(l,t),a&&a(t,l,l,i),l}}function D(e){var t=e&&e[0];return t&&"foreignobject"!==L(t)&&t.toString().match(/SVG/)?"svg":"html"}function N(e,t,r,i,o,a){function s(e,r,i,o){var a,s,u,l,c,f,h,d,m;if(p){var v=r.length;for(m=new Array(v),c=0;c<g.length;c+=3)h=g[c],m[h]=r[h]}else m=r;for(c=0,f=g.length;f>c;)u=m[g[c++]],a=g[c++],s=g[c++],a?(a.scope?(l=e.$new(),O.$$addScopeInfo(tr(u),l)):l=e,d=a.transcludeOnThisElement?I(e,a.transclude,o,a.elementTranscludeOnThisElement):!a.templateOnThisElement&&o?o:!o&&t?I(e,t):null,a(s,l,u,i,d)):s&&s(e,u.childNodes,n,o)}for(var u,l,c,f,h,d,p,g=[],m=0;m<e.length;m++)u=new ae,l=R(e[m],[],u,0===m?i:n,o),c=l.length?z(l,e[m],u,t,r,null,[],[],a):null,c&&c.scope&&O.$$addScopeClass(u.$$element),h=c&&c.terminal||!(f=e[m].childNodes)||!f.length?null:N(f,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||h)&&(g.push(m,c,h),d=!0,p=p||c),a=null;return d?s:null}function I(e,t,n,r){var i=function(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return i}function R(e,t,n,r,i){var o,a,s=e.nodeType,u=n.$attr;switch(s){case br:W(t,Je(L(e)),"E",r,i);for(var l,f,d,p,g,m,v=e.attributes,y=0,w=v&&v.length;w>y;y++){var $=!1,k=!1;l=v[y],f=l.name,g=dr(l.value),p=Je(f),(m=fe.test(p))&&(f=f.replace(Zr,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var _=p.replace(/(Start|End)$/,"");V(_)&&p===_+"Start"&&($=f,k=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),d=Je(f.toLowerCase()),u[d]=f,(m||!n.hasOwnProperty(d))&&(n[d]=g,Ie(e,d)&&(n[d]=!0)),ee(e,t,g,d,m),W(t,d,"A",r,i,$,k)}if(a=e.className,b(a)&&(a=a.animVal),x(a)&&""!==a)for(;o=h.exec(a);)d=Je(o[2]),W(t,d,"C",r,i)&&(n[d]=dr(o[3])),a=a.substr(o.index+o[0].length);break;case wr:Z(t,e.nodeValue);break;case $r:try{o=c.exec(e.nodeValue),o&&(d=Je(o[1]),W(t,d,"M",r,i)&&(n[d]=dr(o[2])))}catch(S){}}return t.sort(G),t}function F(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Kr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==br&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return tr(r)}function q(e,t,n){return function(r,i,o,a,s){return i=F(i[0],t,n),e(r,i,o,a,s)}}function z(e,a,s,l,c,f,h,d,p){function g(e,t,n,r){e&&(n&&(e=q(e,n,r)),e.require=S.require,e.directiveName=E,(L===S||S.$$isolateScope)&&(e=re(e,{isolateScope:!0})),h.push(e)),t&&(n&&(t=q(t,n,r)),t.require=S.require,t.directiveName=E,(L===S||S.$$isolateScope)&&(t=re(t,{isolateScope:!0})),d.push(t))}function v(e,t,n,r){var i,a,s="data",u=!1,l=n;if(x(t)){if(a=t.match(w),t=t.substring(a[0].length),a[3]&&(a[1]?a[3]=null:a[1]=a[3]),"^"===a[1]?s="inheritedData":"^^"===a[1]&&(s="inheritedData",l=n.parent()),"?"===a[2]&&(u=!0),i=null,r&&"data"===s&&(i=r[t])&&(i=i.instance),i=i||l[s]("$"+t+"Controller"),!i&&!u)throw Kr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return i||null}return hr(t)&&(i=[],o(t,function(t){i.push(v(e,t,n,r))})),i}function y(e,t,i,l,c){function f(e,t,r){var i;return C(e)||(r=t,t=e,e=n),V&&(i=w),r||(r=V?k.parent():k),c(e,t,i,r,T)}var p,g,y,b,x,w,$,k,S;if(a===i?(S=s,k=s.$$element):(k=tr(i),S=new ae(k,s)),L&&(x=t.$new(!0)),c&&($=f,$.$$boundTransclude=c),N&&(_={},w={},o(N,function(e){var n,r={$scope:e===L||e.$$isolateScope?x:t,$element:k,$attrs:S,$transclude:$};b=e.controller,"@"==b&&(b=S[e.name]),n=m(b,r,!0,e.controllerAs),w[e.name]=n,V||k.data("$"+e.name+"Controller",n.instance),_[e.name]=n})),L){O.$$addScopeInfo(k,x,!0,!(P&&(P===L||P===L.$$originalDirective))),O.$$addScopeClass(k,!0);var E=_&&_[L.name],M=x;E&&E.identifier&&L.bindToController===!0&&(M=E.instance),o(x.$$isolateBindings=L.$$isolateBindings,function(e,n){var i,o,a,s,l=e.attrName,c=e.optional,f=e.mode;switch(f){case"@":S.$observe(l,function(e){M[n]=e}),S.$$observers[l].$$scope=t,S[l]&&(M[n]=r(S[l])(t));break;case"=":if(c&&!S[l])return;o=u(S[l]),s=o.literal?j:function(e,t){return e===t||e!==e&&t!==t},a=o.assign||function(){throw i=M[n]=o(t),Kr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",S[l],L.name)},i=M[n]=o(t);var h=function(e){return s(e,M[n])||(s(e,i)?a(t,e=M[n]):M[n]=e),i=e};h.$stateful=!0;var d;d=e.collection?t.$watchCollection(S[l],h):t.$watch(u(S[l],h),null,o.literal),x.$on("$destroy",d);break;case"&":o=u(S[l]),M[n]=function(e){return o(t,e)}}})}for(_&&(o(_,function(e){e()}),_=null),p=0,g=h.length;g>p;p++)y=h[p],oe(y,y.isolateScope?x:t,k,S,y.require&&v(y.directiveName,y.require,k,w),$);var T=t;for(L&&(L.template||null===L.templateUrl)&&(T=x),e&&e(T,i.childNodes,n,c),p=d.length-1;p>=0;p--)y=d[p],oe(y,y.isolateScope?x:t,k,S,y.require&&v(y.directiveName,y.require,k,w),$)}p=p||{};for(var $,_,S,E,M,T,A,D=-Number.MAX_VALUE,N=p.controllerDirectives,L=p.newIsolateScopeDirective,P=p.templateDirective,I=p.nonTlbTranscludeDirective,z=!1,W=!1,V=p.hasElementTranscludeDirective,G=s.$$element=tr(a),Z=f,Q=l,ee=0,ne=e.length;ne>ee;ee++){S=e[ee];var ie=S.$$start,se=S.$$end;if(ie&&(G=F(a,ie,se)),M=n,D>S.priority)break;if((A=S.scope)&&(S.templateUrl||(b(A)?(K("new/isolated scope",L||$,S,G),L=S):K("new/isolated scope",L,S,G)),$=$||S),E=S.name,!S.templateUrl&&S.controller&&(A=S.controller,N=N||{},K("'"+E+"' controller",N[E],S,G),N[E]=S),(A=S.transclude)&&(z=!0,S.$$tlb||(K("transclusion",I,S,G),I=S),"element"==A?(V=!0,D=S.priority,M=G,G=s.$$element=tr(t.createComment(" "+E+": "+s[E]+" ")),a=G[0],te(c,U(M),a),Q=O(M,l,D,Z&&Z.name,{nonTlbTranscludeDirective:I})):(M=tr(we(a)).contents(),G.empty(),Q=O(M,l))),S.template)if(W=!0,K("template",P,S,G),P=S,A=k(S.template)?S.template(G,s):S.template,A=ce(A),S.replace){if(Z=S,M=me(A)?[]:et(J(S.templateNamespace,dr(A))),a=M[0],1!=M.length||a.nodeType!==br)throw Kr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",E,"");te(c,G,a);var ue={$attr:{}},le=R(a,[],ue),fe=e.splice(ee+1,e.length-(ee+1));L&&H(le),e=e.concat(le).concat(fe),Y(s,ue),ne=e.length}else G.html(A);if(S.templateUrl)W=!0,K("template",P,S,G),P=S,S.replace&&(Z=S),y=X(e.splice(ee,e.length-ee),G,s,c,z&&Q,h,d,{controllerDirectives:N,newIsolateScopeDirective:L,templateDirective:P,nonTlbTranscludeDirective:I}),ne=e.length;else if(S.compile)try{T=S.compile(G,s,Q),k(T)?g(null,T,ie,se):T&&g(T.pre,T.post,ie,se)}catch(he){i(he,B(G))}S.terminal&&(y.terminal=!0,D=Math.max(D,S.priority))}return y.scope=$&&$.scope===!0,y.transcludeOnThisElement=z,y.elementTranscludeOnThisElement=V,y.templateOnThisElement=W,y.transclude=Q,p.hasElementTranscludeDirective=V,y}function H(e){for(var t=0,n=e.length;n>t;t++)e[t]=d(e[t],{$$isolateScope:!0})}function W(t,r,o,a,u,c,f){
if(r===u)return null;var h=null;if(s.hasOwnProperty(r))for(var p,g=e.get(r+l),m=0,v=g.length;v>m;m++)try{p=g[m],(a===n||a>p.priority)&&-1!=p.restrict.indexOf(o)&&(c&&(p=d(p,{$$start:c,$$end:f})),t.push(p),h=p)}catch(y){i(y)}return h}function V(t){if(s.hasOwnProperty(t))for(var n,r=e.get(t+l),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function Y(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;o(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),o(t,function(t,o){"class"==o?(A(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,r[o]=n[o])})}function X(e,t,n,r,i,s,u,l){var c,f,h=[],p=t[0],g=e.shift(),m=d(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=k(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,y=g.templateNamespace;return t.empty(),a(E.getTrustedResourceUrl(v)).then(function(a){var d,x,w,$;if(a=ce(a),g.replace){if(w=me(a)?[]:et(J(y,dr(a))),d=w[0],1!=w.length||d.nodeType!==br)throw Kr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);x={$attr:{}},te(r,t,d);var k=R(d,[],x);b(g.scope)&&H(k),e=k.concat(e),Y(n,x)}else d=p,t.html(a);for(e.unshift(m),c=z(e,d,n,i,t,g,s,u,l),o(r,function(e,n){e==d&&(r[n]=t[0])}),f=N(t[0].childNodes,i);h.length;){var _=h.shift(),S=h.shift(),C=h.shift(),E=h.shift(),M=t[0];if(!_.$$destroyed){if(S!==p){var T=S.className;l.hasElementTranscludeDirective&&g.replace||(M=we(d)),te(C,tr(S),M),A(tr(M),T)}$=c.transcludeOnThisElement?I(_,c.transclude,E):E,c(f,_,M,r,$)}}h=null}),function(e,t,n,r,i){var o=i;t.$$destroyed||(h?h.push(t,n,r,o):(c.transcludeOnThisElement&&(o=I(t,c.transclude,i)),c(f,t,n,r,o)))}}function G(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function K(e,t,n,r){if(t)throw Kr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,B(r))}function Z(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&O.$$addBindingClass(t),function(e,t){var i=t.parent();r||O.$$addBindingClass(i),O.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function J(e,n){switch(e=Gn(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function Q(e,t){if("srcdoc"==t)return E.HTML;var n=L(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?E.RESOURCE_URL:void 0}function ee(e,t,n,i,o){var a=Q(e,i);o=v[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===L(e))throw Kr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",B(e));t.push({priority:100,compile:function(){return{pre:function(e,t,u){var l=u.$$observers||(u.$$observers={});if($.test(i))throw Kr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=u[i];c!==n&&(s=c&&r(c,!0,a,o),n=c),s&&(u[i]=s(e),(l[i]||(l[i]=[])).$$inter=!0,(u.$$observers&&u.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?u.$updateClass(e,t):u.$set(i,e)}))}}}})}}function te(e,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(e)for(i=0,o=e.length;o>i;i++)if(e[i]==a){e[i++]=r;for(var l=i,c=l+s-1,f=e.length;f>l;l++,c++)f>c?e[l]=e[c]:delete e[l];e.length-=s-1,e.context===a&&(e.context=r);break}u&&u.replaceChild(r,a);var h=t.createDocumentFragment();h.appendChild(a),tr(r).data(tr(a).data()),nr?(fr=!0,nr.cleanData([a])):delete tr.cache[a[tr.expando]];for(var d=1,p=n.length;p>d;d++){var g=n[d];tr(g).remove(),h.appendChild(g),delete n[d]}n[0]=r,n.length=1}function re(e,t){return f(function(){return e.apply(null,arguments)},e,t)}function oe(e,t,n,r,o,a){try{e(t,n,r,o,a)}catch(s){i(s,B(n))}}var ae=function(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e};ae.prototype={$normalize:Je,$addClass:function(e){e&&e.length>0&&M.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&M.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Qe(e,t);n&&n.length&&M.addClass(this.$$element,n);var r=Qe(t,e);r&&r.length&&M.removeClass(this.$$element,r)},$set:function(e,t,r,a){var s,u=this.$$element[0],l=Ie(u,e),c=Re(u,e),f=e;if(l?(this.$$element.prop(e,t),a=l):c&&(this[c]=t,f=c),this[e]=t,a?this.$attr[e]=a:(a=this.$attr[e],a||(this.$attr[e]=a=ne(e,"-"))),s=L(this.$$element),"a"===s&&"href"===e||"img"===s&&"src"===e)this[e]=t=T(t,"src"===e);else if("img"===s&&"srcset"===e){for(var h="",d=dr(t),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,g=/\s/.test(d)?p:/(,)/,m=d.split(g),v=Math.floor(m.length/2),y=0;v>y;y++){var b=2*y;h+=T(dr(m[b]),!0),h+=" "+dr(m[b+1])}var x=dr(m[2*y]).split(/\s/);h+=T(dr(x[0]),!0),2===x.length&&(h+=" "+dr(x[1])),this[e]=t=h}r!==!1&&(null===t||t===n?this.$$element.removeAttr(a):this.$$element.attr(a,t));var w=this.$$observers;w&&o(w[f],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=le()),i=r[e]||(r[e]=[]);return i.push(t),y.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(e)&&t(n[e])}),function(){P(i,t)}}};var se=r.startSymbol(),ue=r.endSymbol(),ce="{{"==se||"}}"==ue?g:function(e){return e.replace(/\{\{/g,se).replace(/}}/g,ue)},fe=/^ngAttr[A-Z]/;return O.$$addBindingInfo=_?function(e,t){var n=e.data("$binding")||[];hr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:p,O.$$addBindingClass=_?function(e){A(e,"ng-binding")}:p,O.$$addScopeInfo=_?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:p,O.$$addScopeClass=_?function(e,t){A(e,t?"ng-isolate-scope":"ng-scope")}:p,O}]}function Je(e){return ge(e.replace(Zr,""))}function Qe(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function et(e){e=tr(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===$r&&or.call(e,t,1)}return e}function tt(){var e={},t=!1,i=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){ae(t,"controller"),b(t)?f(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(o,a){function s(e,t,n,i){if(!e||!b(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}return function(r,u,l,c){var h,d,p,g;if(l=l===!0,c&&x(c)&&(g=c),x(r)){if(d=r.match(i),!d)throw Jr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);p=d[1],g=g||d[3],r=e.hasOwnProperty(p)?e[p]:se(u.$scope,p,!0)||(t?se(a,p,!0):n),oe(r,p,!0)}if(l){var m=(hr(r)?r[r.length-1]:r).prototype;return h=Object.create(m||null),g&&s(u,g,h,p||r.name),f(function(){return o.invoke(r,h,u,p),h},{instance:h,identifier:g})}return h=o.instantiate(r,u,p),g&&s(u,g,h,p||r.name),h}}]}function nt(){this.$get=["$window",function(e){return tr(e.document)}]}function rt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function it(e,t){if(x(e)){var n=e.replace(ri,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Qr)||ot(n))&&(e=W(n))}}return e}function ot(e){var t=e.match(ti);return t&&ni[t[0]].test(e)}function at(e){var t,n,r,i=le();return e?(o(e.split("\n"),function(e){r=e.indexOf(":"),t=Gn(dr(e.substr(0,r))),n=dr(e.substr(r+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}function st(e){var t=b(e)?e:n;return function(n){if(t||(t=at(e)),n){var r=t[Gn(n)];return void 0===r&&(r=null),r}return t}}function ut(e,t,n,r){return k(r)?r(e,t,n):(o(r,function(r){e=r(e,t,n)}),e)}function lt(e){return e>=200&&300>e}function ct(){var e=this.defaults={transformResponse:[it],transformRequest:[function(e){return!b(e)||E(e)||T(e)||M(e)?e:H(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:R(ei),put:R(ei),patch:R(ei)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},t=!1;this.useApplyAsync=function(e){return y(e)?(t=!!e,this):t};var i=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,u,l,c,h,d){function p(t){function i(e){var t=f({},e);return t.data=e.data?ut(e.data,e.headers,e.status,u.transformResponse):e.data,lt(e.status)?t:h.reject(t)}function a(e){var t,n={};return o(e,function(e,r){k(e)?(t=e(),null!=t&&(n[r]=t)):n[r]=e}),n}function s(t){var n,r,i,o=e.headers,s=f({},t.headers);o=f({},o.common,o[Gn(t.method)]);e:for(n in o){r=Gn(n);for(i in s)if(Gn(i)===r)continue e;s[n]=o[n]}return a(s)}if(!lr.isObject(t))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var u=f({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},t);u.headers=s(t),u.method=Zn(u.method);var l=function(t){var r=t.headers,a=ut(t.data,st(r),n,t.transformRequest);return v(a)&&o(r,function(e,t){"content-type"===Gn(t)&&delete r[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),w(t,a).then(i,i)},c=[l,n],d=h.when(u);for(o(C,function(e){(e.request||e.requestError)&&c.unshift(e.request,e.requestError),(e.response||e.responseError)&&c.push(e.response,e.responseError)});c.length;){var p=c.shift(),g=c.shift();d=d.then(p,g)}return d.success=function(e){return oe(e,"fn"),d.then(function(t){e(t.data,t.status,t.headers,u)}),d},d.error=function(e){return oe(e,"fn"),d.then(null,function(t){e(t.data,t.status,t.headers,u)}),d},d}function g(e){o(arguments,function(e){p[e]=function(t,n){return p(f(n||{},{method:e,url:t}))}})}function m(e){o(arguments,function(e){p[e]=function(t,n,r){return p(f(r||{},{method:e,url:t,data:n}))}})}function w(r,i){function o(e,n,r,i){function o(){s(n,e,r,i)}d&&(lt(e)?d.put($,[e,n,at(r),i]):d.remove($)),t?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function s(e,t,n,i){t=Math.max(t,0),(lt(t)?m.resolve:m.reject)({data:e,status:t,headers:st(n),config:r,statusText:i})}function l(e){s(e.data,e.status,R(e.headers()),e.statusText)}function f(){var e=p.pendingRequests.indexOf(r);-1!==e&&p.pendingRequests.splice(e,1)}var d,g,m=h.defer(),x=m.promise,w=r.headers,$=_(r.url,r.params);if(p.pendingRequests.push(r),x.then(f,f),!r.cache&&!e.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(d=b(r.cache)?r.cache:b(e.cache)?e.cache:S),d&&(g=d.get($),y(g)?O(g)?g.then(l,l):hr(g)?s(g[1],g[0],R(g[2]),g[3]):s(g,200,{},"OK"):d.put($,x)),v(g)){var k=on(r.url)?u.cookies()[r.xsrfCookieName||e.xsrfCookieName]:n;k&&(w[r.xsrfHeaderName||e.xsrfHeaderName]=k),a(r.method,$,i,o,w,r.timeout,r.withCredentials,r.responseType)}return x}function _(e,t){if(!t)return e;var n=[];return s(t,function(e,t){null===e||v(e)||(hr(e)||(e=[e]),o(e,function(e){b(e)&&(e=$(e)?e.toISOString():H(e)),n.push(K(t)+"="+K(e))}))}),n.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var S=l("$http"),C=[];return o(i,function(e){C.unshift(x(e)?d.get(e):d.invoke(e))}),p.pendingRequests=[],g("get","delete","head","jsonp"),m("post","put","patch"),p.defaults=e,p}]}function ft(){return new e.XMLHttpRequest}function ht(){this.$get=["$browser","$window","$document",function(e,t,n){return dt(e,ft,e.defer,t.angular.callbacks,n[0])}]}function dt(e,t,r,i,a){function s(e,t,n){var r=a.createElement("script"),o=null;return r.type="text/javascript",r.src=e,r.async=!0,o=function(e){Tr(r,"load",o),Tr(r,"error",o),a.body.removeChild(r),r=null;var s=-1,u="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),u=e.type,s="error"===e.type?404:200),n&&n(s,u)},Mr(r,"load",o),Mr(r,"error",o),a.body.appendChild(r),o}return function(a,u,l,c,f,h,d,g){function m(){x&&x(),w&&w.abort()}function v(t,i,o,a,s){_!==n&&r.cancel(_),x=w=null,t(i,o,a,s),e.$$completeOutstandingRequest(p)}if(e.$$incOutstandingRequestCount(),u=u||e.url(),"jsonp"==Gn(a)){var b="_"+(i.counter++).toString(36);i[b]=function(e){i[b].data=e,i[b].called=!0};var x=s(u.replace("JSON_CALLBACK","angular.callbacks."+b),b,function(e,t){v(c,e,i[b].data,"",t),i[b]=p})}else{var w=t();w.open(a,u,!0),o(f,function(e,t){y(e)&&w.setRequestHeader(t,e)}),w.onload=function(){var e=w.statusText||"",t="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=t?200:"file"==rn(u).protocol?404:0),v(c,n,t,w.getAllResponseHeaders(),e)};var $=function(){v(c,-1,null,null,"")};if(w.onerror=$,w.onabort=$,d&&(w.withCredentials=!0),g)try{w.responseType=g}catch(k){if("json"!==g)throw k}w.send(l||null)}if(h>0)var _=r(m,h);else O(h)&&h.then(m)}}function pt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(o,a,h,d){function p(n){return n.replace(l,e).replace(c,t)}function g(e){try{return e=T(e),d&&!y(e)?e:A(e)}catch(t){var n=ii("interr","Can't interpolate: {0}\n{1}",o,t.toString());r(n)}}d=!!d;for(var m,b,x,w=0,$=[],_=[],S=o.length,C=[],E=[];S>w;){if(-1==(m=o.indexOf(e,w))||-1==(b=o.indexOf(t,m+s))){w!==S&&C.push(p(o.substring(w)));break}w!==m&&C.push(p(o.substring(w,m))),x=o.substring(m+s,b),$.push(x),_.push(n(x,g)),w=b+u,E.push(C.length),C.push("")}if(h&&C.length>1)throw ii("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!a||$.length){var M=function(e){for(var t=0,n=$.length;n>t;t++){if(d&&v(e[t]))return;C[E[t]]=e[t]}return C.join("")},T=function(e){return h?i.getTrusted(h,e):i.valueOf(e)},A=function(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=H(e)}return e};return f(function(e){var t=0,n=$.length,i=new Array(n);try{for(;n>t;t++)i[t]=_[t](e);return M(i)}catch(a){var s=ii("interr","Can't interpolate: {0}\n{1}",o,a.toString());r(s)}},{exp:o,expressions:$,$$watchDelegate:function(e,t,n){var r;return e.$watchGroup(_,function(n,i){var o=M(n);k(t)&&t.call(this,o,n!==i?r:o,e),r=o},n)}})}}var s=e.length,u=t.length,l=new RegExp(e.replace(/./g,o),"g"),c=new RegExp(t.replace(/./g,o),"g");return a.startSymbol=function(){return e},a.endSymbol=function(){return t},a}]}function gt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){function i(i,a,s,u){var l=t.setInterval,c=t.clearInterval,f=0,h=y(u)&&!u,d=(h?r:n).defer(),p=d.promise;return s=y(s)?s:0,p.then(null,null,i),p.$$intervalId=l(function(){d.notify(f++),s>0&&f>=s&&(d.resolve(f),c(p.$$intervalId),delete o[p.$$intervalId]),h||e.$apply()},a),o[p.$$intervalId]=d,p}var o={};return i.cancel=function(e){return e&&e.$$intervalId in o?(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0):!1},i}]}function mt(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(e){return 1===e?"one":"other"}}}}function vt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=G(t[n]);return t.join("/")}function yt(e,t){var n=rn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=h(n.port)||ai[n.protocol]||null}function bt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=rn(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=Y(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function xt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function wt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function $t(e){return e.replace(/(#.+)|#$/,"$1")}function kt(e){return e.substr(0,wt(e).lastIndexOf("/")+1)}function _t(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function St(e,t){this.$$html5=!0,t=t||"";var r=kt(e);yt(e,this),this.$$parse=function(e){var t=xt(r,e);if(!x(t))throw si("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,r);bt(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=X(this.$$search),t=this.$$hash?"#"+G(this.$$hash):"";this.$$url=vt(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s,u;return(a=xt(e,i))!==n?(s=a,u=(a=xt(t,a))!==n?r+(xt("/",a)||a):e+s):(a=xt(r,i))!==n?u=r+a:r==i+"/"&&(u=r),u&&this.$$parse(u),!!u}}function Ct(e,t){var n=kt(e);yt(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var o,a=xt(e,r)||xt(n,r);"#"===a.charAt(0)?(o=xt(t,a),v(o)&&(o=a)):o=this.$$html5?a:"",bt(o,this),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var n=X(this.$$search),r=this.$$hash?"#"+G(this.$$hash):"";this.$$url=vt(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return wt(e)==wt(t)?(this.$$parse(t),!0):!1}}function Et(e,t){this.$$html5=!0,Ct.apply(this,arguments);var n=kt(e);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e==wt(r)?o=r:(a=xt(n,r))?o=e+t+a:n===r+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=X(this.$$search),r=this.$$hash?"#"+G(this.$$hash):"";this.$$url=vt(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+t+this.$$url}}function Mt(e){return function(){return this[e]}}function Tt(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function At(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return A(e)?(t.enabled=e,this):b(e)?(A(e.enabled)&&(t.enabled=e.enabled),A(e.requireBase)&&(t.requireBase=e.requireBase),A(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=l.url(),o=l.$$state;try{r.url(e,t,n),l.$$state=r.state()}catch(a){throw l.url(i),l.$$state=o,a}}function u(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}var l,c,f,h=r.baseHref(),d=r.url();if(t.enabled){if(!h&&t.requireBase)throw si("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=_t(d)+(h||"/"),c=i.history?St:Et}else f=wt(d),c=Ct;l=new c(f,"#"+e),l.$$parseLinkUrl(d,d),l.$$state=r.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=tr(e.target);"a"!==L(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),u=i.attr("href")||i.attr("xlink:href");b(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=rn(s.animVal).href),p.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(s,u)&&(e.preventDefault(),l.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),$t(l.absUrl())!=$t(d)&&r.url(l.absUrl(),!0);var g=!0;return r.onUrlChange(function(e,t){n.$evalAsync(function(){var r,i=l.absUrl(),o=l.$$state;l.$$parse(e),l.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,l.absUrl()===e&&(r?(l.$$parse(i),l.$$state=o,s(i,!1,o)):(g=!1,u(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var e=$t(r.url()),t=$t(l.absUrl()),o=r.state(),a=l.$$replace,c=e!==t||l.$$html5&&i.history&&o!==l.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var t=l.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,l.$$state,o).defaultPrevented;l.absUrl()===t&&(r?(l.$$parse(e),l.$$state=o):(c&&s(t,a,o===l.$$state?null:l.$$state),u(e,o)))})),l.$$replace=!1}),l}]}function Ot(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||p,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var e=[];return o(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Dt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw li("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Nt(e,t){if(e){if(e.constructor===e)throw li("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw li("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw li("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw li("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Lt(e,t){if(e){if(e.constructor===e)throw li("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===ci||e===fi||e===hi)throw li("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Pt(e){return e.constant}function It(e,t,n,r,i){Nt(e,i),Nt(t,i);for(var o,a=n.split("."),s=0;a.length>1;s++){o=Dt(a.shift(),i);var u=0===s&&t&&t[o]||e[o];u||(u={},e[o]=u),e=Nt(u,i)}return o=Dt(a.shift(),i),Nt(e[o],i),e[o]=r,r}function Rt(e){return"constructor"==e}function jt(e,t,r,i,o,a,s){Dt(e,a),Dt(t,a),Dt(r,a),Dt(i,a),Dt(o,a);var u=function(e){return Nt(e,a)},l=s||Rt(e)?u:g,c=s||Rt(t)?u:g,f=s||Rt(r)?u:g,h=s||Rt(i)?u:g,d=s||Rt(o)?u:g;return function(a,s){var u=s&&s.hasOwnProperty(e)?s:a;return null==u?u:(u=l(u[e]),t?null==u?n:(u=c(u[t]),r?null==u?n:(u=f(u[r]),i?null==u?n:(u=h(u[i]),o?null==u?n:u=d(u[o]):u):u):u):u)}}function Ft(e,t){return function(n,r){return e(n,r,Nt,t)}}function Ut(e,t,r){var i=t.expensiveChecks,a=i?bi:yi,s=a[e];if(s)return s;var u=e.split("."),l=u.length;if(t.csp)s=6>l?jt(u[0],u[1],u[2],u[3],u[4],r,i):function(e,t){var o,a=0;do o=jt(u[a++],u[a++],u[a++],u[a++],u[a++],r,i)(e,t),t=n,e=o;while(l>a);return o};else{var c="";i&&(c+="s = eso(s, fe);\nl = eso(l, fe);\n");var f=i;o(u,function(e,t){Dt(e,r);var n=(t?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+"."+e;(i||Rt(e))&&(n="eso("+n+", fe)",f=!0),c+="if(s == null) return undefined;\ns="+n+";\n"}),c+="return s;";var h=new Function("s","l","eso","fe",c);h.toString=m(c),f&&(h=Ft(h,r)),s=h}return s.sharedGetter=!0,s.assign=function(t,n,r){return It(t,r,e,n,e)},a[e]=s,s}function qt(e){return k(e.valueOf)?e.valueOf():xi.call(e)}function zt(){var e=le(),t=le();this.$get=["$filter","$sniffer",function(n,r){function i(e){var t=e;return e.sharedGetter&&(t=function(t,n){return e(t,n)},t.literal=e.literal,t.constant=e.constant,t.assign=e.assign),t}function a(e,t){for(var n=0,r=e.length;r>n;n++){var i=e[n];i.constant||(i.inputs?a(i.inputs,t):-1===t.indexOf(i)&&t.push(i))}return t}function s(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=qt(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function u(e,t,n,r){var i,o=r.$$inputs||(r.$$inputs=a(r.inputs,[]));if(1===o.length){var u=s;return o=o[0],e.$watch(function(e){var t=o(e);return s(t,u)||(i=r(e),u=t&&qt(t)),i},t,n)}for(var l=[],c=0,f=o.length;f>c;c++)l[c]=s;return e.$watch(function(e){for(var t=!1,n=0,a=o.length;a>n;n++){var u=o[n](e);(t||(t=!s(u,l[n])))&&(l[n]=u&&qt(u))}return t&&(i=r(e)),i},t,n)}function l(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,k(t)&&t.apply(this,arguments),y(e)&&r.$$postDigest(function(){y(o)&&i()})},n)}function c(e,t,n,r){function i(e){var t=!0;return o(e,function(e){y(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,r){s=e,k(t)&&t.call(this,e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&a()})},n)}function f(e,t,n,r){var i;return i=e.$watch(function(e){return r(e)},function(e,n,r){k(t)&&t.apply(this,arguments),i()},n)}function h(e,t){if(!t)return e;var n=e.$$watchDelegate,r=n!==c&&n!==l,i=r?function(n,r){var i=e(n,r);return t(i,n,r)}:function(n,r){var i=e(n,r),o=t(i,n,r);return y(i)?o:i};return e.$$watchDelegate&&e.$$watchDelegate!==u?i.$$watchDelegate=e.$$watchDelegate:t.$stateful||(i.$$watchDelegate=u,i.inputs=[e]),i}var d={csp:r.csp,expensiveChecks:!1},g={csp:r.csp,expensiveChecks:!0};return function(r,o,a){var s,m,v;switch(typeof r){case"string":v=r=r.trim();var y=a?t:e;if(s=y[v],!s){":"===r.charAt(0)&&":"===r.charAt(1)&&(m=!0,r=r.substring(2));var b=a?g:d,x=new mi(b),w=new vi(x,n,b);s=w.parse(r),s.constant?s.$$watchDelegate=f:m?(s=i(s),s.$$watchDelegate=s.literal?c:l):s.inputs&&(s.$$watchDelegate=u),y[v]=s}return h(s,o);case"function":return h(r,o);default:return h(p,o)}}}]}function Ht(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Bt(function(t){e.$evalAsync(t)},t)}]}function Wt(){this.$get=["$browser","$exceptionHandler",function(e,t){return Bt(function(t){e.defer(t)},t)}]}function Bt(e,t){function i(e,t,n){function r(t){return function(n){i||(i=!0,t.call(e,n))}}var i=!1;return[r(t),r(n)]}function a(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function u(e){var r,i,o;o=e.pending,e.processScheduled=!1,e.pending=n;for(var a=0,s=o.length;s>a;++a){i=o[a][0],r=o[a][e.status];try{k(r)?i.resolve(r(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(u){i.reject(u),t(u)}}}function l(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){u(t)}))}function c(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function f(e){var t=new c,n=0,r=hr(e)?[]:{};return o(e,function(e,i){n++,v(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var h=r("$q",TypeError),d=function(){return new c};a.prototype={then:function(e,t,n){var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&l(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return m(t,!0,e)},function(t){return m(t,!1,e)},t)}},c.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(h("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(b(e)||k(e))&&(n=e&&e.then),k(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,l(this.promise.$$state))}catch(o){r[1](o),t(o)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,o=0,a=r.length;a>o;o++){i=r[o][0],e=r[o][3];try{i.notify(k(e)?e(n):n)}catch(s){t(s)}}})}};var p=function(e){var t=new c;return t.reject(e),t.promise},g=function(e,t){var n=new c;return t?n.resolve(e):n.reject(e),n.promise},m=function(e,t,n){var r=null;try{k(n)&&(r=n())}catch(i){return g(i,!1)}return O(r)?r.then(function(){return g(e,t)},function(e){return g(e,!1)}):g(e,t)},v=function(e,t,n,r){var i=new c;return i.resolve(e),i.promise.then(t,n,r)},y=function x(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!k(e))throw h("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof x))return new x(e);var r=new c;return e(t,n),r.promise};return y.defer=d,y.reject=p,y.when=v,y.all=f,y}function Vt(){this.$get=["$window","$timeout",function(e,t){function n(){for(var e=0;e<c.length;e++){var t=c[e];t&&(c[e]=null,t())}l=c.length=0}function r(e){var t=c.length;return l++,c.push(e),0===t&&(u=s(n)),function(){t>=0&&(c[t]=null,t=null,0===--l&&u&&(u(),u=null,c.length=0))}}var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame,o=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,a=!!i,s=a?function(e){var t=i(e);return function(){o(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};r.supported=a;var u,l=0,c=[];return r}]}function Yt(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=l(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,u,c,f){function h(e){e.currentScope.$$destroyed=!0}function d(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function g(e){if(_.$$phase)throw n("inprog","{0} already in progress",_.$$phase);_.$$phase=e}function m(){_.$$phase=null}function y(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function x(){}function w(){for(;E.length;)try{E.shift()()}catch(e){u(e)}s=null}function $(){null===s&&(s=f.defer(function(){_.$apply(w)}))}d.prototype={constructor:d,$new:function(t,n){var r;return n=n||this,t?(r=new d,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",h),r},$watch:function(e,t,n){var r=c(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r);var i=this,o=i.$$watchers,s={fn:t,last:x,get:r,exp:e,eq:!!n};return a=null,k(t)||(s.fn=p),o||(o=i.$$watchers=[]),o.unshift(s),function(){P(o,s),a=null}},$watchGroup:function(e,t){function n(){u=!1,l?(l=!1,t(i,i,s)):t(i,r,s)}var r=new Array(e.length),i=new Array(e.length),a=[],s=this,u=!1,l=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(i,i,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){i[0]=e,r[0]=n,t(i,e===n?i:r,o)}):(o(e,function(e,t){var o=s.$watch(e,function(e,o){i[t]=e,r[t]=o,u||(u=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){o=e;var t,n,r,s,u;if(!v(o)){if(b(o))if(i(o)){a!==d&&(a=d,m=a.length=0,f++),t=o.length,m!==t&&(f++,a.length=m=t);for(var l=0;t>l;l++)u=a[l],s=o[l],r=u!==u&&s!==s,r||u===s||(f++,a[l]=s)}else{a!==p&&(a=p={},m=0,f++),t=0;for(n in o)o.hasOwnProperty(n)&&(t++,s=o[n],u=a[n],n in a?(r=u!==u&&s!==s,r||u===s||(f++,a[n]=s)):(m++,a[n]=s,f++));if(m>t){f++;for(n in a)o.hasOwnProperty(n)||(m--,delete a[n])}}else a!==o&&(a=o,f++);

return f}}function r(){if(g?(g=!1,t(o,o,u)):t(o,s,u),l)if(b(o))if(i(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var n in o)Kn.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,u=this,l=t.length>1,f=0,h=c(e,n),d=[],p={},g=!0,m=0;return this.$watch(h,r)},$digest:function(){var e,r,i,o,l,c,h,d,p,v,y=t,b=this,$=[];g("$digest"),f.$$checkUrlChange(),this===_&&null!==s&&(f.defer.cancel(s),w()),a=null;do{for(c=!1,d=b;S.length;){try{v=S.shift(),v.scope.$eval(v.expression,v.locals)}catch(E){u(E)}a=null}e:do{if(o=d.$$watchers)for(l=o.length;l--;)try{if(e=o[l])if((r=e.get(d))===(i=e.last)||(e.eq?j(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(e===a){c=!1;break e}}else c=!0,a=e,e.last=e.eq?I(r,null):r,e.fn(r,i===x?r:i,d),5>y&&(p=4-y,$[p]||($[p]=[]),$[p].push({msg:k(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:i}))}catch(E){u(E)}if(!(h=d.$$childHead||d!==b&&d.$$nextSibling))for(;d!==b&&!(h=d.$$nextSibling);)d=d.$parent}while(d=h);if((c||S.length)&&!y--)throw m(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,$)}while(c||S.length);for(m();C.length;)try{C.shift()()}catch(E){u(E)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==_){for(var t in this.$$listenerCount)y(this,this.$$listenerCount[t],t);e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){_.$$phase||S.length||f.defer(function(){S.length&&_.$digest()}),S.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){C.push(e)},$apply:function(e){try{return g("$apply"),this.$eval(e)}catch(t){u(t)}finally{m();try{_.$digest()}catch(t){throw u(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&E.push(t),$()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,y(i,1,e))}},$emit:function(e,t){var n,r,i,o=[],a=this,s=!1,l={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=F([l],arguments,1);do{for(n=a.$$listeners[e]||o,l.currentScope=a,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,c)}catch(f){u(f)}else n.splice(r,1),r--,i--;if(s)return l.currentScope=null,l;a=a.$parent}while(a);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,r=n,i=n,o={name:e,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return o;for(var a,s,l,c=F([o],arguments,1);r=i;){for(o.currentScope=r,a=r.$$listeners[e]||[],s=0,l=a.length;l>s;s++)if(a[s])try{a[s].apply(null,c)}catch(f){u(f)}else a.splice(s,1),s--,l--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var _=new d,S=_.$$asyncQueue=[],C=_.$$postDigestQueue=[],E=_.$$applyAsyncQueue=[];return _}]}function Xt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=rn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Gt(e){if("self"===e)return e;if(x(e)){if(e.indexOf("***")>-1)throw wi("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=pr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(_(e))return new RegExp("^"+e.source+"$");throw wi("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Kt(e){var t=[];return y(e)&&o(e,function(e){t.push(Gt(e))}),t}function Zt(){this.SCE_CONTEXTS=$i;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Kt(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Kt(e)),t},this.$get=["$injector",function(r){function i(e,t){return"self"===e?on(t):!!e.exec(t.href)}function o(n){var r,o,a=rn(n.toString()),s=!1;for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!0;break}if(s)for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!1;break}return s}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var r=h.hasOwnProperty(e)?h[e]:null;if(!r)throw wi("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw wi("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)}function u(e){return e instanceof f?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||t===n||""===t)return t;var r=h.hasOwnProperty(e)?h[e]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(e===$i.RESOURCE_URL){if(o(t))return t;throw wi("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===$i.HTML)return c(t);throw wi("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(e){throw wi("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(c=r.get("$sanitize"));var f=a(),h={};return h[$i.HTML]=a(f),h[$i.CSS]=a(f),h[$i.URL]=a(f),h[$i.JS]=a(f),h[$i.RESOURCE_URL]=a(h[$i.URL]),{trustAs:s,getTrusted:l,valueOf:u}}]}function Jt(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>er)throw wi("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=R($i);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=g),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o($i,function(e,t){var n=Gn(t);r[ge("parse_as_"+n)]=function(t){return i(e,t)},r[ge("get_trusted_"+n)]=function(t){return a(e,t)},r[ge("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function Qt(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=h((/android (\d+)/.exec(Gn((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,c=!1,f=!1;if(l){for(var d in l)if(r=u.exec(d)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),c=!!("transition"in l||n+"Transition"in l),f=!!("animation"in l||n+"Animation"in l),!o||c&&f||(c=x(s.body.style.webkitTransition),f=x(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>o||a),hasEvent:function(e){if("input"===e&&11>=er)return!1;if(v(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:gr(),vendorPrefix:n,transitions:c,animations:f,android:o}}]}function en(){this.$get=["$templateCache","$http","$q",function(e,t,n){function r(i,o){function a(e){if(!o)throw Kr("tpload","Failed to load template: {0}",i);return n.reject(e)}r.totalPendingRequests++;var s=t.defaults&&t.defaults.transformResponse;hr(s)?s=s.filter(function(e){return e!==it}):s===it&&(s=null);var u={cache:e,transformResponse:s};return t.get(i,u)["finally"](function(){r.totalPendingRequests--}).then(function(e){return e.data},a)}return r.totalPendingRequests=0,r}]}function tn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return o(r,function(e){var r=lr.element(e).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+pr(t)+"(\\s|\\||$)");o.test(r)&&i.push(e)}else-1!=r.indexOf(t)&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function nn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,u){var l,c=y(u)&&!u,f=(c?r:n).defer(),h=f.promise;return l=t.defer(function(){try{f.resolve(o())}catch(t){f.reject(t),i(t)}finally{delete a[h.$$timeoutId]}c||e.$apply()},s),h.$$timeoutId=l,a[l]=f,h}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function rn(e){var t=e;return er&&(ki.setAttribute("href",t),t=ki.href),ki.setAttribute("href",t),{href:ki.href,protocol:ki.protocol?ki.protocol.replace(/:$/,""):"",host:ki.host,search:ki.search?ki.search.replace(/^\?/,""):"",hash:ki.hash?ki.hash.replace(/^#/,""):"",hostname:ki.hostname,port:ki.port,pathname:"/"===ki.pathname.charAt(0)?ki.pathname:"/"+ki.pathname}}function on(e){var t=x(e)?rn(e):e;return t.protocol===_i.protocol&&t.host===_i.host}function an(){this.$get=m(e)}function sn(e){function t(r,i){if(b(r)){var a={};return o(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",fn),t("date",_n),t("filter",un),t("json",Sn),t("limitTo",Cn),t("lowercase",Ti),t("number",hn),t("orderBy",En),t("uppercase",Ai)}function un(){return function(e,t,n){if(!hr(e))return e;var r,i,o=null!==t?typeof t:"null";switch(o){case"function":r=t;break;case"boolean":case"null":case"number":case"string":i=!0;case"object":r=ln(t,n,i);break;default:return e}return e.filter(r)}}function ln(e,t,n){var r,i=b(e)&&"$"in e;return t===!0?t=j:k(t)||(t=function(e,t){return v(e)?!1:null===e||null===t?e===t:b(e)||b(t)?!1:(e=Gn(""+e),t=Gn(""+t),-1!==e.indexOf(t))}),r=function(r){return i&&!b(r)?cn(r,e.$,t,!1):cn(r,e,t,n)}}function cn(e,t,n,r,i){var o=null!==e?typeof e:"null",a=null!==t?typeof t:"null";if("string"===a&&"!"===t.charAt(0))return!cn(e,t.substring(1),n,r);if(hr(e))return e.some(function(e){return cn(e,t,n,r)});switch(o){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&cn(e[s],t,n,!0))return!0;return i?!1:cn(e,t,n,!1)}if("object"===a){for(s in t){var u=t[s];if(!k(u)&&!v(u)){var l="$"===s,c=l?e:e[s];if(!cn(c,u,n,l,l))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function fn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return v(n)&&(n=t.CURRENCY_SYM),v(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:dn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function hn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:dn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function dn(e,t,n,r,i){if(!isFinite(e)||b(e))return"";var o=0>e;e=Math.abs(e);var a=e+"",s="",u=[],l=!1;if(-1!==a.indexOf("e")){var c=a.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>i+1?e=0:(s=a,l=!0)}if(l)i>0&&1>e&&(s=e.toFixed(i),e=parseFloat(s));else{var f=(a.split(Si)[1]||"").length;v(i)&&(i=Math.min(Math.max(t.minFrac,f),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i);var h=(""+e).split(Si),d=h[0];h=h[1]||"";var p,g=0,m=t.lgSize,y=t.gSize;if(d.length>=m+y)for(g=d.length-m,p=0;g>p;p++)(g-p)%y===0&&0!==p&&(s+=n),s+=d.charAt(p);for(p=g;p<d.length;p++)(d.length-p)%m===0&&0!==p&&(s+=n),s+=d.charAt(p);for(;h.length<i;)h+="0";i&&"0"!==i&&(s+=r+h.substr(0,i))}return 0===e&&(o=!1),u.push(o?t.negPre:t.posPre,s,o?t.negSuf:t.posSuf),u.join("")}function pn(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function gn(e,t,n,r){return n=n||0,function(i){var o=i["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),pn(o,t,r)}}function mn(e,t){return function(n,r){var i=n["get"+e](),o=Zn(t?"SHORT"+e:e);return r[o][i]}}function vn(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=pn(Math[t>0?"floor":"ceil"](t/60),2)+pn(Math.abs(t%60),2)}function yn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function bn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function xn(e){return function(t){var n=yn(t.getFullYear()),r=bn(t),i=+r-+n,o=1+Math.round(i/6048e5);return pn(o,e)}}function wn(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function $n(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function kn(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function _n(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=h(t[9]+t[10]),o=h(t[9]+t[11])),a.call(r,h(t[1]),h(t[2])-1,h(t[3]));var u=h(t[4]||0)-i,l=h(t[5]||0)-o,c=h(t[6]||0),f=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,u,l,c,f),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,u="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,x(n)&&(n=Mi.test(n)?h(n):t(n)),w(n)&&(n=new Date(n)),!$(n))return n;for(;r;)s=Ei.exec(r),s?(l=F(l,s,1),r=l.pop()):(l.push(r),r=null);return i&&"UTC"===i&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),o(l,function(t){a=Ci[t],u+=a?a(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function Sn(){return function(e,t){return v(t)&&(t=2),H(e,t)}}function Cn(){return function(e,t){return w(e)&&(e=e.toString()),hr(e)||x(e)?(t=Math.abs(Number(t))===1/0?Number(t):h(t),t?t>0?e.slice(0,t):e.slice(t):x(e)?"":[]):e}}function En(e){return function(t,n,r){function o(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(0!==i)return i}return 0}function a(e,t){return t?function(t,n){return e(n,t)}:e}function s(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function u(e){return null===e?"null":"function"==typeof e.valueOf&&(e=e.valueOf(),s(e))?e:"function"==typeof e.toString&&(e=e.toString(),s(e))?e:""}function l(e,t){var n=typeof e,r=typeof t;return n===r&&"object"===n&&(e=u(e),t=u(t)),n===r?("string"===n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):r>n?-1:1}return i(t)?(n=hr(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(t){var n=!1,r=t||g;if(x(t)){if(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),""===t)return a(l,n);if(r=e(t),r.constant){var i=r();return a(function(e,t){return l(e[i],t[i])},n)}}return a(function(e,t){return l(r(e),r(t))},n)}),ir.call(t).sort(a(o,r))):t}}function Mn(e){return k(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function Tn(e,t){e.$name=t}function An(e,t,r,i,a){var s=this,u=[],l=s.$$parentForm=e.parent().controller("form")||Ni;s.$error={},s.$$success={},s.$pending=n,s.$name=a(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,l.$addControl(s),s.$rollbackViewValue=function(){o(u,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){o(u,function(e){e.$commitViewValue()})},s.$addControl=function(e){ae(e.$name,"input"),u.push(e),e.$name&&(s[e.$name]=e)},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],o(s.$pending,function(t,n){s.$setValidity(n,null,e)}),o(s.$error,function(t,n){s.$setValidity(n,null,e)}),o(s.$$success,function(t,n){s.$setValidity(n,null,e)}),P(u,e)},Bn({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(P(r,n),0===r.length&&delete e[t])},parentForm:l,$animate:i}),s.$setDirty=function(){i.removeClass(e,mo),i.addClass(e,vo),s.$dirty=!0,s.$pristine=!1,l.$setDirty()},s.$setPristine=function(){i.setClass(e,mo,vo+" "+Li),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(u,function(e){e.$setPristine()})},s.$setUntouched=function(){o(u,function(e){e.$setUntouched()})},s.$setSubmitted=function(){i.addClass(e,Li),s.$submitted=!0,l.$setSubmitted()}}function On(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Dn(e,t,n,r,i,o){Nn(e,t,n,r,i,o),On(r)}function Nn(e,t,n,r,i,o){var a=Gn(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(e){s=!0}),t.on("compositionend",function(){s=!1,u()})}var u=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var i=t.val(),u=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=dr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))t.on("input",u);else{var l,c=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),r.$render=function(){t.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function Ln(e,t){if($(e))return e;if(x(e)){Wi.lastIndex=0;var n=Wi.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,l=yn(r),c=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),u=t.getMilliseconds()),new Date(r,0,l.getDate()+c,o,a,s,u)}}return 0/0}function Pn(e,t){return function(n,r){var i,a;if($(n))return n;if(x(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ji.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function In(e,t,r,i){return function(o,a,s,u,l,c,f){function h(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function d(e){return y(e)?$(e)?e:r(e):n}Rn(o,a,s,u),Nn(o,a,s,u,l,c);var p,g=u&&u.$options&&u.$options.timezone;if(u.$$parserName=e,u.$parsers.push(function(e){if(u.$isEmpty(e))return null;if(t.test(e)){var i=r(e,p);return"UTC"===g&&i.setMinutes(i.getMinutes()-i.getTimezoneOffset()),i}return n}),u.$formatters.push(function(e){if(e&&!$(e))throw wo("datefmt","Expected `{0}` to be a date",e);if(h(e)){if(p=e,p&&"UTC"===g){var t=6e4*p.getTimezoneOffset();p=new Date(p.getTime()+t)}return f("date")(e,i,g)}return p=null,""}),y(s.min)||s.ngMin){var m;u.$validators.min=function(e){return!h(e)||v(m)||r(e)>=m},s.$observe("min",function(e){m=d(e),u.$validate()})}if(y(s.max)||s.ngMax){var b;u.$validators.max=function(e){return!h(e)||v(b)||r(e)<=b},s.$observe("max",function(e){b=d(e),u.$validate()})}}}function Rn(e,t,r,i){var o=t[0],a=i.$$hasNativeValidators=b(o.validity);a&&i.$parsers.push(function(e){var r=t.prop(Xn)||{};return r.badInput&&!r.typeMismatch?n:e})}function jn(e,t,r,i,o,a){if(Rn(e,t,r,i),Nn(e,t,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:qi.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!w(e))throw wo("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),y(r.min)||r.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||v(s)||e>=s},r.$observe("min",function(e){y(e)&&!w(e)&&(e=parseFloat(e,10)),s=w(e)&&!isNaN(e)?e:n,i.$validate()})}if(y(r.max)||r.ngMax){var u;i.$validators.max=function(e){return i.$isEmpty(e)||v(u)||u>=e},r.$observe("max",function(e){y(e)&&!w(e)&&(e=parseFloat(e,10)),u=w(e)&&!isNaN(e)?e:n,i.$validate()})}}function Fn(e,t,n,r,i,o){Nn(e,t,n,r,i,o),On(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Fi.test(n)}}function Un(e,t,n,r,i,o){Nn(e,t,n,r,i,o),On(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Ui.test(n)}}function qn(e,t,n,r){v(n.name)&&t.attr("name",l());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function zn(e,t,n,i,o){var a;if(y(i)){if(a=e(i),!a.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return a(t)}return o}function Hn(e,t,n,r,i,o,a,s){var u=zn(s,e,"ngTrueValue",n.ngTrueValue,!0),l=zn(s,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return j(e,u)}),r.$parsers.push(function(e){return e?u:l})}function Wn(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function i(e){if(hr(e))return e;if(x(e))return e.split(" ");if(b(e)){var t=[];return o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}return e}return{restrict:"AC",link:function(a,s,u){function l(e){var t=f(e,1);u.$addClass(t)}function c(e){var t=f(e,-1);u.$removeClass(t)}function f(e,t){var n=s.data("$classCounts")||{},r=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function h(e,t){var i=r(t,e),o=r(e,t);i=f(i,1),o=f(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function d(e){if(t===!0||a.$index%2===t){var n=i(e||[]);if(p){if(!j(e,p)){var r=i(p);h(r,n)}}else l(n)}p=R(e)}var p;a.$watch(u[e],d,!0),u.$observe("class",function(t){d(a.$eval(u[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(u[e]));o===t?l(s):c(s)}})}}}]}function Bn(e){function t(e,t,u){t===n?r("$pending",e,u):i("$pending",e,u),A(t)?t?(f(s.$error,e,u),c(s.$$success,e,u)):(c(s.$error,e,u),f(s.$$success,e,u)):(f(s.$error,e,u),f(s.$$success,e,u)),s.$pending?(o(xo,!0),s.$valid=s.$invalid=n,a("",null)):(o(xo,!1),s.$valid=Vn(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var l;l=s.$pending&&s.$pending[e]?n:s.$error[e]?!1:s.$$success[e]?!0:null,a(e,l),h.$setValidity(e,l,s)}function r(e,t,n){s[e]||(s[e]={}),c(s[e],t,n)}function i(e,t,r){s[e]&&f(s[e],t,r),Vn(s[e])&&(s[e]=n)}function o(e,t){t&&!l[e]?(d.addClass(u,e),l[e]=!0):!t&&l[e]&&(d.removeClass(u,e),l[e]=!1)}function a(e,t){e=e?"-"+ne(e,"-"):"",o(po+e,t===!0),o(go+e,t===!1)}var s=e.ctrl,u=e.$element,l={},c=e.set,f=e.unset,h=e.parentForm,d=e.$animate;l[go]=!(l[po]=u.hasClass(po)),s.$setValidity=t}function Vn(e){if(e)for(var t in e)return!1;return!0}var Yn=/^\/(.+)\/([a-z]*)$/,Xn="validity",Gn=function(e){return x(e)?e.toLowerCase():e},Kn=Object.prototype.hasOwnProperty,Zn=function(e){return x(e)?e.toUpperCase():e},Jn=function(e){return x(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Qn=function(e){return x(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Gn=Jn,Zn=Qn);var er,tr,nr,rr,ir=[].slice,or=[].splice,ar=[].push,sr=Object.prototype.toString,ur=r("ng"),lr=e.angular||(e.angular={}),cr=0;er=t.documentMode,p.$inject=[],g.$inject=[];var fr,hr=Array.isArray,dr=function(e){return x(e)?e.trim():e},pr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},gr=function(){if(y(gr.isActive_))return gr.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return gr.isActive_=e},mr=["ng-","data-ng-","ng:","x-ng-"],vr=/[A-Z]/g,yr=!1,br=1,xr=2,wr=3,$r=8,kr=9,_r=11,Sr={full:"1.3.16",major:1,minor:3,dot:16,codeName:"cookie-oatmealification"};xe.expando="ng339";var Cr=xe.cache={},Er=1,Mr=function(e,t,n){e.addEventListener(t,n,!1)},Tr=function(e,t,n){e.removeEventListener(t,n,!1)};xe._data=function(e){return this.cache[e[this.expando]]||{}};var Ar=/([\:\-\_]+(.))/g,Or=/^moz([A-Z])/,Dr={mouseleave:"mouseout",mouseenter:"mouseover"},Nr=r("jqLite"),Lr=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Pr=/<|&#?\w+;/,Ir=/<([\w:]+)/,Rr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};jr.optgroup=jr.option,jr.tbody=jr.tfoot=jr.colgroup=jr.caption=jr.thead,jr.th=jr.td;var Fr=xe.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),xe(e).on("load",r))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return tr(e>=0?this[e]:this[this.length+e])},length:0,push:ar,sort:[].sort,splice:[].splice},Ur={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Ur[Gn(e)]=e});var qr={};o("input,select,option,textarea,button,form,details".split(","),function(e){qr[e]=!0});var zr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Ce,removeData:_e},function(e,t){xe[t]=e}),o({data:Ce,inheritedData:De,scope:function(e){return tr.data(e,"$scope")||De(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return tr.data(e,"$isolateScope")||tr.data(e,"$isolateScopeNoTemplate")},controller:Oe,injector:function(e){return De(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Ee,css:function(e,t,n){return t=ge(t),y(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,r){var i=e.nodeType;if(i!==wr&&i!==xr&&i!==$r){var o=Gn(t);if(Ur[o]){if(!y(r))return e[t]||(e.attributes.getNamedItem(t)||p).specified?o:n;r?(e[t]=!0,e.setAttribute(t,o)):(e[t]=!1,e.removeAttribute(o))}else if(y(r))e.setAttribute(t,r);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}}},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return n===br||n===wr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===L(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:($e(e,!0),void(e.innerHTML=t))},empty:Ne},function(e,t){xe.prototype[t]=function(t,r){var i,o,a=this.length;if(e!==Ne&&(2==e.length&&e!==Ee&&e!==Oe?t:r)===n){if(b(t)){for(i=0;a>i;i++)if(e===Ce)e(this[i],t);else for(o in t)e(this[i],o,t[o]);return this}for(var s=e.$dv,u=s===n?Math.min(a,1):a,l=0;u>l;l++){var c=e(this[l],t,r);s=s?s+c:c}return s}for(i=0;a>i;i++)e(this[i],t,r);return this}}),o({removeData:_e,on:function Xo(e,t,n,r){if(y(r))throw Nr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ve(e)){var i=Se(e,!0),o=i.events,a=i.handle;a||(a=i.handle=je(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],u=s.length;u--;){t=s[u];var l=o[t];l||(o[t]=[],"mouseenter"===t||"mouseleave"===t?Xo(e,Dr[t],function(e){var n=this,r=e.relatedTarget;(!r||r!==n&&!n.contains(r))&&a(e,t)}):"$destroy"!==t&&Mr(e,t,a),l=o[t]),l.push(n)}}},off:ke,one:function(e,t,n){e=tr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;$e(e),o(new xe(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===br&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===br||n===_r){t=new xe(t);for(var r=0,i=t.length;i>r;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===br){var n=e.firstChild;o(new xe(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=tr(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:Le,detach:function(e){Le(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new xe(t);for(var i=0,o=t.length;o>i;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Te,removeClass:Me,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var r=n;v(r)&&(r=!Ee(e,t)),(r?Te:Me)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==_r?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:we,triggerHandler:function(e,t,n){var r,i,a,s=t.type||t,u=Se(e),l=u&&u.events,c=l&&l[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:s,target:e},t.type&&(r=f(r,t)),i=R(c),a=n?[r].concat(n):[r],o(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){xe.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;a>o;o++)v(i)?(i=e(this[o],t,n,r),y(i)&&(i=tr(i))):Ae(i,e(this[o],t,n,r));return y(i)?i:this},xe.prototype.bind=xe.prototype.on,xe.prototype.unbind=xe.prototype.off}),qe.prototype={put:function(e,t){this[Ue(e,this.nextUid)]=t},get:function(e){return this[Ue(e,this.nextUid)]},remove:function(e){var t=this[e=Ue(e,this.nextUid)];return delete this[e],t}};var Hr=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Wr=/,/,Br=/^\s*(_?)(\S+?)\1\s*$/,Vr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Yr=r("$injector");We.$$annotate=He;var Xr=r("$animate"),Gr=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var r=t+"-animation";if(t&&"."!=t.charAt(0))throw Xr("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=r,e.factory(r,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(e,t,n){function r(t){var r,i=e.defer();return i.promise.$$cancelFn=function(){r&&r()},n.$$postDigest(function(){r=t(function(){i.resolve()})}),i.promise}function i(e,t){var n=[],r=[],i=le();return o((e.attr("class")||"").split(/\s+/),function(e){i[e]=!0}),o(t,function(e,t){var o=i[t];e===!1&&o?r.push(t):e!==!0||o||n.push(t)}),n.length+r.length>0&&[n.length?n:null,r.length?r:null]}function a(e,t,n){for(var r=0,i=t.length;i>r;++r){var o=t[r];e[o]=n}}function s(){return l||(l=e.defer(),t(function(){l.resolve(),l=null})),l.promise}function u(e,t){if(lr.isObject(t)){var n=f(t.from||{},t.to||{});e.css(n)}}var l;return{animate:function(e,t,n){return u(e,{from:t,to:n}),s()},enter:function(e,t,n,r){return u(e,r),n?n.after(e):t.prepend(e),s()},leave:function(e,t){return u(e,t),e.remove(),s()},move:function(e,t,n,r){return this.enter(e,t,n,r)},addClass:function(e,t,n){return this.setClass(e,t,[],n)},$$addClassImmediately:function(e,t,n){return e=tr(e),t=x(t)?t:hr(t)?t.join(" "):"",o(e,function(e){Te(e,t)}),u(e,n),s()},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},$$removeClassImmediately:function(e,t,n){
return e=tr(e),t=x(t)?t:hr(t)?t.join(" "):"",o(e,function(e){Me(e,t)}),u(e,n),s()},setClass:function(e,t,n,o){var s=this,u="$$animateClasses",l=!1;e=tr(e);var c=e.data(u);c?o&&c.options&&(c.options=lr.extend(c.options||{},o)):(c={classes:{},options:o},l=!0);var f=c.classes;return t=hr(t)?t:t.split(" "),n=hr(n)?n:n.split(" "),a(f,t,!0),a(f,n,!1),l&&(c.promise=r(function(t){var n=e.data(u);if(e.removeData(u),n){var r=i(e,n.classes);r&&s.$$setClassImmediately(e,r[0],r[1],n.options)}t()}),e.data(u,c)),c.promise},$$setClassImmediately:function(e,t,n,r){return t&&this.$$addClassImmediately(e,t),n&&this.$$removeClassImmediately(e,n),u(e,r),s()},enabled:p,cancel:p}}]}],Kr=r("$compile");Ze.$inject=["$provide","$$sanitizeUriProvider"];var Zr=/^((?:x|data)[\:\-_])/i,Jr=r("$controller"),Qr="application/json",ei={"Content-Type":Qr+";charset=utf-8"},ti=/^\[|^\{(?!\{)/,ni={"[":/]$/,"{":/}$/},ri=/^\)\]\}',?\n/,ii=r("$interpolate"),oi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ai={http:80,https:443,ftp:21},si=r("$location"),ui={$$html5:!1,$$replace:!1,absUrl:Mt("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=oi.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Mt("$$protocol"),host:Mt("$$host"),port:Mt("$$port"),path:Tt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(x(e)||w(e))e=e.toString(),this.$$search=Y(e);else{if(!b(e))throw si("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=I(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Tt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([Et,Ct,St],function(e){e.prototype=Object.create(ui),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==St||!this.$$html5)throw si("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var li=r("$parse"),ci=Function.prototype.call,fi=Function.prototype.apply,hi=Function.prototype.bind,di=le();o({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(e,t){e.constant=e.literal=e.sharedGetter=!0,di[t]=e}),di["this"]=function(e){return e},di["this"].sharedGetter=!0;var pi=f(le(),{"+":function(e,t,r,i){return r=r(e,t),i=i(e,t),y(r)?y(i)?r+i:r:y(i)?i:n},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),(y(n)?n:0)-(y(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"!":function(e,t,n){return!n(e,t)},"=":!0,"|":!0}),gi={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},mi=function(e){this.options=e};mi.prototype={constructor:mi,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=pi[t],o=pi[n],a=pi[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw li("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Gn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=gi[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var vi=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};vi.ZERO=f(function(){return 0},{sharedGetter:!0,constant:!0}),vi.prototype={constructor:vi,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.peek().identifier&&this.peek().text in di?e=di[this.consume().text]:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t,n;t=this.expect("(","[",".");)"("===t.text?(e=this.functionCall(e,n),n=null):"["===t.text?(n=e,e=this.objectIndex(e)):"."===t.text?(n=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw li("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw li("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},consume:function(e){if(0===this.tokens.length)throw li("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},unaryFn:function(e,t){var n=pi[e];return f(function(e,r){return n(e,r,t)},{constant:t.constant,inputs:[t]})},binaryFn:function(e,t,n,r){var i=pi[t];return f(function(t,r){return i(t,r,e,n)},{constant:e.constant&&n.constant,inputs:!r&&[e,n]})},identifier:function(){for(var e=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)e+=this.consume().text+this.consume().text;return Ut(e,this.options,this.text)},constant:function(){var e=this.consume().value;return f(function(){return e},{constant:!0,literal:!0})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var r,i=0,o=e.length;o>i;i++)r=e[i](t,n);return r}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},filter:function(e){var t,r,i=this.$filter(this.consume().text);if(this.peek(":"))for(t=[],r=[];this.expect(":");)t.push(this.expression());var o=[e].concat(t||[]);return f(function(o,a){var s=e(o,a);if(r){r[0]=s;for(var u=t.length;u--;)r[u+1]=t[u](o,a);return i.apply(n,r)}return i(s)},{constant:!i.$stateful&&o.every(Pt),inputs:!i.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),f(function(t,r){return n.assign(t,e(t,r),r)},{inputs:[n,e]})):n},ternary:function(){var e,t,n=this.logicalOR();if((t=this.expect("?"))&&(e=this.assignment(),this.consume(":"))){var r=this.assignment();return f(function(t,i){return n(t,i)?e(t,i):r(t,i)},{constant:n.constant&&e.constant&&r.constant})}return n},logicalOR:function(){for(var e,t=this.logicalAND();e=this.expect("||");)t=this.binaryFn(t,e.text,this.logicalAND(),!0);return t},logicalAND:function(){for(var e,t=this.equality();e=this.expect("&&");)t=this.binaryFn(t,e.text,this.equality(),!0);return t},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t=this.binaryFn(t,e.text,this.relational());return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t=this.binaryFn(t,e.text,this.additive());return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.text,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.text,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(vi.ZERO,e.text,this.unary()):(e=this.expect("!"))?this.unaryFn(e.text,this.unary()):this.primary()},fieldAccess:function(e){var t=this.identifier();return f(function(r,i,o){var a=o||e(r,i);return null==a?n:t(a)},{assign:function(n,r,i){var o=e(n,i);return o||e.assign(n,o={},i),t.assign(o,r)}})},objectIndex:function(e){var t=this.text,r=this.expression();return this.consume("]"),f(function(i,o){var a,s=e(i,o),u=r(i,o);return Dt(u,t),s?a=Nt(s[u],t):n},{assign:function(n,i,o){var a=Dt(r(n,o),t),s=Nt(e(n,o),t);return s||e.assign(n,s={},o),s[a]=i}})},functionCall:function(e,t){var r=[];if(")"!==this.peekToken().text)do r.push(this.expression());while(this.expect(","));this.consume(")");var i=this.text,o=r.length?[]:null;return function(a,s){var u=t?t(a,s):y(t)?n:a,l=e(a,s,u)||p;if(o)for(var c=r.length;c--;)o[c]=Nt(r[c](a,s),i);Nt(u,i),Lt(l,i);var f=l.apply?l.apply(u,o):l(o[0],o[1],o[2],o[3],o[4]);return o&&(o.length=0),Nt(f,i)}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),f(function(t,n){for(var r=[],i=0,o=e.length;o>i;i++)r.push(e[i](t,n));return r},{literal:!0,constant:e.every(Pt),inputs:e})},object:function(){var e=[],t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?e.push(n.value):n.identifier?e.push(n.text):this.throwError("invalid key",n),this.consume(":"),t.push(this.expression())}while(this.expect(","));return this.consume("}"),f(function(n,r){for(var i={},o=0,a=t.length;a>o;o++)i[e[o]]=t[o](n,r);return i},{literal:!0,constant:t.every(Pt),inputs:t})}};var yi=le(),bi=le(),xi=Object.prototype.valueOf,wi=r("$sce"),$i={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Kr=r("$compile"),ki=t.createElement("a"),_i=rn(e.location.href);sn.$inject=["$provide"],fn.$inject=["$locale"],hn.$inject=["$locale"];var Si=".",Ci={yyyy:gn("FullYear",4),yy:gn("FullYear",2,0,!0),y:gn("FullYear",1),MMMM:mn("Month"),MMM:mn("Month",!0),MM:gn("Month",2,1),M:gn("Month",1,1),dd:gn("Date",2),d:gn("Date",1),HH:gn("Hours",2),H:gn("Hours",1),hh:gn("Hours",2,-12),h:gn("Hours",1,-12),mm:gn("Minutes",2),m:gn("Minutes",1),ss:gn("Seconds",2),s:gn("Seconds",1),sss:gn("Milliseconds",3),EEEE:mn("Day"),EEE:mn("Day",!0),a:wn,Z:vn,ww:xn(2),w:xn(1),G:$n,GG:$n,GGG:$n,GGGG:kn},Ei=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Mi=/^\-?\d+$/;_n.$inject=["$locale"];var Ti=m(Gn),Ai=m(Zn);En.$inject=["$parse"];var Oi=m({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref||t.name?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===sr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Di={};o(Ur,function(e,t){if("multiple"!=e){var n=Je("ng-"+t);Di[n]=function(){return{restrict:"A",priority:100,link:function(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}}}}}),o(zr,function(e,t){Di[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(Yn);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=Je("ng-"+e);Di[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===sr.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){return t?(i.$set(a,t),void(er&&o&&r.prop(o,i[a]))):void("href"===e&&i.$set(a,null))})}}}});var Ni={$addControl:p,$$renameControl:Tn,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},Li="ng-submitted";An.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Pi=function(e){return["$timeout",function(t){var r={name:"form",restrict:e?"EAC":"E",controller:An,compile:function(r,i){r.addClass(mo).addClass(po);var o=i.name?"name":e&&i.ngForm?"ngForm":!1;return{pre:function(e,r,i,a){if(!("action"in i)){var s=function(t){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),t.preventDefault()};Mr(r[0],"submit",s),r.on("$destroy",function(){t(function(){Tr(r[0],"submit",s)},0,!1)})}var u=a.$$parentForm;o&&(It(e,null,a.$name,a,a.$name),i.$observe(o,function(t){a.$name!==t&&(It(e,null,a.$name,n,a.$name),u.$$renameControl(a,t),It(e,null,a.$name,a,a.$name))})),r.on("$destroy",function(){u.$removeControl(a),o&&It(e,null,i[o],n,a.$name),f(a,Ni)})}}}};return r}]},Ii=Pi(),Ri=Pi(!0),ji=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Fi=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Ui=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,qi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,zi=/^(\d{4})-(\d{2})-(\d{2})$/,Hi=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Wi=/^(\d{4})-W(\d\d)$/,Bi=/^(\d{4})-(\d\d)$/,Vi=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Yi={text:Dn,date:In("date",zi,Pn(zi,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":In("datetimelocal",Hi,Pn(Hi,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:In("time",Vi,Pn(Vi,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:In("week",Wi,Ln,"yyyy-Www"),month:In("month",Bi,Pn(Bi,["yyyy","MM"]),"yyyy-MM"),number:jn,url:Fn,email:Un,radio:qn,checkbox:Hn,hidden:p,button:p,submit:p,reset:p,file:p},Xi=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Yi[Gn(a.type)]||Yi.text)(i,o,a,s[0],t,e,n,r)}}}}],Gi=/^(true|false|\d+)$/,Ki=function(){return{restrict:"A",priority:100,compile:function(e,t){return Gi.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Zi=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,r,i){e.$$addBindingInfo(r,i.ngBind),r=r[0],t.$watch(i.ngBind,function(e){r.textContent=e===n?"":e})}}}}],Ji=["$interpolate","$compile",function(e,t){return{compile:function(r){return t.$$addBindingClass(r),function(r,i,o){var a=e(i.attr(o.$attr.ngBindTemplate));t.$$addBindingInfo(i,a.expressions),i=i[0],o.$observe("ngBindTemplate",function(e){i.textContent=e===n?"":e})}}}}],Qi=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){r.html(e.getTrustedHtml(o(t))||"")})}}}}],eo=m({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),to=Wn("",!0),no=Wn("Odd",0),ro=Wn("Even",1),io=Mn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),oo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ao={},so={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Je("ng-"+e);ao[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};so[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var uo=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,l;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)}):(l&&(l.remove(),l=null),u&&(u.$destroy(),u=null),s&&(l=ue(s.clone),e.leave(l).then(function(){l=null}),s=null))})}}}],lo=["$templateRequest","$anchorScroll","$animate","$sce",function(e,t,n,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:lr.noop,compile:function(i,o){var a=o.ngInclude||o.src,s=o.onload||"",u=o.autoscroll;return function(i,o,l,c,f){var h,d,p,g=0,m=function(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),p&&(n.leave(p).then(function(){d=null}),d=p,p=null)};i.$watch(r.parseAsResourceUrl(a),function(r){var a=function(){!y(u)||u&&!i.$eval(u)||t()},l=++g;r?(e(r,!0).then(function(e){if(l===g){var t=i.$new();c.template=e;var u=f(t,function(e){m(),n.enter(e,null,o).then(a)});h=t,p=u,h.$emit("$includeContentLoaded",r),i.$eval(s)}},function(){l===g&&(m(),i.$emit("$includeContentError",r))}),i.$emit("$includeContentRequested",r)):(m(),c.template=null)})}}}}],co=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return/SVG/.test(r[0].toString())?(r.empty(),void e(ye(o.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),void e(r.contents())(n))}}}],fo=Mn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),ho=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var a=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,u=s?dr(a):a,l=function(e){if(!v(e)){var t=[];return e&&o(e.split(u),function(e){e&&t.push(s?dr(e):e)}),t}};i.$parsers.push(l),i.$formatters.push(function(e){return hr(e)?e.join(a):n}),i.$isEmpty=function(e){return!e||!e.length}}}},po="ng-valid",go="ng-invalid",mo="ng-pristine",vo="ng-dirty",yo="ng-untouched",bo="ng-touched",xo="ng-pending",wo=new r("ngModel"),$o=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,a,s,u,l,c,f){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=f(r.name||"",!1)(e);var h,d=a(r.ngModel),g=d.assign,m=d,b=g,x=null,$=this;this.$$setOptions=function(e){if($.$options=e,e&&e.getterSetter){var t=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");m=function(e){var n=d(e);return k(n)&&(n=t(e)),n},b=function(e,t){k(d(e))?n(e,{$$$p:$.$modelValue}):g(e,$.$modelValue)}}else if(!d.assign)throw wo("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,B(i))},this.$render=p,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e};var _=i.inheritedData("$formController")||Ni,S=0;Bn({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:_,$animate:s}),this.$setPristine=function(){$.$dirty=!1,$.$pristine=!0,s.removeClass(i,vo),s.addClass(i,mo)},this.$setDirty=function(){$.$dirty=!0,$.$pristine=!1,s.removeClass(i,mo),s.addClass(i,vo),_.$setDirty()},this.$setUntouched=function(){$.$touched=!1,$.$untouched=!0,s.setClass(i,yo,bo)},this.$setTouched=function(){$.$touched=!0,$.$untouched=!1,s.setClass(i,bo,yo)},this.$rollbackViewValue=function(){u.cancel(x),$.$viewValue=$.$$lastCommittedViewValue,$.$render()},this.$validate=function(){if(!w($.$modelValue)||!isNaN($.$modelValue)){var e=$.$$lastCommittedViewValue,t=$.$$rawModelValue,r=$.$valid,i=$.$modelValue,o=$.$options&&$.$options.allowInvalid;$.$$runValidators(t,e,function(e){o||r===e||($.$modelValue=e?t:n,$.$modelValue!==i&&$.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function i(){var e=$.$$parserName||"parse";return h!==n?(h||(o($.$validators,function(e,t){u(t,null)}),o($.$asyncValidators,function(e,t){u(t,null)})),u(e,h),h):(u(e,null),!0)}function a(){var n=!0;return o($.$validators,function(r,i){var o=r(e,t);n=n&&o,u(i,o)}),n?!0:(o($.$asyncValidators,function(e,t){u(t,null)}),!1)}function s(){var r=[],i=!0;o($.$asyncValidators,function(o,a){var s=o(e,t);if(!O(s))throw wo("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);u(a,n),r.push(s.then(function(){u(a,!0)},function(e){i=!1,u(a,!1)}))}),r.length?c.all(r).then(function(){l(i)},p):l(!0)}function u(e,t){f===S&&$.$setValidity(e,t)}function l(e){f===S&&r(e)}S++;var f=S;return i()&&a()?void s():void l(!1)},this.$commitViewValue=function(){var e=$.$viewValue;u.cancel(x),($.$$lastCommittedViewValue!==e||""===e&&$.$$hasNativeValidators)&&($.$$lastCommittedViewValue=e,$.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){$.$modelValue!==a&&$.$$writeModelToScope()}var r=$.$$lastCommittedViewValue,i=r;if(h=v(i)?n:!0)for(var o=0;o<$.$parsers.length;o++)if(i=$.$parsers[o](i),v(i)){h=!1;break}w($.$modelValue)&&isNaN($.$modelValue)&&($.$modelValue=m(e));var a=$.$modelValue,s=$.$options&&$.$options.allowInvalid;$.$$rawModelValue=i,s&&($.$modelValue=i,t()),$.$$runValidators(i,$.$$lastCommittedViewValue,function(e){s||($.$modelValue=e?i:n,t())})},this.$$writeModelToScope=function(){b(e,$.$modelValue),o($.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){$.$viewValue=e,(!$.$options||$.$options.updateOnDefault)&&$.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=$.$options;i&&y(i.debounce)&&(n=i.debounce,w(n)?r=n:w(n[t])?r=n[t]:w(n["default"])&&(r=n["default"])),u.cancel(x),r?x=u(function(){$.$commitViewValue()},r):l.$$phase?$.$commitViewValue():e.$apply(function(){$.$commitViewValue()})},e.$watch(function(){var t=m(e);if(t!==$.$modelValue&&($.$modelValue===$.$modelValue||t===t)){$.$modelValue=$.$$rawModelValue=t,h=n;for(var r=$.$formatters,i=r.length,o=t;i--;)o=r[i](o);$.$viewValue!==o&&($.$viewValue=$.$$lastCommittedViewValue=o,$.$render(),$.$$runValidators(t,o,p))}return t})}],ko=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:$o,priority:1,compile:function(t){return t.addClass(mo).addClass(yo).addClass(po),{pre:function(e,t,n,r){var i=r[0],o=r[1]||Ni;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&o.$$renameControl(i,e)}),e.$on("$destroy",function(){o.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],_o=/(\s+|^)default(\s+|$)/,So=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var r=this;this.$options=e.$eval(t.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=dr(this.$options.updateOn.replace(_o,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Co=Mn({terminal:!0,priority:1e3}),Eo=["$locale","$interpolate",function(e,t){var n=/{}/g,r=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(i,a,s){function u(e){a.text(e||"")}var l,c=s.count,f=s.$attr.when&&a.attr(s.$attr.when),h=s.offset||0,d=i.$eval(f)||{},p={},g=t.startSymbol(),m=t.endSymbol(),v=g+c+"-"+h+m,y=lr.noop;o(s,function(e,t){var n=r.exec(t);if(n){var i=(n[1]?"-":"")+Gn(n[2]);d[i]=a.attr(s.$attr[t])}}),o(d,function(e,r){p[r]=t(e.replace(n,v))}),i.$watch(c,function(t){var n=parseFloat(t),r=isNaN(n);r||n in d||(n=e.pluralCat(n-h)),n===l||r&&isNaN(l)||(y(),y=i.$watch(p[n],u),l=n)})}}}],Mo=["$parse","$animate",function(e,a){var s="$$NG_REMOVED",u=r("ngRepeat"),l=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},c=function(e){return e.clone[0]},f=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,h){var d=h.ngRepeat,p=t.createComment(" end ngRepeat: "+d+" "),g=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw u("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var m=g[1],v=g[2],y=g[3],b=g[4];if(g=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw u("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var x=g[3]||g[1],w=g[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw u("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var $,k,_,S,C={$id:Ue};return b?$=e(b):(_=function(e,t){return Ue(t)},S=function(e){return e}),function(e,t,r,h,g){$&&(k=function(t,n,r){return w&&(C[w]=t),C[x]=n,C.$index=r,$(e,C)});var m=le();e.$watchCollection(v,function(r){var h,v,b,$,C,E,M,T,A,O,D,N,L=t[0],P=le();if(y&&(e[y]=r),i(r))A=r,T=k||_;else{T=k||S,A=[];for(var I in r)r.hasOwnProperty(I)&&"$"!=I.charAt(0)&&A.push(I);A.sort()}for($=A.length,D=new Array($),h=0;$>h;h++)if(C=r===A?h:A[h],E=r[C],M=T(C,E,h),m[M])O=m[M],delete m[M],P[M]=O,D[h]=O;else{if(P[M])throw o(D,function(e){e&&e.scope&&(m[e.id]=e)}),u("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,M,E);D[h]={id:M,scope:n,clone:n},P[M]=!0}for(var R in m){if(O=m[R],N=ue(O.clone),a.leave(N),N[0].parentNode)for(h=0,v=N.length;v>h;h++)N[h][s]=!0;O.scope.$destroy()}for(h=0;$>h;h++)if(C=r===A?h:A[h],E=r[C],O=D[h],O.scope){b=L;do b=b.nextSibling;while(b&&b[s]);c(O)!=b&&a.move(ue(O.clone),null,tr(L)),L=f(O),l(O.scope,h,x,E,w,C,$)}else g(function(e,t){O.scope=t;var n=p.cloneNode(!1);e[e.length++]=n,a.enter(e,null,tr(L)),L=n,O.clone=e,P[O.id]=O,l(O.scope,h,x,E,w,C,$)});m=P})}}}}],To="ng-hide",Ao="ng-hide-animate",Oo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,To,{tempClasses:Ao})})}}}],Do=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,To,{tempClasses:Ao})})}}}],No=Mn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Lo=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,u=[],l=[],c=[],f=[],h=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=c.length;i>r;++r)e.cancel(c[r]);for(c.length=0,r=0,i=f.length;i>r;++r){var s=ue(l[r].clone);f[r].$destroy();var d=c[r]=e.leave(s);d.then(h(c,r))}l.length=0,f.length=0,(u=a.cases["!"+n]||a.cases["?"])&&o(u,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");var a={clone:r};l.push(a),e.enter(r,o.parent(),o)})})})}}}],Po=Mn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Io=Mn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Ro=Mn({restrict:"EAC",link:function(e,t,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",B(t));o(function(e){t.empty(),t.append(e)})}}),jo=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Fo=r("ngOptions"),Uo=m({restrict:"A",terminal:!0}),qo=["$compile","$parse",function(e,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:p};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r,i,o=this,a={},u=s;o.databound=n.ngModel,o.init=function(e,t,n){u=e,r=t,i=n},o.addOption=function(t,n){ae(t,'"option value"'),a[t]=!0,u.$viewValue==t&&(e.val(t),i.parent()&&i.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},o.removeOption=function(e){this.hasOption(e)&&(delete a[e],u.$viewValue===e&&this.renderUnknownOption(e))},o.renderUnknownOption=function(t){var n="? "+Ue(t)+" ?";i.val(n),e.prepend(i),e.val(n),i.prop("selected",!0)},o.hasOption=function(e){return a.hasOwnProperty(e)},t.$on("$destroy",function(){o.renderUnknownOption=p})}],link:function(s,u,l,c){function f(e,t,n,r){n.$render=function(){var e=n.$viewValue;r.hasOption(e)?(_.parent()&&_.remove(),t.val(e),""===e&&p.prop("selected",!0)):null==e&&p?t.val(""):r.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){_.parent()&&_.remove(),n.$setViewValue(t.val())})})}function h(e,t,n){var r;n.$render=function(){var e=new qe(n.$viewValue);o(t.find("option"),function(t){t.selected=y(e.get(t.value))})},e.$watch(function(){j(r,n.$viewValue)||(r=R(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];o(t.find("option"),function(t){
t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function d(t,s,u){function l(e,n,r){return j[E]=r,A&&(j[A]=n),e(t,j)}function c(){t.$apply(function(){var e,n=N(t)||[];if(v)e=[],o(s.val(),function(t){t=P?I[t]:t,e.push(f(t,n[t]))});else{var r=P?I[s.val()]:s.val();e=f(r,n[r])}u.$setViewValue(e),_()})}function f(e,t){if("?"===e)return n;if(""===e)return null;var r=T?T:D;return l(r,e,t)}function h(){var e,n=N(t);if(n&&hr(n)){e=new Array(n.length);for(var r=0,i=n.length;i>r;r++)e[r]=l(C,r,n[r]);return e}if(n){e={};for(var o in n)n.hasOwnProperty(o)&&(e[o]=l(C,o,n[o]))}return e}function d(e){var t;if(v)if(P&&hr(e)){t=new qe([]);for(var n=0;n<e.length;n++)t.put(l(P,null,e[n]),!0)}else t=new qe(e);else P&&(e=l(P,null,e));return function(n,r){var i;return i=P?P:T?T:D,v?y(t.remove(l(i,n,r))):e===l(i,n,r)}}function p(){w||(t.$$postDigest(_),w=!0)}function m(e,t,n){e[t]=e[t]||0,e[t]+=n?1:-1}function _(){w=!1;var e,n,r,i,c,f,h,p,b,_,S,E,M,T,D,L,F,U={"":[]},q=[""],z=u.$viewValue,H=N(t)||[],W=A?a(H):H,B={},V=d(z),Y=!1;for(I={},E=0;_=W.length,_>E;E++)h=E,A&&(h=W[E],"$"===h.charAt(0))||(p=H[h],e=l(O,h,p)||"",(n=U[e])||(n=U[e]=[],q.push(e)),M=V(h,p),Y=Y||M,L=l(C,h,p),L=y(L)?L:"",F=P?P(t,j):A?W[E]:E,P&&(I[F]=h),n.push({id:F,label:L,selected:M}));for(v||(x||null===z?U[""].unshift({id:"",label:"",selected:!Y}):Y||U[""].unshift({id:"?",label:"",selected:!0})),S=0,b=q.length;b>S;S++){for(e=q[S],n=U[e],R.length<=S?(i={element:k.clone().attr("label",e),label:n.label},c=[i],R.push(c),s.append(i.element)):(c=R[S],i=c[0],i.label!=e&&i.element.attr("label",i.label=e)),T=null,E=0,_=n.length;_>E;E++)r=n[E],(f=c[E+1])?(T=f.element,f.label!==r.label&&(m(B,f.label,!1),m(B,r.label,!0),T.text(f.label=r.label),T.prop("label",f.label)),f.id!==r.id&&T.val(f.id=r.id),T[0].selected!==r.selected&&(T.prop("selected",f.selected=r.selected),er&&T.prop("selected",f.selected))):(""===r.id&&x?D=x:(D=$.clone()).val(r.id).prop("selected",r.selected).attr("selected",r.selected).prop("label",r.label).text(r.label),c.push(f={element:D,label:r.label,id:r.id,selected:r.selected}),m(B,r.label,!0),T?T.after(D):i.element.append(D),T=D);for(E++;c.length>E;)r=c.pop(),m(B,r.label,!1),r.element.remove()}for(;R.length>S;){for(n=R.pop(),E=1;E<n.length;++E)m(B,n[E].label,!1);n[0].element.remove()}o(B,function(e,t){e>0?g.addOption(t):0>e&&g.removeOption(t)})}var S;if(!(S=b.match(i)))throw Fo("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",b,B(s));var C=r(S[2]||S[1]),E=S[4]||S[6],M=/ as /.test(S[0])&&S[1],T=M?r(M):null,A=S[5],O=r(S[3]||""),D=r(S[2]?S[1]:E),N=r(S[7]),L=S[8],P=L?r(S[8]):null,I={},R=[[{element:s,label:""}]],j={};x&&(e(x)(t),x.removeClass("ng-scope"),x.remove()),s.empty(),s.on("change",c),u.$render=_,t.$watchCollection(N,p),t.$watchCollection(h,p),v&&t.$watchCollection(function(){return u.$modelValue},p)}if(c[1]){for(var p,g=c[0],m=c[1],v=l.multiple,b=l.ngOptions,x=!1,w=!1,$=tr(t.createElement("option")),k=tr(t.createElement("optgroup")),_=$.clone(),S=0,C=u.children(),E=C.length;E>S;S++)if(""===C[S].value){p=x=C.eq(S);break}g.init(m,x,_),v&&(m.$isEmpty=function(e){return!e||0===e.length}),b?d(s,u,m):v?h(s,u,m):f(s,u,m,g)}}}}],zo=["$interpolate",function(e){var t={addOption:p,removeOption:p};return{restrict:"E",priority:100,compile:function(n,r){if(v(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.databound||(s=t),i?e.$watch(i,function(e,t){r.$set("value",e),t!==e&&s.removeOption(t),s.addOption(e,n)}):s.addOption(r.value,n),n.on("$destroy",function(){s.removeOption(r.value)})}}}}],Ho=m({restrict:"E",terminal:!1}),Wo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Bo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(x(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,B(t));a=e||n,o.$validate()}),o.$validators.pattern=function(e){return o.$isEmpty(e)||v(a)||a.test(e)}}}}},Vo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=h(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},Yo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=h(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(re(),de(lr),void tr(t).ready(function(){J(t,Q)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),/**
 * @license AngularJS v1.4.3
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";function r(e,r,i){function o(e,i,o){var s,u;o=o||{},u=o.expires,s=t.isDefined(o.path)?o.path:a,i===n&&(u="Thu, 01 Jan 1970 00:00:00 GMT",i=""),t.isString(u)&&(u=new Date(u));var l=encodeURIComponent(e)+"="+encodeURIComponent(i);l+=s?";path="+s:"",l+=o.domain?";domain="+o.domain:"",l+=u?";expires="+u.toUTCString():"",l+=o.secure?";secure":"";var c=l.length+1;return c>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+c+" > 4096 bytes)!"),l}var a=i.baseHref(),s=e[0];return function(e,t,n){s.cookie=o(e,t,n)}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){function e(e){return e?t.extend({},r,e):r}var r=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(r,i){return{get:function(e){return r()[e]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return r()},put:function(t,n,r){i(t,n,e(r))},putObject:function(e,n,r){this.put(e,t.toJson(n),r)},remove:function(t,r){i(t,n,e(r))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),r.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=r})}(window,window.angular),/**
 * @license AngularJS v1.4.2
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";function r(e){return t.lowercase(e.nodeName||e[0]&&e[0].nodeName)}function i(e,n,r){o.directive(e,["$parse","$swipe",function(i,o){var a=75,s=.3,u=30;return function(l,c,f){function h(e){if(!d)return!1;var t=Math.abs(e.y-d.y),r=(e.x-d.x)*n;return p&&a>t&&r>0&&r>u&&s>t/r}var d,p,g=i(f[e]),m=["touch"];t.isDefined(f.ngSwipeDisableMouse)||m.push("mouse"),o.bind(c,{start:function(e,t){d=e,p=!0},cancel:function(e){p=!1},end:function(e,t){h(e)&&l.$apply(function(){c.triggerHandler(r),g(l,{$event:t})})}},m)}}])}var o=t.module("ngTouch",[]);o.factory("$swipe",[function(){function e(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],r=t.changedTouches&&t.changedTouches[0]||n[0];return{x:r.clientX,y:r.clientY}}function n(e,n){var r=[];return t.forEach(e,function(e){var t=i[e][n];t&&r.push(t)}),r.join(" ")}var r=10,i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(t,i,o){var a,s,u,l,c=!1;o=o||["mouse","touch"],t.on(n(o,"start"),function(t){u=e(t),c=!0,a=0,s=0,l=u,i.start&&i.start(u,t)});var f=n(o,"cancel");f&&t.on(f,function(e){c=!1,i.cancel&&i.cancel(e)}),t.on(n(o,"move"),function(t){if(c&&u){var n=e(t);if(a+=Math.abs(n.x-l.x),s+=Math.abs(n.y-l.y),l=n,!(r>a&&r>s))return s>a?(c=!1,void(i.cancel&&i.cancel(t))):(t.preventDefault(),void(i.move&&i.move(n,t)))}}),t.on(n(o,"end"),function(t){c&&(c=!1,i.end&&i.end(e(t),t))})}}}]),o.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]),o.directive("ngClick",["$parse","$timeout","$rootElement",function(e,n,i){function o(e,t,n,r){return Math.abs(e-n)<m&&Math.abs(t-r)<m}function a(e,t,n){for(var r=0;r<e.length;r+=2)if(o(e[r],e[r+1],t,n))return e.splice(r,r+2),!0;return!1}function s(e){if(!(Date.now()-c>g)){var t=e.touches&&e.touches.length?e.touches:[e],n=t[0].clientX,i=t[0].clientY;1>n&&1>i||h&&h[0]===n&&h[1]===i||(h&&(h=null),"label"===r(e.target)&&(h=[n,i]),a(f,n,i)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur()))}}function u(e){var t=e.touches&&e.touches.length?e.touches:[e],r=t[0].clientX,i=t[0].clientY;f.push(r,i),n(function(){for(var e=0;e<f.length;e+=2)if(f[e]==r&&f[e+1]==i)return void f.splice(e,e+2)},g,!1)}function l(e,t){f||(i[0].addEventListener("click",s,!0),i[0].addEventListener("touchstart",u,!0),f=[]),c=Date.now(),a(f,e,t)}var c,f,h,d=750,p=12,g=2500,m=25,v="ng-click-active";return function(n,r,i){function o(){h=!1,r.removeClass(v)}var a,s,u,c,f=e(i.ngClick),h=!1;r.on("touchstart",function(e){h=!0,a=e.target?e.target:e.srcElement,3==a.nodeType&&(a=a.parentNode),r.addClass(v),s=Date.now();var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],i=n[0];u=i.clientX,c=i.clientY}),r.on("touchcancel",function(e){o()}),r.on("touchend",function(e){var n=Date.now()-s,f=e.originalEvent||e,g=f.changedTouches&&f.changedTouches.length?f.changedTouches:f.touches&&f.touches.length?f.touches:[f],m=g[0],v=m.clientX,y=m.clientY,b=Math.sqrt(Math.pow(v-u,2)+Math.pow(y-c,2));h&&d>n&&p>b&&(l(v,y),a&&a.blur(),t.isDefined(i.disabled)&&i.disabled!==!1||r.triggerHandler("click",[e])),o()}),r.onclick=function(e){},r.on("click",function(e,t){n.$apply(function(){f(n,{$event:t||e})})}),r.on("mousedown",function(e){r.addClass(v)}),r.on("mousemove mouseup",function(e){r.removeClass(v)})}}]),i("ngSwipeLeft",-1,"swipeleft"),i("ngSwipeRight",1,"swiperight")}(window,window.angular),/**
 * @license AngularJS v1.4.3
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";/*
 * HTML Parser By Misko Hevery (misko@hevery.com)
 * based on:  HTML Parser By John Resig (ejohn.org)
 * Original code by Erik Arvidsson, Mozilla Public License
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 *
 * // Use like so:
 * htmlParser(htmlString, {
 *     start: function(tag, attrs, unary) {},
 *     end: function(tag) {},
 *     chars: function(text) {},
 *     comment: function(text) {}
 * });
 *
 */
function r(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return a(t,l(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function i(e){var n=[],r=l(n,t.noop);return r.chars(e),n.join("")}function o(e,n){var r,i={},o=e.split(",");for(r=0;r<o.length;r++)i[n?t.lowercase(o[r]):o[r]]=!0;return i}function a(e,n){function r(e,r,o,a){if(r=t.lowercase(r),S[r])for(;b.last()&&C[b.last()];)i("",b.last());_[r]&&b.last()==r&&i("",r),a=w[r]||!!a,a||b.push(r);var u={};o.replace(d,function(e,t,n,r,i){var o=n||r||i||"";u[t]=s(o)}),n.start&&n.start(r,u,a)}function i(e,r){var i,o=0;if(r=t.lowercase(r))for(o=b.length-1;o>=0&&b[o]!=r;o--);if(o>=0){for(i=b.length-1;i>=o;i--)n.end&&n.end(b[i]);b.length=o}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var o,a,u,l,b=[],x=e;for(b.last=function(){return b[b.length-1]};e;){if(l="",a=!0,b.last()&&M[b.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(e,t){return t=t.replace(m,"$1").replace(y,"$1"),n.chars&&n.chars(s(t)),""}),i("",b.last())):(0===e.indexOf("<!--")?(o=e.indexOf("--",4),o>=0&&e.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(e.substring(4,o)),e=e.substring(o+3),a=!1)):v.test(e)?(u=e.match(v),u&&(e=e.replace(u[0],""),a=!1)):g.test(e)?(u=e.match(h),u&&(e=e.substring(u[0].length),u[0].replace(h,i),a=!1)):p.test(e)&&(u=e.match(f),u?(u[4]&&(e=e.substring(u[0].length),u[0].replace(f,r)),a=!1):(l+="<",e=e.substring(1))),a&&(o=e.indexOf("<"),l+=0>o?e:e.substring(0,o),e=0>o?"":e.substring(o),n.chars&&n.chars(s(l)))),e==x)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",e);x=e}i()}function s(e){return e?(L.innerHTML=e.replace(/</g,"&lt;"),L.textContent):""}function u(e){return e.replace(/&/g,"&amp;").replace(b,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(x,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,o,a){e=t.lowercase(e),!r&&M[e]&&(r=e),r||T[e]!==!0||(i("<"),i(e),t.forEach(o,function(r,o){var a=t.lowercase(o),s="img"===e&&"src"===a||"background"===a;N[a]!==!0||A[a]===!0&&!n(r,s)||(i(" "),i(o),i('="'),i(u(r)),i('"'))}),i(a?"/>":">"))},end:function(e){e=t.lowercase(e),r||T[e]!==!0||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(u(e))}}}var c=t.$$minErr("$sanitize"),f=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,h=/^<\/\s*([\w:-]+)[^>]*>/,d=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,g=/^<\//,m=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,y=/<!\[CDATA\[(.*?)]]>/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,x=/([^\#-~| |!])/g,w=o("area,br,col,hr,img,wbr"),$=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=o("rp,rt"),_=t.extend({},k,$),S=t.extend({},$,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),C=t.extend({},k,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),E=o("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),M=o("script,style"),T=t.extend({},w,S,C,_,E),A=o("background,cite,href,longdesc,src,usemap,xlink:href"),O=o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),D=o("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),N=t.extend({},A,D,O),L=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",r),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/i,r=/^mailto:/i;return function(o,a){function s(e){e&&d.push(i(e))}function u(e,n){d.push("<a "),t.isDefined(a)&&d.push('target="',a,'" '),d.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),d.push("</a>")}if(!o)return o;for(var l,c,f,h=o,d=[];l=h.match(n);)c=l[0],l[2]||l[4]||(c=(l[3]?"http://":"mailto:")+c),f=l.index,s(h.substr(0,f)),u(c,l[0].replace(r,"")),h=h.substring(f+l[0].length);return s(h),e(d.join(""))}}])}(window,window.angular),/**
 * State-based routing for AngularJS
 * @version v0.2.15
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return F(new(F(function(){},{prototype:e})),t)}function i(e){return j(arguments,function(t){t!==e&&j(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function a(e){if(Object.keys)return Object.keys(e);var t=[];return j(e,function(e,n){t.push(n)}),t}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function u(e,t,n,r){var i,u=o(n,r),l={},c=[];for(var f in u)if(u[f].params&&(i=a(u[f].params),i.length))for(var h in i)s(c,i[h])>=0||(c.push(i[h]),l[i[h]]=e[i[h]]);return F({},l,t)}function l(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var o=n[i];if(e[o]!=t[o])return!1}return!0}function c(e,t){var n={};return j(e,function(e){n[e]=t[e]}),n}function f(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return j(n,function(n){n in e&&(t[n]=e[n])}),t}function h(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==s(n,r)&&(t[r]=e[r]);return t}function d(e,t){var n=R(e),r=n?[]:{};return j(e,function(e,i){t(e,i)&&(r[n?r.length:i]=e)}),r}function p(e,t){var n=R(e)?[]:{};return j(e,function(e,r){n[r]=t(e,r)}),n}function g(e,t){var r=1,o=2,u={},l=[],c=u,f=F(e.when(u),{$$promises:u,$$values:u});this.study=function(u){function d(e,n){if(y[n]!==o){if(v.push(n),y[n]===r)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=r,P(e))m.push(n,[function(){return t.get(e)}],l);else{var i=t.annotate(e);j(i,function(e){e!==n&&u.hasOwnProperty(e)&&d(u[e],e)}),m.push(n,e,i)}v.pop(),y[n]=o}}function p(e){return I(e)&&e.then&&e.$$promises}if(!I(u))throw new Error("'invocables' must be an object");var g=a(u||{}),m=[],v=[],y={};return j(u,d),u=v=y=null,function(r,o,a){function s(){--x||(w||i(b,o.$$values),v.$$values=b,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,d.resolve(b))}function u(e){v.$$failure=e,d.reject(e)}function l(n,i,o){function l(e){f.reject(e),u(e)}function c(){if(!N(v.$$failure))try{f.resolve(t.invoke(i,a,b)),f.promise.then(function(e){b[n]=e,s()},l)}catch(e){l(e)}}var f=e.defer(),h=0;j(o,function(e){y.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(h++,y[e].then(function(t){b[e]=t,--h||c()},l))}),h||c(),y[n]=f.promise}if(p(r)&&a===n&&(a=o,o=r,r=null),r){if(!I(r))throw new Error("'locals' must be an object")}else r=c;if(o){if(!p(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=f;var d=e.defer(),v=d.promise,y=v.$$promises={},b=F({},r),x=1+m.length/3,w=!1;if(N(o.$$failure))return u(o.$$failure),v;o.$$inheritedValues&&i(b,h(o.$$inheritedValues,g)),F(y,o.$$promises),o.$$values?(w=i(b,h(o.$$values,g)),v.$$inheritedValues=h(o.$$values,g),s()):(o.$$inheritedValues&&(v.$$inheritedValues=h(o.$$inheritedValues,g)),o.then(s,u));for(var $=0,k=m.length;k>$;$+=3)r.hasOwnProperty(m[$])?s():l(m[$],m[$+1],m[$+2]);return v}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function m(e,t,n){this.fromConfig=function(e,t,n){return N(e.template)?this.fromString(e.template,t):N(e.templateUrl)?this.fromUrl(e.templateUrl,t):N(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return L(e)?e(t):e},this.fromUrl=function(n,r){return L(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function v(e,t,i){function o(t,n,r,i){if(m.push(t),p[t])return p[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(g[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return g[t]=new q.Param(t,n,r,i),g[t]}function a(e,t,n,r){var i=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:i=["?(",")?"];break;default:i=["("+n+"|",")?"]}return o+i[0]+t+i[1]}function s(i,o){var a,s,u,l,c;return a=i[2]||i[3],c=t.params[a],u=e.substring(h,i.index),s=o?i[4]:i[4]||("*"==i[1]?".*":null),l=q.type(s||"string")||r(q.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)}),{id:a,regexp:s,segment:u,type:l,cfg:c}}t=F({params:{}},I(t)?t:{});var u,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",h=0,d=this.segments=[],p=i?i.params:{},g=this.params=i?i.params.$$new():new q.ParamSet,m=[];this.source=e;for(var v,y,b;(u=l.exec(e))&&(v=s(u,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),f+=a(v.segment,y.type.pattern.source,y.squash,y.isOptional),d.push(v.segment),h=l.lastIndex;b=e.substring(h);var x=b.indexOf("?");if(x>=0){var w=this.sourceSearch=b.substring(x);if(b=b.substring(0,x),this.sourcePath=e.substring(0,h+x),w.length>0)for(h=0;u=c.exec(w);)v=s(u,!0),y=o(v.id,v.type,v.cfg,"search"),h=l.lastIndex}else this.sourcePath=e,this.sourceSearch="";f+=a(b)+(t.strict===!1?"/?":"")+"$",d.push(b),this.regexp=new RegExp(f,t.caseInsensitive?"i":n),this.prefix=d[0],this.$$paramNames=m}function y(e){F(this,e)}function b(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function i(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function o(){return{strict:g,caseInsensitive:h}}function u(e){return L(e)||R(e)&&L(e[e.length-1])}function l(){for(;$.length;){var e=$.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(x[e.name],f.invoke(e.def))}}function c(e){F(this,e||{})}q=this;var f,h=!1,g=!0,m=!1,x={},w=!0,$=[],k={string:{encode:e,decode:i,is:function(e){return null==e||!N(e)||"string"==typeof e},pattern:/[^/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return N(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};b.$$getDefaultValue=function(e){if(!u(e.value))return e.value;if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(e.value)},this.caseInsensitive=function(e){return N(e)&&(h=e),h},this.strictMode=function(e){return N(e)&&(g=e),g},this.defaultSquashPolicy=function(e){if(!N(e))return m;if(e!==!0&&e!==!1&&!P(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new v(e,F(o(),t))},this.isMatcher=function(e){if(!I(e))return!1;var t=!0;return j(v.prototype,function(n,r){L(n)&&(t=t&&N(e[r])&&L(e[r]))}),t},this.type=function(e,t,n){if(!N(t))return x[e];if(x.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return x[e]=new y(F({name:e},t)),n&&($.push({name:e,def:n}),w||l()),this},j(k,function(e,t){x[t]=new y(F({name:t},e))}),x=r(x,{}),this.$get=["$injector",function(e){return f=e,w=!1,l(),j(k,function(e,t){x[t]||(x[t]=new y(e))}),this}],this.Param=function(e,t,r,i){function o(e){var t=I(e)?a(e):[],n=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return n&&(e={value:e}),e.$$fn=u(e.value)?e.value:function(){return e.value},e}function l(t,n,r){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof y?t.type:new y(t.type):"config"===r?x.any:x.string}function c(){var t={array:"search"===i?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return F(t,n,r).array}function h(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!N(n)||null==n)return m;if(n===!0||P(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function g(e,t,r,i){var o,a,u=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return o=R(e.replace)?e.replace:[],P(i)&&o.push({from:i,to:n}),a=p(o,function(e){return e.from}),d(u,function(e){return-1===s(a,e.from)}).concat(o)}function v(){if(!f)throw new Error("Injectable functions cannot be called at configuration time");var e=f.invoke(r.$$fn);if(null!==e&&e!==n&&!$.type.is(e))throw new Error("Default value ("+e+") for parameter '"+$.id+"' is not an instance of Type ("+$.type.name+")");return e}function b(e){function t(e){return function(t){return t.from===e}}function n(e){var n=p(d($.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),N(e)?$.type.$normalize(e):v()}function w(){return"{Param:"+e+" "+t+" squash: '"+S+"' optional: "+_+"}"}var $=this;r=o(r),t=l(r,t,i);var k=c();t=k?t.$asArray(k,"search"===i):t,"string"!==t.name||k||"path"!==i||r.value!==n||(r.value="");var _=r.value!==n,S=h(r,_),C=g(r,k,_,S);F(this,{id:e,type:t,location:i,array:k,squash:S,replace:C,isOptional:_,value:b,dynamic:n,config:r,toString:w})},c.prototype={$$new:function(){return r(this,F(new c,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=a(c.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),j(t,function(t){j(a(t),function(t){-1===s(e,t)&&-1===s(r,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return j(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return j(r.$$keys(),function(i){var o=e&&e[i],a=t&&t[i];r[i].type.equals(o,a)||(n=!1)}),n},$$validates:function(e){var r,i,o,a,s,u=this.$$keys();for(r=0;r<u.length&&(i=this[u[r]],o=e[u[r]],o!==n&&null!==o||!i.isOptional);r++){if(a=i.type.$normalize(o),!i.type.is(a))return!1;if(s=i.type.encode(a),t.isString(s)&&!i.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function x(e,r){function i(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return N(r)?r:!0}function s(r,i,o,a){function s(e,t,n){return"/"===g?e:t?g.slice(0,-1)+e:n?g.slice(1)+e:e}function h(e){function t(e){var t=e(o,r);return t?(P(t)&&r.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){{p&&r.url()===p}p=n;var i,a=l.length;for(i=0;a>i;i++)if(t(l[i]))return;c&&t(c)}}function d(){return u=u||i.$on("$locationChangeSuccess",h)}var p,g=a.baseHref(),m=r.url();return f||d(),{sync:function(){h()},listen:function(){return d()},update:function(e){return e?void(m=r.url()):void(r.url()!==m&&(r.url(m),r.replace()))},push:function(e,t,i){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),r.url(o),p=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,o){if(!n.validates(i))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled);var u=n.format(i);if(o=o||{},a||null===u||(u="#"+e.hashPrefix()+u),null!==u&&i&&i["#"]&&(u+="#"+i["#"]),u=s(u,a,o.absolute),!o.absolute||!u)return u;var l=!a&&u?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,l,u].join("")}}}var u,l=[],c=null,f=!1;this.rule=function(e){if(!L(e))throw new Error("'rule' must be a function");return l.push(e),this},this.otherwise=function(e){if(P(e)){var t=e;e=function(){return t}}else if(!L(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var n,s=P(t);if(P(e)&&(e=r.compile(e)),!s&&!L(t)&&!R(t))throw new Error("invalid 'handler' in when()");var u={matcher:function(e,t){return s&&(n=r.compile(t),t=["$match",function(e){return n.format(e)}]),F(function(n,r){return a(n,t,e.exec(r.path(),r.search()))},{prefix:P(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return o(n,e)}]),F(function(n,r){return a(n,t,e.exec(r.path()))},{prefix:i(e)})}},l={matcher:r.isMatcher(e),regex:e instanceof RegExp};for(var c in l)if(l[c])return this.rule(u[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),f=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function w(e,i){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function h(e,t){if(!e)return n;var r=P(e),i=r?e:e.name,a=o(i);if(a){if(!t)throw new Error("No reference point given for path '"+i+"'");t=h(t);for(var s=i.split("."),u=0,l=s.length,c=t;l>u;u++)if(""!==s[u]||0!==u){if("^"!==s[u])break;if(!c.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;s=s.slice(u).join("."),i=c.name+(c.name&&s?".":"")+s}var f=S[i];return!f||!r&&(r||f!==e&&f.self!==e)?n:f}function d(e,t){C[e]||(C[e]=[]),C[e].push(t)}function g(e){for(var t=C[e]||[];t.length;)m(t.shift())}function m(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!P(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(S.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):P(t.parent)?t.parent:I(t.parent)&&P(t.parent.name)?t.parent.name:"";if(i&&!S[i])return d(i,t.self);for(var o in M)L(M[o])&&(t[o]=M[o](t,M.$delegates[o]));return S[n]=t,!t[E]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){_.$current.navigable==t&&l(e,n)||_.transitionTo(t,e,{inherit:!0,location:!1})}]),g(n),t}function v(e){return e.indexOf("*")>-1}function y(e){for(var t=e.split("."),n=_.$current.name.split("."),r=0,i=t.length;i>r;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length?!1:n.join("")===t.join("")}function b(e,t){return P(e)&&!N(t)?M[e]:L(t)&&P(e)?(M[e]&&!M.$delegates[e]&&(M.$delegates[e]=M[e]),M[e]=t,this):this}function x(e,t){return I(e)?t=e:t.name=e,m(t),this}function w(e,i,o,s,f,d,g,m,b){function x(t,n,r,o){var a=e.$broadcast("$stateNotFound",t,n,r);if(a.defaultPrevented)return g.update(),T;if(!a.retry)return null;if(o.$retry)return g.update(),A;var s=_.transition=i.when(a.retry);return s.then(function(){return s!==_.transition?C:(t.options.$retry=!0,_.transitionTo(t.to,t.toParams,t.options))},function(){return T}),g.update(),s}function w(e,n,r,a,u,l){function h(){var n=[];return j(e.views,function(r,i){var a=r.resolve&&r.resolve!==e.resolve?r.resolve:{};a.$template=[function(){return o.load(i,{view:r,locals:u.globals,params:d,notify:l.notify})||""}],n.push(f.resolve(a,u.globals,u.resolve,e).then(function(n){if(L(r.controllerProvider)||R(r.controllerProvider)){var o=t.extend({},a,u.globals);n.$$controller=s.invoke(r.controllerProvider,null,o)}else n.$$controller=r.controller;n.$$state=e,n.$$controllerAs=r.controllerAs,u[i]=n}))}),i.all(n).then(function(){return u.globals})}var d=r?n:c(e.params.$$keys(),n),p={$stateParams:d};u.resolve=f.resolve(e.resolve,p,u.resolve,e);var g=[u.resolve.then(function(e){u.globals=e})];return a&&g.push(a),i.all(g).then(h).then(function(e){return u})}var C=i.reject(new Error("transition superseded")),M=i.reject(new Error("transition prevented")),T=i.reject(new Error("transition aborted")),A=i.reject(new Error("transition failed"));return k.locals={resolve:null,globals:{$stateParams:{}}},_={params:{},current:k.self,$current:k,transition:null},_.reload=function(e){return _.transitionTo(_.current,d,{reload:e||!0,inherit:!1,notify:!0})},_.go=function(e,t,n){return _.transitionTo(e,t,F({inherit:!0,relative:_.$current},n))},_.transitionTo=function(t,n,o){n=n||{},o=F({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,l=_.$current,f=_.params,p=l.path,m=h(t,o.relative),v=n["#"];if(!N(m)){var y={to:t,toParams:n,options:o},b=x(y,l.self,f,o);if(b)return b;if(t=y.to,n=y.toParams,o=y.options,m=h(t,o.relative),!N(m)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(m[E])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=u(d,n||{},_.$current,m)),!m.params.$$validates(n))return A;n=m.params.$$values(n),t=m;var S=t.path,T=0,O=S[T],D=k.locals,L=[];if(o.reload){if(P(o.reload)||I(o.reload)){if(I(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var R=o.reload===!0?p[0]:h(o.reload);if(o.reload&&!R)throw new Error("No such reload state '"+(P(o.reload)?o.reload:o.reload.name)+"'");for(;O&&O===p[T]&&O!==R;)D=L[T]=O.locals,T++,O=S[T]}}else for(;O&&O===p[T]&&O.ownParams.$$equals(n,f);)D=L[T]=O.locals,T++,O=S[T];if($(t,n,l,f,D,o))return v&&(n["#"]=v),_.params=n,U(_.params,d),o.location&&t.navigable&&t.navigable.url&&(g.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),g.update(!0)),_.transition=null,i.when(_.current);if(n=c(t.params.$$keys(),n||{}),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,l.self,f).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,l.self,f),g.update(),M;for(var j=i.when(D),q=T;q<S.length;q++,O=S[q])D=L[q]=r(D),j=w(O,n,O===t,j,D,o);var z=_.transition=j.then(function(){var r,i,a;if(_.transition!==z)return C;for(r=p.length-1;r>=T;r--)a=p[r],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(r=T;r<S.length;r++)i=S[r],i.locals=L[r],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return v&&(n["#"]=v),_.transition!==z?C:(_.$current=t,_.current=t.self,_.params=n,U(_.params,d),_.transition=null,o.location&&t.navigable&&g.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,l.self,f),g.update(!0),_.current)},function(r){return _.transition!==z?C:(_.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,l.self,f,r),a.defaultPrevented||g.update(),i.reject(r))});return z},_.is=function(e,t,r){r=F({relative:_.$current},r||{});var i=h(e,r.relative);return N(i)?_.$current!==i?!1:t?l(i.params.$$values(t),d):!0:n},_.includes=function(e,t,r){if(r=F({relative:_.$current},r||{}),P(e)&&v(e)){if(!y(e))return!1;e=_.$current.name}var i=h(e,r.relative);return N(i)?N(_.$current.includes[i.name])?t?l(i.params.$$values(t),d,a(t)):!0:!1:n},_.href=function(e,t,r){r=F({lossy:!0,inherit:!0,absolute:!1,relative:_.$current},r||{});var i=h(e,r.relative);if(!N(i))return null;r.inherit&&(t=u(d,t||{},_.$current,i));var o=i&&r.lossy?i.navigable:i;return o&&o.url!==n&&null!==o.url?g.href(o.url,c(i.params.$$keys().concat("#"),t||{}),{absolute:r.absolute}):null},_.get=function(e,t){if(0===arguments.length)return p(a(S),function(e){return S[e].self});var n=h(e,t||_.$current);return n&&n.self?n.self:null},_}function $(e,t,n,r,i,o){function a(e,t,n){function r(t){return"search"!=e.params[t].location}var i=e.params.$$keys().filter(r),o=f.apply({},[e.params].concat(i)),a=new q.ParamSet(o);return a.$$equals(t,n)}return!o.reload&&e===n&&(i===n.locals||e.self.reloadOnSearch===!1&&a(n,r,t))?!0:void 0}var k,_,S={},C={},E="abstract",M={parent:function(e){if(N(e.parent)&&e.parent)return h(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?h(t[1]):k},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=F({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(P(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||k).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new q.ParamSet;return j(e.params||{},function(e,n){t[n]||(t[n]=new q.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?F(e.parent.params.$$new(),e.ownParams):new q.ParamSet},views:function(e){var t={};return j(N(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?F({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};k=m({name:"",url:"^",views:null,"abstract":!0}),k.navigable=null,this.decorator=b,this.state=x,this.$get=w,w.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function $(){function e(e,t){return{load:function(n,r){var i,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=F(o,r),r.view&&(i=t.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&e.$broadcast("$viewContentLoading",r),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function k(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function _(e,n,r,i){function o(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function a(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(l)return{enter:function(e,t,n){var r=l.enter(e,null,t,n);r&&r.then&&r.then(n)},leave:function(e,t){var n=l.leave(e,t);n&&n.then&&n.then(t)}};if(u){var r=u&&u(t,e);return{enter:function(e,t,n){r.enter(e,null,t),n()},leave:function(e,t){r.leave(e),t()}}}return n()}var s=o(),u=s("$animator"),l=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,u){function l(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),h&&(v.leave(h,function(){f=null}),f=h,h=null)}function c(a){var c,f=C(n,u,o,i),y=f&&e.$current&&e.$current.locals[f];if(a||y!==p){c=n.$new(),p=e.$current.locals[f];var b=s(c,function(e){v.enter(e,o,function(){d&&d.$emit("$viewContentAnimationEnded"),(t.isDefined(m)&&!m||n.$eval(m))&&r(e)}),l()});h=b,d=c,d.$emit("$viewContentLoaded"),d.$eval(g)}}var f,h,d,p,g=u.onload||"",m=u.autoscroll,v=a(u,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function S(e,t,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var o=i.html();return function(i,a,s){var u=n.$current,l=C(i,s,a,r),c=u&&u.locals[l];if(c){a.data("$uiView",{name:l,state:c.$$state}),a.html(c.$template?c.$template:o);var f=e(a.contents());if(c.$$controller){c.$scope=i,c.$element=a;var h=t(c.$$controller,c);c.$$controllerAs&&(i[c.$$controllerAs]=h),a.data("$ngControllerController",h),a.children().data("$ngControllerController",h)}f(i)}}}}}function C(e,t,n,r){var i=r(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function E(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function M(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function T(e,n){var r=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,o,a,s){var u=E(a.uiSref,e.current.name),l=null,c=M(o)||e.$current,f="[object SVGAnimatedString]"===Object.prototype.toString.call(o.prop("href"))?"xlink:href":"href",h=null,d="A"===o.prop("tagName").toUpperCase(),p="FORM"===o[0].nodeName,g=p?"action":f,m=!0,v={relative:c,inherit:!0},y=i.$eval(a.uiSrefOpts)||{};t.forEach(r,function(e){e in y&&(v[e]=y[e])});var b=function(n){if(n&&(l=t.copy(n)),m){h=e.href(u.state,l,v);var r=s[1]||s[0];return r&&r.$$addStateInfo(u.state,l),null===h?(m=!1,!1):void a.$set(g,h)}};u.paramExpr&&(i.$watch(u.paramExpr,function(e,t){e!==l&&b(e)},!0),l=t.copy(i.$eval(u.paramExpr))),b(),p||o.bind("click",function(t){var r=t.which||t.button;if(!(r>1||t.ctrlKey||t.metaKey||t.shiftKey||o.attr("target"))){var i=n(function(){e.go(u.state,l,v)});t.preventDefault();var a=d&&!h?1:0;t.preventDefault=function(){a--<=0&&n.cancel(i)}}})}}}function A(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,r,i){function o(){a()?r.addClass(u):r.removeClass(u)}function a(){for(var e=0;e<l.length;e++)if(s(l[e].state,l[e].params))return!0;return!1}function s(t,n){return"undefined"!=typeof i.uiSrefActiveEq?e.is(t.name,n):e.includes(t.name,n)}var u,l=[];u=n(i.uiSrefActiveEq||i.uiSrefActive||"",!1)(t),this.$$addStateInfo=function(t,n){var i=e.get(t,M(r));l.push({state:i||{name:t},params:n}),o()},t.$on("$stateChangeSuccess",o)}]}}function O(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function D(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var N=t.isDefined,L=t.isFunction,P=t.isString,I=t.isObject,R=t.isArray,j=t.forEach,F=t.extend,U=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),g.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",g),m.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",m);var q;v.prototype.concat=function(e,t){var n={caseInsensitive:q.caseInsensitive(),strict:q.strictMode(),squash:q.defaultSquashPolicy()};return new v(this.sourcePath+e+this.sourceSearch,F(n,t),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var r=t(e).split(/-(?!\\)/),i=p(r,t);return p(i,n).reverse()}var r=this.regexp.exec(e);if(!r)return null;t=t||{};var i,o,a,s=this.parameters(),u=s.length,l=this.segments.length-1,c={};if(l!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;l>i;i++){a=s[i];var f=this.params[a],h=r[i+1];for(o=0;o<f.replace;o++)f.replace[o].from===h&&(h=f.replace[o].to);h&&f.array===!0&&(h=n(h)),c[a]=f.value(h)}for(;u>i;i++)a=s[i],c[a]=this.params[a].value(t[a]);return c},v.prototype.parameters=function(e){return N(e)?this.params[e]||null:this.$$paramNames},v.prototype.validates=function(e){return this.params.$$validates(e)},v.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(e))return null;var o,a=!1,s=n.length-1,u=r.length,l=n[0];for(o=0;u>o;o++){var c=s>o,f=r[o],h=i[f],d=h.value(e[f]),g=h.isOptional&&h.type.equals(h.value(),d),m=g?h.squash:!1,v=h.type.encode(d);if(c){var y=n[o+1];if(m===!1)null!=v&&(l+=R(v)?p(v,t).join("-"):encodeURIComponent(v)),l+=y;else if(m===!0){var b=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=y.match(b)[1]}else P(m)&&(l+=m+y)}else{if(null==v||g&&m!==!1)continue;R(v)||(v=[v]),v=p(v,encodeURIComponent).join("&"+f+"="),l+=(a?"&":"?")+(f+"="+v),a=!0}}return l},y.prototype.is=function(e,t){return!0},y.prototype.encode=function(e,t){return e},y.prototype.decode=function(e,t){return e},y.prototype.equals=function(e,t){return e==t},y.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},y.prototype.$asArray=function(e,t){function r(e,t){function r(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return R(e)?e:N(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function s(e,t){return function(n){n=i(n);var r=p(n,e);return t===!0?0===d(r,a).length:o(r)}}function u(e){return function(t,n){var r=i(t),o=i(n);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!e(r[a],o[a]))return!1;return!0}}this.encode=s(r(e,"encode")),this.decode=s(r(e,"decode")),this.is=s(r(e,"is"),!0),this.equals=u(r(e,"equals")),this.pattern=e.pattern,this.$normalize=s(r(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",b),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),x.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",x),w.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",w),$.$inject=[],t.module("ui.router.state").provider("$view",$),t.module("ui.router.state").provider("$uiViewScroll",k),_.$inject=["$state","$injector","$uiViewScroll","$interpolate"],S.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",_),t.module("ui.router.state").directive("uiView",S),T.$inject=["$state","$timeout"],A.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",T).directive("uiSrefActive",A).directive("uiSrefActiveEq",A),O.$inject=["$state"],D.$inject=["$state"],t.module("ui.router.state").filter("isState",O).filter("includedByState",D)}(window,window.angular),/*!
	Papa Parse
	v4.1.1
	https://github.com/mholt/PapaParse
*/
function(e){"use strict";function t(t,n){if(n=n||{},n.worker&&k.WORKERS_SUPPORTED){var r=c();return r.userStep=n.step,r.userChunk=n.chunk,r.userComplete=n.complete,r.userError=n.error,n.step=v(n.step),n.chunk=v(n.chunk),n.complete=v(n.complete),n.error=v(n.error),delete n.worker,void r.postMessage({input:t,config:n,workerId:r.id})}var s=null;return"string"==typeof t?s=n.download?new i(n):new a(n):(e.File&&t instanceof File||t instanceof Object)&&(s=new o(n)),s.stream(t)}function n(e,t){function n(){"object"==typeof t&&("string"==typeof t.delimiter&&1==t.delimiter.length&&-1==k.BAD_DELIMITERS.indexOf(t.delimiter)&&(u=t.delimiter),("boolean"==typeof t.quotes||t.quotes instanceof Array)&&(s=t.quotes),"string"==typeof t.newline&&(l=t.newline))}function r(e){if("object"!=typeof e)return[];var t=[];for(var n in e)t.push(n);return t}function i(e,t){var n="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var r=e instanceof Array&&e.length>0,i=!(t[0]instanceof Array);if(r){for(var a=0;a<e.length;a++)a>0&&(n+=u),n+=o(e[a],a);t.length>0&&(n+=l)}for(var s=0;s<t.length;s++){for(var c=r?e.length:t[s].length,f=0;c>f;f++){f>0&&(n+=u);var h=r&&i?e[f]:f;n+=o(t[s][h],f)}s<t.length-1&&(n+=l)}return n}function o(e,t){if("undefined"==typeof e||null===e)return"";e=e.toString().replace(/"/g,'""');var n="boolean"==typeof s&&s||s instanceof Array&&s[t]||a(e,k.BAD_DELIMITERS)||e.indexOf(u)>-1||" "==e.charAt(0)||" "==e.charAt(e.length-1);return n?'"'+e+'"':e}function a(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}var s=!1,u=",",l="\r\n";if(n(),"string"==typeof e&&(e=JSON.parse(e)),e instanceof Array){if(!e.length||e[0]instanceof Array)return i(null,e);if("object"==typeof e[0])return i(r(e[0]),e)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data instanceof Array&&(e.fields||(e.fields=e.data[0]instanceof Array?e.fields:r(e.data[0])),e.data[0]instanceof Array||"object"==typeof e.data[0]||(e.data=[e.data])),i(e.fields||[],e.data||[]);throw"exception: Unable to serialize unrecognized input"}function r(t){function n(e){var t=g(e);t.chunkSize=parseInt(t.chunkSize),this._handle=new s(t),this._handle.streamer=this,this._config=t}this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this._completeResults={data:[],errors:[],meta:{}},n.call(this,t),this.parseChunk=function(t){var n=this._partialLine+t;this._partialLine="";var r=this._handle.parse(n,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var i=r.meta.cursor;this._finished||(this._partialLine=n.substring(i-this._baseIndex),this._baseIndex=i),r&&r.data&&(this._rowCount+=r.data.length);var o=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(b)e.postMessage({results:r,workerId:k.WORKER_ID,finished:o});else if(v(this._config.chunk)){if(this._config.chunk(r,this._handle),this._paused)return;r=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),!o||!v(this._config.complete)||r&&r.meta.aborted||this._config.complete(this._completeResults),o||r&&r.meta.paused||this._nextChunk(),r}},this._sendError=function(t){v(this._config.error)?this._config.error(t):b&&this._config.error&&e.postMessage({workerId:k.WORKER_ID,error:t,finished:!1})}}function i(e){function t(e){var t=e.getResponseHeader("Content-Range");return parseInt(t.substr(t.lastIndexOf("/")+1))}e=e||{},e.chunkSize||(e.chunkSize=k.RemoteChunkSize),r.call(this,e);var n;this._nextChunk=b?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)return void this._chunkLoaded();if(n=new XMLHttpRequest,b||(n.onload=m(this._chunkLoaded,this),n.onerror=m(this._chunkError,this)),n.open("GET",this._input,!b),this._config.chunkSize){var e=this._start+this._config.chunkSize-1;n.setRequestHeader("Range","bytes="+this._start+"-"+e),n.setRequestHeader("If-None-Match","webkit-no-cache")}try{n.send()}catch(t){this._chunkError(t.message)}b&&0==n.status?this._chunkError():this._start+=this._config.chunkSize},this._chunkLoaded=function(){if(4==n.readyState){if(n.status<200||n.status>=400)return void this._chunkError();this._finished=!this._config.chunkSize||this._start>t(n),this.parseChunk(n.responseText)}},this._chunkError=function(e){var t=n.statusText||e;this._sendError(t)}}function o(e){e=e||{},e.chunkSize||(e.chunkSize=k.LocalChunkSize),r.call(this,e);var t,n,i="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,i?(t=new FileReader,t.onload=m(this._chunkLoaded,this),t.onerror=m(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,r)}var o=t.readAsText(e,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function a(e){e=e||{},r.call(this,e);var t,n;this.stream=function(e){return t=e,n=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e=this._config.chunkSize,t=e?n.substr(0,e):n;return n=e?n.substr(e):"",this._finished=!n,this.parseChunk(t)}}}function s(e){function t(){if(w&&h&&(l("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+k.DefaultDelimiter+"'"),h=!1),e.skipEmptyLines)for(var t=0;t<w.data.length;t++)1==w.data[t].length&&""==w.data[t][0]&&w.data.splice(t--,1);return n()&&r(),i()}function n(){return e.header&&0==x.length}function r(){if(w){for(var e=0;n()&&e<w.data.length;e++)for(var t=0;t<w.data[e].length;t++)x.push(w.data[e][t]);w.data.splice(0,1)}}function i(){if(!w||!e.header&&!e.dynamicTyping)return w;for(var t=0;t<w.data.length;t++){for(var n={},r=0;r<w.data[t].length;r++){if(e.dynamicTyping){var i=w.data[t][r];w.data[t][r]="true"==i||"TRUE"==i?!0:"false"==i||"FALSE"==i?!1:s(i)}e.header&&(r>=x.length?(n.__parsed_extra||(n.__parsed_extra=[]),n.__parsed_extra.push(w.data[t][r])):n[x[r]]=w.data[t][r])}e.header&&(w.data[t]=n,r>x.length?l("FieldMismatch","TooManyFields","Too many fields: expected "+x.length+" fields but parsed "+r,t):r<x.length&&l("FieldMismatch","TooFewFields","Too few fields: expected "+x.length+" fields but parsed "+r,t))}return e.header&&w.meta&&(w.meta.fields=x),w}function o(t){for(var n,r,i,o=[",","	","|",";",k.RECORD_SEP,k.UNIT_SEP],a=0;a<o.length;a++){var s=o[a],l=0,c=0;i=void 0;for(var f=new u({delimiter:s,preview:10}).parse(t),h=0;h<f.data.length;h++){var d=f.data[h].length;c+=d,"undefined"!=typeof i?d>1&&(l+=Math.abs(d-i),i=d):i=d}c/=f.data.length,("undefined"==typeof r||r>l)&&c>1.99&&(r=l,n=s)}return e.delimiter=n,{successful:!!n,bestDelimiter:n}}function a(e){e=e.substr(0,1048576);var t=e.split("\r");if(1==t.length)return"\n";for(var n=0,r=0;r<t.length;r++)"\n"==t[r][0]&&n++;return n>=t.length/2?"\r\n":"\r"}function s(e){var t=d.test(e);return t?parseFloat(e):e}function l(e,t,n,r){w.errors.push({type:e,code:t,message:n,row:r})}var c,f,h,d=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,p=this,m=0,y=!1,b=!1,x=[],w={data:[],errors:[],meta:{}};if(v(e.step)){var $=e.step;e.step=function(r){if(w=r,n())t();else{if(t(),0==w.data.length)return;m+=r.data.length,e.preview&&m>e.preview?f.abort():$(w,p)}}}this.parse=function(n,r,i){if(e.newline||(e.newline=a(n)),h=!1,!e.delimiter){var s=o(n);s.successful?e.delimiter=s.bestDelimiter:(h=!0,e.delimiter=k.DefaultDelimiter),w.meta.delimiter=e.delimiter}var l=g(e);return e.preview&&e.header&&l.preview++,c=n,f=new u(l),w=f.parse(c,r,i),t(),y?{meta:{paused:!0}}:w||{meta:{paused:!1}}},this.paused=function(){return y},this.pause=function(){y=!0,f.abort(),c=c.substr(f.getCharIndex())},this.resume=function(){y=!1,p.streamer.parseChunk(c)},this.aborted=function(){return b},this.abort=function(){b=!0,f.abort(),w.meta.aborted=!0,v(e.complete)&&e.complete(w),c=""}}function u(e){e=e||{};var t=e.delimiter,n=e.newline,r=e.comments,i=e.step,o=e.preview,a=e.fastMode;if(("string"!=typeof t||k.BAD_DELIMITERS.indexOf(t)>-1)&&(t=","),r===t)throw"Comment character same as delimiter";r===!0?r="#":("string"!=typeof r||k.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var s=0,u=!1;this.parse=function(e,l,c){function f(e){w.push(e),_=s}function h(t){return c?p():(t||(t=e.substr(s)),k.push(t),s=m,f(k),x&&g(),p())}function d(t){s=t,f(k),k=[],M=e.indexOf(n,s)}function p(e){return{data:w,errors:$,meta:{delimiter:t,linebreak:n,aborted:u,truncated:!!e,cursor:_+(l||0)}}}function g(){i(p()),w=[],$=[]}if("string"!=typeof e)throw"Input must be a string";var m=e.length,v=t.length,y=n.length,b=r.length,x="function"==typeof i;s=0;var w=[],$=[],k=[],_=0;if(!e)return p();if(a||a!==!1&&-1===e.indexOf('"')){for(var S=e.split(n),C=0;C<S.length;C++){var k=S[C];if(s+=k.length,C!==S.length-1)s+=n.length;else if(c)return p();if(!r||k.substr(0,b)!=r){if(x){if(w=[],f(k.split(t)),g(),u)return p()}else f(k.split(t));if(o&&C>=o)return w=w.slice(0,o),p(!0)}}return p()}for(var E=e.indexOf(t,s),M=e.indexOf(n,s);;)if('"'!=e[s])if(r&&0===k.length&&e.substr(s,b)===r){if(-1==M)return p();s=M+y,M=e.indexOf(n,s),E=e.indexOf(t,s)}else if(-1!==E&&(M>E||-1===M))k.push(e.substring(s,E)),s=E+v,E=e.indexOf(t,s);else{if(-1===M)break;if(k.push(e.substring(s,M)),d(M+y),x&&(g(),u))return p();if(o&&w.length>=o)return p(!0)}else{var T=s;for(s++;;){var T=e.indexOf('"',T+1);if(-1===T)return c||$.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:s}),h();if(T===m-1){var A=e.substring(s,T).replace(/""/g,'"');return h(A)}if('"'!=e[T+1]){if(e[T+1]==t){k.push(e.substring(s,T).replace(/""/g,'"')),s=T+1+v,E=e.indexOf(t,s),M=e.indexOf(n,s);break}if(e.substr(T+1,y)===n){if(k.push(e.substring(s,T).replace(/""/g,'"')),d(T+1+y),E=e.indexOf(t,s),x&&(g(),u))return p();if(o&&w.length>=o)return p(!0);break}}else T++}}return h()},this.abort=function(){u=!0},this.getCharIndex=function(){return s}}function l(){var e=document.getElementsByTagName("script");return e.length?e[e.length-1].src:""}function c(){if(!k.WORKERS_SUPPORTED)return!1;if(!x&&null===k.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var t=new e.Worker(k.SCRIPT_PATH||y);return t.onmessage=f,t.id=$++,w[t.id]=t,t}function f(e){var t=e.data,n=w[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i=function(){r=!0,h(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},o={abort:i,pause:d,resume:d};if(v(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:[t.results.data[a]],errors:t.results.errors,meta:t.results.meta},o),!r);a++);delete t.results}else v(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!r&&h(t.workerId,t.results)}function h(e,t){var n=w[e];v(n.userComplete)&&n.userComplete(t),n.terminate(),delete w[e]}function d(){throw"Not implemented."}function p(t){var n=t.data;if("undefined"==typeof k.WORKER_ID&&n&&(k.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:k.WORKER_ID,results:k.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var r=k.parse(n.input,n.config);r&&e.postMessage({workerId:k.WORKER_ID,results:r,finished:!0})}}function g(e){if("object"!=typeof e)return e;var t=e instanceof Array?[]:{};for(var n in e)t[n]=g(e[n]);return t}function m(e,t){return function(){e.apply(t,arguments)}}function v(e){return"function"==typeof e}var y,b=!e.document&&!!e.postMessage,x=!1,w={},$=0,k={};if(k.parse=t,k.unparse=n,k.RECORD_SEP=String.fromCharCode(30),k.UNIT_SEP=String.fromCharCode(31),k.BYTE_ORDER_MARK="\ufeff",k.BAD_DELIMITERS=["\r","\n",'"',k.BYTE_ORDER_MARK],k.WORKERS_SUPPORTED=!!e.Worker,k.SCRIPT_PATH=null,k.LocalChunkSize=10485760,k.RemoteChunkSize=5242880,k.DefaultDelimiter=",",k.Parser=u,k.ParserHandle=s,k.NetworkStreamer=i,k.FileStreamer=o,k.StringStreamer=a,"undefined"!=typeof module&&module.exports?module.exports=k:v(e.define)&&e.define.amd?e.define(function(){return k}):e.Papa=k,e.jQuery){var _=e.jQuery;_.fn.parse=function(t){function n(){if(0==a.length)return void(v(t.complete)&&t.complete());var e=a[0];if(v(t.before)){var n=t.before(e.file,e.inputElem);if("object"==typeof n){if("abort"==n.action)return void r("AbortError",e.file,e.inputElem,n.reason);if("skip"==n.action)return void i();"object"==typeof n.config&&(e.instanceConfig=_.extend(e.instanceConfig,n.config))}else if("skip"==n)return void i()}var o=e.instanceConfig.complete;e.instanceConfig.complete=function(t){v(o)&&o(t,e.file,e.inputElem),i()},k.parse(e.file,e.instanceConfig)}function r(e,n,r,i){v(t.error)&&t.error({name:e},n,r,i)}function i(){a.splice(0,1),n()}var o=t.config||{},a=[];return this.each(function(t){var n="INPUT"==_(this).prop("tagName").toUpperCase()&&"file"==_(this).attr("type").toLowerCase()&&e.FileReader;if(!n||!this.files||0==this.files.length)return!0;for(var r=0;r<this.files.length;r++)a.push({file:this.files[r],inputElem:this,instanceConfig:_.extend({},o)})}),n(),this}}b?e.onmessage=p:k.WORKERS_SUPPORTED&&(y=l(),document.body?document.addEventListener("DOMContentLoaded",function(){x=!0},!0):x=!0),i.prototype=Object.create(r.prototype),i.prototype.constructor=i,o.prototype=Object.create(r.prototype),o.prototype.constructor=o,a.prototype=Object.create(a.prototype),a.prototype.constructor=a}("undefined"!=typeof window?window:this),function(e,t){"function"==typeof define&&define.amd?define([],t):"undefined"!=typeof module&&module.exports?module.exports=t():e.tv4=t()}(this,function(){function e(e){return encodeURI(e).replace(/%25[0-9][0-9]/g,function(e){return"%"+e.substring(3)})}function t(t){var n="";f[t.charAt(0)]&&(n=t.charAt(0),t=t.substring(1));var r="",i="",o=!0,a=!1,s=!1;"+"===n?o=!1:"."===n?(i=".",r="."):"/"===n?(i="/",r="/"):"#"===n?(i="#",o=!1):";"===n?(i=";",r=";",a=!0,s=!0):"?"===n?(i="?",r="&",a=!0):"&"===n&&(i="&",r="&",a=!0);for(var u=[],l=t.split(","),c=[],d={},p=0;p<l.length;p++){var g=l[p],m=null;if(-1!==g.indexOf(":")){var v=g.split(":");g=v[0],m=parseInt(v[1],10)}for(var y={};h[g.charAt(g.length-1)];)y[g.charAt(g.length-1)]=!0,g=g.substring(0,g.length-1);var b={truncate:m,name:g,suffices:y};c.push(b),d[g]=b,u.push(g)}var x=function(t){for(var n="",u=0,l=0;l<c.length;l++){var f=c[l],h=t(f.name);if(null===h||void 0===h||Array.isArray(h)&&0===h.length||"object"==typeof h&&0===Object.keys(h).length)u++;else if(n+=l===u?i:r||",",Array.isArray(h)){a&&(n+=f.name+"=");for(var d=0;d<h.length;d++)d>0&&(n+=f.suffices["*"]?r||",":",",f.suffices["*"]&&a&&(n+=f.name+"=")),n+=o?encodeURIComponent(h[d]).replace(/!/g,"%21"):e(h[d])}else if("object"==typeof h){a&&!f.suffices["*"]&&(n+=f.name+"=");var p=!0;for(var g in h)p||(n+=f.suffices["*"]?r||",":","),p=!1,n+=o?encodeURIComponent(g).replace(/!/g,"%21"):e(g),n+=f.suffices["*"]?"=":",",n+=o?encodeURIComponent(h[g]).replace(/!/g,"%21"):e(h[g])}else a&&(n+=f.name,s&&""===h||(n+="=")),null!=f.truncate&&(h=h.substring(0,f.truncate)),n+=o?encodeURIComponent(h).replace(/!/g,"%21"):e(h)}return n};return x.varNames=u,{prefix:i,substitution:x}}function n(e){if(!(this instanceof n))return new n(e);for(var r=e.split("{"),i=[r.shift()],o=[],a=[],s=[];r.length>0;){var u=r.shift(),l=u.split("}")[0],c=u.substring(l.length+1),f=t(l);a.push(f.substitution),o.push(f.prefix),i.push(c),s=s.concat(f.substitution.varNames)}this.fill=function(e){for(var t=i[0],n=0;n<a.length;n++){var r=a[n];t+=r(e),t+=i[n+1]}return t},this.varNames=s,this.template=e}function r(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(Array.isArray(e)!==Array.isArray(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else{var i;for(i in e)if(void 0===t[i]&&void 0!==e[i])return!1;for(i in t)if(void 0===e[i]&&void 0!==t[i])return!1;for(i in e)if(!r(e[i],t[i]))return!1}return!0}return!1}function i(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function o(e,t){function n(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}return t=i(t||""),e=i(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+n(t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname)+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null}function a(e){return e.split("#")[0]}function s(e,t){if(e&&"object"==typeof e)if(void 0===t?t=e.id:"string"==typeof e.id&&(t=o(t,e.id),e.id=t),Array.isArray(e))for(var n=0;n<e.length;n++)s(e[n],t);else{"string"==typeof e.$ref&&(e.$ref=o(t,e.$ref));for(var r in e)"enum"!==r&&s(e[r],t)}}function u(e,t,n,r,i,o){if(Error.call(this),void 0===e)throw new Error("No code supplied for error: "+t);this.message=t,this.params=n,this.code=e,this.dataPath=r||"",this.schemaPath=i||"",this.subErrors=o||null;var a=new Error(this.message);if(this.stack=a.stack||a.stacktrace,!this.stack)try{throw a}catch(a){this.stack=a.stack||a.stacktrace}}function l(e,t){if(t.substring(0,e.length)===e){var n=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===n.charAt(0)||"?"===n.charAt(0))return!0}return!1}function c(e){var t=new d,n=e||"en",r={addFormat:function(){t.addFormat.apply(t,arguments)},language:function(e){return e?(x[e]||(e=e.split("-")[0]),x[e]?(n=e,e):!1):n},addLanguage:function(e,t){var n;for(n in m)t[n]&&!t[m[n]]&&(t[m[n]]=t[n]);var r=e.split("-")[0];if(x[r]){x[e]=Object.create(x[r]);for(n in t)"undefined"==typeof x[r][n]&&(x[r][n]=t[n]),x[e][n]=t[n]}else x[e]=t,x[r]=t;return this},freshApi:function(e){var t=c();return e&&t.language(e),t},validate:function(e,r,i,o){var a=new d(t,!1,x[n],i,o);"string"==typeof r&&(r={$ref:r}),a.addSchema("",r);var s=a.validateAll(e,r,null,null,"");return!s&&o&&(s=a.banUnknownProperties()),this.error=s,this.missing=a.missing,this.valid=null===s,this.valid},validateResult:function(){var e={};return this.validate.apply(e,arguments),e},validateMultiple:function(e,r,i,o){var a=new d(t,!0,x[n],i,o);"string"==typeof r&&(r={$ref:r}),a.addSchema("",r),a.validateAll(e,r,null,null,""),o&&a.banUnknownProperties();var s={};return s.errors=a.errors,s.missing=a.missing,s.valid=0===s.errors.length,s},addSchema:function(){return t.addSchema.apply(t,arguments)},getSchema:function(){return t.getSchema.apply(t,arguments)},getSchemaMap:function(){return t.getSchemaMap.apply(t,arguments)},getSchemaUris:function(){return t.getSchemaUris.apply(t,arguments)},getMissingUris:function(){return t.getMissingUris.apply(t,arguments)},dropSchemas:function(){t.dropSchemas.apply(t,arguments)},defineKeyword:function(){t.defineKeyword.apply(t,arguments)},defineError:function(e,t,n){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!==0||1e4>t)throw new Error("Code number must be an integer > 10000");if("undefined"!=typeof m[e])throw new Error("Error already defined: "+e+" as "+m[e]);if("undefined"!=typeof v[t])throw new Error("Error code already used: "+v[t]+" as "+t);m[e]=t,v[t]=e,b[e]=b[t]=n;for(var r in x){var i=x[r];i[e]&&(i[t]=i[t]||i[e])}},reset:function(){t.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:s,resolveUrl:o,getDocumentUri:a,errorCodes:m};return r}Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on non-object");var o=[];for(var a in i)e.call(i,a)&&o.push(a);if(t)for(var s=0;r>s;s++)e.call(i,n[s])&&o.push(n[s]);return o}}()),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&r!==1/0&&r!==-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);n>i;i++)if(i in t&&t[i]===e)return i;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(n){return!0}});var f={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},h={"*":!0};n.prototype={toString:function(){return this.template},fillFromObject:function(e){return this.fill(function(t){return e[t]})}};var d=function(e,t,n,r,i){if(this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,r&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),i&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorMessages=n,this.definedKeywords={},e)for(var o in e.definedKeywords)this.definedKeywords[o]=e.definedKeywords[o].slice(0)};d.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)},d.prototype.createError=function(e,t,n,r,i){var o=this.errorMessages[e]||b[e];if("string"!=typeof o)return new u(e,"Unknown error code "+e+": "+JSON.stringify(t),t,n,r,i);var a=o.replace(/\{([^{}]*)\}/g,function(e,n){var r=t[n];return"string"==typeof r||"number"==typeof r?r:e});return new u(e,a,t,n,r,i)},d.prototype.returnError=function(e){return e},d.prototype.collectError=function(e){return e&&this.errors.push(e),null},d.prototype.prefixErrors=function(e,t,n){for(var r=e;r<this.errors.length;r++)this.errors[r]=this.errors[r].prefixWith(t,n);return this},d.prototype.banUnknownProperties=function(){for(var e in this.unknownPropertyPaths){var t=this.createError(m.UNKNOWN_PROPERTY,{path:e},e,""),n=this.handleError(t);if(n)return n}return null},d.prototype.addFormat=function(e,t){if("object"==typeof e){for(var n in e)this.addFormat(n,e[n]);return this}this.formatValidators[e]=t},d.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if(t=t||{},t[e.$ref])return this.createError(m.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","");t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},d.prototype.getSchema=function(e,t){var n;if(void 0!==this.schemas[e])return n=this.schemas[e],this.resolveRefs(n,t);var r=e,i="";if(-1!==e.indexOf("#")&&(i=e.substring(e.indexOf("#")+1),r=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[r]){n=this.schemas[r];var o=decodeURIComponent(i);if(""===o)return this.resolveRefs(n,t);if("/"!==o.charAt(0))return void 0;for(var a=o.split("/").slice(1),s=0;s<a.length;s++){var u=a[s].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===n[u]){n=void 0;break}n=n[u]}if(void 0!==n)return this.resolveRefs(n,t)}void 0===this.missing[r]&&(this.missing.push(r),this.missing[r]=r,this.missingMap[r]=r)},d.prototype.searchSchemas=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.searchSchemas(e[n],t);else if(e&&"object"==typeof e){"string"==typeof e.id&&l(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e);for(var r in e)if("enum"!==r)if("object"==typeof e[r])this.searchSchemas(e[r],t);else if("$ref"===r){var i=a(e[r]);i&&void 0===this.schemas[i]&&void 0===this.missingMap[i]&&(this.missingMap[i]=i)}}},d.prototype.addSchema=function(e,t){if("string"!=typeof e||"undefined"==typeof t){if("object"!=typeof e||"string"!=typeof e.id)return;t=e,e=t.id}e===a(e)+"#"&&(e=a(e)),this.schemas[e]=t,delete this.missingMap[e],s(t,e),this.searchSchemas(t,e)},d.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},d.prototype.getSchemaUris=function(e){var t=[];for(var n in this.schemas)(!e||e.test(n))&&t.push(n);return t},d.prototype.getMissingUris=function(e){var t=[];for(var n in this.missingMap)(!e||e.test(n))&&t.push(n);return t},d.prototype.dropSchemas=function(){this.schemas={},this.reset()},d.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},d.prototype.validateAll=function(e,t,n,r,i){var o;if(t=this.resolveRefs(t),!t)return null;if(t instanceof u)return this.errors.push(t),t;var a,s=this.errors.length,l=null,c=null;if(this.checkRecursive&&e&&"object"==typeof e){if(o=!this.scanned.length,e[this.validatedSchemasKey]){var f=e[this.validatedSchemasKey].indexOf(t);if(-1!==f)return this.errors=this.errors.concat(e[this.validationErrorsKey][f]),null}if(Object.isFrozen(e)&&(a=this.scannedFrozen.indexOf(e),-1!==a)){var h=this.scannedFrozenSchemas[a].indexOf(t);if(-1!==h)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[a][h]),null}if(this.scanned.push(e),Object.isFrozen(e))-1===a&&(a=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),l=this.scannedFrozenSchemas[a].length,this.scannedFrozenSchemas[a][l]=t,this.scannedFrozenValidationErrors[a][l]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(d){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}c=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][c]=t,e[this.validationErrorsKey][c]=[]}}var p=this.errors.length,g=this.validateBasic(e,t,i)||this.validateNumeric(e,t,i)||this.validateString(e,t,i)||this.validateArray(e,t,i)||this.validateObject(e,t,i)||this.validateCombinations(e,t,i)||this.validateHypermedia(e,t,i)||this.validateFormat(e,t,i)||this.validateDefinedKeywords(e,t,i)||null;if(o){for(;this.scanned.length;){var m=this.scanned.pop();delete m[this.validatedSchemasKey]}this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(g||p!==this.errors.length)for(;n&&n.length||r&&r.length;){var v=n&&n.length?""+n.pop():null,y=r&&r.length?""+r.pop():null;g&&(g=g.prefixWith(v,y)),this.prefixErrors(p,v,y)}return null!==l?this.scannedFrozenValidationErrors[a][l]=this.errors.slice(s):null!==c&&(e[this.validationErrorsKey][c]=this.errors.slice(s)),this.handleError(g)},d.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var n=this.formatValidators[t.format].call(null,e,t);return"string"==typeof n||"number"==typeof n?this.createError(m.FORMAT_CUSTOM,{message:n}).prefixWith(null,"format"):n&&"object"==typeof n?this.createError(m.FORMAT_CUSTOM,{message:n.message||"?"},n.dataPath||null,n.schemaPath||"/format"):null},d.prototype.validateDefinedKeywords=function(e,t,n){for(var r in this.definedKeywords)if("undefined"!=typeof t[r])for(var i=this.definedKeywords[r],o=0;o<i.length;o++){var a=i[o],s=a(e,t[r],t,n);if("string"==typeof s||"number"==typeof s)return this.createError(m.KEYWORD_CUSTOM,{key:r,message:s}).prefixWith(null,"format");if(s&&"object"==typeof s){var u=s.code;if("string"==typeof u){if(!m[u])throw new Error("Undefined error code (use defineError): "+u);u=m[u]}else"number"!=typeof u&&(u=m.KEYWORD_CUSTOM);var l="object"==typeof s.message?s.message:{key:r,message:s.message||"?"},c=s.schemaPath||"/"+r.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(u,l,s.dataPath||null,c)}}return null},d.prototype.validateBasic=function(e,t,n){var r;return(r=this.validateType(e,t,n))?r.prefixWith(null,"type"):(r=this.validateEnum(e,t,n))?r.prefixWith(null,"type"):null},d.prototype.validateType=function(e,t){if(void 0===t.type)return null;var n=typeof e;null===e?n="null":Array.isArray(e)&&(n="array");var r=t.type;"object"!=typeof r&&(r=[r]);for(var i=0;i<r.length;i++){var o=r[i];if(o===n||"integer"===o&&"number"===n&&e%1===0)return null}return this.createError(m.INVALID_TYPE,{type:n,expected:r.join("/")})},d.prototype.validateEnum=function(e,t){if(void 0===t["enum"])return null;for(var n=0;n<t["enum"].length;n++){var i=t["enum"][n];if(r(e,i))return null}return this.createError(m.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(e):e})},d.prototype.validateNumeric=function(e,t,n){return this.validateMultipleOf(e,t,n)||this.validateMinMax(e,t,n)||this.validateNaN(e,t,n)||null};var p=Math.pow(2,-51),g=1-p;d.prototype.validateMultipleOf=function(e,t){var n=t.multipleOf||t.divisibleBy;if(void 0===n)return null;if("number"==typeof e){var r=e/n%1;if(r>=p&&g>r)return this.createError(m.NUMBER_MULTIPLE_OF,{value:e,multipleOf:n})}return null},d.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(m.NUMBER_MINIMUM,{value:e,minimum:t.minimum}).prefixWith(null,"minimum");if(t.exclusiveMinimum&&e===t.minimum)return this.createError(m.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum}).prefixWith(null,"exclusiveMinimum")}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(m.NUMBER_MAXIMUM,{value:e,maximum:t.maximum}).prefixWith(null,"maximum");if(t.exclusiveMaximum&&e===t.maximum)return this.createError(m.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum}).prefixWith(null,"exclusiveMaximum")}return null},d.prototype.validateNaN=function(e){return"number"!=typeof e?null:isNaN(e)===!0||e===1/0||e===-(1/0)?this.createError(m.NUMBER_NOT_A_NUMBER,{value:e}).prefixWith(null,"type"):null},d.prototype.validateString=function(e,t,n){return this.validateStringLength(e,t,n)||this.validateStringPattern(e,t,n)||null},d.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(m.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength}).prefixWith(null,"minLength"):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(m.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength}).prefixWith(null,"maxLength"):null},d.prototype.validateStringPattern=function(e,t){if("string"!=typeof e||void 0===t.pattern)return null;var n=new RegExp(t.pattern);return n.test(e)?null:this.createError(m.STRING_PATTERN,{pattern:t.pattern}).prefixWith(null,"pattern")},d.prototype.validateArray=function(e,t,n){return Array.isArray(e)?this.validateArrayLength(e,t,n)||this.validateArrayUniqueItems(e,t,n)||this.validateArrayItems(e,t,n)||null:null},d.prototype.validateArrayLength=function(e,t){var n;return void 0!==t.minItems&&e.length<t.minItems&&(n=this.createError(m.ARRAY_LENGTH_SHORT,{
length:e.length,minimum:t.minItems}).prefixWith(null,"minItems"),this.handleError(n))?n:void 0!==t.maxItems&&e.length>t.maxItems&&(n=this.createError(m.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems}).prefixWith(null,"maxItems"),this.handleError(n))?n:null},d.prototype.validateArrayUniqueItems=function(e,t){if(t.uniqueItems)for(var n=0;n<e.length;n++)for(var i=n+1;i<e.length;i++)if(r(e[n],e[i])){var o=this.createError(m.ARRAY_UNIQUE,{match1:n,match2:i}).prefixWith(null,"uniqueItems");if(this.handleError(o))return o}return null},d.prototype.validateArrayItems=function(e,t,n){if(void 0===t.items)return null;var r,i;if(Array.isArray(t.items)){for(i=0;i<e.length;i++)if(i<t.items.length){if(r=this.validateAll(e[i],t.items[i],[i],["items",i],n+"/"+i))return r}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(r=this.createError(m.ARRAY_ADDITIONAL_ITEMS,{}).prefixWith(""+i,"additionalItems"),this.handleError(r)))return r}else if(r=this.validateAll(e[i],t.additionalItems,[i],["additionalItems"],n+"/"+i))return r}else for(i=0;i<e.length;i++)if(r=this.validateAll(e[i],t.items,[i],["items"],n+"/"+i))return r;return null},d.prototype.validateObject=function(e,t,n){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,n)||this.validateObjectRequiredProperties(e,t,n)||this.validateObjectProperties(e,t,n)||this.validateObjectDependencies(e,t,n)||null},d.prototype.validateObjectMinMaxProperties=function(e,t){var n,r=Object.keys(e);return void 0!==t.minProperties&&r.length<t.minProperties&&(n=this.createError(m.OBJECT_PROPERTIES_MINIMUM,{propertyCount:r.length,minimum:t.minProperties}).prefixWith(null,"minProperties"),this.handleError(n))?n:void 0!==t.maxProperties&&r.length>t.maxProperties&&(n=this.createError(m.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:r.length,maximum:t.maxProperties}).prefixWith(null,"maxProperties"),this.handleError(n))?n:null},d.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var n=0;n<t.required.length;n++){var r=t.required[n];if(void 0===e[r]){var i=this.createError(m.OBJECT_REQUIRED,{key:r}).prefixWith(null,""+n).prefixWith(null,"required");if(this.handleError(i))return i}}return null},d.prototype.validateObjectProperties=function(e,t,n){var r;for(var i in e){var o=n+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1"),a=!1;if(void 0!==t.properties&&void 0!==t.properties[i]&&(a=!0,r=this.validateAll(e[i],t.properties[i],[i],["properties",i],o)))return r;if(void 0!==t.patternProperties)for(var s in t.patternProperties){var u=new RegExp(s);if(u.test(i)&&(a=!0,r=this.validateAll(e[i],t.patternProperties[s],[i],["patternProperties",s],o)))return r}if(a)this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(r=this.createError(m.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(i,"additionalProperties"),this.handleError(r)))return r}else if(r=this.validateAll(e[i],t.additionalProperties,[i],["additionalProperties"],o))return r}else this.trackUnknownProperties&&!this.knownPropertyPaths[o]&&(this.unknownPropertyPaths[o]=!0)}return null},d.prototype.validateObjectDependencies=function(e,t,n){var r;if(void 0!==t.dependencies)for(var i in t.dependencies)if(void 0!==e[i]){var o=t.dependencies[i];if("string"==typeof o){if(void 0===e[o]&&(r=this.createError(m.OBJECT_DEPENDENCY_KEY,{key:i,missing:o}).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(r)))return r}else if(Array.isArray(o))for(var a=0;a<o.length;a++){var s=o[a];if(void 0===e[s]&&(r=this.createError(m.OBJECT_DEPENDENCY_KEY,{key:i,missing:s}).prefixWith(null,""+a).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(r)))return r}else if(r=this.validateAll(e,o,[],["dependencies",i],n))return r}return null},d.prototype.validateCombinations=function(e,t,n){return this.validateAllOf(e,t,n)||this.validateAnyOf(e,t,n)||this.validateOneOf(e,t,n)||this.validateNot(e,t,n)||null},d.prototype.validateAllOf=function(e,t,n){if(void 0===t.allOf)return null;for(var r,i=0;i<t.allOf.length;i++){var o=t.allOf[i];if(r=this.validateAll(e,o,[],["allOf",i],n))return r}return null},d.prototype.validateAnyOf=function(e,t,n){if(void 0===t.anyOf)return null;var r,i,o=[],a=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var s=!0,u=0;u<t.anyOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var l=t.anyOf[u],c=this.errors.length,f=this.validateAll(e,l,[],["anyOf",u],n);if(null===f&&c===this.errors.length){if(this.errors=this.errors.slice(0,a),this.trackUnknownProperties){for(var h in this.knownPropertyPaths)i[h]=!0,delete r[h];for(var d in this.unknownPropertyPaths)i[d]||(r[d]=!0);s=!1;continue}return null}f&&o.push(f.prefixWith(null,""+u).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),s?(o=o.concat(this.errors.slice(a)),this.errors=this.errors.slice(0,a),this.createError(m.ANY_OF_MISSING,{},"","/anyOf",o)):void 0},d.prototype.validateOneOf=function(e,t,n){if(void 0===t.oneOf)return null;var r,i,o=null,a=[],s=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var u=0;u<t.oneOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var l=t.oneOf[u],c=this.errors.length,f=this.validateAll(e,l,[],["oneOf",u],n);if(null===f&&c===this.errors.length){if(null!==o)return this.errors=this.errors.slice(0,s),this.createError(m.ONE_OF_MULTIPLE,{index1:o,index2:u},"","/oneOf");if(o=u,this.trackUnknownProperties){for(var h in this.knownPropertyPaths)i[h]=!0,delete r[h];for(var d in this.unknownPropertyPaths)i[d]||(r[d]=!0)}}else f&&a.push(f)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),null===o?(a=a.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(m.ONE_OF_MISSING,{},"","/oneOf",a)):(this.errors=this.errors.slice(0,s),null)},d.prototype.validateNot=function(e,t,n){if(void 0===t.not)return null;var r,i,o=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var a=this.validateAll(e,t.not,null,null,n),s=this.errors.slice(o);return this.errors=this.errors.slice(0,o),this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),null===a&&0===s.length?this.createError(m.NOT_PASSED,{},"","/not"):null},d.prototype.validateHypermedia=function(e,t,r){if(!t.links)return null;for(var i,o=0;o<t.links.length;o++){var a=t.links[o];if("describedby"===a.rel){for(var s=new n(a.href),u=!0,l=0;l<s.varNames.length;l++)if(!(s.varNames[l]in e)){u=!1;break}if(u){var c=s.fillFromObject(e),f={$ref:c};if(i=this.validateAll(e,f,[],["links",o],r))return i}}}};var m={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},v={};for(var y in m)v[m[y]]=y;var b={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u.prototype.name="ValidationError",u.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var n=0;n<this.subErrors.length;n++)this.subErrors[n].prefixWith(e,t);return this};var x={},w=c();return w.addLanguage("en-gb",b),w.tv4=w,w}),!function(){function e(e){return e&&(e.ownerDocument||e.document||e).documentElement}function t(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function n(e,t){return t>e?-1:e>t?1:e>=t?0:0/0}function r(e){return null===e?0/0:+e}function i(e){return!isNaN(e)}function o(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function a(e){return e.length}function s(e){for(var t=1;e*t%1;)t*=10;return t}function u(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function l(){this._=Object.create(null)}function c(e){return(e+="")===ga||e[0]===ma?ma+e:e}function f(e){return(e+="")[0]===ma?e.slice(1):e}function h(e){return c(e)in this._}function d(e){return(e=c(e))in this._&&delete this._[e]}function p(){var e=[];for(var t in this._)e.push(f(t));return e}function g(){var e=0;for(var t in this._)++e;return e}function m(){for(var e in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(e){return e}function b(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function x(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=va.length;r>n;++n){var i=va[n]+t;if(i in e)return i}}function w(){}function $(){}function k(e){function t(){for(var t,r=n,i=-1,o=r.length;++i<o;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new l;return t.on=function(t,i){var o,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function _(){na.event.preventDefault()}function S(){for(var e,t=na.event;e=t.sourceEvent;)t=e;return t}function C(e){for(var t=new $,n=0,r=arguments.length;++n<r;)t[arguments[n]]=k(t);return t.of=function(n,r){return function(i){try{var o=i.sourceEvent=na.event;i.target=e,na.event=i,t[i.type].apply(n,r)}finally{na.event=o}}},t}function E(e){return ba(e,ka),e}function M(e){return"function"==typeof e?e:function(){return xa(e,this)}}function T(e){return"function"==typeof e?e:function(){return wa(e,this)}}function A(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function a(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=na.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?s:a:e.local?o:i}function O(e){return e.trim().replace(/\s+/g," ")}function D(e){return new RegExp("(?:^|\\s+)"+na.requote(e)+"(?:\\s+|$)","g")}function N(e){return(e+"").trim().split(/^|\s+/)}function L(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=N(e).map(P);var i=e.length;return"function"==typeof t?r:n}function P(e){var t=D(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",O(i+" "+e))):n.setAttribute("class",O(i.replace(t," ")))}}function I(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function o(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?o:i}function R(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:r}function j(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n?t.createElementNS(n,e):t.createElement(e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=na.ns.qualify(e)).local?n:t}function F(){var e=this.parentNode;e&&e.removeChild(this)}function U(e){return{__data__:e}}function q(e){return function(){return $a(this,e)}}function z(e){return arguments.length||(e=n),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function H(e,t){for(var n=0,r=e.length;r>n;n++)for(var i,o=e[n],a=0,s=o.length;s>a;a++)(i=o[a])&&t(i,a,n);return e}function W(e){return ba(e,Sa),e}function B(e){var t,n;return function(r,i,o){var a,s=e[o].update,u=s.length;for(o!=n&&(n=o,t=0),i>=t&&(t=i+1);!(a=s[t])&&++t<u;);return a}}function V(e,t,n){function r(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}function i(){var i=u(t,ia(arguments));r.call(this),this.addEventListener(e,this[a]=i,i.$=n),i._=t}function o(){var t,n=new RegExp("^__on([^.]+)"+na.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var a="__on"+e,s=e.indexOf("."),u=Y;s>0&&(e=e.slice(0,s));var l=Ca.get(e);return l&&(e=l,u=X),s?t?i:r:t?w:o}function Y(e,t){return function(n){var r=na.event;na.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{na.event=r}}}function X(e,t){var n=Y(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function G(n){var r=".dragsuppress-"+ ++Ma,i="click"+r,o=na.select(t(n)).on("touchmove"+r,_).on("dragstart"+r,_).on("selectstart"+r,_);if(null==Ea&&(Ea="onselectstart"in n?!1:x(n.style,"userSelect")),Ea){var a=e(n).style,s=a[Ea];a[Ea]="none"}return function(e){if(o.on(r,null),Ea&&(a[Ea]=s),e){var t=function(){o.on(i,null)};o.on(i,function(){_(),t()},!0),setTimeout(t,0)}}}function K(e,n){n.changedTouches&&(n=n.changedTouches[0]);var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();if(0>Ta){var o=t(e);if(o.scrollX||o.scrollY){r=na.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=r[0][0].getScreenCTM();Ta=!(a.f||a.e),r.remove()}}return Ta?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}var s=e.getBoundingClientRect();return[n.clientX-s.left-e.clientLeft,n.clientY-s.top-e.clientTop]}function Z(){return na.event.changedTouches[0].identifier}function J(e){return e>0?1:0>e?-1:0}function Q(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function ee(e){return e>1?0:-1>e?Da:Math.acos(e)}function te(e){return e>1?Pa:-1>e?-Pa:Math.asin(e)}function ne(e){return((e=Math.exp(e))-1/e)/2}function re(e){return((e=Math.exp(e))+1/e)/2}function ie(e){return((e=Math.exp(2*e))-1)/(e+1)}function oe(e){return(e=Math.sin(e/2))*e}function ae(){}function se(e,t,n){return this instanceof se?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof se?new se(e.h,e.s,e.l):we(""+e,$e,se):new se(e,t,n)}function ue(e,t,n){function r(e){return e>360?e-=360:0>e&&(e+=360),60>e?o+(a-o)*e/60:180>e?a:240>e?o+(a-o)*(240-e)/60:o}function i(e){return Math.round(255*r(e))}var o,a;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+t):n+t-n*t,o=2*n-a,new ve(i(e+120),i(e),i(e-120))}function le(e,t,n){return this instanceof le?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof le?new le(e.h,e.c,e.l):e instanceof fe?de(e.l,e.a,e.b):de((e=ke((e=na.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new le(e,t,n)}function ce(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new fe(n,Math.cos(e*=Ia)*t,Math.sin(e)*t)}function fe(e,t,n){return this instanceof fe?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof fe?new fe(e.l,e.a,e.b):e instanceof le?ce(e.h,e.c,e.l):ke((e=ve(e)).r,e.g,e.b):new fe(e,t,n)}function he(e,t,n){var r=(e+16)/116,i=r+t/500,o=r-n/200;return i=pe(i)*Ya,r=pe(r)*Xa,o=pe(o)*Ga,new ve(me(3.2404542*i-1.5371385*r-.4985314*o),me(-.969266*i+1.8760108*r+.041556*o),me(.0556434*i-.2040259*r+1.0572252*o))}function de(e,t,n){return e>0?new le(Math.atan2(n,t)*Ra,Math.sqrt(t*t+n*n),e):new le(0/0,0/0,e)}function pe(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ge(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function me(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ve(e,t,n){return this instanceof ve?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof ve?new ve(e.r,e.g,e.b):we(""+e,ve,ue):new ve(e,t,n)}function ye(e){return new ve(e>>16,e>>8&255,255&e)}function be(e){return ye(e)+""}function xe(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function we(e,t,n){e=e.toLowerCase();var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(e))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(Se(i[0]),Se(i[1]),Se(i[2]))}return(o=Ja.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a=a>>4|a,s=240&o,s=s>>4|s,u=15&o,u=u<<4|u):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),t(a,s,u))}function $e(e,t,n){var r,i,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,u=(a+o)/2;return s?(i=.5>u?s/(a+o):s/(2-a-o),r=e==a?(t-n)/s+(n>t?6:0):t==a?(n-e)/s+2:(e-t)/s+4,r*=60):(r=0/0,i=u>0&&1>u?0:r),new se(r,i,u)}function ke(e,t,n){e=_e(e),t=_e(t),n=_e(n);var r=ge((.4124564*e+.3575761*t+.1804375*n)/Ya),i=ge((.2126729*e+.7151522*t+.072175*n)/Xa),o=ge((.0193339*e+.119192*t+.9503041*n)/Ga);return fe(116*i-16,500*(r-i),200*(i-o))}function _e(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Se(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function Ce(e){return"function"==typeof e?e:function(){return e}}function Ee(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Me(t,n,e,r)}}function Me(e,t,n,r){function i(){var e,t=u.status;if(!t&&Ae(u)||t>=200&&300>t||304===t){try{e=n.call(o,u)}catch(r){return void a.error.call(o,r)}a.load.call(o,e)}else a.error.call(o,u)}var o={},a=na.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(e)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(e){var t=na.event;na.event=e;try{a.progress.call(o,u)}finally{na.event=t}},o.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s[e]:(null==t?delete s[e]:s[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",o):t},o.responseType=function(e){return arguments.length?(l=e,o):l},o.response=function(e){return n=e,o},["get","post"].forEach(function(e){o[e]=function(){return o.send.apply(o,[e].concat(ia(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=t&&u.overrideMimeType&&u.overrideMimeType(t),null!=l&&(u.responseType=l),null!=i&&o.on("error",i).on("load",function(e){i(null,e)}),a.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},na.rebind(o,a,"on"),null==r?o:o.get(Te(r))}function Te(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Ae(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function Oe(){var e=De(),t=Ne()-e;t>24?(isFinite(t)&&(clearTimeout(ns),ns=setTimeout(Oe,t)),ts=0):(ts=1,is(Oe))}function De(){var e=Date.now();for(rs=Qa;rs;)e>=rs.t&&(rs.f=rs.c(e-rs.t)),rs=rs.n;return e}function Ne(){for(var e,t=Qa,n=1/0;t;)t.f?t=e?e.n=t.n:Qa=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return es=e,n}function Le(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Pe(e,t){var n=Math.pow(10,3*pa(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Ie(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,o=r&&n?function(e,t){for(var i=e.length,o=[],a=0,s=r[0],u=0;i>0&&s>0&&(u+s+1>t&&(s=Math.max(1,t-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>t));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:y;return function(e){var n=as.exec(e),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],f=n[7],h=n[8],d=n[9],p=1,g="",m="",v=!1,y=!0;switch(h&&(h=+h.substring(1)),(l||"0"===r&&"="===a)&&(l=r="0",a="="),d){case"n":f=!0,d="g";break;case"%":p=100,m="%",d="f";break;case"p":p=100,m="%",d="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+d.toLowerCase());case"c":y=!1;case"d":v=!0,h=0;break;case"s":p=-1,d="r"}"$"===u&&(g=i[0],m=i[1]),"r"!=d||h||(d="g"),null!=h&&("g"==d?h=Math.max(1,Math.min(21,h)):("e"==d||"f"==d)&&(h=Math.max(0,Math.min(20,h)))),d=ss.get(d)||Re;var b=l&&f;return function(e){var n=m;if(v&&e%1)return"";var i=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===s?"":s;if(0>p){var u=na.formatPrefix(e,h);e=u.scale(e),n=u.symbol+m}else e*=p;e=d(e,h);var x,w,$=e.lastIndexOf(".");if(0>$){var k=y?e.lastIndexOf("e"):-1;0>k?(x=e,w=""):(x=e.substring(0,k),w=e.substring(k))}else x=e.substring(0,$),w=t+e.substring($+1);!l&&f&&(x=o(x,1/0));var _=g.length+x.length+w.length+(b?0:i.length),S=c>_?new Array(_=c-_+1).join(r):"";return b&&(x=o(S+x,S.length?c-w.length:1/0)),i+=g,e=x+w,("<"===a?i+e+S:">"===a?S+i+e:"^"===a?S.substring(0,_>>=1)+i+e+S.substring(_):i+(b?e:S+e))+n}}}function Re(e){return e+""}function je(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Fe(e,t,n){function r(t){var n=e(t),r=o(n,1);return r-t>t-n?n:r}function i(n){return t(n=e(new ls(n-1)),1),n}function o(e,n){return t(e=new ls(+e),n),e}function a(e,r,o){var a=i(e),s=[];if(o>1)for(;r>a;)n(a)%o||s.push(new Date(+a)),t(a,1);else for(;r>a;)s.push(new Date(+a)),t(a,1);return s}function s(e,t,n){try{ls=je;var r=new je;return r._=e,a(r,t,n)}finally{ls=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=o,e.range=a;var u=e.utc=Ue(e);return u.floor=u,u.round=Ue(r),u.ceil=Ue(i),u.offset=Ue(o),u.range=s,e}function Ue(e){return function(t,n){try{ls=je;var r=new je;return r._=t,e(r,n)._}finally{ls=Date}}}function qe(e){function t(e){function t(t){for(var n,i,o,a=[],s=-1,u=0;++s<r;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=fs[n=e.charAt(++s)])&&(n=e.charAt(++s)),(o=M[n])&&(n=o(t,null==i?"e"===n?" ":"0":i)),a.push(n),u=s+1);return a.push(e.slice(u,s)),a.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,e,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&ls!==je,a=new(o?je:ls);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?a._:a},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,o,a,s=0,u=t.length,l=n.length;u>s;){if(r>=l)return-1;if(i=t.charCodeAt(s++),37===i){if(a=t.charAt(s++),o=T[a in fs?t.charAt(s++):a],!o||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){$.lastIndex=0;var r=$.exec(t.slice(n));return r?(e.w=k.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){x.lastIndex=0;var r=x.exec(t.slice(n));return r?(e.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){C.lastIndex=0;var r=C.exec(t.slice(n));return r?(e.m=E.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,n){_.lastIndex=0;var r=_.exec(t.slice(n));return r?(e.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,r){return n(e,M.c.toString(),t,r)}function u(e,t,r){return n(e,M.x.toString(),t,r)}function l(e,t,r){return n(e,M.X.toString(),t,r)}function c(e,t,n){var r=b.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var f=e.dateTime,h=e.date,d=e.time,p=e.periods,g=e.days,m=e.shortDays,v=e.months,y=e.shortMonths;t.utc=function(e){function n(e){try{ls=je;var t=new ls;return t._=e,r(t)}finally{ls=Date}}var r=t(e);return n.parse=function(e){try{ls=je;var t=r.parse(e);return t&&t._}finally{ls=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=st;var b=na.map(),x=He(g),w=We(g),$=He(m),k=We(m),_=He(v),S=We(v),C=He(y),E=We(y);p.forEach(function(e,t){b.set(e.toLowerCase(),t)});var M={a:function(e){return m[e.getDay()]},A:function(e){return g[e.getDay()]},b:function(e){return y[e.getMonth()]},B:function(e){return v[e.getMonth()]},c:t(f),d:function(e,t){return ze(e.getDate(),t,2)},e:function(e,t){return ze(e.getDate(),t,2)},H:function(e,t){return ze(e.getHours(),t,2)},I:function(e,t){return ze(e.getHours()%12||12,t,2)},j:function(e,t){return ze(1+us.dayOfYear(e),t,3)},L:function(e,t){return ze(e.getMilliseconds(),t,3)},m:function(e,t){return ze(e.getMonth()+1,t,2)},M:function(e,t){return ze(e.getMinutes(),t,2)},p:function(e){return p[+(e.getHours()>=12)]},S:function(e,t){return ze(e.getSeconds(),t,2)},U:function(e,t){return ze(us.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return ze(us.mondayOfYear(e),t,2)},x:t(h),X:t(d),y:function(e,t){return ze(e.getFullYear()%100,t,2)},Y:function(e,t){return ze(e.getFullYear()%1e4,t,4)},Z:ot,"%":function(){return"%"}},T={a:r,A:i,b:o,B:a,c:s,d:Qe,e:Qe,H:tt,I:tt,j:et,L:it,m:Je,M:nt,p:c,S:rt,U:Ve,w:Be,W:Ye,x:u,X:l,y:Ge,Y:Xe,Z:Ke,"%":at};return t}function ze(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(t)+i:i)}function He(e){return new RegExp("^(?:"+e.map(na.requote).join("|")+")","i")}function We(e){for(var t=new l,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Be(e,t,n){hs.lastIndex=0;var r=hs.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ve(e,t,n){hs.lastIndex=0;var r=hs.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Ye(e,t,n){hs.lastIndex=0;var r=hs.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Xe(e,t,n){hs.lastIndex=0;var r=hs.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ge(e,t,n){hs.lastIndex=0;var r=hs.exec(t.slice(n,n+2));return r?(e.y=Ze(+r[0]),n+r[0].length):-1}function Ke(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Ze(e){return e+(e>68?1900:2e3)}function Je(e,t,n){hs.lastIndex=0;var r=hs.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Qe(e,t,n){hs.lastIndex=0;var r=hs.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function et(e,t,n){hs.lastIndex=0;var r=hs.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function tt(e,t,n){hs.lastIndex=0;var r=hs.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function nt(e,t,n){hs.lastIndex=0;var r=hs.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function rt(e,t,n){hs.lastIndex=0;var r=hs.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function it(e,t,n){hs.lastIndex=0;var r=hs.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ot(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=pa(t)/60|0,i=pa(t)%60;return n+ze(r,"0",2)+ze(i,"0",2)}function at(e,t,n){ds.lastIndex=0;var r=ds.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function st(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function ut(){}function lt(e,t,n){var r=n.s=e+t,i=r-e,o=r-i;n.t=e-o+(t-i)}function ct(e,t){e&&vs.hasOwnProperty(e.type)&&vs[e.type](e,t)}function ft(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function ht(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)ft(e[n],t,1);t.polygonEnd()}function dt(){function e(e,t){e*=Ia,t=t*Ia/2+Da/4;var n=e-r,a=n>=0?1:-1,s=a*n,u=Math.cos(t),l=Math.sin(t),c=o*l,f=i*u+c*Math.cos(s),h=c*a*Math.sin(s);bs.add(Math.atan2(h,f)),r=e,i=u,o=l}var t,n,r,i,o;xs.point=function(a,s){xs.point=e,r=(t=a)*Ia,i=Math.cos(s=(n=s)*Ia/2+Da/4),o=Math.sin(s)},xs.lineEnd=function(){e(t,n)}}function pt(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function gt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function mt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function vt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function yt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function bt(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function xt(e){return[Math.atan2(e[1],e[0]),te(e[2])]}function wt(e,t){return pa(e[0]-t[0])<Aa&&pa(e[1]-t[1])<Aa}function $t(e,t){e*=Ia;var n=Math.cos(t*=Ia);kt(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function kt(e,t,n){++ws,ks+=(e-ks)/ws,_s+=(t-_s)/ws,Ss+=(n-Ss)/ws}function _t(){function e(e,i){e*=Ia;var o=Math.cos(i*=Ia),a=o*Math.cos(e),s=o*Math.sin(e),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*a-t*u)*l+(l=t*s-n*a)*l),t*a+n*s+r*u);$s+=l,Cs+=l*(t+(t=a)),Es+=l*(n+(n=s)),Ms+=l*(r+(r=u)),kt(t,n,r)}var t,n,r;Ds.point=function(i,o){i*=Ia;var a=Math.cos(o*=Ia);t=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Ds.point=e,kt(t,n,r)}}function St(){Ds.point=$t}function Ct(){function e(e,t){e*=Ia;var n=Math.cos(t*=Ia),a=n*Math.cos(e),s=n*Math.sin(e),u=Math.sin(t),l=i*u-o*s,c=o*a-r*u,f=r*s-i*a,h=Math.sqrt(l*l+c*c+f*f),d=r*a+i*s+o*u,p=h&&-ee(d)/h,g=Math.atan2(h,d);Ts+=p*l,As+=p*c,Os+=p*f,$s+=g,Cs+=g*(r+(r=a)),Es+=g*(i+(i=s)),Ms+=g*(o+(o=u)),kt(r,i,o)}var t,n,r,i,o;Ds.point=function(a,s){t=a,n=s,Ds.point=e,a*=Ia;var u=Math.cos(s*=Ia);r=u*Math.cos(a),i=u*Math.sin(a),o=Math.sin(s),kt(r,i,o)},Ds.lineEnd=function(){e(t,n),Ds.lineEnd=St,Ds.point=$t}}function Et(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function Mt(){return!0}function Tt(e,t,n,r,i){
var o=[],a=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(wt(n,r)){i.lineStart();for(var s=0;t>s;++s)i.point((n=e[s])[0],n[1]);return void i.lineEnd()}var u=new Ot(n,e,null,!0),l=new Ot(n,null,u,!1);u.o=l,o.push(u),a.push(l),u=new Ot(r,e,null,!1),l=new Ot(r,null,u,!0),u.o=l,o.push(u),a.push(l)}}),a.sort(t),At(o),At(a),o.length){for(var s=0,u=n,l=a.length;l>s;++s)a[s].e=u=!u;for(var c,f,h=o[0];;){for(var d=h,p=!0;d.v;)if((d=d.n)===h)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(var s=0,l=c.length;l>s;++s)i.point((f=c[s])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p){c=d.p.z;for(var s=c.length-1;s>=0;--s)i.point((f=c[s])[0],f[1])}else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,p=!p}while(!d.v);i.lineEnd()}}}function At(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function Ot(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Dt(e,t,n,r){return function(i,o){function a(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function s(e,t){var n=i(e,t);m.point(n[0],n[1])}function u(){y.point=s,m.lineStart()}function l(){y.point=a,m.lineEnd()}function c(e,t){g.push([e,t]);var n=i(e,t);x.point(n[0],n[1])}function f(){x.lineStart(),g=[]}function h(){c(g[0][0],g[0][1]),x.lineEnd();var e,t=x.clean(),n=b.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r)if(1&t){e=n[0];var i,r=e.length-1,a=-1;if(r>0){for(w||(o.polygonStart(),w=!0),o.lineStart();++a<r;)o.point((i=e[a])[0],i[1]);o.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),d.push(n.filter(Nt))}var d,p,g,m=t(o),v=i.invert(r[0],r[1]),y={point:a,lineStart:u,lineEnd:l,polygonStart:function(){y.point=c,y.lineStart=f,y.lineEnd=h,d=[],p=[]},polygonEnd:function(){y.point=a,y.lineStart=u,y.lineEnd=l,d=na.merge(d);var e=Ft(v,p);d.length?(w||(o.polygonStart(),w=!0),Tt(d,Pt,e,n,o)):e&&(w||(o.polygonStart(),w=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),w&&(o.polygonEnd(),w=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Lt(),x=t(b),w=!1;return y}}function Nt(e){return e.length>1}function Lt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:w,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Pt(e,t){return((e=e.x)[0]<0?e[1]-Pa-Aa:Pa-e[1])-((t=t.x)[0]<0?t[1]-Pa-Aa:Pa-t[1])}function It(e){var t,n=0/0,r=0/0,i=0/0;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?Da:-Da,u=pa(o-n);pa(u-Da)<Aa?(e.point(n,r=(r+a)/2>0?Pa:-Pa),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&u>=Da&&(pa(n-i)<Aa&&(n-=i*Aa),pa(o-s)<Aa&&(o-=s*Aa),r=Rt(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=0/0},clean:function(){return 2-t}}}function Rt(e,t,n,r){var i,o,a=Math.sin(e-n);return pa(a)>Aa?Math.atan((Math.sin(t)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*o*a)):(t+r)/2}function jt(e,t,n,r){var i;if(null==e)i=n*Pa,r.point(-Da,i),r.point(0,i),r.point(Da,i),r.point(Da,0),r.point(Da,-i),r.point(0,-i),r.point(-Da,-i),r.point(-Da,0),r.point(-Da,i);else if(pa(e[0]-t[0])>Aa){var o=e[0]<t[0]?Da:-Da;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function Ft(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;bs.reset();for(var s=0,u=t.length;u>s;++s){var l=t[s],c=l.length;if(c)for(var f=l[0],h=f[0],d=f[1]/2+Da/4,p=Math.sin(d),g=Math.cos(d),m=1;;){m===c&&(m=0),e=l[m];var v=e[0],y=e[1]/2+Da/4,b=Math.sin(y),x=Math.cos(y),w=v-h,$=w>=0?1:-1,k=$*w,_=k>Da,S=p*b;if(bs.add(Math.atan2(S*$*Math.sin(k),g*x+S*Math.cos(k))),o+=_?w+$*Na:w,_^h>=n^v>=n){var C=mt(pt(f),pt(e));bt(C);var E=mt(i,C);bt(E);var M=(_^w>=0?-1:1)*te(E[2]);(r>M||r===M&&(C[0]||C[1]))&&(a+=_^w>=0?1:-1)}if(!m++)break;h=v,p=b,g=x,f=e}}return(-Aa>o||Aa>o&&0>bs)^1&a}function Ut(e){function t(e,t){return Math.cos(e)*Math.cos(t)>o}function n(e){var n,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(f,h){var d,p=[f,h],g=t(f,h),m=a?g?0:i(f,h):g?i(f+(0>f?Da:-Da),h):0;if(!n&&(l=u=g)&&e.lineStart(),g!==u&&(d=r(n,p),(wt(n,d)||wt(p,d))&&(p[0]+=Aa,p[1]+=Aa,g=t(p[0],p[1]))),g!==u)c=0,g?(e.lineStart(),d=r(p,n),e.point(d[0],d[1])):(d=r(n,p),e.point(d[0],d[1]),e.lineEnd()),n=d;else if(s&&n&&a^g){var v;m&o||!(v=r(p,n,!0))||(c=0,a?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!g||n&&wt(n,p)||e.point(p[0],p[1]),n=p,u=g,o=m},lineEnd:function(){u&&e.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function r(e,t,n){var r=pt(e),i=pt(t),a=[1,0,0],s=mt(r,i),u=gt(s,s),l=s[0],c=u-l*l;if(!c)return!n&&e;var f=o*u/c,h=-o*l/c,d=mt(a,s),p=yt(a,f),g=yt(s,h);vt(p,g);var m=d,v=gt(p,m),y=gt(m,m),b=v*v-y*(gt(p,p)-1);if(!(0>b)){var x=Math.sqrt(b),w=yt(m,(-v-x)/y);if(vt(w,p),w=xt(w),!n)return w;var $,k=e[0],_=t[0],S=e[1],C=t[1];k>_&&($=k,k=_,_=$);var E=_-k,M=pa(E-Da)<Aa,T=M||Aa>E;if(!M&&S>C&&($=S,S=C,C=$),T?M?S+C>0^w[1]<(pa(w[0]-k)<Aa?S:C):S<=w[1]&&w[1]<=C:E>Da^(k<=w[0]&&w[0]<=_)){var A=yt(m,(-v+x)/y);return vt(A,p),[w,xt(A)]}}}function i(t,n){var r=a?e:Da-e,i=0;return-r>t?i|=1:t>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var o=Math.cos(e),a=o>0,s=pa(o)>Aa,u=pn(e,6*Ia);return Dt(t,n,u,a?[0,-e]:[-Da,e-Da])}function qt(e,t,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,l=a.y,c=s.x,f=s.y,h=0,d=1,p=c-u,g=f-l;if(o=e-u,p||!(o>0)){if(o/=p,0>p){if(h>o)return;d>o&&(d=o)}else if(p>0){if(o>d)return;o>h&&(h=o)}if(o=n-u,p||!(0>o)){if(o/=p,0>p){if(o>d)return;o>h&&(h=o)}else if(p>0){if(h>o)return;d>o&&(d=o)}if(o=t-l,g||!(o>0)){if(o/=g,0>g){if(h>o)return;d>o&&(d=o)}else if(g>0){if(o>d)return;o>h&&(h=o)}if(o=r-l,g||!(0>o)){if(o/=g,0>g){if(o>d)return;o>h&&(h=o)}else if(g>0){if(h>o)return;d>o&&(d=o)}return h>0&&(i.a={x:u+h*p,y:l+h*g}),1>d&&(i.b={x:u+d*p,y:l+d*g}),i}}}}}}function zt(e,t,n,r){function i(r,i){return pa(r[0]-e)<Aa?i>0?0:3:pa(r[0]-n)<Aa?i>0?2:1:pa(r[1]-t)<Aa?i>0?1:0:i>0?3:2}function o(e,t){return a(e.x,t.x)}function a(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){function u(e){for(var t=0,n=m.length,r=e[1],i=0;n>i;++i)for(var o,a=1,s=m[i],u=s.length,l=s[0];u>a;++a)o=s[a],l[1]<=r?o[1]>r&&Q(l,o,e)>0&&++t:o[1]<=r&&Q(l,o,e)<0&&--t,l=o;return 0!==t}function l(o,s,u,l){var c=0,f=0;if(null==o||(c=i(o,u))!==(f=i(s,u))||a(o,s)<0^u>0){do l.point(0===c||3===c?e:n,c>1?r:t);while((c=(c+u+4)%4)!==f)}else l.point(s[0],s[1])}function c(i,o){return i>=e&&n>=i&&o>=t&&r>=o}function f(e,t){c(e,t)&&s.point(e,t)}function h(){T.point=p,m&&m.push(v=[]),_=!0,k=!1,w=$=0/0}function d(){g&&(p(y,b),x&&k&&E.rejoin(),g.push(E.buffer())),T.point=f,k&&s.lineEnd()}function p(e,t){e=Math.max(-Ls,Math.min(Ls,e)),t=Math.max(-Ls,Math.min(Ls,t));var n=c(e,t);if(m&&v.push([e,t]),_)y=e,b=t,x=n,_=!1,n&&(s.lineStart(),s.point(e,t));else if(n&&k)s.point(e,t);else{var r={a:{x:w,y:$},b:{x:e,y:t}};M(r)?(k||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),S=!1):n&&(s.lineStart(),s.point(e,t),S=!1)}w=e,$=t,k=n}var g,m,v,y,b,x,w,$,k,_,S,C=s,E=Lt(),M=qt(e,t,n,r),T={point:f,lineStart:h,lineEnd:d,polygonStart:function(){s=E,g=[],m=[],S=!0},polygonEnd:function(){s=C,g=na.merge(g);var t=u([e,r]),n=S&&t,i=g.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),i&&Tt(g,o,t,l,s),s.polygonEnd()),g=m=v=null}};return T}}function Ht(e){var t=0,n=Da/3,r=an(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Da/180,n=e[1]*Da/180):[t/Da*180,n/Da*180]},i}function Wt(e,t){function n(e,t){var n=Math.sqrt(o-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),a-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,te((o-(e*e+n*n)*i*i)/(2*i))]},n}function Bt(){function e(e,t){Is+=i*e-r*t,r=e,i=t}var t,n,r,i;qs.point=function(o,a){qs.point=e,t=r=o,n=i=a},qs.lineEnd=function(){e(t,n)}}function Vt(e,t){Rs>e&&(Rs=e),e>Fs&&(Fs=e),js>t&&(js=t),t>Us&&(Us=t)}function Yt(){function e(e,t){a.push("M",e,",",t,o)}function t(e,t){a.push("M",e,",",t),s.point=n}function n(e,t){a.push("L",e,",",t)}function r(){s.point=e}function i(){a.push("Z")}var o=Xt(4.5),a=[],s={point:e,lineStart:function(){s.point=t},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(e){return o=Xt(e),s},result:function(){if(a.length){var e=a.join("");return a=[],e}}};return s}function Xt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Gt(e,t){ks+=e,_s+=t,++Ss}function Kt(){function e(e,r){var i=e-t,o=r-n,a=Math.sqrt(i*i+o*o);Cs+=a*(t+e)/2,Es+=a*(n+r)/2,Ms+=a,Gt(t=e,n=r)}var t,n;Hs.point=function(r,i){Hs.point=e,Gt(t=r,n=i)}}function Zt(){Hs.point=Gt}function Jt(){function e(e,t){var n=e-r,o=t-i,a=Math.sqrt(n*n+o*o);Cs+=a*(r+e)/2,Es+=a*(i+t)/2,Ms+=a,a=i*e-r*t,Ts+=a*(r+e),As+=a*(i+t),Os+=3*a,Gt(r=e,i=t)}var t,n,r,i;Hs.point=function(o,a){Hs.point=e,Gt(t=r=o,n=i=a)},Hs.lineEnd=function(){e(t,n)}}function Qt(e){function t(t,n){e.moveTo(t+a,n),e.arc(t,n,a,0,Na)}function n(t,n){e.moveTo(t,n),s.point=r}function r(t,n){e.lineTo(t,n)}function i(){s.point=t}function o(){e.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(e){return a=e,s},result:w};return s}function en(e){function t(e){return(s?r:n)(e)}function n(t){return rn(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){b=0/0,_.point=o,t.lineStart()}function o(n,r){var o=pt([n,r]),a=e(n,r);i(b,x,y,w,$,k,b=a[0],x=a[1],y=n,w=o[0],$=o[1],k=o[2],s,t),t.point(b,x)}function a(){_.point=n,t.lineEnd()}function u(){r(),_.point=l,_.lineEnd=c}function l(e,t){o(f=e,h=t),d=b,p=x,g=w,m=$,v=k,_.point=o}function c(){i(b,x,y,w,$,k,d,p,f,g,m,v,s,t),_.lineEnd=a,a()}var f,h,d,p,g,m,v,y,b,x,w,$,k,_={point:n,lineStart:r,lineEnd:a,polygonStart:function(){t.polygonStart(),_.lineStart=u},polygonEnd:function(){t.polygonEnd(),_.lineStart=r}};return _}function i(t,n,r,s,u,l,c,f,h,d,p,g,m,v){var y=c-t,b=f-n,x=y*y+b*b;if(x>4*o&&m--){var w=s+d,$=u+p,k=l+g,_=Math.sqrt(w*w+$*$+k*k),S=Math.asin(k/=_),C=pa(pa(k)-1)<Aa||pa(r-h)<Aa?(r+h)/2:Math.atan2($,w),E=e(C,S),M=E[0],T=E[1],A=M-t,O=T-n,D=b*A-y*O;(D*D/x>o||pa((y*A+b*O)/x-.5)>.3||a>s*d+u*p+l*g)&&(i(t,n,r,s,u,l,M,T,C,w/=_,$/=_,k,m,v),v.point(M,T),i(M,T,C,w,$,k,c,f,h,d,p,g,m,v))}}var o=.5,a=Math.cos(30*Ia),s=16;return t.precision=function(e){return arguments.length?(s=(o=e*e)>0&&16,t):Math.sqrt(o)},t}function tn(e){var t=en(function(t,n){return e([t*Ra,n*Ra])});return function(e){return sn(t(e))}}function nn(e){this.stream=e}function rn(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function on(e){return an(function(){return e})()}function an(e){function t(e){return e=s(e[0]*Ia,e[1]*Ia),[e[0]*h+u,l-e[1]*h]}function n(e){return e=s.invert((e[0]-u)/h,(l-e[1])/h),e&&[e[0]*Ra,e[1]*Ra]}function r(){s=Et(a=cn(v,b,x),o);var e=o(g,m);return u=d-e[0]*h,l=p+e[1]*h,i()}function i(){return c&&(c.valid=!1,c=null),t}var o,a,s,u,l,c,f=en(function(e,t){return e=o(e,t),[e[0]*h+u,l-e[1]*h]}),h=150,d=480,p=250,g=0,m=0,v=0,b=0,x=0,w=Ns,$=y,k=null,_=null;return t.stream=function(e){return c&&(c.valid=!1),c=sn(w(a,f($(e)))),c.valid=!0,c},t.clipAngle=function(e){return arguments.length?(w=null==e?(k=e,Ns):Ut((k=+e)*Ia),i()):k},t.clipExtent=function(e){return arguments.length?(_=e,$=e?zt(e[0][0],e[0][1],e[1][0],e[1][1]):y,i()):_},t.scale=function(e){return arguments.length?(h=+e,r()):h},t.translate=function(e){return arguments.length?(d=+e[0],p=+e[1],r()):[d,p]},t.center=function(e){return arguments.length?(g=e[0]%360*Ia,m=e[1]%360*Ia,r()):[g*Ra,m*Ra]},t.rotate=function(e){return arguments.length?(v=e[0]%360*Ia,b=e[1]%360*Ia,x=e.length>2?e[2]%360*Ia:0,r()):[v*Ra,b*Ra,x*Ra]},na.rebind(t,f,"precision"),function(){return o=e.apply(this,arguments),t.invert=o.invert&&n,r()}}function sn(e){return rn(e,function(t,n){e.point(t*Ia,n*Ia)})}function un(e,t){return[e,t]}function ln(e,t){return[e>Da?e-Na:-Da>e?e+Na:e,t]}function cn(e,t,n){return e?t||n?Et(hn(e),dn(t,n)):hn(e):t||n?dn(t,n):ln}function fn(e){return function(t,n){return t+=e,[t>Da?t-Na:-Da>t?t+Na:t,n]}}function hn(e){var t=fn(e);return t.invert=fn(-e),t}function dn(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,u=Math.sin(e)*n,l=Math.sin(t),c=l*r+s*i;return[Math.atan2(u*o-c*a,s*r-l*i),te(c*o+u*a)]}var r=Math.cos(e),i=Math.sin(e),o=Math.cos(t),a=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,u=Math.sin(e)*n,l=Math.sin(t),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*r+c*i),te(c*r-s*i)]},n}function pn(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,o,a,s){var u=a*t;null!=i?(i=gn(n,i),o=gn(n,o),(a>0?o>i:i>o)&&(i+=a*Na)):(i=e+a*Na,o=e-.5*u);for(var l,c=i;a>0?c>o:o>c;c-=u)s.point((l=xt([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function gn(e,t){var n=pt(t);n[0]-=e,bt(n);var r=ee(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Aa)%(2*Math.PI)}function mn(e,t,n){var r=na.range(e,t-Aa,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function vn(e,t,n){var r=na.range(e,t-Aa,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function yn(e){return e.source}function bn(e){return e.target}function xn(e,t,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(e),l=i*Math.sin(e),c=a*Math.cos(n),f=a*Math.sin(n),h=2*Math.asin(Math.sqrt(oe(r-t)+i*a*oe(n-e))),d=1/Math.sin(h),p=h?function(e){var t=Math.sin(e*=h)*d,n=Math.sin(h-e)*d,r=n*u+t*c,i=n*l+t*f,a=n*o+t*s;return[Math.atan2(i,r)*Ra,Math.atan2(a,Math.sqrt(r*r+i*i))*Ra]}:function(){return[e*Ra,t*Ra]};return p.distance=h,p}function wn(){function e(e,i){var o=Math.sin(i*=Ia),a=Math.cos(i),s=pa((e*=Ia)-t),u=Math.cos(s);Ws+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u),t=e,n=o,r=a}var t,n,r;Bs.point=function(i,o){t=i*Ia,n=Math.sin(o*=Ia),r=Math.cos(o),Bs.point=e},Bs.lineEnd=function(){Bs.point=Bs.lineEnd=w}}function $n(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),o=e(r*i);return[o*i*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(e*o,r*a),Math.asin(r&&n*o/r)]},n}function kn(e,t){function n(e,t){a>0?-Pa+Aa>t&&(t=-Pa+Aa):t>Pa-Aa&&(t=Pa-Aa);var n=a/Math.pow(i(t),o);return[n*Math.sin(o*e),a-n*Math.cos(o*e)]}var r=Math.cos(e),i=function(e){return Math.tan(Da/4+e/2)},o=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),a=r*Math.pow(i(e),o)/o;return o?(n.invert=function(e,t){var n=a-t,r=J(o)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Pa]},n):Sn}function _n(e,t){function n(e,t){var n=o-t;return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),o=r/i+e;return pa(i)<Aa?un:(n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,o-J(i)*Math.sqrt(e*e+n*n)]},n)}function Sn(e,t){return[e,Math.log(Math.tan(Da/4+t/2))]}function Cn(e){var t,n=on(e),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var s=Da*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}function En(e,t){return[Math.log(Math.tan(Da/4+t/2)),-e]}function Mn(e){return e[0]}function Tn(e){return e[1]}function An(e){for(var t=e.length,n=[0,1],r=2,i=2;t>i;i++){for(;r>1&&Q(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function On(e,t){return e[0]-t[0]||e[1]-t[1]}function Dn(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Nn(e,t,n,r){var i=e[0],o=n[0],a=t[0]-i,s=r[0]-o,u=e[1],l=n[1],c=t[1]-u,f=r[1]-l,h=(s*(u-l)-f*(i-o))/(f*a-s*c);return[i+h*a,u+h*c]}function Ln(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Pn(){nr(this),this.edge=this.site=this.circle=null}function In(e){var t=ru.pop()||new Pn;return t.site=e,t}function Rn(e){Yn(e),eu.remove(e),ru.push(e),nr(e)}function jn(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},o=e.P,a=e.N,s=[e];Rn(e);for(var u=o;u.circle&&pa(n-u.circle.x)<Aa&&pa(r-u.circle.cy)<Aa;)o=u.P,s.unshift(u),Rn(u),u=o;s.unshift(u),Yn(u);for(var l=a;l.circle&&pa(n-l.circle.x)<Aa&&pa(r-l.circle.cy)<Aa;)a=l.N,s.push(l),Rn(l),l=a;s.push(l),Yn(l);var c,f=s.length;for(c=1;f>c;++c)l=s[c],u=s[c-1],Qn(l.edge,u.site,l.site,i);u=s[0],l=s[f-1],l.edge=Zn(u.site,l.site,null,i),Vn(u),Vn(l)}function Fn(e){for(var t,n,r,i,o=e.x,a=e.y,s=eu._;s;)if(r=Un(s,a)-o,r>Aa)s=s.L;else{if(i=o-qn(s,a),!(i>Aa)){r>-Aa?(t=s.P,n=s):i>-Aa?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var u=In(e);if(eu.insert(t,u),t||n){if(t===n)return Yn(t),n=In(t.site),eu.insert(u,n),u.edge=n.edge=Zn(t.site,u.site),Vn(t),void Vn(n);if(!n)return void(u.edge=Zn(t.site,u.site));Yn(t),Yn(n);var l=t.site,c=l.x,f=l.y,h=e.x-c,d=e.y-f,p=n.site,g=p.x-c,m=p.y-f,v=2*(h*m-d*g),y=h*h+d*d,b=g*g+m*m,x={x:(m*y-d*b)/v+c,y:(h*b-g*y)/v+f};Qn(n.edge,l,p,x),u.edge=Zn(l,e,null,x),n.edge=Zn(e,p,null,x),Vn(t),Vn(n)}}function Un(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var a=e.P;if(!a)return-(1/0);n=a.site;var s=n.x,u=n.y,l=u-t;if(!l)return s;var c=s-r,f=1/o-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+i-o/2)))/f+r:(r+s)/2}function qn(e,t){var n=e.N;if(n)return Un(n,t);var r=e.site;return r.y===t?r.x:1/0}function zn(e){this.site=e,this.edges=[]}function Hn(e){for(var t,n,r,i,o,a,s,u,l,c,f=e[0][0],h=e[1][0],d=e[0][1],p=e[1][1],g=Qs,m=g.length;m--;)if(o=g[m],o&&o.prepare())for(s=o.edges,u=s.length,a=0;u>a;)c=s[a].end(),r=c.x,i=c.y,l=s[++a%u].start(),t=l.x,n=l.y,(pa(r-t)>Aa||pa(i-n)>Aa)&&(s.splice(a,0,new er(Jn(o.site,c,pa(r-f)<Aa&&p-i>Aa?{x:f,y:pa(t-f)<Aa?n:p}:pa(i-p)<Aa&&h-r>Aa?{x:pa(n-p)<Aa?t:h,y:p}:pa(r-h)<Aa&&i-d>Aa?{x:h,y:pa(t-h)<Aa?n:d}:pa(i-d)<Aa&&r-f>Aa?{x:pa(n-d)<Aa?t:f,y:d}:null),o.site,null)),++u)}function Wn(e,t){return t.angle-e.angle}function Bn(){nr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,f=o.y-s,h=2*(u*f-l*c);if(!(h>=-Oa)){var d=u*u+l*l,p=c*c+f*f,g=(f*d-l*p)/h,m=(u*p-c*d)/h,f=m+s,v=iu.pop()||new Bn;v.arc=e,v.site=i,v.x=g+a,v.y=f+Math.sqrt(g*g+m*m),v.cy=f,e.circle=v;for(var y=null,b=nu._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}nu.insert(y,v),y||(tu=v)}}}}function Yn(e){var t=e.circle;t&&(t.P||(tu=t.N),nu.remove(t),iu.push(t),nr(t),e.circle=null)}function Xn(e){for(var t,n=Js,r=qt(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!Gn(t,e)||!r(t)||pa(t.a.x-t.b.x)<Aa&&pa(t.a.y-t.b.y)<Aa)&&(t.a=t.b=null,n.splice(i,1))}function Gn(e,t){var n=e.b;if(n)return!0;var r,i,o=e.a,a=t[0][0],s=t[1][0],u=t[0][1],l=t[1][1],c=e.l,f=e.r,h=c.x,d=c.y,p=f.x,g=f.y,m=(h+p)/2,v=(d+g)/2;if(g===d){if(a>m||m>=s)return;if(h>p){if(o){if(o.y>=l)return}else o={x:m,y:u};n={x:m,y:l}}else{if(o){if(o.y<u)return}else o={x:m,y:l};n={x:m,y:u}}}else if(r=(h-p)/(g-d),i=v-r*m,-1>r||r>1)if(h>p){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(g>d){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return e.a=o,e.b=n,!0}function Kn(e,t){this.l=e,this.r=t,this.a=this.b=null}function Zn(e,t,n,r){var i=new Kn(e,t);return Js.push(i),n&&Qn(i,e,t,n),r&&Qn(i,t,e,r),Qs[e.i].edges.push(new er(i,e,t)),Qs[t.i].edges.push(new er(i,t,e)),i}function Jn(e,t,n){var r=new Kn(e,null);return r.a=t,r.b=n,Js.push(r),r}function Qn(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function er(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function tr(){this._=null}function nr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function rr(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ir(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function or(e){for(;e.L;)e=e.L;return e}function ar(e,t){var n,r,i,o=e.sort(sr).pop();for(Js=[],Qs=new Array(e.length),eu=new tr,nu=new tr;;)if(i=tu,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))(o.x!==n||o.y!==r)&&(Qs[o.i]=new zn(o),Fn(o),n=o.x,r=o.y),o=e.pop();else{if(!i)break;jn(i.arc)}t&&(Xn(t),Hn(t));var a={cells:Qs,edges:Js};return eu=nu=Js=Qs=null,a}function sr(e,t){return t.y-e.y||t.x-e.x}function ur(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function lr(e){return e.x}function cr(e){return e.y}function fr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hr(e,t,n,r,i,o){if(!e(t,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=t.nodes;u[0]&&hr(e,u[0],n,r,a,s),u[1]&&hr(e,u[1],a,r,i,s),u[2]&&hr(e,u[2],n,s,a,o),u[3]&&hr(e,u[3],a,s,i,o)}}function dr(e,t,n,r,i,o,a){var s,u=1/0;return function l(e,c,f,h,d){if(!(c>o||f>a||r>h||i>d)){if(p=e.point){var p,g=t-e.x,m=n-e.y,v=g*g+m*m;if(u>v){var y=Math.sqrt(u=v);r=t-y,i=n-y,o=t+y,a=n+y,s=p}}for(var b=e.nodes,x=.5*(c+h),w=.5*(f+d),$=t>=x,k=n>=w,_=k<<1|$,S=_+4;S>_;++_)if(e=b[3&_])switch(3&_){case 0:l(e,c,f,x,w);break;case 1:l(e,x,f,h,w);break;case 2:l(e,c,w,x,d);break;case 3:l(e,x,w,h,d)}}}(e,r,i,o,a),s}function pr(e,t){e=na.rgb(e),t=na.rgb(t);var n=e.r,r=e.g,i=e.b,o=t.r-n,a=t.g-r,s=t.b-i;return function(e){return"#"+xe(Math.round(n+o*e))+xe(Math.round(r+a*e))+xe(Math.round(i+s*e))}}function gr(e,t){var n,r={},i={};for(n in e)n in t?r[n]=yr(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function mr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vr(e,t){var n,r,i,o=au.lastIndex=su.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=au.exec(e))&&(r=su.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:mr(n,r)})),o=su.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(t=u[0].x,function(e){return t(e)+""}):function(){return t}:(t=u.length,function(e){for(var n,r=0;t>r;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function yr(e,t){for(var n,r=na.interpolators.length;--r>=0&&!(n=na.interpolators[r](e,t)););return n}function br(e,t){var n,r=[],i=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;s>n;++n)r.push(yr(e[n],t[n]));for(;o>n;++n)i[n]=e[n];for(;a>n;++n)i[n]=t[n];return function(e){for(n=0;s>n;++n)i[n]=r[n](e);return i}}function xr(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function wr(e){return function(t){return 1-e(1-t)}}function $r(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function kr(e){return e*e}function _r(e){return e*e*e}function Sr(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function Cr(e){return function(t){return Math.pow(t,e)}}function Er(e){return 1-Math.cos(e*Pa)}function Mr(e){return Math.pow(2,10*(e-1))}function Tr(e){return 1-Math.sqrt(1-e*e)}function Ar(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Na*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Na/t)}}function Or(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Dr(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Nr(e,t){e=na.hcl(e),t=na.hcl(t);var n=e.h,r=e.c,i=e.l,o=t.h-n,a=t.c-r,s=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return ce(n+o*e,r+a*e,i+s*e)+""}}function Lr(e,t){e=na.hsl(e),t=na.hsl(t);var n=e.h,r=e.s,i=e.l,o=t.h-n,a=t.s-r,s=t.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return ue(n+o*e,r+a*e,i+s*e)+""}}function Pr(e,t){e=na.lab(e),t=na.lab(t);var n=e.l,r=e.a,i=e.b,o=t.l-n,a=t.a-r,s=t.b-i;return function(e){return he(n+o*e,r+a*e,i+s*e)+""}}function Ir(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Rr(e){var t=[e.a,e.b],n=[e.c,e.d],r=Fr(t),i=jr(t,n),o=Fr(Ur(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Ra,this.translate=[e.e,e.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ra:0}function jr(e,t){return e[0]*t[0]+e[1]*t[1]}function Fr(e){var t=Math.sqrt(jr(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Ur(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function qr(e,t){var n,r=[],i=[],o=na.transform(e),a=na.transform(t),s=o.translate,u=a.translate,l=o.rotate,c=a.rotate,f=o.skew,h=a.skew,d=o.scale,p=a.scale;return s[0]!=u[0]||s[1]!=u[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:mr(s[0],u[0])},{i:3,x:mr(s[1],u[1])})):r.push(u[0]||u[1]?"translate("+u+")":""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:mr(l,c)})):c&&r.push(r.pop()+"rotate("+c+")"),f!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:mr(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),d[0]!=p[0]||d[1]!=p[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:mr(d[0],p[0])},{i:n-2,x:mr(d[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),n=i.length,function(e){for(var t,o=-1;++o<n;)r[(t=i[o]).i]=t.x(e);return r.join("")}}function zr(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Hr(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Wr(e){for(var t=e.source,n=e.target,r=Vr(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Br(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Vr(e,t){if(e===t)return e;for(var n=Br(e),r=Br(t),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Yr(e){e.fixed|=2}function Xr(e){e.fixed&=-7}function Gr(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Kr(e){e.fixed&=-5}function Zr(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,s=a.length,u=-1;++u<s;)o=a[u],null!=o&&(Zr(o,t,n),e.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var l=t*n[e.point.index];e.charge+=e.pointCharge=l,r+=l*e.point.x,i+=l*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function Jr(e,t){return na.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=ii,e}function Qr(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function ei(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(e=r.pop());)t(e)}function ti(e){return e.children}function ni(e){return e.value}function ri(e,t){return t.value-e.value}function ii(e){return na.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function oi(e){return e.x}function ai(e){return e.y}function si(e,t,n){e.y0=t,e.y=n}function ui(e){return na.range(e.length)}function li(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function ci(e){for(var t,n=1,r=0,i=e[0][1],o=e.length;o>n;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function fi(e){return e.reduce(hi,0)}function hi(e,t){return e+t[1]}function di(e,t){return pi(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function pi(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,o=[];++n<=t;)o[n]=i*n+r;return o}function gi(e){return[na.min(e),na.max(e)]}function mi(e,t){return e.value-t.value}function vi(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function yi(e,t){e._pack_next=t,t._pack_prev=e}function bi(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function xi(e){function t(e){c=Math.min(e.x-e.r,c),f=Math.max(e.x+e.r,f),h=Math.min(e.y-e.r,h),d=Math.max(e.y+e.r,d)}if((n=e.children)&&(l=n.length)){var n,r,i,o,a,s,u,l,c=1/0,f=-(1/0),h=1/0,d=-(1/0);if(n.forEach(wi),r=n[0],r.x=-r.r,r.y=0,t(r),l>1&&(i=n[1],i.x=i.r,i.y=0,t(i),l>2))for(o=n[2],_i(r,i,o),t(o),vi(r,o),r._pack_prev=o,vi(o,i),i=r._pack_next,a=3;l>a;a++){_i(r,i,o=n[a]);var p=0,g=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(bi(s,o)){p=1;break}if(1==p)for(u=r._pack_prev;u!==s._pack_prev&&!bi(u,o);u=u._pack_prev,m++);p?(m>g||g==m&&i.r<r.r?yi(r,i=s):yi(r=u,i),a--):(vi(r,o),i=o,t(o))}var v=(c+f)/2,y=(h+d)/2,b=0;for(a=0;l>a;a++)o=n[a],o.x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));e.r=b,n.forEach($i)}}function wi(e){e._pack_next=e._pack_prev=e}function $i(e){delete e._pack_next,delete e._pack_prev}function ki(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var o=-1,a=i.length;++o<a;)ki(i[o],t,n,r)}function _i(e,t,n){var r=e.r+n.r,i=t.x-e.x,o=t.y-e.y;if(r&&(i||o)){var a=t.r+n.r,s=i*i+o*o;a*=a,r*=r;var u=.5+(r-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=e.x+u*i+l*o,n.y=e.y+u*o-l*i}else n.x=e.x+r,n.y=e.y}function Si(e,t){return e.parent==t.parent?1:2}function Ci(e){var t=e.children;return t.length?t[0]:e.t}function Ei(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Mi(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Ti(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)t=i[o],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Ai(e,t,n){return e.a.parent===t.parent?e.a:n}function Oi(e){return 1+na.max(e,function(e){return e.y})}function Di(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Ni(e){var t=e.children;return t&&t.length?Ni(t[0]):e}function Li(e){var t,n=e.children;return n&&(t=n.length)?Li(n[t-1]):e}function Pi(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Ii(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Ri(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function ji(e){return e.rangeExtent?e.rangeExtent():Ri(e.range())}function Fi(e,t,n,r){var i=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(i(e))}}function Ui(e,t){var n,r=0,i=e.length-1,o=e[r],a=e[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function qi(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:yu}function zi(e,t,n,r){var i=[],o=[],a=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<=s;)i.push(n(e[a-1],e[a])),o.push(r(t[a-1],t[a]));return function(t){var n=na.bisect(e,t,1,s)-1;return o[n](i[n](t))}}function Hi(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?zi:Fi,u=r?Hr:zr;return a=i(e,t,u,n),s=i(t,e,u,yr),o}function o(e){return a(e)}var a,s;return o.invert=function(e){return s(e)},o.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},o.range=function(e){return arguments.length?(t=e,i()):t},o.rangeRound=function(e){return o.range(e).interpolate(Ir)},o.clamp=function(e){return arguments.length?(r=e,i()):r},o.interpolate=function(e){return arguments.length?(n=e,i()):n},o.ticks=function(t){return Yi(e,t)},o.tickFormat=function(t,n){return Xi(e,t,n)},o.nice=function(t){return Bi(e,t),i()},o.copy=function(){return Hi(e,t,n,r)},i()}function Wi(e,t){return na.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Bi(e,t){return Ui(e,qi(Vi(e,t)[2]))}function Vi(e,t){null==t&&(t=10);var n=Ri(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),o=t/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),
n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Yi(e,t){return na.range.apply(na,Vi(e,t))}function Xi(e,t,n){var r=Vi(e,t);if(n){var i=as.exec(n);if(i.shift(),"s"===i[8]){var o=na.formatPrefix(Math.max(pa(r[0]),pa(r[1])));return i[7]||(i[7]="."+Gi(o.scale(r[2]))),i[8]="f",n=na.format(i.join("")),function(e){return n(o.scale(e))+o.symbol}}i[7]||(i[7]="."+Ki(i[8],r)),n=i.join("")}else n=",."+Gi(r[2])+"f";return na.format(n)}function Gi(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Ki(e,t){var n=Gi(t[2]);return e in bu?Math.abs(n-Gi(Math.max(pa(t[0]),pa(t[1]))))+ +("e"!==e):n-2*("%"===e)}function Zi(e,t,n,r){function i(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function o(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function a(t){return e(i(t))}return a.invert=function(t){return o(e.invert(t))},a.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),a):t},a.nice=function(){var t=Ui(r.map(i),n?Math:wu);return e.domain(t),r=t.map(o),a},a.ticks=function(){var e=Ri(r),a=[],s=e[0],u=e[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),f=t%1?2:t;if(isFinite(c-l)){if(n){for(;c>l;l++)for(var h=1;f>h;h++)a.push(o(l)*h);a.push(o(l))}else for(a.push(o(l));l++<c;)for(var h=f-1;h>0;h--)a.push(o(l)*h);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(e,t){if(!arguments.length)return xu;arguments.length<2?t=xu:"function"!=typeof t&&(t=na.format(t));var r,s=Math.max(.1,e/a.ticks().length),u=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(e){return e/o(u(i(e)+r))<=s?t(e):""}},a.copy=function(){return Zi(e.copy(),t,n,r)},Wi(a,e)}function Ji(e,t,n){function r(t){return e(i(t))}var i=Qi(t),o=Qi(1/t);return r.invert=function(t){return o(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return Yi(n,e)},r.tickFormat=function(e,t){return Xi(n,e,t)},r.nice=function(e){return r.domain(Bi(n,e))},r.exponent=function(a){return arguments.length?(i=Qi(t=a),o=Qi(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return Ji(e.copy(),t,n)},Wi(r,e)}function Qi(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function eo(e,t){function n(n){return o[((i.get(n)||("range"===t.t?i.set(n,e.push(n)):0/0))-1)%o.length]}function r(t,n){return na.range(e.length).map(function(e){return t+n*e})}var i,o,a;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new l;for(var o,a=-1,s=r.length;++a<s;)i.has(o=r[a])||i.set(o,e.push(o));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(o=e,a=0,t={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],l=i[1],c=e.length<2?(u=(u+l)/2,0):(l-u)/(e.length-1+s);return o=r(u+c*s/2,c),a=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],l=i[1],c=e.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(e.length-1+s)|0;return o=r(u+Math.round(c*s/2+(l-u-(e.length-1+s)*c)/2),c),a=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],f=i[1-l],h=(f-c)/(e.length-s+2*u);return o=r(c+h*u,h),l&&o.reverse(),a=h*(1-s),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],f=i[1-l],h=Math.floor((f-c)/(e.length-s+2*u));return o=r(c+Math.round((f-c-(e.length-s)*h)/2),h),l&&o.reverse(),a=Math.round(h*(1-s)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Ri(t.a[0])},n.copy=function(){return eo(e,t)},n.domain(e)}function to(e,t){function o(){var n=0,r=t.length;for(s=[];++n<r;)s[n-1]=na.quantile(e,n/r);return a}function a(e){return isNaN(e=+e)?void 0:t[na.bisect(s,e)]}var s;return a.domain=function(t){return arguments.length?(e=t.map(r).filter(i).sort(n),o()):e},a.range=function(e){return arguments.length?(t=e,o()):t},a.quantiles=function(){return s},a.invertExtent=function(n){return n=t.indexOf(n),0>n?[0/0,0/0]:[n>0?s[n-1]:e[0],n<s.length?s[n]:e[e.length-1]]},a.copy=function(){return to(e,t)},o()}function no(e,t,n){function r(t){return n[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function i(){return o=n.length/(t-e),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=0>t?0/0:t/o+e,[t,t+1/o]},r.copy=function(){return no(e,t,n)},i()}function ro(e,t){function n(n){return n>=n?t[na.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return ro(e,t)},n}function io(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Yi(e,t)},t.tickFormat=function(t,n){return Xi(e,t,n)},t.copy=function(){return io(e)},t}function oo(){return 0}function ao(e){return e.innerRadius}function so(e){return e.outerRadius}function uo(e){return e.startAngle}function lo(e){return e.endAngle}function co(e){return e&&e.padAngle}function fo(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function ho(e,t,n,r,i){var o=e[0]-t[0],a=e[1]-t[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=e[0]+u,f=e[1]+l,h=t[0]+u,d=t[1]+l,p=(c+h)/2,g=(f+d)/2,m=h-c,v=d-f,y=m*m+v*v,b=n-r,x=c*d-h*f,w=(0>v?-1:1)*Math.sqrt(b*b*y-x*x),$=(x*v-m*w)/y,k=(-x*m-v*w)/y,_=(x*v+m*w)/y,S=(-x*m+v*w)/y,C=$-p,E=k-g,M=_-p,T=S-g;return C*C+E*E>M*M+T*T&&($=_,k=S),[[$-u,k-l],[$*n/b,k*n/b]]}function po(e){function t(t){function a(){l.push("M",o(e(c),s))}for(var u,l=[],c=[],f=-1,h=t.length,d=Ce(n),p=Ce(r);++f<h;)i.call(this,u=t[f],f)?c.push([+d.call(this,u,f),+p.call(this,u,f)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=Mn,r=Tn,i=Mt,o=go,a=o.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(a="function"==typeof e?o=e:(o=Eu.get(e)||go).key,t):a},t.tension=function(e){return arguments.length?(s=e,t):s},t}function go(e){return e.join("L")}function mo(e){return go(e)+"Z"}function vo(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function yo(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function bo(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function xo(e,t){return e.length<4?go(e):e[1]+ko(e.slice(1,-1),_o(e,t))}function wo(e,t){return e.length<3?go(e):e[0]+ko((e.push(e[0]),e),_o([e[e.length-2]].concat(e,[e[1]]),t))}function $o(e,t){return e.length<3?go(e):e[0]+ko(e,_o(e,t))}function ko(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return go(e);var n=e.length!=t.length,r="",i=e[0],o=e[1],a=t[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=e[1],u=2),t.length>1){s=t[1],o=e[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<t.length;l++,u++)o=e[u],s=t[l],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=e[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function _o(e,t){for(var n,r=[],i=(1-t)/2,o=e[0],a=e[1],s=1,u=e.length;++s<u;)n=o,o=a,a=e[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function So(e){if(e.length<3)return go(e);var t=1,n=e.length,r=e[0],i=r[0],o=r[1],a=[i,i,i,(r=e[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",To(Au,a),",",To(Au,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Ao(u,a,s);return e.pop(),u.push("L",r),u.join("")}function Co(e){if(e.length<4)return go(e);for(var t,n=[],r=-1,i=e.length,o=[0],a=[0];++r<3;)t=e[r],o.push(t[0]),a.push(t[1]);for(n.push(To(Au,o)+","+To(Au,a)),--r;++r<i;)t=e[r],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),Ao(n,o,a);return n.join("")}function Eo(e){for(var t,n,r=-1,i=e.length,o=i+4,a=[],s=[];++r<4;)n=e[r%i],a.push(n[0]),s.push(n[1]);for(t=[To(Au,a),",",To(Au,s)],--r;++r<o;)n=e[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ao(t,a,s);return t.join("")}function Mo(e,t){var n=e.length-1;if(n)for(var r,i,o=e[0][0],a=e[0][1],s=e[n][0]-o,u=e[n][1]-a,l=-1;++l<=n;)r=e[l],i=l/n,r[0]=t*r[0]+(1-t)*(o+i*s),r[1]=t*r[1]+(1-t)*(a+i*u);return So(e)}function To(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Ao(e,t,n){e.push("C",To(Mu,t),",",To(Mu,n),",",To(Tu,t),",",To(Tu,n),",",To(Au,t),",",To(Au,n))}function Oo(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Do(e){for(var t=0,n=e.length-1,r=[],i=e[0],o=e[1],a=r[0]=Oo(i,o);++t<n;)r[t]=(a+(a=Oo(i=o,o=e[t+1])))/2;return r[t]=a,r}function No(e){for(var t,n,r,i,o=[],a=Do(e),s=-1,u=e.length-1;++s<u;)t=Oo(e[s],e[s+1]),pa(t)<Aa?a[s]=a[s+1]=0:(n=a[s]/t,r=a[s+1]/t,i=n*n+r*r,i>9&&(i=3*t/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=u;)i=(e[Math.min(u,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Lo(e){return e.length<3?go(e):e[0]+ko(e,No(e))}function Po(e){for(var t,n,r,i=-1,o=e.length;++i<o;)t=e[i],n=t[0],r=t[1]-Pa,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Io(e){function t(t){function u(){g.push("M",s(e(v),f),c,l(e(m.reverse()),f),"Z")}for(var h,d,p,g=[],m=[],v=[],y=-1,b=t.length,x=Ce(n),w=Ce(i),$=n===r?function(){return d}:Ce(r),k=i===o?function(){return p}:Ce(o);++y<b;)a.call(this,h=t[y],y)?(m.push([d=+x.call(this,h,y),p=+w.call(this,h,y)]),v.push([+$.call(this,h,y),+k.call(this,h,y)])):m.length&&(u(),m=[],v=[]);return m.length&&u(),g.length?g.join(""):null}var n=Mn,r=Mn,i=0,o=Tn,a=Mt,s=go,u=s.key,l=s,c="L",f=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=o=e,t):o},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(o=e,t):o},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(u="function"==typeof e?s=e:(s=Eu.get(e)||go).key,l=s.reverse||s,c=s.closed?"M":"L",t):u},t.tension=function(e){return arguments.length?(f=e,t):f},t}function Ro(e){return e.radius}function jo(e){return[e.x,e.y]}function Fo(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Pa;return[n*Math.cos(r),n*Math.sin(r)]}}function Uo(){return 64}function qo(){return"circle"}function zo(e){var t=Math.sqrt(e/Da);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Ho(e){return function(){var t,n;(t=this[e])&&(n=t[t.active])&&(--t.count?delete t[t.active]:delete this[e],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Wo(e,t,n){return ba(e,Ru),e.namespace=t,e.id=n,e}function Bo(e,t,n,r){var i=e.id,o=e.namespace;return H(e,"function"==typeof n?function(e,a,s){e[o][i].tween.set(t,r(n.call(e,e.__data__,a,s)))}:(n=r(n),function(e){e[o][i].tween.set(t,n)}))}function Vo(e){return null==e&&(e=""),function(){this.textContent=e}}function Yo(e){return null==e?"__transition__":"__transition_"+e+"__"}function Xo(e,t,n,r,i){var o=e[n]||(e[n]={active:0,count:0}),a=o[r];if(!a){var s=i.time;a=o[r]={tween:new l,time:s,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++o.count,na.timer(function(i){function u(n){if(o.active>r)return c();var i=o[o.active];i&&(--o.count,delete o[o.active],i.event&&i.event.interrupt.call(e,e.__data__,i.index)),o.active=r,a.event&&a.event.start.call(e,e.__data__,t),a.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&g.push(r)}),h=a.ease,f=a.duration,na.timer(function(){return p.c=l(n||1)?Mt:l,1},0,s)}function l(n){if(o.active!==r)return 1;for(var i=n/f,s=h(i),u=g.length;u>0;)g[--u].call(e,s);return i>=1?(a.event&&a.event.end.call(e,e.__data__,t),c()):void 0}function c(){return--o.count?delete o[r]:delete e[n],1}var f,h,d=a.delay,p=rs,g=[];return p.t=d+s,i>=d?u(i-d):void(p.c=u)},0,s)}}function Go(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function Ko(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function Zo(e){return e.toISOString()}function Jo(e,t,n){function r(t){return e(t)}function i(e,n){var r=e[1]-e[0],i=r/n,o=na.bisect(Vu,i);return o==Vu.length?[t.year,Vi(e.map(function(e){return e/31536e6}),n)[2]]:o?t[i/Vu[o-1]<Vu[o]/i?o-1:o]:[Gu,Vi(e,n)[2]]}return r.invert=function(t){return Qo(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(Qo)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,Qo(+n+1),t).length}var o=r.domain(),a=Ri(o),s=null==e?i(a,10):"number"==typeof e&&i(a,e);return s&&(e=s[0],t=s[1]),r.domain(Ui(o,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=Qo(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=Qo(+t+1);return t}}:e))},r.ticks=function(e,t){var n=Ri(r.domain()),o=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return o&&(e=o[0],t=o[1]),e.range(n[0],Qo(+n[1]+1),1>t?1:t)},r.tickFormat=function(){return n},r.copy=function(){return Jo(e.copy(),t,n)},Wi(r,e)}function Qo(e){return new Date(e)}function ea(e){return JSON.parse(e.responseText)}function ta(e){var t=oa.createRange();return t.selectNode(oa.body),t.createContextualFragment(e.responseText)}var na={version:"3.5.6"},ra=[].slice,ia=function(e){return ra.call(e)},oa=this.document;if(oa)try{ia(oa.documentElement.childNodes)[0].nodeType}catch(aa){ia=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),oa)try{oa.createElement("DIV").style.setProperty("opacity",0,"")}catch(sa){var ua=this.Element.prototype,la=ua.setAttribute,ca=ua.setAttributeNS,fa=this.CSSStyleDeclaration.prototype,ha=fa.setProperty;ua.setAttribute=function(e,t){la.call(this,e,t+"")},ua.setAttributeNS=function(e,t,n){ca.call(this,e,t,n+"")},fa.setProperty=function(e,t,n){ha.call(this,e,t+"",n)}}na.ascending=n,na.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:0/0},na.min=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},na.max=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},na.extent=function(e,t){var n,r,i,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<a;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t.call(e,e[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},na.sum=function(e,t){var n,r=0,o=e.length,a=-1;if(1===arguments.length)for(;++a<o;)i(n=+e[a])&&(r+=n);else for(;++a<o;)i(n=+t.call(e,e[a],a))&&(r+=n);return r},na.mean=function(e,t){var n,o=0,a=e.length,s=-1,u=a;if(1===arguments.length)for(;++s<a;)i(n=r(e[s]))?o+=n:--u;else for(;++s<a;)i(n=r(t.call(e,e[s],s)))?o+=n:--u;return u?o/u:void 0},na.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i},na.median=function(e,t){var o,a=[],s=e.length,u=-1;if(1===arguments.length)for(;++u<s;)i(o=r(e[u]))&&a.push(o);else for(;++u<s;)i(o=r(t.call(e,e[u],u)))&&a.push(o);return a.length?na.quantile(a.sort(n),.5):void 0},na.variance=function(e,t){var n,o,a=e.length,s=0,u=0,l=-1,c=0;if(1===arguments.length)for(;++l<a;)i(n=r(e[l]))&&(o=n-s,s+=o/++c,u+=o*(n-s));else for(;++l<a;)i(n=r(t.call(e,e[l],l)))&&(o=n-s,s+=o/++c,u+=o*(n-s));return c>1?u/(c-1):void 0},na.deviation=function(){var e=na.variance.apply(this,arguments);return e?Math.sqrt(e):e};var da=o(n);na.bisectLeft=da.left,na.bisect=na.bisectRight=da.right,na.bisector=function(e){return o(1===e.length?function(t,r){return n(e(t),r)}:e)},na.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,2>o&&(t=0));for(var r,i,o=n-t;o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},na.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},na.pairs=function(e){for(var t,n=0,r=e.length-1,i=e[0],o=new Array(0>r?0:r);r>n;)o[n]=[t=i,i=e[++n]];return o},na.zip=function(){if(!(r=arguments.length))return[];for(var e=-1,t=na.min(arguments,a),n=new Array(t);++e<t;)for(var r,i=-1,o=n[e]=new Array(r);++i<r;)o[i]=arguments[i][e];return n},na.transpose=function(e){return na.zip.apply(na,e)},na.keys=function(e){var t=[];for(var n in e)t.push(n);return t},na.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},na.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},na.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--a]=r[t];return n};var pa=Math.abs;na.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,i=[],o=s(pa(n)),a=-1;if(e*=o,t*=o,n*=o,0>n)for(;(r=e+n*++a)>t;)i.push(r/o);else for(;(r=e+n*++a)<t;)i.push(r/o);return i},na.map=function(e,t){var n=new l;if(e instanceof l)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,i=-1,o=e.length;if(1===arguments.length)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t.call(e,r=e[i],i),r)}else for(var a in e)n.set(a,e[a]);return n};var ga="__proto__",ma="\x00";u(l,{has:h,get:function(e){return this._[c(e)]},set:function(e,t){return this._[c(e)]=t},remove:d,keys:p,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:f(t),value:this._[t]});return e},size:g,empty:m,forEach:function(e){for(var t in this._)e.call(this,f(t),this._[t])}}),na.nest=function(){function e(t,a,s){if(s>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var u,c,f,h,d=-1,p=a.length,g=o[s++],m=new l;++d<p;)(h=m.get(u=g(c=a[d])))?h.push(c):m.set(u,[c]);return t?(c=t(),f=function(n,r){c.set(n,e(t,r,s))}):(c={},f=function(n,r){c[n]=e(t,r,s)}),m.forEach(f),c}function t(e,n){if(n>=o.length)return e;var r=[],i=a[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),i?r.sort(function(e,t){return i(e.key,t.key)}):r}var n,r,i={},o=[],a=[];return i.map=function(t,n){return e(n,t,0)},i.entries=function(n){return t(e(na.map,n,0),0)},i.key=function(e){return o.push(e),i},i.sortKeys=function(e){return a[o.length-1]=e,i},i.sortValues=function(e){return n=e,i},i.rollup=function(e){return r=e,i},i},na.set=function(e){var t=new v;if(e)for(var n=0,r=e.length;r>n;++n)t.add(e[n]);return t},u(v,{has:h,add:function(e){return this._[c(e+="")]=!0,e},remove:d,values:p,size:g,empty:m,forEach:function(e){for(var t in this._)e.call(this,f(t))}}),na.behavior={},na.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=b(e,t,t[n]);return e};var va=["webkit","ms","moz","Moz","o","O"];na.dispatch=function(){for(var e=new $,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=k(e);return e},$.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},na.event=null,na.requote=function(e){return e.replace(ya,"\\$&")};var ya=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ba={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},xa=function(e,t){return t.querySelector(e)},wa=function(e,t){return t.querySelectorAll(e)},$a=function(e,t){var n=e.matches||e[x(e,"matchesSelector")];return($a=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(xa=function(e,t){return Sizzle(e,t)[0]||null},wa=Sizzle,$a=Sizzle.matchesSelector),na.selection=function(){return na.select(oa.documentElement)};var ka=na.selection.prototype=[];ka.select=function(e){var t,n,r,i,o=[];e=M(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(t.push(n=e.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return E(o)},ka.selectAll=function(e){var t,n,r=[];e=T(e);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(t=ia(e.call(n,n.__data__,s,i))),t.parentNode=n);return E(r)};var _a={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};na.ns={prefix:_a,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.slice(0,t),e=e.slice(t+1)),_a.hasOwnProperty(n)?{space:_a[n],local:e}:e}},ka.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=na.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(A(t,e[t]));return this}return this.each(A(e,t))},ka.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=N(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!D(e[i]).test(t))return!1;return!0}for(t in e)this.each(L(t,e[t]));return this}return this.each(L(e,t))},ka.style=function(e,n,r){var i=arguments.length;if(3>i){if("string"!=typeof e){2>i&&(n="");for(r in e)this.each(I(r,e[r],n));return this}if(2>i){var o=this.node();return t(o).getComputedStyle(o,null).getPropertyValue(e)}r=""}return this.each(I(e,n,r))},ka.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(R(t,e[t]));return this}return this.each(R(e,t))},ka.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},ka.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},ka.append=function(e){return e=j(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},ka.insert=function(e,t){return e=j(e),t=M(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},ka.remove=function(){return this.each(F)},ka.data=function(e,t){function n(e,n){var r,i,o,a=e.length,f=n.length,h=Math.min(a,f),d=new Array(f),p=new Array(f),g=new Array(a);if(t){var m,v=new l,y=new Array(a);for(r=-1;++r<a;)v.has(m=t.call(i=e[r],i.__data__,r))?g[r]=i:v.set(m,i),y[r]=m;for(r=-1;++r<f;)(i=v.get(m=t.call(n,o=n[r],r)))?i!==!0&&(d[r]=i,i.__data__=o):p[r]=U(o),v.set(m,!0);for(r=-1;++r<a;)v.get(y[r])!==!0&&(g[r]=e[r])}else{for(r=-1;++r<h;)i=e[r],o=n[r],i?(i.__data__=o,d[r]=i):p[r]=U(o);for(;f>r;++r)p[r]=U(n[r]);for(;a>r;++r)g[r]=e[r]}p.update=d,p.parentNode=d.parentNode=g.parentNode=e.parentNode,s.push(p),u.push(d),c.push(g)}var r,i,o=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(e[o]=i.__data__);return e}var s=W([]),u=E([]),c=E([]);if("function"==typeof e)for(;++o<a;)n(r=this[o],e.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],e);return u.enter=function(){return s},u.exit=function(){return c},u},ka.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},ka.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=q(e));for(var o=0,a=this.length;a>o;o++){i.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;u>s;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return E(i)},ka.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},ka.sort=function(e){e=z.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},ka.each=function(e){return H(this,function(t,n,r){e.call(t,t.__data__,n,r)})},ka.call=function(e){var t=ia(arguments);return e.apply(t[0]=this,t),this},ka.empty=function(){return!this.node()},ka.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},ka.size=function(){var e=0;return H(this,function(){++e}),e};var Sa=[];na.selection.enter=W,na.selection.enter.prototype=Sa,Sa.append=ka.append,Sa.empty=ka.empty,Sa.node=ka.node,Sa.call=ka.call,Sa.size=ka.size,Sa.select=function(e){for(var t,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(t.push(r[l]=n=e.call(i.parentNode,o.__data__,l,s)),n.__data__=o.__data__):t.push(null)}return E(a)},Sa.insert=function(e,t){return arguments.length<2&&(t=B(this)),ka.insert.call(this,e,t)},na.select=function(t){var n;return"string"==typeof t?(n=[xa(t,oa)],n.parentNode=oa.documentElement):(n=[t],n.parentNode=e(t)),E([n])},na.selectAll=function(e){var t;return"string"==typeof e?(t=ia(wa(e,oa)),t.parentNode=oa.documentElement):(t=e,t.parentNode=null),E([t])},ka.on=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t=!1);for(n in e)this.each(V(n,e[n],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(V(e,t,n))};var Ca=na.map({mouseenter:"mouseover",mouseleave:"mouseout"});oa&&Ca.forEach(function(e){"on"+e in oa&&Ca.remove(e)});var Ea,Ma=0;na.mouse=function(e){return K(e,S())};var Ta=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;na.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=S().changedTouches),t)for(var r,i=0,o=t.length;o>i;++i)if((r=t[i]).identifier===n)return K(e,r)},na.behavior.drag=function(){function e(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function n(e,t,n,o,a){return function(){function s(){var e,n,r=t(h,g);r&&(e=r[0]-b[0],n=r[1]-b[1],p|=e|n,b=r,d({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:e,dy:n}))}function u(){t(h,g)&&(v.on(o+m,null).on(a+m,null),y(p&&na.event.target===f),d({type:"dragend"}))}var l,c=this,f=na.event.target,h=c.parentNode,d=r.of(c,arguments),p=0,g=e(),m=".drag"+(null==g?"":"-"+g),v=na.select(n(f)).on(o+m,s).on(a+m,u),y=G(f),b=t(h,g);i?(l=i.apply(c,arguments),l=[l.x-b[0],l.y-b[1]]):l=[0,0],d({type:"dragstart"})}}var r=C(e,"drag","dragstart","dragend"),i=null,o=n(w,na.mouse,t,"mousemove","mouseup"),a=n(Z,na.touch,y,"touchmove","touchend");return e.origin=function(t){return arguments.length?(i=t,e):i},na.rebind(e,r,"on")},na.touches=function(e,t){return arguments.length<2&&(t=S().touches),t?ia(t).map(function(t){var n=K(e,t);return n.identifier=t.identifier,n}):[]};var Aa=1e-6,Oa=Aa*Aa,Da=Math.PI,Na=2*Da,La=Na-Aa,Pa=Da/2,Ia=Da/180,Ra=180/Da,ja=Math.SQRT2,Fa=2,Ua=4;na.interpolateZoom=function(e,t){function n(e){var t=e*y;if(v){var n=re(g),a=o/(Fa*h)*(n*ie(ja*t+g)-ne(g));return[r+a*l,i+a*c,o*n/re(ja*t+g)]}return[r+e*l,i+e*c,o*Math.exp(ja*t)]}var r=e[0],i=e[1],o=e[2],a=t[0],s=t[1],u=t[2],l=a-r,c=s-i,f=l*l+c*c,h=Math.sqrt(f),d=(u*u-o*o+Ua*f)/(2*o*Fa*h),p=(u*u-o*o-Ua*f)/(2*u*Fa*h),g=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(p*p+1)-p),v=m-g,y=(v||Math.log(u/o))/ja;return n.duration=1e3*y,n},na.behavior.zoom=function(){function e(e){e.on(O,f).on(za+".zoom",d).on("dblclick.zoom",p).on(L,h)}function n(e){return[(e[0]-S.x)/S.k,(e[1]-S.y)/S.k]}function r(e){return[e[0]*S.k+S.x,e[1]*S.k+S.y]}function i(e){S.k=Math.max(M[0],Math.min(M[1],e))}function o(e,t){t=r(t),S.x+=e[0]-t[0],S.y+=e[1]-t[1]}function a(t,n,r,a){t.__chart__={x:S.x,y:S.y,k:S.k},i(Math.pow(2,a)),o(m=n,r),t=na.select(t),T>0&&(t=t.transition().duration(T)),t.call(e.event)}function s(){w&&w.domain(x.range().map(function(e){return(e-S.x)/S.k}).map(x.invert)),k&&k.domain($.range().map(function(e){return(e-S.y)/S.k}).map($.invert))}function u(e){A++||e({type:"zoomstart"})}function l(e){s(),e({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function c(e){--A||(e({type:"zoomend"}),m=null)}function f(){function e(){f=1,o(na.mouse(i),d),l(s)}function r(){h.on(D,null).on(N,null),p(f&&na.event.target===a),c(s)}var i=this,a=na.event.target,s=P.of(i,arguments),f=0,h=na.select(t(i)).on(D,e).on(N,r),d=n(na.mouse(i)),p=G(i);Iu.call(i),u(s)}function h(){function e(){var e=na.touches(p);return d=S.k,e.forEach(function(e){e.identifier in m&&(m[e.identifier]=n(e))}),e}function t(){var t=na.event.target;na.select(t).on(x,r).on(w,s),$.push(t);for(var n=na.event.changedTouches,i=0,o=n.length;o>i;++i)m[n[i].identifier]=null;var u=e(),l=Date.now();if(1===u.length){if(500>l-b){var c=u[0];a(p,c,m[c.identifier],Math.floor(Math.log(S.k)/Math.LN2)+1),_()}b=l}else if(u.length>1){var c=u[0],f=u[1],h=c[0]-f[0],d=c[1]-f[1];v=h*h+d*d}}function r(){var e,t,n,r,a=na.touches(p);Iu.call(p);for(var s=0,u=a.length;u>s;++s,r=null)if(n=a[s],r=m[n.identifier]){if(t)break;e=n,t=r}if(r){var c=(c=n[0]-e[0])*c+(c=n[1]-e[1])*c,f=v&&Math.sqrt(c/v);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],i(f*d)}b=null,o(e,t),l(g)}function s(){if(na.event.touches.length){for(var t=na.event.changedTouches,n=0,r=t.length;r>n;++n)delete m[t[n].identifier];for(var i in m)return void e()}na.selectAll($).on(y,null),k.on(O,f).on(L,h),C(),c(g)}var d,p=this,g=P.of(p,arguments),m={},v=0,y=".zoom-"+na.event.changedTouches[0].identifier,x="touchmove"+y,w="touchend"+y,$=[],k=na.select(p),C=G(p);t(),u(g),k.on(O,null).on(L,t)}function d(){var e=P.of(this,arguments);y?clearTimeout(y):(Iu.call(this),g=n(m=v||na.mouse(this)),u(e)),y=setTimeout(function(){y=null,c(e)},50),_(),i(Math.pow(2,.002*qa())*S.k),o(m,g),l(e)}function p(){var e=na.mouse(this),t=Math.log(S.k)/Math.LN2;a(this,e,n(e),na.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var g,m,v,y,b,x,w,$,k,S={x:0,y:0,k:1},E=[960,500],M=Ha,T=250,A=0,O="mousedown.zoom",D="mousemove.zoom",N="mouseup.zoom",L="touchstart.zoom",P=C(e,"zoomstart","zoom","zoomend");return za||(za="onwheel"in oa?(qa=function(){return-na.event.deltaY*(na.event.deltaMode?120:1)},"wheel"):"onmousewheel"in oa?(qa=function(){return na.event.wheelDelta},"mousewheel"):(qa=function(){return-na.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=P.of(this,arguments),t=S;Lu?na.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},u(e)}).tween("zoom:zoom",function(){var n=E[0],r=E[1],i=m?m[0]:n/2,o=m?m[1]:r/2,a=na.interpolateZoom([(i-S.x)/S.k,(o-S.y)/S.k,n/S.k],[(i-t.x)/t.k,(o-t.y)/t.k,n/t.k]);return function(t){var r=a(t),s=n/r[2];this.__chart__=S={x:i-r[0]*s,y:o-r[1]*s,k:s},l(e)}}).each("interrupt.zoom",function(){c(e)}).each("end.zoom",function(){c(e)}):(this.__chart__=S,u(e),l(e),c(e))})},e.translate=function(t){return arguments.length?(S={x:+t[0],y:+t[1],k:S.k},s(),e):[S.x,S.y]},e.scale=function(t){return arguments.length?(S={x:S.x,y:S.y,k:+t},s(),e):S.k},e.scaleExtent=function(t){return arguments.length?(M=null==t?Ha:[+t[0],+t[1]],e):M},e.center=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],e):v},e.size=function(t){return arguments.length?(E=t&&[+t[0],+t[1]],e):E},e.duration=function(t){return arguments.length?(T=+t,e):T},e.x=function(t){return arguments.length?(w=t,x=t.copy(),S={x:0,y:0,k:1},e):w},e.y=function(t){return arguments.length?(k=t,$=t.copy(),S={
x:0,y:0,k:1},e):k},na.rebind(e,P,"on")};var qa,za,Ha=[0,1/0];na.color=ae,ae.prototype.toString=function(){return this.rgb()+""},na.hsl=se;var Wa=se.prototype=new ae;Wa.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new se(this.h,this.s,this.l/e)},Wa.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new se(this.h,this.s,e*this.l)},Wa.rgb=function(){return ue(this.h,this.s,this.l)},na.hcl=le;var Ba=le.prototype=new ae;Ba.brighter=function(e){return new le(this.h,this.c,Math.min(100,this.l+Va*(arguments.length?e:1)))},Ba.darker=function(e){return new le(this.h,this.c,Math.max(0,this.l-Va*(arguments.length?e:1)))},Ba.rgb=function(){return ce(this.h,this.c,this.l).rgb()},na.lab=fe;var Va=18,Ya=.95047,Xa=1,Ga=1.08883,Ka=fe.prototype=new ae;Ka.brighter=function(e){return new fe(Math.min(100,this.l+Va*(arguments.length?e:1)),this.a,this.b)},Ka.darker=function(e){return new fe(Math.max(0,this.l-Va*(arguments.length?e:1)),this.a,this.b)},Ka.rgb=function(){return he(this.l,this.a,this.b)},na.rgb=ve;var Za=ve.prototype=new ae;Za.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&i>t&&(t=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new ve(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new ve(i,i,i)},Za.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new ve(e*this.r,e*this.g,e*this.b)},Za.hsl=function(){return $e(this.r,this.g,this.b)},Za.toString=function(){return"#"+xe(this.r)+xe(this.g)+xe(this.b)};var Ja=na.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ja.forEach(function(e,t){Ja.set(e,ye(t))}),na.functor=Ce,na.xhr=Ee(y),na.dsv=function(e,t){function n(e,n,o){arguments.length<3&&(o=n,n=null);var a=Me(e,t,null==n?r:i(n),o);return a.row=function(e){return arguments.length?a.response(null==(n=e)?r:i(e)):n},a}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function o(t){return t.map(a).join(e)}function a(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(c>=l)return a;if(i)return i=!1,o;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&++c):10===r&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;l>c;){var r=e.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(c)&&(++c,++s);else if(r!==u)continue;return e.slice(t,c-s)}return e.slice(t)}for(var r,i,o={},a={},s=[],l=e.length,c=0,f=0;(r=n())!==a;){for(var h=[];r!==o&&r!==a;)h.push(r),r=n();t&&null==(h=t(h,f++))||s.push(h)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new v,i=[];return t.forEach(function(e){for(var t in e)r.has(t)||i.push(r.add(t))}),[i.map(a).join(e)].concat(t.map(function(t){return i.map(function(e){return a(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(o).join("\n")},n},na.csv=na.dsv(",","text/csv"),na.tsv=na.dsv("	","text/tab-separated-values");var Qa,es,ts,ns,rs,is=this[x(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};na.timer=function(e,t,n){var r=arguments.length;2>r&&(t=0),3>r&&(n=Date.now());var i=n+t,o={c:e,t:i,f:!1,n:null};es?es.n=o:Qa=o,es=o,ts||(ns=clearTimeout(ns),ts=1,is(Oe))},na.timer.flush=function(){De(),Ne()},na.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var os=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Pe);na.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=na.round(e,Le(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),os[8+n/3]};var as=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ss=na.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=na.round(e,Le(e,t))).toFixed(Math.max(0,Math.min(20,Le(e*(1+1e-15),t))))}}),us=na.time={},ls=Date;je.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){cs.setUTCDate.apply(this._,arguments)},setDay:function(){cs.setUTCDay.apply(this._,arguments)},setFullYear:function(){cs.setUTCFullYear.apply(this._,arguments)},setHours:function(){cs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){cs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){cs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){cs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){cs.setUTCSeconds.apply(this._,arguments)},setTime:function(){cs.setTime.apply(this._,arguments)}};var cs=Date.prototype;us.year=Fe(function(e){return e=us.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),us.years=us.year.range,us.years.utc=us.year.utc.range,us.day=Fe(function(e){var t=new ls(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),us.days=us.day.range,us.days.utc=us.day.utc.range,us.dayOfYear=function(e){var t=us.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=us[e]=Fe(function(e){return(e=us.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=us.year(e).getDay();return Math.floor((us.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});us[e+"s"]=n.range,us[e+"s"].utc=n.utc.range,us[e+"OfYear"]=function(e){var n=us.year(e).getDay();return Math.floor((us.dayOfYear(e)+(n+t)%7)/7)}}),us.week=us.sunday,us.weeks=us.sunday.range,us.weeks.utc=us.sunday.utc.range,us.weekOfYear=us.sundayOfYear;var fs={"-":"",_:" ",0:"0"},hs=/^\s*\d+/,ds=/^%/;na.locale=function(e){return{numberFormat:Ie(e),timeFormat:qe(e)}};var ps=na.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});na.format=ps.numberFormat,na.geo={},ut.prototype={s:0,t:0,add:function(e){lt(e,this.t,gs),lt(gs.s,this.s,this),this.s?this.t+=gs.t:this.s=gs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var gs=new ut;na.geo.stream=function(e,t){e&&ms.hasOwnProperty(e.type)?ms[e.type](e,t):ct(e,t)};var ms={Feature:function(e,t){ct(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)ct(n[r].geometry,t)}},vs={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){ft(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ft(n[r],t,0)},Polygon:function(e,t){ht(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ht(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)ct(n[r],t)}};na.geo.area=function(e){return ys=0,na.geo.stream(e,xs),ys};var ys,bs=new ut,xs={sphere:function(){ys+=4*Da},point:w,lineStart:w,lineEnd:w,polygonStart:function(){bs.reset(),xs.lineStart=dt},polygonEnd:function(){var e=2*bs;ys+=0>e?4*Da+e:e,xs.lineStart=xs.lineEnd=xs.point=w}};na.geo.bounds=function(){function e(e,t){b.push(x=[c=e,h=e]),f>t&&(f=t),t>d&&(d=t)}function t(t,n){var r=pt([t*Ia,n*Ia]);if(v){var i=mt(v,r),o=[i[1],-i[0],0],a=mt(o,i);bt(a),a=xt(a);var u=t-p,l=u>0?1:-1,g=a[0]*Ra*l,m=pa(u)>180;if(m^(g>l*p&&l*t>g)){var y=a[1]*Ra;y>d&&(d=y)}else if(g=(g+360)%360-180,m^(g>l*p&&l*t>g)){var y=-a[1]*Ra;f>y&&(f=y)}else f>n&&(f=n),n>d&&(d=n);m?p>t?s(c,t)>s(c,h)&&(h=t):s(t,h)>s(c,h)&&(c=t):h>=c?(c>t&&(c=t),t>h&&(h=t)):t>p?s(c,t)>s(c,h)&&(h=t):s(t,h)>s(c,h)&&(c=t)}else e(t,n);v=r,p=t}function n(){w.point=t}function r(){x[0]=c,x[1]=h,w.point=e,v=null}function i(e,n){if(v){var r=e-p;y+=pa(r)>180?r+(r>0?360:-360):r}else g=e,m=n;xs.point(e,n),t(e,n)}function o(){xs.lineStart()}function a(){i(g,m),xs.lineEnd(),pa(y)>Aa&&(c=-(h=180)),x[0]=c,x[1]=h,v=null}function s(e,t){return(t-=e)<0?t+360:t}function u(e,t){return e[0]-t[0]}function l(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var c,f,h,d,p,g,m,v,y,b,x,w={point:e,lineStart:n,lineEnd:r,polygonStart:function(){w.point=i,w.lineStart=o,w.lineEnd=a,y=0,xs.polygonStart()},polygonEnd:function(){xs.polygonEnd(),w.point=e,w.lineStart=n,w.lineEnd=r,0>bs?(c=-(h=180),f=-(d=90)):y>Aa?d=90:-Aa>y&&(f=-90),x[0]=c,x[1]=h}};return function(e){d=h=-(c=f=1/0),b=[],na.geo.stream(e,w);var t=b.length;if(t){b.sort(u);for(var n,r=1,i=b[0],o=[i];t>r;++r)n=b[r],l(n[0],i)||l(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,p=-(1/0),t=o.length-1,r=0,i=o[t];t>=r;i=n,++r)n=o[r],(a=s(i[1],n[0]))>p&&(p=a,c=n[0],h=i[1])}return b=x=null,c===1/0||f===1/0?[[0/0,0/0],[0/0,0/0]]:[[c,f],[h,d]]}}(),na.geo.centroid=function(e){ws=$s=ks=_s=Ss=Cs=Es=Ms=Ts=As=Os=0,na.geo.stream(e,Ds);var t=Ts,n=As,r=Os,i=t*t+n*n+r*r;return Oa>i&&(t=Cs,n=Es,r=Ms,Aa>$s&&(t=ks,n=_s,r=Ss),i=t*t+n*n+r*r,Oa>i)?[0/0,0/0]:[Math.atan2(n,t)*Ra,te(r/Math.sqrt(i))*Ra]};var ws,$s,ks,_s,Ss,Cs,Es,Ms,Ts,As,Os,Ds={sphere:w,point:$t,lineStart:_t,lineEnd:St,polygonStart:function(){Ds.lineStart=Ct},polygonEnd:function(){Ds.lineStart=_t}},Ns=Dt(Mt,It,jt,[-Da,-Da/2]),Ls=1e9;na.geo.clipExtent=function(){var e,t,n,r,i,o,a={stream:function(e){return i&&(i.valid=!1),i=o(e),i.valid=!0,i},extent:function(s){return arguments.length?(o=zt(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(na.geo.conicEqualArea=function(){return Ht(Wt)}).raw=Wt,na.geo.albers=function(){return na.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},na.geo.albersUsa=function(){function e(e){var o=e[0],a=e[1];return t=null,n(o,a),t||(r(o,a),t)||i(o,a),t}var t,n,r,i,o=na.geo.albers(),a=na.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=na.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:o).invert(e)},e.stream=function(e){var t=o.stream(e),n=a.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),s.precision(t),e):o.precision()},e.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),s.scale(t),e.translate(o.translate())):o.scale()},e.translate=function(t){if(!arguments.length)return o.translate();var l=o.scale(),c=+t[0],f=+t[1];return n=o.translate(t).clipExtent([[c-.455*l,f-.238*l],[c+.455*l,f+.238*l]]).stream(u).point,r=a.translate([c-.307*l,f+.201*l]).clipExtent([[c-.425*l+Aa,f+.12*l+Aa],[c-.214*l-Aa,f+.234*l-Aa]]).stream(u).point,i=s.translate([c-.205*l,f+.212*l]).clipExtent([[c-.214*l+Aa,f+.166*l+Aa],[c-.115*l-Aa,f+.234*l-Aa]]).stream(u).point,e},e.scale(1070)};var Ps,Is,Rs,js,Fs,Us,qs={point:w,lineStart:w,lineEnd:w,polygonStart:function(){Is=0,qs.lineStart=Bt},polygonEnd:function(){qs.lineStart=qs.lineEnd=qs.point=w,Ps+=pa(Is/2)}},zs={point:Vt,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},Hs={point:Gt,lineStart:Kt,lineEnd:Zt,polygonStart:function(){Hs.lineStart=Jt},polygonEnd:function(){Hs.point=Gt,Hs.lineStart=Kt,Hs.lineEnd=Zt}};na.geo.path=function(){function e(e){return e&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),na.geo.stream(e,a)),o.result()}function t(){return a=null,e}var n,r,i,o,a,s=4.5;return e.area=function(e){return Ps=0,na.geo.stream(e,i(qs)),Ps},e.centroid=function(e){return ks=_s=Ss=Cs=Es=Ms=Ts=As=Os=0,na.geo.stream(e,i(Hs)),Os?[Ts/Os,As/Os]:Ms?[Cs/Ms,Es/Ms]:Ss?[ks/Ss,_s/Ss]:[0/0,0/0]},e.bounds=function(e){return Fs=Us=-(Rs=js=1/0),na.geo.stream(e,i(zs)),[[Rs,js],[Fs,Us]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||tn(e):y,t()):n},e.context=function(e){return arguments.length?(o=null==(r=e)?new Yt:new Qt(e),"function"!=typeof s&&o.pointRadius(s),t()):r},e.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(o.pointRadius(+t),+t),e):s},e.projection(na.geo.albersUsa()).context(null)},na.geo.transform=function(e){return{stream:function(t){var n=new nn(t);for(var r in e)n[r]=e[r];return n}}},nn.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},na.geo.projection=on,na.geo.projectionMutator=an,(na.geo.equirectangular=function(){return on(un)}).raw=un.invert=un,na.geo.rotation=function(e){function t(t){return t=e(t[0]*Ia,t[1]*Ia),t[0]*=Ra,t[1]*=Ra,t}return e=cn(e[0]%360*Ia,e[1]*Ia,e.length>2?e[2]*Ia:0),t.invert=function(t){return t=e.invert(t[0]*Ia,t[1]*Ia),t[0]*=Ra,t[1]*=Ra,t},t},ln.invert=un,na.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=cn(-e[0]*Ia,-e[1]*Ia,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=Ra,e[1]*=Ra}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=pn((t=+r)*Ia,i*Ia),e):t},e.precision=function(r){return arguments.length?(n=pn(t*Ia,(i=+r)*Ia),e):i},e.angle(90)},na.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Ia,i=e[1]*Ia,o=t[1]*Ia,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=l*c-u*f*s)*n),u*c+l*f*s)},na.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return na.range(Math.ceil(o/m)*m,i,m).map(h).concat(na.range(Math.ceil(l/v)*v,u,v).map(d)).concat(na.range(Math.ceil(r/p)*p,n,p).filter(function(e){return pa(e%m)>Aa}).map(c)).concat(na.range(Math.ceil(s/g)*g,a,g).filter(function(e){return pa(e%v)>Aa}).map(f))}var n,r,i,o,a,s,u,l,c,f,h,d,p=10,g=p,m=90,v=360,y=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(d(u).slice(1),h(i).reverse().slice(1),d(l).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],l=+t[0][1],u=+t[1][1],o>i&&(t=o,o=i,i=t),l>u&&(t=l,l=u,u=t),e.precision(y)):[[o,l],[i,u]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),e.precision(y)):[[r,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(m=+t[0],v=+t[1],e):[m,v]},e.minorStep=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(y=+t,c=mn(s,a,90),f=vn(r,n,y),h=mn(l,u,90),d=vn(o,i,y),e):y},e.majorExtent([[-180,-90+Aa],[180,90-Aa]]).minorExtent([[-180,-80-Aa],[180,80+Aa]])},na.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=yn,i=bn;return e.distance=function(){return na.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},na.geo.interpolate=function(e,t){return xn(e[0]*Ia,e[1]*Ia,t[0]*Ia,t[1]*Ia)},na.geo.length=function(e){return Ws=0,na.geo.stream(e,Bs),Ws};var Ws,Bs={sphere:w,point:w,lineStart:wn,lineEnd:w,polygonStart:w,polygonEnd:w},Vs=$n(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(na.geo.azimuthalEqualArea=function(){return on(Vs)}).raw=Vs;var Ys=$n(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},y);(na.geo.azimuthalEquidistant=function(){return on(Ys)}).raw=Ys,(na.geo.conicConformal=function(){return Ht(kn)}).raw=kn,(na.geo.conicEquidistant=function(){return Ht(_n)}).raw=_n;var Xs=$n(function(e){return 1/e},Math.atan);(na.geo.gnomonic=function(){return on(Xs)}).raw=Xs,Sn.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Pa]},(na.geo.mercator=function(){return Cn(Sn)}).raw=Sn;var Gs=$n(function(){return 1},Math.asin);(na.geo.orthographic=function(){return on(Gs)}).raw=Gs;var Ks=$n(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(na.geo.stereographic=function(){return on(Ks)}).raw=Ks,En.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Pa]},(na.geo.transverseMercator=function(){var e=Cn(En),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=En,na.geom={},na.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=Ce(n),o=Ce(r),a=e.length,s=[],u=[];for(t=0;a>t;t++)s.push([+i.call(this,e[t],t),+o.call(this,e[t],t),t]);for(s.sort(On),t=0;a>t;t++)u.push([s[t][0],-s[t][1]]);var l=An(s),c=An(u),f=c[0]===l[0],h=c[c.length-1]===l[l.length-1],d=[];for(t=l.length-1;t>=0;--t)d.push(e[s[l[t]][2]]);for(t=+f;t<c.length-h;++t)d.push(e[s[c[t]][2]]);return d}var n=Mn,r=Tn;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},na.geom.polygon=function(e){return ba(e,Zs),e};var Zs=na.geom.polygon.prototype=[];Zs.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},Zs.centroid=function(e){var t,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o*e,a*e]},Zs.clip=function(e){for(var t,n,r,i,o,a,s=Ln(e),u=-1,l=this.length-Ln(this),c=this[l-1];++u<l;){for(t=e.slice(),e.length=0,i=this[u],o=t[(r=t.length-s)-1],n=-1;++n<r;)a=t[n],Dn(a,c,i)?(Dn(o,c,i)||e.push(Nn(o,a,c,i)),e.push(a)):Dn(o,c,i)&&e.push(Nn(o,a,c,i)),o=a;s&&e.push(e[0]),c=i}return e};var Js,Qs,eu,tu,nu,ru=[],iu=[];zn.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Wn),t.length},er.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},tr.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=or(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(rr(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ir(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(ir(this,n),e=n,n=e.U),n.C=!1,r.C=!0,rr(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?or(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,rr(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ir(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,rr(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,ir(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,rr(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ir(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},na.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return ar(n(e),s).cells.forEach(function(n,s){var u=n.edges,l=n.site,c=t[s]=u.length?u.map(function(e){var t=e.start();return[t.x,t.y]}):l.x>=r&&l.x<=o&&l.y>=i&&l.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];c.point=e[s]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(o(e,t)/Aa)*Aa,y:Math.round(a(e,t)/Aa)*Aa,i:t}})}var r=Mn,i=Tn,o=r,a=i,s=ou;return e?t(e):(t.links=function(e){return ar(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return ar(n(e)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort(Wn),u=-1,l=s.length,c=s[l-1].edge,f=c.l===a?c.r:c.l;++u<l;)i=c,o=f,c=s[u].edge,f=c.l===a?c.r:c.l,r<o.i&&r<f.i&&ur(a,o,f)<0&&t.push([e[r],e[o.i],e[f.i]])}),t},t.x=function(e){return arguments.length?(o=Ce(r=e),t):r},t.y=function(e){return arguments.length?(a=Ce(i=e),t):i},t.clipExtent=function(e){return arguments.length?(s=null==e?ou:e,t):s===ou?null:s},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):s===ou?null:s&&s[1]},t)};var ou=[[-1e6,-1e6],[1e6,1e6]];na.geom.delaunay=function(e){return na.geom.voronoi().triangles(e)},na.geom.quadtree=function(e,t,n,r,i){function o(e){function o(e,t,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var u=e.x,c=e.y;if(null!=u)if(pa(u-n)+pa(c-r)<.01)l(e,t,n,r,i,o,a,s);else{var f=e.point;e.x=e.y=e.point=null,l(e,f,u,c,i,o,a,s),l(e,t,n,r,i,o,a,s)}else e.x=n,e.y=r,e.point=t}else l(e,t,n,r,i,o,a,s)}function l(e,t,n,r,i,a,s,u){var l=.5*(i+s),c=.5*(a+u),f=n>=l,h=r>=c,d=h<<1|f;e.leaf=!1,e=e.nodes[d]||(e.nodes[d]=fr()),f?i=l:s=l,h?a=c:u=c,o(e,t,n,r,i,a,s,u)}var c,f,h,d,p,g,m,v,y,b=Ce(s),x=Ce(u);if(null!=t)g=t,m=n,v=r,y=i;else if(v=y=-(g=m=1/0),f=[],h=[],p=e.length,a)for(d=0;p>d;++d)c=e[d],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),f.push(c.x),h.push(c.y);else for(d=0;p>d;++d){var w=+b(c=e[d],d),$=+x(c,d);g>w&&(g=w),m>$&&(m=$),w>v&&(v=w),$>y&&(y=$),f.push(w),h.push($)}var k=v-g,_=y-m;k>_?y=m+k:v=g+_;var S=fr();if(S.add=function(e){o(S,e,+b(e,++d),+x(e,d),g,m,v,y)},S.visit=function(e){hr(e,S,g,m,v,y)},S.find=function(e){return dr(S,e[0],e[1],g,m,v,y)},d=-1,null==t){for(;++d<p;)o(S,e[d],f[d],h[d],g,m,v,y);--d}else e.forEach(S.add);return f=h=e=c=null,S}var a,s=Mn,u=Tn;return(a=arguments.length)?(s=lr,u=cr,3===a&&(i=n,r=t,n=t=0),o(e)):(o.x=function(e){return arguments.length?(s=e,o):s},o.y=function(e){return arguments.length?(u=e,o):u},o.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),o):null==t?null:[[t,n],[r,i]]},o.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),o):null==t?null:[r-t,i-n]},o)},na.interpolateRgb=pr,na.interpolateObject=gr,na.interpolateNumber=mr,na.interpolateString=vr;var au=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,su=new RegExp(au.source,"g");na.interpolate=yr,na.interpolators=[function(e,t){var n=typeof t;return("string"===n?Ja.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?pr:vr:t instanceof ae?pr:Array.isArray(t)?br:"object"===n&&isNaN(t)?gr:mr)(e,t)}],na.interpolateArray=br;var uu=function(){return y},lu=na.map({linear:uu,poly:Cr,quad:function(){return kr},cubic:function(){return _r},sin:function(){return Er},exp:function(){return Mr},circle:function(){return Tr},elastic:Ar,back:Or,bounce:function(){return Dr}}),cu=na.map({"in":y,out:wr,"in-out":$r,"out-in":function(e){return $r(wr(e))}});na.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=lu.get(n)||uu,r=cu.get(r)||y,xr(r(n.apply(null,ra.call(arguments,1))))},na.interpolateHcl=Nr,na.interpolateHsl=Lr,na.interpolateLab=Pr,na.interpolateRound=Ir,na.transform=function(e){var t=oa.createElementNS(na.ns.prefix.svg,"g");return(na.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Rr(n?n.matrix:fu)})(e)},Rr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var fu={a:1,b:0,c:0,d:1,e:0,f:0};na.interpolateTransform=qr,na.layout={},na.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Wr(e[n]));return t}},na.layout.chord=function(){function e(){var e,l,f,h,d,p={},g=[],m=na.range(o),v=[];for(n=[],r=[],e=0,h=-1;++h<o;){for(l=0,d=-1;++d<o;)l+=i[h][d];g.push(l),v.push(na.range(o)),e+=l}for(a&&m.sort(function(e,t){return a(g[e],g[t])}),s&&v.forEach(function(e,t){e.sort(function(e,n){return s(i[t][e],i[t][n])})}),e=(Na-c*o)/e,l=0,h=-1;++h<o;){for(f=l,d=-1;++d<o;){var y=m[h],b=v[y][d],x=i[y][b],w=l,$=l+=x*e;p[y+"-"+b]={index:y,subindex:b,startAngle:w,endAngle:$,value:x}}r[y]={index:y,startAngle:f,endAngle:l,value:(l-f)/e},l+=c}for(h=-1;++h<o;)for(d=h-1;++d<o;){var k=p[h+"-"+d],_=p[d+"-"+h];(k.value||_.value)&&n.push(k.value<_.value?{source:_,target:k}:{source:k,target:_})}u&&t()}function t(){n.sort(function(e,t){return u((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,o,a,s,u,l={},c=0;return l.matrix=function(e){return arguments.length?(o=(i=e)&&i.length,n=r=null,l):i},l.padding=function(e){return arguments.length?(c=e,n=r=null,l):c},l.sortGroups=function(e){return arguments.length?(a=e,n=r=null,l):a},l.sortSubgroups=function(e){return arguments.length?(s=e,n=null,l):s},l.sortChords=function(e){return arguments.length?(u=e,n&&t(),l):u},l.chords=function(){return n||e(),n},l.groups=function(){return r||e(),r},l},na.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=i-n,u=o*o+a*a;if(u>s*s/m){if(p>u){var l=t.charge/u;e.px-=o*l,e.py-=a*l}return!0}if(t.point&&u&&p>u){var l=t.pointCharge/u;e.px-=o*l,e.py-=a*l}}return!t.charge}}function t(e){e.px=na.event.x,e.py=na.event.y,s.resume()}var n,r,i,o,a,s={},u=na.dispatch("start","tick","end"),l=[1,1],c=.9,f=hu,h=du,d=-30,p=pu,g=.1,m=.64,v=[],b=[];return s.tick=function(){if((r*=.99)<.005)return u.end({type:"end",alpha:r=0}),!0;var t,n,s,f,h,p,m,y,x,w=v.length,$=b.length;for(n=0;$>n;++n)s=b[n],f=s.source,h=s.target,y=h.x-f.x,x=h.y-f.y,(p=y*y+x*x)&&(p=r*o[n]*((p=Math.sqrt(p))-i[n])/p,y*=p,x*=p,h.x-=y*(m=f.weight/(h.weight+f.weight)),h.y-=x*m,f.x+=y*(m=1-m),f.y+=x*m);if((m=r*g)&&(y=l[0]/2,x=l[1]/2,n=-1,m))for(;++n<w;)s=v[n],s.x+=(y-s.x)*m,s.y+=(x-s.y)*m;if(d)for(Zr(t=na.geom.quadtree(v),r,a),n=-1;++n<w;)(s=v[n]).fixed||t.visit(e(s));for(n=-1;++n<w;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);u.tick({type:"tick",alpha:r})},s.nodes=function(e){return arguments.length?(v=e,s):v},s.links=function(e){return arguments.length?(b=e,s):b},s.size=function(e){return arguments.length?(l=e,s):l},s.linkDistance=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.friction=function(e){return arguments.length?(c=+e,s):c},s.charge=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.chargeDistance=function(e){return arguments.length?(p=e*e,s):Math.sqrt(p)},s.gravity=function(e){return arguments.length?(g=+e,s):g},s.theta=function(e){return arguments.length?(m=e*e,s):Math.sqrt(m)},s.alpha=function(e){return arguments.length?(e=+e,r?r=e>0?e:0:e>0&&(u.start({type:"start",alpha:r=e}),na.timer(s.tick)),s):r},s.start=function(){function e(e,r){if(!n){for(n=new Array(u),
s=0;u>s;++s)n[s]=[];for(s=0;c>s;++s){var i=b[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[t],s=-1,l=a.length;++s<l;)if(!isNaN(o=a[s][e]))return o;return Math.random()*r}var t,n,r,u=v.length,c=b.length,p=l[0],g=l[1];for(t=0;u>t;++t)(r=v[t]).index=t,r.weight=0;for(t=0;c>t;++t)r=b[t],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(t=0;u>t;++t)r=v[t],isNaN(r.x)&&(r.x=e("x",p)),isNaN(r.y)&&(r.y=e("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof f)for(t=0;c>t;++t)i[t]=+f.call(this,b[t],t);else for(t=0;c>t;++t)i[t]=f;if(o=[],"function"==typeof h)for(t=0;c>t;++t)o[t]=+h.call(this,b[t],t);else for(t=0;c>t;++t)o[t]=h;if(a=[],"function"==typeof d)for(t=0;u>t;++t)a[t]=+d.call(this,v[t],t);else for(t=0;u>t;++t)a[t]=d;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=na.behavior.drag().origin(y).on("dragstart.force",Yr).on("drag.force",t).on("dragend.force",Xr)),arguments.length?void this.on("mouseover.force",Gr).on("mouseout.force",Kr).call(n):n},na.rebind(s,u,"on")};var hu=20,du=1,pu=1/0;na.layout.hierarchy=function(){function e(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(l=n.call(e,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=l}else r&&(o.value=+r.call(e,o,o.depth)||0),delete o.children;return ei(i,function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)}),s}var t=ri,n=ti,r=ni;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(Qr(t,function(e){e.children&&(e.value=0)}),ei(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},na.layout.partition=function(){function e(t,n,r,i){var o=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,o&&(a=o.length)){var a,s,u,l=-1;for(r=t.value?r/t.value:0;++l<a;)e(s=o[l],n,u=s.value*r,i),n+=u}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return e(a[0],0,i[0],i[1]/t(a[0])),a}var r=na.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},Jr(n,r)},na.layout.pie=function(){function e(a){var s,u=a.length,l=a.map(function(n,r){return+t.call(e,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof i?i.apply(this,arguments):i)-c,h=Math.min(Math.abs(f)/u,+("function"==typeof o?o.apply(this,arguments):o)),d=h*(0>f?-1:1),p=(f-u*d)/na.sum(l),g=na.range(u),m=[];return null!=n&&g.sort(n===gu?function(e,t){return l[t]-l[e]}:function(e,t){return n(a[e],a[t])}),g.forEach(function(e){m[e]={data:a[e],value:s=l[e],startAngle:c,endAngle:c+=s*p+d,padAngle:h}}),m}var t=Number,n=gu,r=0,i=Na,o=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e.padAngle=function(t){return arguments.length?(o=t,e):o},e};var gu={};na.layout.stack=function(){function e(s,u){if(!(h=s.length))return s;var l=s.map(function(n,r){return t.call(e,n,r)}),c=l.map(function(t){return t.map(function(t,n){return[o.call(e,t,n),a.call(e,t,n)]})}),f=n.call(e,c,u);l=na.permute(l,f),c=na.permute(c,f);var h,d,p,g,m=r.call(e,c,u),v=l[0].length;for(p=0;v>p;++p)for(i.call(e,l[0][p],g=m[p],c[0][p][1]),d=1;h>d;++d)i.call(e,l[d][p],g+=c[d-1][p][1],c[d][p][1]);return s}var t=y,n=ui,r=li,i=si,o=oi,a=ai;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:mu.get(t)||ui,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:vu.get(t)||li,e):r},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(a=t,e):a},e.out=function(t){return arguments.length?(i=t,e):i},e};var mu=na.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(ci),o=e.map(fi),a=na.range(r).sort(function(e,t){return i[e]-i[t]}),s=0,u=0,l=[],c=[];for(t=0;r>t;++t)n=a[t],u>s?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(e){return na.range(e.length).reverse()},"default":ui}),vu=na.map({silhouette:function(e){var t,n,r,i=e.length,o=e[0].length,a=[],s=0,u=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)u[n]=(s-a[n])/2;return u},wiggle:function(e){var t,n,r,i,o,a,s,u,l,c=e.length,f=e[0],h=f.length,d=[];for(d[0]=u=l=0,n=1;h>n;++n){for(t=0,i=0;c>t;++t)i+=e[t][n][1];for(t=0,o=0,s=f[n][0]-f[n-1][0];c>t;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);t>r;++r)a+=(e[r][n][1]-e[r][n-1][1])/s;o+=a*e[t][n][1]}d[n]=u-=i?o/i*s:0,l>u&&(l=u)}for(n=0;h>n;++n)d[n]-=l;return d},expand:function(e){var t,n,r,i=e.length,o=e[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];if(r)for(t=0;i>t;t++)e[t][n][1]/=r;else for(t=0;i>t;t++)e[t][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:li});na.layout.histogram=function(){function e(e,o){for(var a,s,u=[],l=e.map(n,this),c=r.call(this,l,o),f=i.call(this,c,l,o),o=-1,h=l.length,d=f.length-1,p=t?1:1/h;++o<d;)a=u[o]=[],a.dx=f[o+1]-(a.x=f[o]),a.y=0;if(d>0)for(o=-1;++o<h;)s=l[o],s>=c[0]&&s<=c[1]&&(a=u[na.bisect(f,s,1,d)-1],a.y+=p,a.push(e[o]));return u}var t=!0,n=Number,r=gi,i=di;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=Ce(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return pi(e,t)}:Ce(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},na.layout.pack=function(){function e(e,o){var a=n.call(this,e,o),s=a[0],u=i[0],l=i[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,ei(s,function(e){e.r=+c(e.value)}),ei(s,xi),r){var f=r*(t?1:Math.max(2*s.r/u,2*s.r/l))/2;ei(s,function(e){e.r+=f}),ei(s,xi),ei(s,function(e){e.r-=f})}return ki(s,u/2,l/2,t?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var t,n=na.layout.hierarchy().sort(mi),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},Jr(e,n)},na.layout.tree=function(){function e(e,i){var c=a.call(this,e,i),f=c[0],h=t(f);if(ei(h,n),h.parent.m=-h.z,Qr(h,r),l)Qr(f,o);else{var d=f,p=f,g=f;Qr(f,function(e){e.x<d.x&&(d=e),e.x>p.x&&(p=e),e.depth>g.depth&&(g=e)});var m=s(d,p)/2-d.x,v=u[0]/(p.x+s(p,d)/2+m),y=u[1]/(g.depth||1);Qr(f,function(e){e.x=(e.x+m)*v,e.y=e.depth*y})}return c}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,o=t.children,a=0,s=o.length;s>a;++a)r.push((o[a]=i={_:o[a],parent:t,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){Ti(e);var o=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+s(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+s(e._,r._));e.parent.A=i(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e,t,n){if(t){for(var r,i=e,o=e,a=t,u=i.parent.children[0],l=i.m,c=o.m,f=a.m,h=u.m;a=Ei(a),i=Ci(i),a&&i;)u=Ci(u),o=Ei(o),o.a=e,r=a.z+f-i.z-l+s(a._,i._),r>0&&(Mi(Ai(a,e,n),e,r),l+=r,c+=r),f+=a.m,l+=i.m,h+=u.m,c+=o.m;a&&!Ei(o)&&(o.t=a,o.m+=f-c),i&&!Ci(u)&&(u.t=i,u.m+=l-h,n=e)}return n}function o(e){e.x*=u[0],e.y=e.depth*u[1]}var a=na.layout.hierarchy().sort(null).value(null),s=Si,u=[1,1],l=null;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(l=null==(u=t)?o:null,e):l?null:u},e.nodeSize=function(t){return arguments.length?(l=null==(u=t)?null:o,e):l?u:null},Jr(e,a)},na.layout.cluster=function(){function e(e,o){var a,s=t.call(this,e,o),u=s[0],l=0;ei(u,function(e){var t=e.children;t&&t.length?(e.x=Di(t),e.y=Oi(t)):(e.x=a?l+=n(e,a):0,e.y=0,a=e)});var c=Ni(u),f=Li(u),h=c.x-n(c,f)/2,d=f.x+n(f,c)/2;return ei(u,i?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(d-h)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),s}var t=na.layout.hierarchy().sort(null).value(null),n=Si,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},Jr(e,t)},na.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,o=e.length;++i<o;)r=(n=e[i]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function t(n){var o=n.children;if(o&&o.length){var a,s,u,l=f(n),c=[],h=o.slice(),p=1/0,g="slice"===d?l.dx:"dice"===d?l.dy:"slice-dice"===d?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(e(h,l.dx*l.dy/n.value),c.area=0;(u=h.length)>0;)c.push(a=h[u-1]),c.area+=a.area,"squarify"!==d||(s=r(c,g))<=p?(h.pop(),p=s):(c.area-=c.pop().area,i(c,g,l,!1),g=Math.min(l.dx,l.dy),c.length=c.area=0,p=1/0);c.length&&(i(c,g,l,!0),c.length=c.area=0),o.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var o,a=f(t),s=r.slice(),u=[];for(e(s,a.dx*a.dy/t.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*p/r,r/(t*o*p)):1/0}function i(e,t,n,r){var i,o=-1,a=e.length,s=n.x,l=n.y,c=t?u(e.area/t):0;if(t==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=e[o],i.x=s,i.y=l,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?u(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=e[o],i.x=s,i.y=l,i.dx=c,l+=i.dy=Math.min(n.y+n.dy-l,c?u(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=l[0],o.dy=l[1],a&&s.revalue(o),e([o],o.dx*o.dy/o.value),(a?n:t)(o),h&&(a=i),i}var a,s=na.layout.hierarchy(),u=Math.round,l=[1,1],c=null,f=Pi,h=!1,d="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(e){return arguments.length?(l=e,o):l},o.padding=function(e){function t(t){var n=e.call(o,t,t.depth);return null==n?Pi(t):Ii(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Ii(t,e)}if(!arguments.length)return c;var r;return f=null==(c=e)?Pi:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,o},o.round=function(e){return arguments.length?(u=e?Math.round:Number,o):u!=Number},o.sticky=function(e){return arguments.length?(h=e,a=null,o):h},o.ratio=function(e){return arguments.length?(p=e,o):p},o.mode=function(e){return arguments.length?(d=e+"",o):d},Jr(o,s)},na.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=na.random.normal.apply(na,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=na.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},na.scale={};var yu={floor:y,ceil:y};na.scale.linear=function(){return Hi([0,1],[0,1],yr,!1)};var bu={s:1,g:1,p:1,r:1,e:1};na.scale.log=function(){return Zi(na.scale.linear().domain([0,1]),10,!0,[1,10])};var xu=na.format(".0e"),wu={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};na.scale.pow=function(){return Ji(na.scale.linear(),1,[0,1])},na.scale.sqrt=function(){return na.scale.pow().exponent(.5)},na.scale.ordinal=function(){return eo([],{t:"range",a:[[]]})},na.scale.category10=function(){return na.scale.ordinal().range($u)},na.scale.category20=function(){return na.scale.ordinal().range(ku)},na.scale.category20b=function(){return na.scale.ordinal().range(_u)},na.scale.category20c=function(){return na.scale.ordinal().range(Su)};var $u=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(be),ku=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(be),_u=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(be),Su=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(be);na.scale.quantile=function(){return to([],[])},na.scale.quantize=function(){return no(0,1,[0,1])},na.scale.threshold=function(){return ro([.5],[0,1])},na.scale.identity=function(){return io([0,1])},na.svg={},na.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-Pa,f=s.apply(this,arguments)-Pa,h=Math.abs(f-c),d=c>f?0:1;if(e>l&&(p=l,l=e,e=p),h>=La)return t(l,d)+(e?t(e,1-d):"")+"Z";var p,g,m,v,y,b,x,w,$,k,_,S,C=0,E=0,M=[];if((v=(+u.apply(this,arguments)||0)/2)&&(m=o===Cu?Math.sqrt(e*e+l*l):+o.apply(this,arguments),d||(E*=-1),l&&(E=te(m/l*Math.sin(v))),e&&(C=te(m/e*Math.sin(v)))),l){y=l*Math.cos(c+E),b=l*Math.sin(c+E),x=l*Math.cos(f-E),w=l*Math.sin(f-E);var T=Math.abs(f-c-2*E)<=Da?0:1;if(E&&fo(y,b,x,w)===d^T){var A=(c+f)/2;y=l*Math.cos(A),b=l*Math.sin(A),x=w=null}}else y=b=0;if(e){$=e*Math.cos(f-C),k=e*Math.sin(f-C),_=e*Math.cos(c+C),S=e*Math.sin(c+C);var O=Math.abs(c-f+2*C)<=Da?0:1;if(C&&fo($,k,_,S)===1-d^O){var D=(c+f)/2;$=e*Math.cos(D),k=e*Math.sin(D),_=S=null}}else $=k=0;if((p=Math.min(Math.abs(l-e)/2,+i.apply(this,arguments)))>.001){g=l>e^d?0:1;var N=null==_?[$,k]:null==x?[y,b]:Nn([y,b],[_,S],[x,w],[$,k]),L=y-N[0],P=b-N[1],I=x-N[0],R=w-N[1],j=1/Math.sin(Math.acos((L*I+P*R)/(Math.sqrt(L*L+P*P)*Math.sqrt(I*I+R*R)))/2),F=Math.sqrt(N[0]*N[0]+N[1]*N[1]);if(null!=x){var U=Math.min(p,(l-F)/(j+1)),q=ho(null==_?[$,k]:[_,S],[y,b],l,U,d),z=ho([x,w],[$,k],l,U,d);p===U?M.push("M",q[0],"A",U,",",U," 0 0,",g," ",q[1],"A",l,",",l," 0 ",1-d^fo(q[1][0],q[1][1],z[1][0],z[1][1]),",",d," ",z[1],"A",U,",",U," 0 0,",g," ",z[0]):M.push("M",q[0],"A",U,",",U," 0 1,",g," ",z[0])}else M.push("M",y,",",b);if(null!=_){var H=Math.min(p,(e-F)/(j-1)),W=ho([y,b],[_,S],e,-H,d),B=ho([$,k],null==x?[y,b]:[x,w],e,-H,d);p===H?M.push("L",B[0],"A",H,",",H," 0 0,",g," ",B[1],"A",e,",",e," 0 ",d^fo(B[1][0],B[1][1],W[1][0],W[1][1]),",",1-d," ",W[1],"A",H,",",H," 0 0,",g," ",W[0]):M.push("L",B[0],"A",H,",",H," 0 0,",g," ",W[0])}else M.push("L",$,",",k)}else M.push("M",y,",",b),null!=x&&M.push("A",l,",",l," 0 ",T,",",d," ",x,",",w),M.push("L",$,",",k),null!=_&&M.push("A",e,",",e," 0 ",O,",",1-d," ",_,",",S);return M.push("Z"),M.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=ao,r=so,i=oo,o=Cu,a=uo,s=lo,u=co;return e.innerRadius=function(t){return arguments.length?(n=Ce(t),e):n},e.outerRadius=function(t){return arguments.length?(r=Ce(t),e):r},e.cornerRadius=function(t){return arguments.length?(i=Ce(t),e):i},e.padRadius=function(t){return arguments.length?(o=t==Cu?Cu:Ce(t),e):o},e.startAngle=function(t){return arguments.length?(a=Ce(t),e):a},e.endAngle=function(t){return arguments.length?(s=Ce(t),e):s},e.padAngle=function(t){return arguments.length?(u=Ce(t),e):u},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Pa;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Cu="auto";na.svg.line=function(){return po(y)};var Eu=na.map({linear:go,"linear-closed":mo,step:vo,"step-before":yo,"step-after":bo,basis:So,"basis-open":Co,"basis-closed":Eo,bundle:Mo,cardinal:$o,"cardinal-open":xo,"cardinal-closed":wo,monotone:Lo});Eu.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Mu=[0,2/3,1/3,0],Tu=[0,1/3,2/3,0],Au=[0,1/6,2/3,1/6];na.svg.line.radial=function(){var e=po(Po);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},yo.reverse=bo,bo.reverse=yo,na.svg.area=function(){return Io(y)},na.svg.area.radial=function(){var e=Io(Po);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},na.svg.chord=function(){function e(e,s){var u=t(this,o,e,s),l=t(this,a,e,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,u.r,u.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),o=s.call(e,i,r),a=u.call(e,i,r)-Pa,c=l.call(e,i,r)-Pa;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Da)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var o=yn,a=bn,s=Ro,u=uo,l=lo;return e.radius=function(t){return arguments.length?(s=Ce(t),e):s},e.source=function(t){return arguments.length?(o=Ce(t),e):o},e.target=function(t){return arguments.length?(a=Ce(t),e):a},e.startAngle=function(t){return arguments.length?(u=Ce(t),e):u},e.endAngle=function(t){return arguments.length?(l=Ce(t),e):l},e},na.svg.diagonal=function(){function e(e,i){var o=t.call(this,e,i),a=n.call(this,e,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var t=yn,n=bn,r=jo;return e.source=function(n){return arguments.length?(t=Ce(n),e):t},e.target=function(t){return arguments.length?(n=Ce(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},na.svg.diagonal.radial=function(){var e=na.svg.diagonal(),t=jo,n=e.projection;return e.projection=function(e){return arguments.length?n(Fo(t=e)):t},e},na.svg.symbol=function(){function e(e,r){return(Ou.get(t.call(this,e,r))||zo)(n.call(this,e,r))}var t=qo,n=Uo;return e.type=function(n){return arguments.length?(t=Ce(n),e):t},e.size=function(t){return arguments.length?(n=Ce(t),e):n},e};var Ou=na.map({circle:zo,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Nu)),n=t*Nu;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Du),n=t*Du/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Du),n=t*Du/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});na.svg.symbolTypes=Ou.keys();var Du=Math.sqrt(3),Nu=Math.tan(30*Ia);ka.transition=function(e){for(var t,n,r=Lu||++ju,i=Yo(e),o=[],a=Pu||{time:Date.now(),ease:Sr,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(t=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(n=l[c])&&Xo(n,c,i,r,a),t.push(n)}return Wo(o,i,r)},ka.interrupt=function(e){return this.each(null==e?Iu:Ho(Yo(e)))};var Lu,Pu,Iu=Ho(Yo()),Ru=[],ju=0;Ru.call=ka.call,Ru.empty=ka.empty,Ru.node=ka.node,Ru.size=ka.size,na.transition=function(e,t){return e&&e.transition?Lu?e.transition(t):e:na.selection().transition(e)},na.transition.prototype=Ru,Ru.select=function(e){var t,n,r,i=this.id,o=this.namespace,a=[];e=M(e);for(var s=-1,u=this.length;++s<u;){a.push(t=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(r=l[c])&&(n=e.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Xo(n,c,o,i,r[o][i]),t.push(n)):t.push(null)}return Wo(a,o,i)},Ru.selectAll=function(e){var t,n,r,i,o,a=this.id,s=this.namespace,u=[];e=T(e);for(var l=-1,c=this.length;++l<c;)for(var f=this[l],h=-1,d=f.length;++h<d;)if(r=f[h]){o=r[s][a],n=e.call(r,r.__data__,h,l),u.push(t=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&Xo(i,p,s,a,o),t.push(i)}return Wo(u,s,a)},Ru.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=q(e));for(var o=0,a=this.length;a>o;o++){i.push(t=[]);for(var n=this[o],s=0,u=n.length;u>s;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return Wo(i,this.namespace,this.id)},Ru.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):H(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Ru.attr=function(e,t){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(s);return n!==e&&(t=a(n,e),function(e){this.setAttribute(s,t(e))})})}function o(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(s.space,s.local);return n!==e&&(t=a(n,e),function(e){this.setAttributeNS(s.space,s.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var a="transform"==e?qr:yr,s=na.ns.qualify(e);return Bo(this,"attr."+e,t,s.local?o:i)},Ru.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=na.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},Ru.style=function(e,n,r){function i(){this.style.removeProperty(e)}function o(n){return null==n?i:(n+="",function(){var i,o=t(this).getComputedStyle(this,null).getPropertyValue(e);return o!==n&&(i=yr(o,n),function(t){this.style.setProperty(e,i(t),r)})})}var a=arguments.length;if(3>a){if("string"!=typeof e){2>a&&(n="");for(r in e)this.style(r,e[r],n);return this}r=""}return Bo(this,"style."+e,n,o)},Ru.styleTween=function(e,n,r){function i(i,o){var a=n.call(this,i,o,t(this).getComputedStyle(this,null).getPropertyValue(e));return a&&function(t){this.style.setProperty(e,a(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+e,i)},Ru.text=function(e){return Bo(this,"text",e,Vo)},Ru.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Ru.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=na.ease.apply(na,arguments)),H(this,function(r){r[n][t].ease=e}))},Ru.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:H(this,"function"==typeof e?function(r,i,o){r[n][t].delay=+e.call(r,r.__data__,i,o)}:(e=+e,function(r){r[n][t].delay=e}))},Ru.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:H(this,"function"==typeof e?function(r,i,o){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,o))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Ru.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Pu,o=Lu;try{Lu=n,H(this,function(t,i,o){Pu=t[r][n],e.call(t,t.__data__,i,o)})}finally{Pu=i,Lu=o}}else H(this,function(i){var o=i[r][n];(o.event||(o.event=na.dispatch("start","end","interrupt"))).on(e,t)});return this},Ru.transition=function(){for(var e,t,n,r,i=this.id,o=++ju,a=this.namespace,s=[],u=0,l=this.length;l>u;u++){s.push(e=[]);for(var t=this[u],c=0,f=t.length;f>c;c++)(n=t[c])&&(r=n[a][i],Xo(n,c,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),e.push(n)}return Wo(s,a,o)},na.svg.axis=function(){function e(e){e.each(function(){var e,l=na.select(this),c=this.__chart__||n,f=this.__chart__=n.copy(),h=null==u?f.ticks?f.ticks.apply(f,s):f.domain():u,d=null==t?f.tickFormat?f.tickFormat.apply(f,s):y:t,p=l.selectAll(".tick").data(h,f),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Aa),m=na.transition(p.exit()).style("opacity",Aa).remove(),v=na.transition(p.order()).style("opacity",1),b=Math.max(i,0)+a,x=ji(f),w=l.selectAll(".domain").data([0]),$=(w.enter().append("path").attr("class","domain"),na.transition(w));g.append("line"),g.append("text");var k,_,S,C,E=g.select("line"),M=v.select("line"),T=p.select("text").text(d),A=g.select("text"),O=v.select("text"),D="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=Go,k="x",S="y",_="x2",C="y2",T.attr("dy",0>D?"0em":".71em").style("text-anchor","middle"),$.attr("d","M"+x[0]+","+D*o+"V0H"+x[1]+"V"+D*o)):(e=Ko,k="y",S="x",_="y2",C="x2",T.attr("dy",".32em").style("text-anchor",0>D?"end":"start"),$.attr("d","M"+D*o+","+x[0]+"H0V"+x[1]+"H"+D*o)),E.attr(C,D*i),A.attr(S,D*b),M.attr(_,0).attr(C,D*i),O.attr(k,0).attr(S,D*b),f.rangeBand){var N=f,L=N.rangeBand()/2;c=f=function(e){return N(e)+L}}else c.rangeBand?c=f:m.call(e,f,c);g.call(e,c,f),v.call(e,f,f)})}var t,n=na.scale.linear(),r=Fu,i=6,o=6,a=3,s=[10],u=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Uu?t+"":Fu,e):r},e.ticks=function(){return arguments.length?(s=arguments,e):s},e.tickValues=function(t){return arguments.length?(u=t,e):u},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,o=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(o=+t,e):o},e.tickPadding=function(t){return arguments.length?(a=+t,e):a},e.tickSubdivide=function(){return arguments.length&&e},e};var Fu="bottom",Uu={top:1,right:1,bottom:1,left:1};na.svg.brush=function(){function e(t){t.each(function(){var t=na.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=t.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=t.selectAll(".resize").data(g,y);s.exit().remove(),s.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return qu[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",e.empty()?"none":null);var u,f=na.transition(t),h=na.transition(a);l&&(u=ji(l),h.attr("x",u[0]).attr("width",u[1]-u[0]),r(f)),c&&(u=ji(c),h.attr("y",u[0]).attr("height",u[1]-u[0]),i(f)),n(f)})}function n(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+f[+/e$/.test(e)]+","+h[+/^s/.test(e)]+")"})}function r(e){e.select(".extent").attr("x",f[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function i(e){e.select(".extent").attr("y",h[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function o(){function o(){32==na.event.keyCode&&(T||(b=null,O[0]-=f[1],O[1]-=h[1],T=2),_())}function g(){32==na.event.keyCode&&2==T&&(O[0]+=f[1],O[1]+=h[1],T=0,_())}function m(){var e=na.mouse(w),t=!1;x&&(e[0]+=x[0],e[1]+=x[1]),T||(na.event.altKey?(b||(b=[(f[0]+f[1])/2,(h[0]+h[1])/2]),O[0]=f[+(e[0]<b[0])],O[1]=h[+(e[1]<b[1])]):b=null),E&&v(e,l,0)&&(r(S),t=!0),M&&v(e,c,1)&&(i(S),t=!0),t&&(n(S),k({type:"brush",mode:T?"move":"resize"}))}function v(e,t,n){var r,i,o=ji(t),u=o[0],l=o[1],c=O[n],g=n?h:f,m=g[1]-g[0];return T&&(u-=c,l-=m+c),r=(n?p:d)?Math.max(u,Math.min(l,e[n])):e[n],T?i=(r+=c)+m:(b&&(c=Math.max(u,Math.min(l,2*b[n]-r))),r>c?(i=r,r=c):i=c),g[0]!=r||g[1]!=i?(n?s=null:a=null,g[0]=r,g[1]=i,!0):void 0}function y(){m(),S.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),na.select("body").style("cursor",null),D.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),k({type:"brushend"})}var b,x,w=this,$=na.select(na.event.target),k=u.of(w,arguments),S=na.select(w),C=$.datum(),E=!/^(n|s)$/.test(C)&&l,M=!/^(e|w)$/.test(C)&&c,T=$.classed("extent"),A=G(w),O=na.mouse(w),D=na.select(t(w)).on("keydown.brush",o).on("keyup.brush",g);if(na.event.changedTouches?D.on("touchmove.brush",m).on("touchend.brush",y):D.on("mousemove.brush",m).on("mouseup.brush",y),S.interrupt().selectAll("*").interrupt(),T)O[0]=f[0]-O[0],O[1]=h[0]-O[1];else if(C){var N=+/w$/.test(C),L=+/^n/.test(C);x=[f[1-N]-O[0],h[1-L]-O[1]],O[0]=f[N],O[1]=h[L]}else na.event.altKey&&(b=O.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),na.select("body").style("cursor",$.style("cursor")),k({type:"brushstart"}),m()}var a,s,u=C(e,"brushstart","brush","brushend"),l=null,c=null,f=[0,0],h=[0,0],d=!0,p=!0,g=zu[0];return e.event=function(e){e.each(function(){var e=u.of(this,arguments),t={x:f,y:h,i:a,j:s},n=this.__chart__||t;this.__chart__=t,Lu?na.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,f=n.x,h=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=br(f,t.x),r=br(h,t.y);return a=s=null,function(i){f=t.x=n(i),h=t.y=r(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=t.i,s=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(l=t,g=zu[!l<<1|!c],e):l},e.y=function(t){return arguments.length?(c=t,g=zu[!l<<1|!c],e):c},e.clamp=function(t){return arguments.length?(l&&c?(d=!!t[0],p=!!t[1]):l?d=!!t:c&&(p=!!t),e):l&&c?[d,p]:l?d:c?p:null},e.extent=function(t){var n,r,i,o,u;return arguments.length?(l&&(n=t[0],r=t[1],c&&(n=n[0],r=r[0]),a=[n,r],l.invert&&(n=l(n),r=l(r)),n>r&&(u=n,n=r,r=u),(n!=f[0]||r!=f[1])&&(f=[n,r])),c&&(i=t[0],o=t[1],l&&(i=i[1],o=o[1]),s=[i,o],c.invert&&(i=c(i),o=c(o)),i>o&&(u=i,i=o,o=u),(i!=h[0]||o!=h[1])&&(h=[i,o])),e):(l&&(a?(n=a[0],r=a[1]):(n=f[0],r=f[1],l.invert&&(n=l.invert(n),r=l.invert(r)),n>r&&(u=n,n=r,r=u))),c&&(s?(i=s[0],o=s[1]):(i=h[0],o=h[1],c.invert&&(i=c.invert(i),o=c.invert(o)),i>o&&(u=i,i=o,o=u))),l&&c?[[n,i],[r,o]]:l?[n,r]:c&&[i,o])},e.clear=function(){return e.empty()||(f=[0,0],h=[0,0],a=s=null),e},e.empty=function(){return!!l&&f[0]==f[1]||!!c&&h[0]==h[1]},na.rebind(e,u,"on")};var qu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},zu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Hu=us.format=ps.timeFormat,Wu=Hu.utc,Bu=Wu("%Y-%m-%dT%H:%M:%S.%LZ");Hu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Zo:Bu,Zo.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Zo.toString=Bu.toString,us.second=Fe(function(e){return new ls(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),us.seconds=us.second.range,us.seconds.utc=us.second.utc.range,us.minute=Fe(function(e){return new ls(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),us.minutes=us.minute.range,us.minutes.utc=us.minute.utc.range,us.hour=Fe(function(e){var t=e.getTimezoneOffset()/60;return new ls(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),us.hours=us.hour.range,us.hours.utc=us.hour.utc.range,us.month=Fe(function(e){return e=us.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),us.months=us.month.range,us.months.utc=us.month.utc.range;var Vu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Yu=[[us.second,1],[us.second,5],[us.second,15],[us.second,30],[us.minute,1],[us.minute,5],[us.minute,15],[us.minute,30],[us.hour,1],[us.hour,3],[us.hour,6],[us.hour,12],[us.day,1],[us.day,2],[us.week,1],[us.month,1],[us.month,3],[us.year,1]],Xu=Hu.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){
return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Mt]]),Gu={range:function(e,t,n){return na.range(Math.ceil(e/n)*n,+t,n).map(Qo)},floor:y,ceil:y};Yu.year=us.year,us.scale=function(){return Jo(na.scale.linear(),Yu,Xu)};var Ku=Yu.map(function(e){return[e[0].utc,e[1]]}),Zu=Wu.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Mt]]);Ku.year=us.year.utc,us.scale.utc=function(){return Jo(na.scale.linear(),Ku,Zu)},na.text=Ee(function(e){return e.responseText}),na.json=function(e,t){return Me(e,"application/json",ea,t)},na.html=function(e,t){return Me(e,"text/html",ta,t)},na.xml=Ee(function(e){return e.responseXML}),"function"==typeof define&&define.amd?define(na):"object"==typeof module&&module.exports&&(module.exports=na),this.d3=na}(),/*!
 * ZeroClipboard
 * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie and a JavaScript interface.
 * Copyright (c) 2009-2014 Jon Rohan, James M. Greene
 * Licensed MIT
 * http://zeroclipboard.org/
 * v2.2.0
 */
function(e,t){"use strict";var n,r,i,o=e,a=o.document,s=o.navigator,u=o.setTimeout,l=o.clearTimeout,c=o.setInterval,f=o.clearInterval,h=o.getComputedStyle,d=o.encodeURIComponent,p=o.ActiveXObject,g=o.Error,m=o.Number.parseInt||o.parseInt,v=o.Number.parseFloat||o.parseFloat,y=o.Number.isNaN||o.isNaN,b=o.Date.now,x=o.Object.keys,w=o.Object.defineProperty,$=o.Object.prototype.hasOwnProperty,k=o.Array.prototype.slice,_=function(){var e=function(e){return e};if("function"==typeof o.wrap&&"function"==typeof o.unwrap)try{var t=a.createElement("div"),n=o.unwrap(t);1===t.nodeType&&n&&1===n.nodeType&&(e=o.unwrap)}catch(r){}return e}(),S=function(e){return k.call(e,0)},C=function(){var e,n,r,i,o,a,s=S(arguments),u=s[0]||{};for(e=1,n=s.length;n>e;e++)if(null!=(r=s[e]))for(i in r)$.call(r,i)&&(o=u[i],a=r[i],u!==a&&a!==t&&(u[i]=a));return u},E=function(e){var t,n,r,i;if("object"!=typeof e||null==e||"number"==typeof e.nodeType)t=e;else if("number"==typeof e.length)for(t=[],n=0,r=e.length;r>n;n++)$.call(e,n)&&(t[n]=E(e[n]));else{t={};for(i in e)$.call(e,i)&&(t[i]=E(e[i]))}return t},M=function(e,t){for(var n={},r=0,i=t.length;i>r;r++)t[r]in e&&(n[t[r]]=e[t[r]]);return n},T=function(e,t){var n={};for(var r in e)-1===t.indexOf(r)&&(n[r]=e[r]);return n},A=function(e){if(e)for(var t in e)$.call(e,t)&&delete e[t];return e},O=function(e,t){if(e&&1===e.nodeType&&e.ownerDocument&&t&&(1===t.nodeType&&t.ownerDocument&&t.ownerDocument===e.ownerDocument||9===t.nodeType&&!t.ownerDocument&&t===e.ownerDocument))do{if(e===t)return!0;e=e.parentNode}while(e);return!1},D=function(e){var t;return"string"==typeof e&&e&&(t=e.split("#")[0].split("?")[0],t=e.slice(0,e.lastIndexOf("/")+1)),t},N=function(e){var t,n;return"string"==typeof e&&e&&(n=e.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]?t=n[1]:(n=e.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]&&(t=n[1]))),t},L=function(){var e,t;try{throw new g}catch(n){t=n}return t&&(e=t.sourceURL||t.fileName||N(t.stack)),e},P=function(){var e,n,r;if(a.currentScript&&(e=a.currentScript.src))return e;if(n=a.getElementsByTagName("script"),1===n.length)return n[0].src||t;if("readyState"in n[0])for(r=n.length;r--;)if("interactive"===n[r].readyState&&(e=n[r].src))return e;return"loading"===a.readyState&&(e=n[n.length-1].src)?e:(e=L())?e:t},I=function(){var e,n,r,i=a.getElementsByTagName("script");for(e=i.length;e--;){if(!(r=i[e].src)){n=null;break}if(r=D(r),null==n)n=r;else if(n!==r){n=null;break}}return n||t},R=function(){var e=D(P())||I()||"";return e+"ZeroClipboard.swf"},j=function(){return null==e.opener&&(!!e.top&&e!=e.top||!!e.parent&&e!=e.parent)}(),F={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},U="11.0.0",q={},z={},H=null,W=0,B=0,V={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},Y=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],X=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],G=new RegExp("^flash-("+X.map(function(e){return e.replace(/^flash-/,"")}).join("|")+")$"),K=new RegExp("^flash-("+X.slice(1).map(function(e){return e.replace(/^flash-/,"")}).join("|")+")$"),Z={swfPath:R(),trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},J=function(e){if("object"==typeof e&&null!==e)for(var t in e)if($.call(e,t))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(t))Z[t]=e[t];else if(null==F.bridge)if("containerId"===t||"swfObjectId"===t){if(!de(e[t]))throw new Error("The specified `"+t+"` value is not valid as an HTML4 Element ID");Z[t]=e[t]}else Z[t]=e[t];{if("string"!=typeof e||!e)return E(Z);if($.call(Z,e))return Z[e]}},Q=function(){return Be(),{browser:M(s,["userAgent","platform","appName"]),flash:T(F,["bridge"]),zeroclipboard:{version:Ye.version,config:Ye.config()}}},ee=function(){return!!(F.disabled||F.outdated||F.sandboxed||F.unavailable||F.degraded||F.deactivated)},te=function(e,r){var i,o,a,s={};if("string"==typeof e&&e)a=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof r)for(i in e)$.call(e,i)&&"string"==typeof i&&i&&"function"==typeof e[i]&&Ye.on(i,e[i]);if(a&&a.length){for(i=0,o=a.length;o>i;i++)e=a[i].replace(/^on/,""),s[e]=!0,q[e]||(q[e]=[]),q[e].push(r);if(s.ready&&F.ready&&Ye.emit({type:"ready"}),s.error){for(i=0,o=X.length;o>i;i++)if(F[X[i].replace(/^flash-/,"")]===!0){Ye.emit({type:"error",name:X[i]});break}n!==t&&Ye.version!==n&&Ye.emit({type:"error",name:"version-mismatch",jsVersion:Ye.version,swfVersion:n})}}return Ye},ne=function(e,t){var n,r,i,o,a;if(0===arguments.length)o=x(q);else if("string"==typeof e&&e)o=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)$.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&Ye.off(n,e[n]);if(o&&o.length)for(n=0,r=o.length;r>n;n++)if(e=o[n].toLowerCase().replace(/^on/,""),a=q[e],a&&a.length)if(t)for(i=a.indexOf(t);-1!==i;)a.splice(i,1),i=a.indexOf(t,i);else a.length=0;return Ye},re=function(e){var t;return t="string"==typeof e&&e?E(q[e])||null:E(q)},ie=function(e){var t,n,r;return e=pe(e),e&&!we(e)?"ready"===e.type&&F.overdue===!0?Ye.emit({type:"error",name:"flash-overdue"}):(t=C({},e),be.call(this,t),"copy"===e.type&&(r=Te(z),n=r.data,H=r.formatMap),n):void 0},oe=function(){var e=F.sandboxed;if(Be(),"boolean"!=typeof F.ready&&(F.ready=!1),F.sandboxed!==e&&F.sandboxed===!0)F.ready=!1,Ye.emit({type:"error",name:"flash-sandboxed"});else if(!Ye.isFlashUnusable()&&null===F.bridge){var t=Z.flashLoadTimeout;"number"==typeof t&&t>=0&&(W=u(function(){"boolean"!=typeof F.deactivated&&(F.deactivated=!0),F.deactivated===!0&&Ye.emit({type:"error",name:"flash-deactivated"})},t)),F.overdue=!1,Ee()}},ae=function(){Ye.clearData(),Ye.blur(),Ye.emit("destroy"),Me(),Ye.off()},se=function(e,t){var n;if("object"==typeof e&&e&&"undefined"==typeof t)n=e,Ye.clearData();else{if("string"!=typeof e||!e)return;n={},n[e]=t}for(var r in n)"string"==typeof r&&r&&$.call(n,r)&&"string"==typeof n[r]&&n[r]&&(z[r]=n[r])},ue=function(e){"undefined"==typeof e?(A(z),H=null):"string"==typeof e&&$.call(z,e)&&delete z[e]},le=function(e){return"undefined"==typeof e?E(z):"string"==typeof e&&$.call(z,e)?z[e]:void 0},ce=function(e){if(e&&1===e.nodeType){r&&(Re(r,Z.activeClass),r!==e&&Re(r,Z.hoverClass)),r=e,Ie(e,Z.hoverClass);var t=e.getAttribute("title")||Z.title;if("string"==typeof t&&t){var n=Ce(F.bridge);n&&n.setAttribute("title",t)}var i=Z.forceHandCursor===!0||"pointer"===je(e,"cursor");He(i),ze()}},fe=function(){var e=Ce(F.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px"),r&&(Re(r,Z.hoverClass),Re(r,Z.activeClass),r=null)},he=function(){return r||null},de=function(e){return"string"==typeof e&&e&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)},pe=function(e){var t;if("string"==typeof e&&e?(t=e,e={}):"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(t=e.type),t){t=t.toLowerCase(),!e.target&&(/^(copy|aftercopy|_click)$/.test(t)||"error"===t&&"clipboard-error"===e.name)&&(e.target=i),C(e,{type:t,target:e.target||r||null,relatedTarget:e.relatedTarget||null,currentTarget:F&&F.bridge||null,timeStamp:e.timeStamp||b()||null});var n=V[e.type];return"error"===e.type&&e.name&&n&&(n=n[e.name]),n&&(e.message=n),"ready"===e.type&&C(e,{target:null,version:F.version}),"error"===e.type&&(G.test(e.name)&&C(e,{target:null,minimumVersion:U}),K.test(e.name)&&C(e,{version:F.version})),"copy"===e.type&&(e.clipboardData={setData:Ye.setData,clearData:Ye.clearData}),"aftercopy"===e.type&&(e=Ae(e,H)),e.target&&!e.relatedTarget&&(e.relatedTarget=ge(e.target)),me(e)}},ge=function(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?a.getElementById(t):null},me=function(e){if(e&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)){var n=e.target,r="_mouseover"===e.type&&e.relatedTarget?e.relatedTarget:t,i="_mouseout"===e.type&&e.relatedTarget?e.relatedTarget:t,s=Fe(n),u=o.screenLeft||o.screenX||0,l=o.screenTop||o.screenY||0,c=a.body.scrollLeft+a.documentElement.scrollLeft,f=a.body.scrollTop+a.documentElement.scrollTop,h=s.left+("number"==typeof e._stageX?e._stageX:0),d=s.top+("number"==typeof e._stageY?e._stageY:0),p=h-c,g=d-f,m=u+p,v=l+g,y="number"==typeof e.movementX?e.movementX:0,b="number"==typeof e.movementY?e.movementY:0;delete e._stageX,delete e._stageY,C(e,{srcElement:n,fromElement:r,toElement:i,screenX:m,screenY:v,pageX:h,pageY:d,clientX:p,clientY:g,x:p,y:g,movementX:y,movementY:b,offsetX:0,offsetY:0,layerX:0,layerY:0})}return e},ve=function(e){var t=e&&"string"==typeof e.type&&e.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(t)},ye=function(e,t,n,r){r?u(function(){e.apply(t,n)},0):e.apply(t,n)},be=function(e){if("object"==typeof e&&e&&e.type){var t=ve(e),n=q["*"]||[],r=q[e.type]||[],i=n.concat(r);if(i&&i.length){var a,s,u,l,c,f=this;for(a=0,s=i.length;s>a;a++)u=i[a],l=f,"string"==typeof u&&"function"==typeof o[u]&&(u=o[u]),"object"==typeof u&&u&&"function"==typeof u.handleEvent&&(l=u,u=u.handleEvent),"function"==typeof u&&(c=C({},e),ye(u,l,[c],t))}return this}},xe=function(e){var t=null;return(j===!1||e&&"error"===e.type&&e.name&&-1!==Y.indexOf(e.name))&&(t=!1),t},we=function(e){var t=e.target||r||null,o="swf"===e._source;switch(delete e._source,e.type){case"error":var a="flash-sandboxed"===e.name||xe(e);"boolean"==typeof a&&(F.sandboxed=a),-1!==X.indexOf(e.name)?C(F,{disabled:"flash-disabled"===e.name,outdated:"flash-outdated"===e.name,unavailable:"flash-unavailable"===e.name,degraded:"flash-degraded"===e.name,deactivated:"flash-deactivated"===e.name,overdue:"flash-overdue"===e.name,ready:!1}):"version-mismatch"===e.name&&(n=e.swfVersion,C(F,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),qe();break;case"ready":n=e.swfVersion;var s=F.deactivated===!0;C(F,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:s,ready:!s}),qe();break;case"beforecopy":i=t;break;case"copy":var u,l,c=e.relatedTarget;!z["text/html"]&&!z["text/plain"]&&c&&(l=c.value||c.outerHTML||c.innerHTML)&&(u=c.value||c.textContent||c.innerText)?(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",u),l!==u&&e.clipboardData.setData("text/html",l)):!z["text/plain"]&&e.target&&(u=e.target.getAttribute("data-clipboard-text"))&&(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",u));break;case"aftercopy":$e(e),Ye.clearData(),t&&t!==Pe()&&t.focus&&t.focus();break;case"_mouseover":Ye.focus(t),Z.bubbleEvents===!0&&o&&(t&&t!==e.relatedTarget&&!O(e.relatedTarget,t)&&ke(C({},e,{type:"mouseenter",bubbles:!1,cancelable:!1})),ke(C({},e,{type:"mouseover"})));break;case"_mouseout":Ye.blur(),Z.bubbleEvents===!0&&o&&(t&&t!==e.relatedTarget&&!O(e.relatedTarget,t)&&ke(C({},e,{type:"mouseleave",bubbles:!1,cancelable:!1})),ke(C({},e,{type:"mouseout"})));break;case"_mousedown":Ie(t,Z.activeClass),Z.bubbleEvents===!0&&o&&ke(C({},e,{type:e.type.slice(1)}));break;case"_mouseup":Re(t,Z.activeClass),Z.bubbleEvents===!0&&o&&ke(C({},e,{type:e.type.slice(1)}));break;case"_click":i=null,Z.bubbleEvents===!0&&o&&ke(C({},e,{type:e.type.slice(1)}));break;case"_mousemove":Z.bubbleEvents===!0&&o&&ke(C({},e,{type:e.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)?!0:void 0},$e=function(e){if(e.errors&&e.errors.length>0){var t=E(e);C(t,{type:"error",name:"clipboard-error"}),delete t.success,u(function(){Ye.emit(t)},0)}},ke=function(e){if(e&&"string"==typeof e.type&&e){var t,n=e.target||null,r=n&&n.ownerDocument||a,i={view:r.defaultView||o,canBubble:!0,cancelable:!0,detail:"click"===e.type?1:0,button:"number"==typeof e.which?e.which-1:"number"==typeof e.button?e.button:r.createEvent?0:1},s=C(i,e);n&&r.createEvent&&n.dispatchEvent&&(s=[s.type,s.canBubble,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget],t=r.createEvent("MouseEvents"),t.initMouseEvent&&(t.initMouseEvent.apply(t,s),t._source="js",n.dispatchEvent(t)))}},_e=function(){var e=Z.flashLoadTimeout;if("number"==typeof e&&e>=0){var t=Math.min(1e3,e/10),n=Z.swfObjectId+"_fallbackContent";B=c(function(){var e=a.getElementById(n);Ue(e)&&(qe(),F.deactivated=null,Ye.emit({type:"error",name:"swf-not-found"}))},t)}},Se=function(){var e=a.createElement("div");return e.id=Z.containerId,e.className=Z.containerClass,e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+We(Z.zIndex),e},Ce=function(e){for(var t=e&&e.parentNode;t&&"OBJECT"===t.nodeName&&t.parentNode;)t=t.parentNode;return t||null},Ee=function(){var e,t=F.bridge,n=Ce(t);if(!t){var r=Le(o.location.host,Z),i="never"===r?"none":"all",s=De(C({jsVersion:Ye.version},Z)),u=Z.swfPath+Oe(Z.swfPath,Z);n=Se();var l=a.createElement("div");n.appendChild(l),a.body.appendChild(n);var c=a.createElement("div"),f="activex"===F.pluginType;c.innerHTML='<object id="'+Z.swfObjectId+'" name="'+Z.swfObjectId+'" width="100%" height="100%" '+(f?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+u+'"')+">"+(f?'<param name="movie" value="'+u+'"/>':"")+'<param name="allowScriptAccess" value="'+r+'"/><param name="allowNetworking" value="'+i+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+s+'"/><div id="'+Z.swfObjectId+'_fallbackContent">&nbsp;</div></object>',t=c.firstChild,c=null,_(t).ZeroClipboard=Ye,n.replaceChild(t,l),_e()}return t||(t=a[Z.swfObjectId],t&&(e=t.length)&&(t=t[e-1]),!t&&n&&(t=n.firstChild)),F.bridge=t||null,t},Me=function(){var e=F.bridge;if(e){var r=Ce(e);r&&("activex"===F.pluginType&&"readyState"in e?(e.style.display="none",function i(){if(4===e.readyState){for(var t in e)"function"==typeof e[t]&&(e[t]=null);e.parentNode&&e.parentNode.removeChild(e),r.parentNode&&r.parentNode.removeChild(r)}else u(i,10)}()):(e.parentNode&&e.parentNode.removeChild(e),r.parentNode&&r.parentNode.removeChild(r))),qe(),F.ready=null,F.bridge=null,F.deactivated=null,n=t}},Te=function(e){var t={},n={};if("object"==typeof e&&e){for(var r in e)if(r&&$.call(e,r)&&"string"==typeof e[r]&&e[r])switch(r.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":t.text=e[r],n.text=r;break;case"text/html":case"html":case"air:html":case"flash:html":t.html=e[r],n.html=r;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":t.rtf=e[r],n.rtf=r}return{data:t,formatMap:n}}},Ae=function(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return e;var n={};for(var r in e)if($.call(e,r))if("errors"===r){n[r]=e[r]?e[r].slice():[];for(var i=0,o=n[r].length;o>i;i++)n[r][i].format=t[n[r][i].format]}else if("success"!==r&&"data"!==r)n[r]=e[r];else{n[r]={};var a=e[r];for(var s in a)s&&$.call(a,s)&&$.call(t,s)&&(n[r][t[s]]=a[s])}return n},Oe=function(e,t){var n=null==t||t&&t.cacheBust===!0;return n?(-1===e.indexOf("?")?"?":"&")+"noCache="+b():""},De=function(e){var t,n,r,i,a="",s=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?i=[e.trustedDomains]:"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(i=e.trustedDomains)),i&&i.length)for(t=0,n=i.length;n>t;t++)if($.call(i,t)&&i[t]&&"string"==typeof i[t]){if(r=Ne(i[t]),!r)continue;if("*"===r){s.length=0,s.push(r);break}s.push.apply(s,[r,"//"+r,o.location.protocol+"//"+r])}return s.length&&(a+="trustedOrigins="+d(s.join(","))),e.forceEnhancedClipboard===!0&&(a+=(a?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof e.swfObjectId&&e.swfObjectId&&(a+=(a?"&":"")+"swfObjectId="+d(e.swfObjectId)),"string"==typeof e.jsVersion&&e.jsVersion&&(a+=(a?"&":"")+"jsVersion="+d(e.jsVersion)),a},Ne=function(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var n=e.indexOf("/");return e=-1===n?e:-1===t||0===n?null:e.slice(0,n),e&&".swf"===e.slice(-4).toLowerCase()?null:e||null},Le=function(){var e=function(e){var t,n,r,i=[];if("string"==typeof e&&(e=[e]),"object"!=typeof e||!e||"number"!=typeof e.length)return i;for(t=0,n=e.length;n>t;t++)if($.call(e,t)&&(r=Ne(e[t]))){if("*"===r){i.length=0,i.push("*");break}-1===i.indexOf(r)&&i.push(r)}return i};return function(t,n){var r=Ne(n.swfPath);null===r&&(r=t);var i=e(n.trustedDomains),o=i.length;if(o>0){if(1===o&&"*"===i[0])return"always";if(-1!==i.indexOf(t))return 1===o&&t===r?"sameDomain":"always"}return"never"}}(),Pe=function(){try{return a.activeElement}catch(e){return null}},Ie=function(e,t){var n,r,i,o=[];if("string"==typeof t&&t&&(o=t.split(/\s+/)),e&&1===e.nodeType&&o.length>0)if(e.classList)for(n=0,r=o.length;r>n;n++)e.classList.add(o[n]);else if(e.hasOwnProperty("className")){for(i=" "+e.className+" ",n=0,r=o.length;r>n;n++)-1===i.indexOf(" "+o[n]+" ")&&(i+=o[n]+" ");e.className=i.replace(/^\s+|\s+$/g,"")}return e},Re=function(e,t){var n,r,i,o=[];if("string"==typeof t&&t&&(o=t.split(/\s+/)),e&&1===e.nodeType&&o.length>0)if(e.classList&&e.classList.length>0)for(n=0,r=o.length;r>n;n++)e.classList.remove(o[n]);else if(e.className){for(i=(" "+e.className+" ").replace(/[\r\n\t]/g," "),n=0,r=o.length;r>n;n++)i=i.replace(" "+o[n]+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}return e},je=function(e,t){var n=h(e,null).getPropertyValue(t);return"cursor"!==t||n&&"auto"!==n||"A"!==e.nodeName?n:"pointer"},Fe=function(e){var t={left:0,top:0,width:0,height:0};if(e.getBoundingClientRect){var n=e.getBoundingClientRect(),r=o.pageXOffset,i=o.pageYOffset,s=a.documentElement.clientLeft||0,u=a.documentElement.clientTop||0,l=0,c=0;if("relative"===je(a.body,"position")){var f=a.body.getBoundingClientRect(),h=a.documentElement.getBoundingClientRect();l=f.left-h.left||0,c=f.top-h.top||0}t.left=n.left+r-s-l,t.top=n.top+i-u-c,t.width="width"in n?n.width:n.right-n.left,t.height="height"in n?n.height:n.bottom-n.top}return t},Ue=function(e){if(!e)return!1;var t=h(e,null),n=v(t.height)>0,r=v(t.width)>0,i=v(t.top)>=0,o=v(t.left)>=0,a=n&&r&&i&&o,s=a?null:Fe(e),u="none"!==t.display&&"collapse"!==t.visibility&&(a||!!s&&(n||s.height>0)&&(r||s.width>0)&&(i||s.top>=0)&&(o||s.left>=0));return u},qe=function(){l(W),W=0,f(B),B=0},ze=function(){var e;if(r&&(e=Ce(F.bridge))){var t=Fe(r);C(e.style,{width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px",zIndex:""+We(Z.zIndex)})}},He=function(e){F.ready===!0&&(F.bridge&&"function"==typeof F.bridge.setHandCursor?F.bridge.setHandCursor(e):F.ready=!1)},We=function(e){if(/^(?:auto|inherit)$/.test(e))return e;var t;return"number"!=typeof e||y(e)?"string"==typeof e&&(t=We(m(e,10))):t=e,"number"==typeof t?t:"auto"},Be=function(t){var n,r,i,o=F.sandboxed,a=null;if(t=t===!0,j===!1)a=!1;else{try{r=e.frameElement||null}catch(s){i={name:s.name,message:s.message}}if(r&&1===r.nodeType&&"IFRAME"===r.nodeName)try{a=r.hasAttribute("sandbox")}catch(s){a=null}else{try{n=document.domain||null}catch(s){n=null}(null===n||i&&"SecurityError"===i.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(i.message.toLowerCase()))&&(a=!0)}}return F.sandboxed=a,o===a||t||Ve(p),a},Ve=function(e){function t(e){var t=e.match(/[\d]+/g);return t.length=3,t.join(".")}function n(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}function r(e){e&&(u=!0,e.version&&(f=t(e.version)),!f&&e.description&&(f=t(e.description)),e.filename&&(c=n(e.filename)))}var i,o,a,u=!1,l=!1,c=!1,f="";if(s.plugins&&s.plugins.length)i=s.plugins["Shockwave Flash"],r(i),s.plugins["Shockwave Flash 2.0"]&&(u=!0,f="2.0.0.11");else if(s.mimeTypes&&s.mimeTypes.length)a=s.mimeTypes["application/x-shockwave-flash"],i=a&&a.enabledPlugin,r(i);else if("undefined"!=typeof e){l=!0;try{o=new e("ShockwaveFlash.ShockwaveFlash.7"),u=!0,f=t(o.GetVariable("$version"))}catch(h){try{o=new e("ShockwaveFlash.ShockwaveFlash.6"),u=!0,f="6.0.21"}catch(d){try{o=new e("ShockwaveFlash.ShockwaveFlash"),u=!0,f=t(o.GetVariable("$version"))}catch(p){l=!1}}}}F.disabled=u!==!0,F.outdated=f&&v(f)<v(U),F.version=f||"0.0.0",F.pluginType=c?"pepper":l?"activex":u?"netscape":"unknown"};Ve(p),Be(!0);var Ye=function(){return this instanceof Ye?void("function"==typeof Ye._createClient&&Ye._createClient.apply(this,S(arguments))):new Ye};w(Ye,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),Ye.config=function(){return J.apply(this,S(arguments))},Ye.state=function(){return Q.apply(this,S(arguments))},Ye.isFlashUnusable=function(){return ee.apply(this,S(arguments))},Ye.on=function(){return te.apply(this,S(arguments))},Ye.off=function(){return ne.apply(this,S(arguments))},Ye.handlers=function(){return re.apply(this,S(arguments))},Ye.emit=function(){return ie.apply(this,S(arguments))},Ye.create=function(){return oe.apply(this,S(arguments))},Ye.destroy=function(){return ae.apply(this,S(arguments))},Ye.setData=function(){return se.apply(this,S(arguments))},Ye.clearData=function(){return ue.apply(this,S(arguments))},Ye.getData=function(){return le.apply(this,S(arguments))},Ye.focus=Ye.activate=function(){return ce.apply(this,S(arguments))},Ye.blur=Ye.deactivate=function(){return fe.apply(this,S(arguments))},Ye.activeElement=function(){return he.apply(this,S(arguments))};var Xe=0,Ge={},Ke=0,Ze={},Je={};C(Z,{autoActivate:!0});var Qe=function(e){var t=this;t.id=""+Xe++,Ge[t.id]={instance:t,elements:[],handlers:{}},e&&t.clip(e),Ye.on("*",function(e){return t.emit(e)}),Ye.on("destroy",function(){t.destroy()}),Ye.create()},et=function(e,r){var i,o,a,s={},u=Ge[this.id],l=u&&u.handlers;if(!u)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof e&&e)a=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof r)for(i in e)$.call(e,i)&&"string"==typeof i&&i&&"function"==typeof e[i]&&this.on(i,e[i]);if(a&&a.length){for(i=0,o=a.length;o>i;i++)e=a[i].replace(/^on/,""),s[e]=!0,l[e]||(l[e]=[]),l[e].push(r);if(s.ready&&F.ready&&this.emit({type:"ready",client:this}),s.error){for(i=0,o=X.length;o>i;i++)if(F[X[i].replace(/^flash-/,"")]){this.emit({type:"error",name:X[i],client:this});break}n!==t&&Ye.version!==n&&this.emit({type:"error",name:"version-mismatch",jsVersion:Ye.version,swfVersion:n})}}return this},tt=function(e,t){var n,r,i,o,a,s=Ge[this.id],u=s&&s.handlers;if(!u)return this;if(0===arguments.length)o=x(u);else if("string"==typeof e&&e)o=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)$.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.off(n,e[n]);if(o&&o.length)for(n=0,r=o.length;r>n;n++)if(e=o[n].toLowerCase().replace(/^on/,""),a=u[e],a&&a.length)if(t)for(i=a.indexOf(t);-1!==i;)a.splice(i,1),i=a.indexOf(t,i);else a.length=0;return this},nt=function(e){var t=null,n=Ge[this.id]&&Ge[this.id].handlers;return n&&(t="string"==typeof e&&e?n[e]?n[e].slice(0):[]:E(n)),t},rt=function(e){if(ut.call(this,e)){"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(e=C({},e));var t=C({},pe(e),{client:this});lt.call(this,t)}return this},it=function(e){if(!Ge[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");e=ct(e);for(var t=0;t<e.length;t++)if($.call(e,t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===Ze[e[t].zcClippingId].indexOf(this.id)&&Ze[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+Ke++,Ze[e[t].zcClippingId]=[this.id],Z.autoActivate===!0&&ft(e[t]));var n=Ge[this.id]&&Ge[this.id].elements;-1===n.indexOf(e[t])&&n.push(e[t])}return this},ot=function(e){var t=Ge[this.id];if(!t)return this;var n,r=t.elements;e="undefined"==typeof e?r.slice(0):ct(e);for(var i=e.length;i--;)if($.call(e,i)&&e[i]&&1===e[i].nodeType){for(n=0;-1!==(n=r.indexOf(e[i],n));)r.splice(n,1);var o=Ze[e[i].zcClippingId];if(o){for(n=0;-1!==(n=o.indexOf(this.id,n));)o.splice(n,1);0===o.length&&(Z.autoActivate===!0&&ht(e[i]),delete e[i].zcClippingId)}}return this},at=function(){var e=Ge[this.id];return e&&e.elements?e.elements.slice(0):[]},st=function(){Ge[this.id]&&(this.unclip(),this.off(),delete Ge[this.id])},ut=function(e){if(!e||!e.type)return!1;if(e.client&&e.client!==this)return!1;var t=Ge[this.id],n=t&&t.elements,r=!!n&&n.length>0,i=!e.target||r&&-1!==n.indexOf(e.target),o=e.relatedTarget&&r&&-1!==n.indexOf(e.relatedTarget),a=e.client&&e.client===this;return t&&(i||o||a)?!0:!1},lt=function(e){var t=Ge[this.id];if("object"==typeof e&&e&&e.type&&t){var n=ve(e),r=t&&t.handlers["*"]||[],i=t&&t.handlers[e.type]||[],a=r.concat(i);if(a&&a.length){var s,u,l,c,f,h=this;for(s=0,u=a.length;u>s;s++)l=a[s],c=h,"string"==typeof l&&"function"==typeof o[l]&&(l=o[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(c=l,l=l.handleEvent),"function"==typeof l&&(f=C({},e),ye(l,c,[f],n))}}},ct=function(e){return"string"==typeof e&&(e=[]),"number"!=typeof e.length?[e]:e},ft=function(e){if(e&&1===e.nodeType){var t=function(e){(e||(e=o.event))&&("js"!==e._source&&(e.stopImmediatePropagation(),e.preventDefault()),delete e._source)},n=function(n){(n||(n=o.event))&&(t(n),Ye.focus(e))};e.addEventListener("mouseover",n,!1),e.addEventListener("mouseout",t,!1),e.addEventListener("mouseenter",t,!1),e.addEventListener("mouseleave",t,!1),e.addEventListener("mousemove",t,!1),Je[e.zcClippingId]={mouseover:n,mouseout:t,mouseenter:t,mouseleave:t,mousemove:t}}},ht=function(e){if(e&&1===e.nodeType){var t=Je[e.zcClippingId];if("object"==typeof t&&t){for(var n,r,i=["move","leave","enter","out","over"],o=0,a=i.length;a>o;o++)n="mouse"+i[o],r=t[n],"function"==typeof r&&e.removeEventListener(n,r,!1);delete Je[e.zcClippingId]}}};Ye._createClient=function(){Qe.apply(this,S(arguments))},Ye.prototype.on=function(){return et.apply(this,S(arguments))},Ye.prototype.off=function(){return tt.apply(this,S(arguments))},Ye.prototype.handlers=function(){return nt.apply(this,S(arguments))},Ye.prototype.emit=function(){return rt.apply(this,S(arguments))},Ye.prototype.clip=function(){return it.apply(this,S(arguments))},Ye.prototype.unclip=function(){return ot.apply(this,S(arguments))},Ye.prototype.elements=function(){return at.apply(this,S(arguments))},Ye.prototype.destroy=function(){return st.apply(this,S(arguments))},Ye.prototype.setText=function(e){if(!Ge[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.setData("text/plain",e),this},Ye.prototype.setHtml=function(e){if(!Ge[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.setData("text/html",e),this},Ye.prototype.setRichText=function(e){if(!Ge[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.setData("application/rtf",e),this},Ye.prototype.setData=function(){if(!Ge[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.setData.apply(this,S(arguments)),this},Ye.prototype.clearData=function(){if(!Ge[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.clearData.apply(this,S(arguments)),this},Ye.prototype.getData=function(){if(!Ge[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.getData.apply(this,S(arguments))},"function"==typeof define&&define.amd?define(function(){return Ye}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Ye:e.ZeroClipboard=Ye}(function(){return this||window}()),angular.module("zeroclipboard",[]).provider("uiZeroclipConfig",function(){var e={buttonClass:"",swfPath:"ZeroClipboard.swf",trustedDomains:[window.location.host],cacheBust:!0,forceHandCursor:!1,zIndex:999999999,debug:!0,title:null,autoActivate:!0,flashLoadTimeout:3e4,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active"};this.setZcConf=function(t){angular.extend(e,t)},this.$get=function(){return{zeroclipConfig:e}}}).directive("uiZeroclip",["$document","$window","uiZeroclipConfig",function(e,t,n){var r=n.zeroclipConfig||{},i=t.ZeroClipboard;return{scope:{onCopied:"&zeroclipCopied",onError:"&?zeroclipOnError",onBeforeCopy:"&?zeroclipOnBeforeCopy",client:"=?uiZeroclip",value:"=zeroclipModel",text:"@zeroclipText"},link:function(e,t,n){var o,a=t[0];i.config(r),angular.isFunction(i)&&(e.client=new i(a)),e.$watch("value",function(e){void 0!==e&&t.attr("data-clipboard-text",e)}),e.$watch("text",function(e){t.attr("data-clipboard-text",e)}),e.client.on("aftercopy",o=function(t){e.$apply(function(){e.onCopied({$event:t})})}),e.client.on("error",function(t){e.onError&&e.$apply(function(){e.onError({$event:t})}),i.destroy()}),e.client.on("beforecopy",function(t){e.onBeforeCopy&&e.$apply(function(){e.onBeforeCopy({$event:t})})}),e.$on("$destroy",function(){e.client.off("complete",o)})}}}]),function(){"use strict";function e(e){return e instanceof RegExp}function t(e){return e&&e.window===e}function n(e){return e&&e.$evalAsync&&e.$watch}function r(i,o){if(i===o)return{isEqual:!0,unequalVariable:"",stringDiff:!1,o1:i,o2:o};if(null===i||null===o)return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:i,o2:o};if(i!==i&&o!==o)return{isEqual:!0,unequalVariable:"",stringDiff:!1,o1:i,o2:o};var a,s,c,f=typeof i,d=typeof o;if(f==d){if("string"==f&&i!=o)return{isEqual:!1,unequalVariable:"",stringDiff:!0,o1:i,o2:o};if("object"==f){if(!l(i)){if(h(i))return{isEqual:h(o)&&i.getTime()==o.getTime(),unequalVariable:"",stringDiff:!1,o1:i,o2:o};if(e(i)&&e(o))return{isEqual:i.toString()==o.toString(),unequalVariable:"",stringDiff:!1,o1:i,o2:o};if(n(i)||n(o)||t(i)||t(o)||l(o))return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:i,o2:o};c={};var p={isEqual:!0,unequalVariable:"",stringDiff:!1,o1:i,o2:o};for(s in i)if("$"!==s.charAt(0)&&!u(i[s])){var g=r(i[s],o[s]);if(!g.isEqual){if(g.unequalVariable="."+String(s)+g.unequalVariable,!g.stringDiff)return g;p=g}c[s]=!0}for(s in o)if(!c.hasOwnProperty(s)&&"$"!==s.charAt(0)&&void 0!==o[s]&&!u(o[s]))return{
isEqual:!1,unequalVariable:"",stringDiff:!1,o1:i,o2:o};return p}if(!l(o))return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:i,o2:o};if((a=i.length)==o.length){var p={isEqual:!0,unequalVariable:"",stringDiff:!1,o1:i,o2:o};for(s=0;a>s;s++){var g=r(i[s],o[s]);if(!g.isEqual){if(g.unequalVariable="["+String(s)+"]"+g.unequalVariable,!g.stringDiff)return g;p=g}}return p}}}return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:i,o2:o}}function i(e,t){if(e&&t){var n,r;e.length>t.length?(r=e.split(""),n=t.split("")):(n=e.split(""),r=t.split(""));for(var i,o=0,a=[],s=0;s<n.length&&o<r.length;s++){for(i="";n[s]!=r[o]&&o<r.length;)i+=r[o],o++;i&&a.push(i),n[s]==r[o]&&o++}var u=s==n.length;if(o<r.length){for(i="";o<r.length;)i+=r[o],o++;a.push(i)}}else var u=!1,a=[];return{areSimilar:u,differences:a}}function o(e){var t=/\s/g;if(1!=e.length)return!1;for(var n in e[0])if(e[0][n].match(t))return!1;return!0}var a=15,s=(angular.isDefined,angular.isUndefined),u=angular.isFunction,l=angular.isArray,c=angular.isString,f=angular.isObject,h=angular.isDate,d=(angular.forEach,angular.copy),p=angular.bind;angular.module("Chronicle",[]).service("Chronicle",["$rootScope","$parse",function(e,t){this.record=function(e,t,n,r){var i=new h(e,t,n,r);return i};var h=function(e,r,i,o){if(!c(e))throw new Error("Watch variable that is not a string was passed to Chronicle.");if(this.watchVar=e,this.parsedWatchVar=t(e),s(this.parsedWatchVar(r)))throw new Error(e+", the watch variable passed to Chronicle, is not defined in the given scope.");if(s(r))throw new Error("Undefined scope passed to Chronicle.");if(n(r))this.isScope=!0;else{if(!f(r))throw new Error("Incorrect scope type passed to Chronicle.");this.isScope=!1}if(this.scope=r,this.stringHandling=i!==!0&&"true"!==i?!1:!0,this.parsedNoWatchVars=[],l(o))for(var a in o){if(!c(o[a]))throw new Error("Not all passed 'no watch' variables are in string format");if(this.parsedNoWatchVars.push(t(o[a])),s(this.parsedNoWatchVars[a](r)))throw new Error(o[a]+", a 'no watch' variable passed to Chronicle, is not defined in the given scope")}else if(c(o)){if(this.parsedNoWatchVars.push(t(o)),s(this.parsedNoWatchVars[0](r)))throw new Error(o+", the 'no watch' variable passed to Chronicle, is not defined in the given scope")}else if(!s(o))throw new Error("Incorect type for 'no watch' variables");this.archive=[],this.onAdjustFunctions=[],this.onRedoFunctions=[],this.onUndoFunctions=[],this.currArchivePos=null,this.addWatch()};h.prototype.addOnAdjustFunction=function(e){if(!u(e))throw new Error("Function added to run on adjustment is not a function");this.onAdjustFunctions.push(e)},h.prototype.removeOnAdjustFunction=function(e){this.onAdjustFunctions.splice(this.onAdjustFunctions.indexOf(e),1)},h.prototype.addOnUndoFunction=function(e){if(!u(e))throw new Error("Function added to run on undo is not a function");this.onUndoFunctions.push(e)},h.prototype.removeOnUndoFunction=function(e){this.onUndoFunctions.splice(this.onUndoFunctions.indexOf(e),1)},h.prototype.addOnRedoFunction=function(e){if(!u(e))throw new Error("Function added to run on redo is not a function");this.onRedoFunctions.push(e)},h.prototype.removeOnRedoFunction=function(e){this.onRedoFunctions.splice(this.onRedoFunctions.indexOf(e),1)},h.prototype.undo=function(){if(this.canUndo()){this.currArchivePos-=1,this.revert(this.currArchivePos);for(var e=0;e<this.onUndoFunctions.length;e++)this.onUndoFunctions[e]();return!0}return!1},h.prototype.redo=function(){if(this.canRedo()){this.currArchivePos+=1,this.revert(this.currArchivePos);for(var e=0;e<this.onRedoFunctions.length;e++)this.onRedoFunctions[e]();return!0}return!1},h.prototype.revert=function(e){this.parsedWatchVar.assign(this.scope,d(this.archive[e].watchVar));for(var t=0;t<this.parsedNoWatchVars.length;t++)this.parsedNoWatchVars[t].assign(this.scope,d(this.archive[e].noWatchVars[t]))},h.prototype.canRedo=function(){return this.currArchivePos<this.archive.length-1?!0:!1},h.prototype.canUndo=function(){return this.currArchivePos>0?!0:!1},h.prototype.addToArchive=function(){var e=!1;if(this.archive.length){var n=r(this.parsedWatchVar(this.scope),this.archive[this.currArchivePos].watchVar);if(!n.isEqual){e=!0;var s=t(this.watchVar+n.unequalVariable);if(this.stringHandling&&n.stringDiff){var u=!1,l=i(n.o1,n.o2);if(l.areSimilar&&this.archive[this.currArchivePos].parsedUnequalVariable==s){var u=o(l.differences);"string"!=typeof t("watchVar"+n.unequalVariable)(this.archive[this.currArchivePos-1])?u=!1:u&&Math.abs(t("watchVar"+n.unequalVariable)(this.archive[this.currArchivePos-1]).length-t("watchVar"+n.unequalVariable)(this.archive[this.currArchivePos]).length)>=a&&(u=!1)}}}}else e=!0;e&&this.newEntry(u,s)},h.prototype.newEntry=function(e,t){var n={};n.noWatchVars=[],n.parsedUnequalVariable=t,n.watchVar=d(this.parsedWatchVar(this.scope));for(var r=0;r<this.parsedNoWatchVars.length;r++)n.noWatchVars.push(d(this.parsedNoWatchVars[r](this.scope)));if(this.archive.length-1>this.currArchivePos){var i=this.archive.length-this.currArchivePos-1;this.archive.splice(this.currArchivePos+1,i)}for(e&&this.archive.splice(this.currArchivePos,1),this.archive.push(n),this.currArchivePos=this.archive.length-1,r=0;r<this.onAdjustFunctions.length;r++)this.onAdjustFunctions[r]()},h.prototype.addWatch=function(){var t=this;t.cancelWatch=t.isScope?t.scope.$watch(t.watchVar,function(){t.addToArchive.apply(t)},!0):e.$watch(p(t,function(){return t.parsedWatchVar(t.scope)}),function(){t.addToArchive.apply(t)},!0)}}])}(),/*!
 * Angular Tooltips v0.1.13
 *
 * Released under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * Brought to you by 720kb.net
 *
 * 2015-06-24
 */
!function(e){"use strict";e.module("720kb.tooltips",[]).directive("tooltips",["$window","$compile","$interpolate",function(t,n,r){var i=8,o=9,a=10,s="_720kb-tooltip-",u=r.startSymbol(),l=r.endSymbol();return{restrict:"A",scope:{},link:function(r,c,f){function h(){j&&k||(k=!0,r.initTooltip(D)),L&&r.tooltipTryPosition(),r.showTooltip()}function d(){r.hideTooltip()}function p(){r.hideTooltip(),r.initTooltip(O)}var g,m,v,y,b,x,w,$,k=!1,_=e.element(c[0]),S=e.element(t.document.getElementsByTagName("body")[0]),C=f.tooltipTitle||f.title||"",E=f.tooltipContent||"",M=f.tooltipHtml||"",T=f.tooltipShowTrigger||"mouseover",A=f.tooltipHideTrigger||"mouseleave",O=f.tooltipSide||"top",D=O,N=f.tooltipSize||"medium",L="undefined"!=typeof f.tooltipTry&&null!==f.tooltipTry?r.$eval(f.tooltipTry):!0,P=f.tooltipClass||"",I=(f.tooltipSpeed||"medium").toLowerCase(),R=f.tooltipDelay||0,j="undefined"!=typeof f.tooltipLazy&&null!==f.tooltipLazy?r.$eval(f.tooltipLazy):!0,F="undefined"!=typeof f.tooltipCloseButton&&null!==f.tooltipCloseButton,U=f.tooltipCloseButton||"",q='<div class="_720kb-tooltip '+s+N+'">';F&&(q=q+'<span class="'+s+'close-button" ng-click="hideTooltip()"> '+U+" </span>"),q=q+'<div class="'+s+'title"> '+u+"title"+l+"</div>"+u+"content"+l+M+' <span class="'+s+'caret"></span></div>',r.title=C,r.content=E,r.html=M,r.parseSpeed=function(){switch(I){case"fast":I=100;break;case"medium":I=450;break;case"slow":I=800;break;default:I=Number(I)}},g=n(q)(r),g.addClass(P),S.append(g),r.isTooltipEmpty=function(){return r.title||r.content||r.html?void 0:!0},r.initTooltip=function(e){r.isTooltipEmpty()?g.css("visibility","hidden"):(g.css("visibility",""),b=_[0].offsetHeight,x=_[0].offsetWidth,w=r.getRootOffsetTop(_[0],0),$=r.getRootOffsetLeft(_[0],0),m=g[0].offsetHeight,v=g[0].offsetWidth,r.parseSpeed(),r.tooltipPositioning(e))},r.getRootOffsetTop=function(e,t){return null===e.offsetParent?t+e.offsetTop:r.getRootOffsetTop(e.offsetParent,t+e.offsetTop-e.scrollTop)},r.getRootOffsetLeft=function(e,t){return null===e.offsetParent?t+e.offsetLeft:r.getRootOffsetLeft(e.offsetParent,t+e.offsetLeft-e.scrollLeft)},r.bindShowTriggers=function(){_.bind(T,h)},r.bindHideTriggers=function(){_.bind(A,d)},r.clearTriggers=function(){_.unbind(T,h),_.unbind(A,d)},r.bindShowTriggers(),r.showTooltip=function(){g.addClass(s+"open"),g.css("transition","opacity "+I+"ms linear"),R&&g.css("transition-delay",R+"ms"),r.clearTriggers(),r.bindHideTriggers()},r.hideTooltip=function(){g.removeClass(s+"open"),g.css("transition",""),r.clearTriggers(),r.bindShowTriggers()},r.removePosition=function(){g.removeClass(s+"left").removeClass(s+"right").removeClass(s+"top").removeClass(s+"bottom ")},r.tooltipPositioning=function(e){r.removePosition();var t,n;"small"===N?y=i:"medium"===N?y=o:"large"===N&&(y=a),"left"===e&&(t=w+b/2-m/2,n=$-(v+y),g.css("top",t+"px"),g.css("left",n+"px"),g.addClass(s+"left")),"right"===e&&(t=w+b/2-m/2,n=$+x+y,g.css("top",t+"px"),g.css("left",n+"px"),g.addClass(s+"right")),"top"===e&&(t=w-y-m,n=$+x/2-v/2,g.css("top",t+"px"),g.css("left",n+"px"),g.addClass(s+"top")),"bottom"===e&&(t=w+b+y,n=$+x/2-v/2,g.css("top",t+"px"),g.css("left",n+"px"),g.addClass(s+"bottom"))},r.tooltipTryPosition=function(){var e=g[0].offsetHeight,n=g[0].offsetWidth,i=g[0].offsetTop,o=g[0].offsetLeft,a=t.outerWidth,s=t.outerHeight,u=a-(n+o),l=s-(e+i),c=_[0].offsetHeight,f=_[0].offsetWidth,h=_[0].offsetLeft,d=_[0].offsetTop,p=a-(h+f),m=s-(c+d),v={left:o,top:i,bottom:l,right:u},y={left:h,right:p,top:d,bottom:m},b=Object.keys(y).reduce(function(e,t){return y[e]>y[t]?e:t}),x=Object.keys(v).reduce(function(e,t){return v[e]<v[t]?e:t});O!==b&&v[x]<20&&(D=b,r.tooltipPositioning(D),r.initTooltip(b))},e.element(t).bind("resize",p),r.$on("$destroy",function(){e.element(t).unbind("resize",p),r.clearTriggers(),g.remove()}),f.tooltipTitle&&f.$observe("tooltipTitle",function(e){r.title=e,r.initTooltip(D)}),f.title&&f.$observe("title",function(e){r.title=e,r.initTooltip(D)}),f.tooltipContent&&f.$observe("tooltipContent",function(e){r.content=e,r.initTooltip(D)}),f.tooltipHtml&&f.$observe("tooltipHtml",function(e){r.html=e,r.initTooltip(D)})}}}])}(angular),function(e){return e.module("ngOrderObjectBy",[]).filter("orderObjectBy",function(){return function(t,n,r){function i(e,t){return e[t]}var o=[];return e.forEach(t,function(e){o.push(e)}),o.sort(function(e,t){var r,o=n.split(".").reduce(i,e),a=n.split(".").reduce(i,t);return r=o===a?0:o>a?1:-1}),r&&o.reverse(),o}})}(angular),angular.module("angular-websql",[]).factory("$webSql",["$q",function(e){return{openDatabase:function(t,n,r,i){try{var o=openDatabase(t,n,r,i);if("undefined"==typeof openDatabase)throw"Browser does not support web sql";return{executeQuery:function(t,n){var r=e.defer();return o.transaction(function(e){e.executeSql(t,n,function(e,t){r.resolve(t)},function(e,t){console.log("There has been an error: "+t.message),r.reject()})}),r.promise},insert:function(e,t,n){var r="boolean"==typeof n&&n?"INSERT OR REPLACE":"INSERT";r+=" INTO `{tableName}` ({fields}) VALUES({values});";var i="",o="",a=[];for(var s in t)i+=Object.keys(t)[Object.keys(t).length-1]==s?"`"+s+"`":"`"+s+"`, ",o+=Object.keys(t)[Object.keys(t).length-1]==s?"?":"?, ",a.push(t[s]);return this.executeQuery(this.replace(r,{"{tableName}":e,"{fields}":i,"{values}":o}),a)},update:function(e,t,n){var r="UPDATE `{tableName}` SET {update} WHERE {where}; ",i="",o=[];for(var a in t)i+=Object.keys(t)[Object.keys(t).length-1]==a?"`"+a+"`= ?":"`"+a+"`= ?,",o.push(t[a]);var s=this.whereClause(n);return this.executeQuery(this.replace(r,{"{tableName}":e,"{update}":i,"{where}":s.w}),o.concat(s.p))},del:function(e,t){var n="DELETE FROM `{tableName}` WHERE {where}; ",r=this.whereClause(t);return this.executeQuery(this.replace(n,{"{tableName}":e,"{where}":r.w}),r.p)},select:function(e,t){var n="SELECT * FROM `{tableName}` WHERE {where}; ",r=this.whereClause(t);return this.executeQuery(this.replace(n,{"{tableName}":e,"{where}":r.w}),r.p)},selectAll:function(e){return this.executeQuery("SELECT * FROM `"+e+"`; ",[])},whereClause:function(e){var t="",n=[];for(var r in e)"undefined"==typeof e[r]||"object"==typeof e[r]||"string"!=typeof e[r]||e[r].match(/NULL/gi)?"undefined"!=typeof e[r]&&"object"!=typeof e[r]&&"number"==typeof e[r]?n.push(e[r]):"undefined"==typeof e[r].value||"object"!=typeof e[r]||"number"!=typeof e[r].value&&e[r].value.match(/NULL/gi)||n.push(e[r].value):n.push(e[r]),t+="object"==typeof e[r]?"undefined"==typeof e[r].union?"string"==typeof e[r].value&&e[r].value.match(/NULL/gi)?"`"+r+"` "+e[r].value:"undefined"!=typeof e[r].operator?"`"+r+"` "+e[r].operator+" ? ":"`"+r+"` = ?":"string"==typeof e[r].value&&e[r].value.match(/NULL/gi)?"`"+r+"` "+e[r].value+" "+e[r].union+" ":"undefined"!=typeof e[r].operator?"`"+r+"` "+e[r].operator+" ? "+e[r].union+" ":"`"+r+"` = ? "+e[r].union+" ":"string"==typeof e[r]&&e[r].match(/NULL/gi)?"`"+r+"` "+e[r]:"`"+r+"` = ?";return{w:t,p:n}},replace:function(e,t){for(var n in t)e=e.replace(new RegExp(n,"ig"),t[n]);return e},createTable:function(e,t){var n="CREATE TABLE IF NOT EXISTS `{tableName}` ({fields}); ",r=[],i="";for(var o in t){var a="{type} {null}";i+="`"+o+"` ","undefined"==typeof t[o]["null"]&&(t[o]["null"]="NULL");for(var s in t[o])a=a.replace(new RegExp("{"+s+"}","ig"),t[o][s]);i+=a,"undefined"!=typeof t[o]["default"]&&(i+=" DEFAULT "+t[o]["default"]),"undefined"!=typeof t[o].primary&&(i+=" PRIMARY KEY"),"undefined"!=typeof t[o].auto_increment&&(i+=" AUTOINCREMENT"),Object.keys(t)[Object.keys(t).length-1]!=o&&(i+=","),"undefined"!=typeof t[o].primary&&t[o].primary&&r.push(o)}var u={tableName:e,fields:i};for(var l in u)n=n.replace(new RegExp("{"+l+"}","ig"),u[l]);return this.executeQuery(n,[])},dropTable:function(e){return this.executeQuery("DROP TABLE IF EXISTS `"+e+"`; ",[])}}}catch(a){console.error(a)}}}}]),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.dl=e()}}(function(){var e;return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){},{}],2:[function(t,n,r){!function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.dsv={})}(this,function(e){"use strict";var t=function(e){function t(e,t){var r;return n(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})}function n(e,t){function n(){if(c>=l)return a;if(i)return i=!1,o;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&++c):10===r&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;l>c;){var r=e.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(c)&&(++c,++s);else if(r!==u)continue;return e.slice(t,c-s)}return e.slice(t)}for(var r,i,o={},a={},s=[],l=e.length,c=0,f=0;(r=n())!==a;){for(var h=[];r!==o&&r!==a;)h.push(r),r=n();t&&null==(h=t(h,f++))||s.push(h)}return s}function r(t){if(Array.isArray(t[0]))return i(t);var n=Object.create(null),r=[];return t.forEach(function(e){for(var t in e)(t+="")in n||r.push(n[t]=t)}),[r.map(a).join(e)].concat(t.map(function(t){return r.map(function(e){return a(t[e])}).join(e)})).join("\n")}function i(e){return e.map(o).join("\n")}function o(t){return t.map(a).join(e)}function a(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return{parse:t,parseRows:n,format:r,formatRows:i}};e.csv=t(","),e.tsv=t("	"),e.dsv=t})},{}],3:[function(t,n,r){!function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.format={})}(this,function(e){"use strict";function t(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function n(e){return e=t(Math.abs(e)),e?e[1]:0/0}function r(e,n){var r=t(e,n);if(!r)return e+"";var i=r[0],o=r[1],a=o-(p=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+t(e,n+a-1)[0]}function i(e,n){var r=t(e,n);if(!r)return e+"";var i=r[0],o=r[1];return 0>o?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}function o(e,t){e=e.toPrecision(t);e:for(var n,r=e.length,i=1,o=-1;r>i;++i)switch(e[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break e;default:o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(n+1):e}function a(e){if(!(t=v.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",o=t[4]||"",a=!!t[5],s=t[6]&&+t[6],u=!!t[7],l=t[8]&&+t[8].slice(1),c=t[9]||"";"n"===c?(u=!0,c="g"):m[c]||(c=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=l,this.type=c}function s(e){return new a(e)}function u(e){return e}function l(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function c(e){function t(e){e=s(e);var t=e.fill,n=e.align,r=e.sign,u=e.symbol,l=e.zero,c=e.width,f=e.comma,h=e.precision,d=e.type,v="$"===u?o[0]:"#"===u&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",y="$"===u?o[1]:/[%p]/.test(d)?"%":"",b=m[d],x=!d||/[defgprs%]/.test(d);return h=null==h?d?6:12:/[gprs]/.test(d)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),function(e){var o=v,s=y;if("c"===d)s=b(e)+s,e="";else{e=+e;var u=(0>e||0>1/e)&&(e*=-1,!0);if(e=b(e,h),o=(u?"("===r?r:"-":"-"===r||"("===r?"":r)+o,s=s+("s"===d?g[8+p/3]:"")+(u&&"("===r?")":""),x)for(var m,w=-1,$=e.length;++w<$;)if(m=e.charCodeAt(w),48>m||m>57){s=(46===m?a+e.slice(w+1):e.slice(w))+s,e=e.slice(0,w);break}}f&&!l&&(e=i(e,1/0));var k=o.length+e.length+s.length,_=c>k?new Array(c-k+1).join(t):"";switch(f&&l&&(e=i(_+e,_.length?c-s.length:1/0),_=""),n){case"<":return o+e+s+_;case"=":return o+_+e+s;case"^":return _.slice(0,k=_.length>>1)+o+e+s+_.slice(k)}return _+o+e+s}}function r(e,r){var i=t((e=s(e),e.type="f",e)),o=3*Math.max(-8,Math.min(8,Math.floor(n(r)/3))),a=Math.pow(10,-o),u=g[8+o/3];return function(e){return i(a*e)+u}}var i=e.grouping&&e.thousands?l(e.grouping,e.thousands):u,o=e.currency,a=e.decimal;return{format:t,formatPrefix:r}}function f(e,t){return Math.max(0,n(Math.abs(t))-n(Math.abs(e)))+1}function h(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(t)/3)))-n(Math.abs(e)))}function d(e){return Math.max(0,-n(Math.abs(e)))}var p,g=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],m={"":o,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return i(100*e,t)},r:i,s:r,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},v=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var y=c({decimal:".",thousands:",",grouping:[3],currency:["$",""]});e.format=y.format,e.formatPrefix=y.formatPrefix,e.formatSpecifier=s,e.localeFormat=c,e.precisionFixed=d,e.precisionPrefix=h,e.precisionRound=f})},{}],4:[function(t,n,r){"undefined"==typeof Map?(Map=function(){this.clear()},Map.prototype={set:function(e,t){return this._[e]=t,this},get:function(e){return this._[e]},has:function(e){return e in this._},"delete":function(e){return e in this._&&delete this._[e]},clear:function(){this._=Object.create(null)},get size(){var e=0;for(var t in this._)++e;return e},forEach:function(e){for(var t in this._)e(this._[t],t,this)}}):function(){var e=new Map;e.set(0,0)!==e&&(e=e.set,Map.prototype.set=function(){return e.apply(this,arguments),this})}(),function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.timeFormat={})}(this,function(e){"use strict";function t(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function n(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function i(e,t,n){var r=re.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function o(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function a(e,t,n){var r=ie.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function s(e,t,n){var r=ie.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function u(e,t,n){var r=ie.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function l(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function c(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function f(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function h(e,t,n){var r=ie.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function d(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function p(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function g(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function m(e,t,n){var r=ie.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function v(e,t,n){var r=ie.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function y(){return"%"}function b(){return"+0000"}function x(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(t)+i:i)}function w(e,t){return x(e.getUTCFullYear()%1e4,t,4)}function $(e,t){return x(e.getUTCFullYear()%100,t,2)}function k(e,t,n){function r(t){return e(t=new Date(+t)),t}return r.floor=r,r.round=function(n){var r=new Date(+n),i=new Date(n-1);return e(r),e(i),t(i,1),i-n>n-r?r:i},r.ceil=function(n){return e(n=new Date(n-1)),t(n,1),n},r.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},r.range=function(n,r,i){var o=[];if(n=new Date(n-1),r=new Date(+r),i=null==i?1:Math.floor(i),!(r>n&&i>0))return o;for(t(n,1),e(n),r>n&&o.push(new Date(+n));t(n,i),e(n),r>n;)o.push(new Date(+n));return o},r.filter=function(n){return k(function(t){for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(r.count=function(t,r){return ae.setTime(+t),oe.setTime(+r),e(ae),e(oe),Math.floor(n(ae,oe))}),r}function _(e){return k(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}function S(e,t){return x(ue.count(se(e),e),t,2)}function C(e){return e.getUTCDay()}function E(e,t){return x(le.count(se(e),e),t,2)}function M(e,t){return x(e.getUTCSeconds(),t,2)}function T(e,t){return x(e.getUTCMinutes(),t,2)}function A(e,t){return x(e.getUTCMonth()+1,t,2)}function O(e,t){return x(e.getUTCMilliseconds(),t,3)}function D(e,t){return x(1+ce.count(se(e),e),t,3)}function N(e,t){return x(e.getUTCHours()%12||12,t,2)}function L(e,t){return x(e.getUTCHours(),t,2)}function P(e,t){return x(e.getUTCDate(),t,2)}function I(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+x(t/60|0,"0",2)+x(t%60,"0",2)}function R(e,t){return x(e.getFullYear()%1e4,t,4)}function j(e,t){return x(e.getFullYear()%100,t,2)}function F(e){return k(function(t){t.setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()+7-e)%7)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}function U(e,t){return x(he.count(fe(e),e),t,2)}function q(e){return e.getDay()}function z(e,t){return x(de.count(fe(e),e),t,2)}function H(e,t){return x(e.getSeconds(),t,2)}function W(e,t){return x(e.getMinutes(),t,2)}function B(e,t){return x(e.getMonth()+1,t,2)}function V(e,t){return x(e.getMilliseconds(),t,3)}function Y(e,t){return x(1+pe.count(fe(e),e),t,3)}function X(e,t){return x(e.getHours()%12||12,t,2)}function G(e,t){return x(e.getHours(),t,2)}function K(e,t){return x(e.getDate(),t,2)}function Z(e){for(var t=new Map,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function J(e){return e.replace(ge,"\\$&")}function Q(e){return new RegExp("^(?:"+e.map(J).join("|")+")","i")}function ee(e){function x(e,t){return function(n){for(var r,i,o,a=[],s=-1,u=0,l=e.length;++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=ne[r=e.charAt(++s)])&&(r=e.charAt(++s)),(o=t[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join("")}}function k(e,n){return function(i){var o=r(1900),a=_(o,e,i,0);if(a!=i.length)return null;if("p"in o&&(o.H=o.H%12+12*o.p),"Z"in o){if("w"in o&&("W"in o||"U"in o)){var s=t(r(o.y)).getUTCDay();"W"in o&&(o.U=o.W,o.w=(o.w+6)%7,--s),o.m=0,o.d=o.w+7*o.U-(s+6)%7}return o.H+=o.Z/100|0,o.M+=o.Z%100,t(o)}if("w"in o&&("W"in o||"U"in o)){var s=n(r(o.y)).getDay();"W"in o&&(o.U=o.W,o.w=(o.w+6)%7,--s),o.m=0,o.d=o.w+7*o.U-(s+6)%7}return n(o)}}function _(e,t,n,r){for(var i,o,a=0,s=t.length,u=n.length;s>a;){if(r>=u)return-1;if(i=t.charCodeAt(a++),37===i){if(i=t.charAt(a++),o=Ie[i in ne?t.charAt(a++):i],!o||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function F(e,t,n){var r=Me.exec(t.slice(n));return r?(e.w=Te.get(r[0].toLowerCase()),n+r[0].length):-1}function J(e,t,n){var r=Ce.exec(t.slice(n));return r?(e.w=Ee.get(r[0].toLowerCase()),n+r[0].length):-1}function ee(e,t,n){var r=De.exec(t.slice(n));return r?(e.m=Ne.get(r[0].toLowerCase()),n+r[0].length):-1}function te(e,t,n){var r=Ae.exec(t.slice(n));return r?(e.m=Oe.get(r[0].toLowerCase()),n+r[0].length):-1}function re(e,t,n){return _(e,ve,t,n)}function ie(e,t,n){return _(e,ye,t,n)}function oe(e,t,n){return _(e,be,t,n)}function ae(e,t,n){var r=Se.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}function se(e){return $e[e.getDay()]}function ue(e){return we[e.getDay()]}function le(e){return _e[e.getMonth()]}function ce(e){return ke[e.getMonth()]}function fe(e){return xe[+(e.getHours()>=12)]}function he(e){return $e[e.getUTCDay()]}function de(e){return we[e.getUTCDay()]}function pe(e){return _e[e.getUTCMonth()]}function ge(e){return ke[e.getUTCMonth()]}function me(e){return xe[+(e.getUTCHours()>=12)]}var ve=e.dateTime,ye=e.date,be=e.time,xe=e.periods,we=e.days,$e=e.shortDays,ke=e.months,_e=e.shortMonths,Se=Z(xe),Ce=Q(we),Ee=Z(we),Me=Q($e),Te=Z($e),Ae=Q(ke),Oe=Z(ke),De=Q(_e),Ne=Z(_e),Le={a:se,A:ue,b:le,B:ce,c:null,d:K,e:K,H:G,I:X,j:Y,L:V,m:B,M:W,p:fe,S:H,U:z,w:q,W:U,x:null,X:null,y:j,Y:R,Z:I,"%":y},Pe={a:he,A:de,b:pe,B:ge,c:null,d:P,e:P,H:L,I:N,j:D,L:O,m:A,M:T,p:me,S:M,U:E,w:C,W:S,x:null,X:null,y:$,Y:w,Z:b,"%":y},Ie={a:F,A:J,b:ee,B:te,c:re,d:f,e:f,H:d,I:d,j:h,L:m,m:c,M:p,p:ae,S:g,U:s,w:a,W:u,x:ie,X:oe,y:l,Y:v,Z:o,"%":i};return Le.x=x(ye,Le),Le.X=x(be,Le),Le.c=x(ve,Le),Pe.x=x(ye,Pe),Pe.X=x(be,Pe),Pe.c=x(ve,Pe),{format:function(e){var t=x(e+="",Le);return t.parse=k(e,n),t.toString=function(){return e},t},utcFormat:function(e){var n=x(e+="",Pe);return n.parse=k(e,t),n.toString=function(){return e},n}}}function te(e){return e.toISOString()}var ne={"-":"",_:" ",0:"0"},re=/^%/,ie=/^\s*\d+/,oe=new Date,ae=new Date,se=k(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),ue=_(1),le=_(0),ce=k(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5}),fe=k(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()}),he=F(1),de=F(0),pe=k(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),ge=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,me=ee({dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});e.format=me.format,e.utcFormat=me.utcFormat;var ve="%Y-%m-%dT%H:%M:%S.%LZ";te.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},te.toString=function(){return ve};var ye=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?te:me.utcFormat(ve),be=ye;e.isoFormat=be,e.localeFormat=ee})},{}],5:[function(t,n,r){!function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.time={})}(this,function(e){"use strict";function t(e,n,r){function a(t){return e(t=new Date(+t)),t}return a.floor=a,a.round=function(t){var r=new Date(+t),i=new Date(t-1);return e(r),e(i),n(i,1),i-t>t-r?r:i},a.ceil=function(t){return e(t=new Date(t-1)),n(t,1),t},a.offset=function(e,t){return n(e=new Date(+e),null==t?1:Math.floor(t)),e},a.range=function(t,r,i){var o=[];if(t=new Date(t-1),r=new Date(+r),i=null==i?1:Math.floor(i),!(r>t&&i>0))return o;for(n(t,1),e(t),r>t&&o.push(new Date(+t));n(t,i),e(t),r>t;)o.push(new Date(+t));return o},a.filter=function(r){return t(function(t){for(;e(t),!r(t);)t.setTime(t-1)},function(e,t){for(;--t>=0;)for(;n(e,1),!r(e););})},r&&(a.count=function(t,n){return o.setTime(+t),i.setTime(+n),e(o),e(i),Math.floor(r(o,i))}),a}function n(e){return t(function(t){t.setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()+7-e)%7)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}function r(e){return t(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}var i=new Date,o=new Date,a=t(function(e){e.setMilliseconds(0)},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3});e.seconds=a.range;var s=t(function(e){e.setSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4});e.minutes=s.range;var u=t(function(e){e.setMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5});e.hours=u.range;var l=t(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5});e.days=l.range,e.sunday=n(0),e.sundays=e.sunday.range,e.monday=n(1),e.mondays=e.monday.range,e.tuesday=n(2),e.tuesdays=e.tuesday.range,e.wednesday=n(3),e.wednesdays=e.wednesday.range,e.thursday=n(4),e.thursdays=e.thursday.range,e.friday=n(5),e.fridays=e.friday.range,e.saturday=n(6),e.saturdays=e.saturday.range;var c=e.sunday;e.weeks=c.range;var f=t(function(e){e.setHours(0,0,0,0),e.setDate(1)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())});e.months=f.range;var h=t(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()});e.years=h.range;var d=t(function(e){e.setUTCMilliseconds(0)},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3});e.utcSeconds=d.range;var p=t(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4});e.utcMinutes=p.range;var g=t(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5});e.utcHours=g.range;var m=t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5});e.utcDays=m.range,e.utcSunday=r(0),e.utcSundays=e.utcSunday.range,e.utcMonday=r(1),e.utcMondays=e.utcMonday.range,e.utcTuesday=r(2),e.utcTuesdays=e.utcTuesday.range,e.utcWednesday=r(3),e.utcWednesdays=e.utcWednesday.range,e.utcThursday=r(4),e.utcThursdays=e.utcThursday.range,e.utcFriday=r(5),e.utcFridays=e.utcFriday.range,e.utcSaturday=r(6),e.utcSaturdays=e.utcSaturday.range;var v=e.utcSunday;e.utcWeeks=v.range;var y=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCDate(1)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())});e.utcMonths=y.range;var b=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()});e.utcYears=b.range,e.interval=t,e.second=a,e.minute=s,e.hour=u,e.day=l,e.week=c,e.month=f,e.year=h,e.utcSecond=d,e.utcMinute=p,e.utcHour=g,e.utcDay=m,e.utcWeek=v,e.utcMonth=y,e.utcYear=b})},{}],6:[function(e,t,n){function r(){this._cells={},this._aggr=[],this._stream=!1}function i(e){if(o.isArray(e))return e;if(null==e)return[];var t,n,r=[];for(t in e)n=o.array(e[t]),r.push({name:t,ops:n});return r}var o=e("../util"),a=e("./measures"),s=e("./collector"),u=r.Flags={ADD_CELL:1,MOD_CELL:2},l=r.prototype;l.stream=function(e){return null==e?this._stream:(this._stream=!!e,this._aggr=[],this)},l.key=function(e){return null==e?this._key:(this._key=o.$(e),this)},l.groupby=function(e){return this._dims=o.array(e).map(function(e,t){if(e=o.isString(e)?{name:e,get:o.$(e)}:o.isFunction(e)?{name:o.name(e)||e.name||"_"+t,get:e}:e.name&&o.isFunction(e.get)?e:null,null==e)throw"Invalid groupby argument: "+e;return e}),this.clear()},l.summarize=function(e){e=i(e),this._count=!0;var t,n,r,s,u,l,c,f=this._aggr=[];for(r=0;r<e.length;++r){for(s=0,t=[],n=e[r];s<n.ops.length;++s)u=n.ops[s],"count"!==u&&(this._count=!1),l=n.as&&n.as[s]||u+("*"===n.name?"":"_"+n.name),t.push(a[u](l));c=n.get&&o.$(n.get)||("*"===n.name?o.identity:o.$(n.name)),f.push({name:n.name,measures:a.create(t,this._stream,c,this._assign)})}return this.clear()},l.count=function(){return this.summarize({"*":"count"})},l._assign=function(e,t,n){e[t]=n},l.clear=function(){return this._cells={},this},l._cellkey=function(e){var t,n=this._dims,r=n.length,i=String(n[0].get(e));for(t=1;r>t;++t)i+="|"+n[t].get(e);return i},l._cell=function(e){var t=this._dims.length?this._cellkey(e):"";return this._cells[t]||(this._cells[t]=this._newcell(e))},l._newcell=function(e){var t,n={num:0,tuple:this._newtuple(e),flag:u.ADD_CELL,aggs:{}},r=this._aggr;for(t=0;t<r.length;++t)n.aggs[r[t].name]=new r[t].measures(n,n.tuple);return n.collect&&(n.data=new s(this._key)),n},l._newtuple=function(e){var t,n,r=this._dims,i={};for(t=0,n=r.length;n>t;++t)i[r[t].name]=r[t].get(e);return this._ingest(i)},l._ingest=o.identity,l._add=function(e){var t,n=this._cell(e),r=this._aggr;if(n.num+=1,!this._count)for(n.collect&&n.data.add(e),t=0;t<r.length;++t)n.aggs[r[t].name].add(e);n.flag|=u.MOD_CELL},l._rem=function(e){var t,n=this._cell(e),r=this._aggr;if(n.num-=1,!this._count)for(n.collect&&n.data.rem(e),t=0;t<r.length;++t)n.aggs[r[t].name].rem(e);n.flag|=u.MOD_CELL},l._mod=function(e,t){var n,r=this._cell(t),i=this._cell(e),a=this._aggr;for(r!==i?(r.num-=1,i.num+=1,r.collect&&r.data.rem(t),i.collect&&i.data.add(e)):r.collect&&!o.isObject(e)&&(r.data.rem(t),r.data.add(e)),n=0;n<a.length;++n)r.aggs[a[n].name].rem(t),i.aggs[a[n].name].add(e);r.flag|=u.MOD_CELL,i.flag|=u.MOD_CELL},l.result=function(){var e,t,n,r=[],i=this._aggr;for(n in this._cells){if(e=this._cells[n],e.num>0){for(e.collect&&e.data.values(),t=0;t<i.length;++t)e.aggs[i[t].name].set();r.push(e.tuple)}else delete this._cells[n];e.flag=0}return this._rems=!1,r},l.changes=function(){var e,t,n,r,i={add:[],rem:[],mod:[]},o=this._aggr;for(r in this._cells){for(e=this._cells[r],t=e.flag,e.collect&&e.data.values(),n=0;n<o.length;++n)e.aggs[o[n].name].set();e.num<=0?(i.rem.push(e.tuple),delete this._cells[r]):t&u.ADD_CELL?i.add.push(e.tuple):t&u.MOD_CELL&&i.mod.push(e.tuple),e.flag=0}return this._rems=!1,i},l.execute=function(e){return this.clear().insert(e).result()},l.insert=function(e){this._consolidate();for(var t=0;t<e.length;++t)this._add(e[t]);return this},l.remove=function(e){if(!this._stream)throw"Aggregator not configured for streaming removes. Call stream(true) prior to calling summarize.";for(var t=0;t<e.length;++t)this._rem(e[t]);return this._rems=!0,this},l._consolidate=function(){if(this._rems){for(var e in this._cells)this._cells[e].collect&&this._cells[e].data.values();this._rems=!1}},t.exports=r},{"../util":27,"./collector":7,"./measures":9}],7:[function(e,t,n){function r(e){this._add=[],this._rem=[],this._key=e||null,this._last=null}var i=e("../util"),o=e("../stats"),a="__dl_rem__",s=r.prototype;s.add=function(e){this._add.push(e)},s.rem=function(e){this._rem.push(e)},s.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r,s=this._add,u=this._rem,l=this._key,c=Array(s.length-u.length);

if(i.isObject(u[0]))if(l)for(r=i.toMap(u,l),e=0,t=0,n=s.length;n>e;++e)r.hasOwnProperty(l(s[e]))||(c[t++]=s[e]);else{for(e=0,n=u.length;n>e;++e)u[e][a]=1;for(e=0,t=0,n=s.length;n>e;++e)s[e][a]||(c[t++]=s[e]);for(e=0,n=u.length;n>e;++e)delete u[e][a]}else for(r=o.count.map(u),e=0,t=0,n=s.length;n>e;++e)r[s[e]]>0?r[s[e]]-=1:c[t++]=s[e];return this._rem=[],this._add=c},s.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=o.extent.index(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},s.argmin=function(e){return this.extent(e)[0]},s.argmax=function(e){return this.extent(e)[1]},s.min=function(e){var t=this.extent(e)[0];return t?e(t):+(1/0)},s.max=function(e){var t=this.extent(e)[1];return t?e(t):-(1/0)},s.quartile=function(e){return this._get===e&&this._q||(this._q=o.quartile(this.values(),e),this._get=e),this._q},s.q1=function(e){return this.quartile(e)[0]},s.q2=function(e){return this.quartile(e)[1]},s.q3=function(e){return this.quartile(e)[2]},t.exports=r},{"../stats":24,"../util":27}],8:[function(e,t,n){var r=e("../util"),i=e("./aggregator");t.exports=function(){var e=[].reduce.call(arguments,function(e,t){return e.concat(r.array(t))},[]);return(new i).groupby(e).summarize({"*":"values"})}},{"../util":27,"./aggregator":6}],9:[function(e,t,n){function r(e){return function(t){var n=a.extend({init:"",add:"",rem:"",idx:0},e);return n.out=t||e.name,n}}function i(e,t){function n(e,r){function i(t){e[t]||n(e,e[t]=s[t]())}return r.req&&r.req.forEach(i),t&&r.str&&r.str.forEach(i),e}var r=e.reduce(n,e.reduce(function(e,t){return e[t.name]=t,e},{}));return a.vals(r).sort(function(e,t){return e.idx-t.idx})}function o(t,n,r,o){var s=i(t,n),u="this.cell = cell; this.tuple = t; this.valid = 0; this.missing = 0;",l="if (v==null) this.missing++; if (!this.isValid(v)) return; ++this.valid;",c="if (v==null) this.missing--; if (!this.isValid(v)) return; --this.valid;",f="var t = this.tuple; var cell = this.cell;";return s.forEach(function(e){e.idx<0?(u=e.init+u,l=e.add+l,c=e.rem+c):(u+=e.init,l+=e.add,c+=e.rem)}),t.slice().sort(function(e,t){return e.idx-t.idx}).forEach(function(e){f+="this.assign(t,'"+e.out+"',"+e.set+");"}),f+="return t;",u=Function("cell","t",u),u.prototype.assign=o,u.prototype.add=Function("t","var v = this.get(t);"+l),u.prototype.rem=Function("t","var v = this.get(t);"+c),u.prototype.set=Function(f),u.prototype.get=r,u.prototype.distinct=e("../stats").count.distinct,u.prototype.isValid=a.isValid,u}var a=e("../util"),s={values:r({name:"values",init:"cell.collect = true;",set:"cell.data.values()",idx:-1}),count:r({name:"count",set:"cell.num"}),missing:r({name:"missing",set:"this.missing"}),valid:r({name:"valid",set:"this.valid"}),sum:r({name:"sum",init:"this.sum = 0;",add:"this.sum += v;",rem:"this.sum -= v;",set:"this.sum"}),mean:r({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.mean"}),average:r({name:"average",set:"this.mean",req:["mean"],idx:1}),variance:r({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : 0",req:["mean"],idx:1}),variancep:r({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : 0",req:["variance"],idx:2}),stdev:r({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",req:["variance"],idx:2}),stdevp:r({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",req:["variance"],idx:2}),median:r({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:r({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:r({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),distinct:r({name:"distinct",set:"this.distinct(cell.data.values(), this.get)",req:["values"],idx:3}),argmin:r({name:"argmin",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = null;",set:"this.argmin = this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:r({name:"argmax",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = null;",set:"this.argmax = this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:r({name:"min",init:"this.min = +Infinity;",add:"if (v < this.min) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:r({name:"max",init:"this.max = -Infinity;",add:"if (v > this.max) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4}),modeskew:r({name:"modeskew",set:"this.dev===0 ? 0 : (this.mean - cell.data.q2(this.get)) / Math.sqrt(this.dev/(this.valid-1))",req:["mean","stdev","median"],idx:5})};s.create=o,t.exports=s},{"../stats":24,"../util":27}],10:[function(e,t,n){function r(e){if(!e)throw Error("Missing binning options.");var t,n,r,s,u,l,c,f=e.maxbins||15,h=e.base||10,d=Math.log(h),p=e.div||[5,2],g=e.min,m=e.max,v=m-g;if(e.step)t=e.step;else if(e.steps)t=e.steps[Math.min(e.steps.length-1,i(e.steps,v/f,0,e.steps.length))];else{n=Math.ceil(Math.log(f)/d),r=e.minstep||0,t=Math.max(r,Math.pow(h,Math.round(Math.log(v)/d)-n));do t*=h;while(Math.ceil(v/t)>f);for(l=0;l<p.length;++l)u=t/p[l],u>=r&&f>=v/u&&(t=u)}return u=Math.log(t),s=u>=0?0:~~(-u/d)+1,c=Math.pow(h,-s-1),g=Math.min(g,Math.floor(g/t+c)*t),m=Math.ceil(m/t)*t,{start:g,stop:m,step:t,unit:{precision:s},value:o,index:a}}function i(e,t,n,r){for(;r>n;){var i=n+r>>>1;l.cmp(e[i],t)<0?n=i+1:r=i}return n}function o(e){return this.step*Math.floor(e/this.step+f)}function a(e){return Math.floor((e-this.start)/this.step+f)}function s(e){return this.unit.date(o.call(this,e))}function u(e){return a.call(this,this.unit.unit(e))}var l=e("../util"),c=e("../time"),f=1e-15;r.date=function(e){if(!e)throw Error("Missing date binning options.");var t=e.utc?c.utc:c,n=e.min,i=e.max,o=e.maxbins||20,a=e.minbins||4,l=+i-+n,f=e.unit?t[e.unit]:t.find(l,a,o),h=r({min:null!=f.min?f.min:f.unit(n),max:null!=f.max?f.max:f.unit(i),maxbins:o,minstep:f.minstep,steps:f.step});return h.unit=f,h.index=u,e.raw||(h.value=s),h},t.exports=r},{"../time":26,"../util":27}],11:[function(e,t,n){function r(e,t,n){n=a(e,t,n);var r=o(n);return r?h.$func("bin",r.unit.unit?function(e){return r.value(r.unit.unit(e))}:function(e){return r.value(e)})(n.accessor):n.accessor||h.identity}function i(e,t,n){n=a(e,t,n);var r=o(n);return r?s(e,n.accessor,r):u(e,n.accessor,n&&n.sort)}function o(e){var t=e.type,n=null;return(null==t||p[t])&&("integer"===t&&null==e.minstep&&(e.minstep=1),n="date"===t?l.date(e):l(e)),n}function a(){var e=arguments,t=0,n=h.isArray(e[t])?e[t++]:null,r=h.isFunction(e[t])||h.isString(e[t])?h.$(e[t++]):null,i=h.extend({},e[t]);if(n&&(i.type=i.type||f(n,r),p[i.type])){var o=d.extent(n,r);i=h.extend({min:o[0],max:o[1]},i)}return r&&(i.accessor=r),i}function s(e,t,n){for(var r,i,o=c.range(n.start,n.stop+n.step/2,n.step).map(function(e){return{value:n.value(e),count:0}}),a=0;a<e.length;++a)if(r=t?t(e[a]):e[a],h.isValid(r)){if(i=n.index(r),0>i||i>=o.length||!isFinite(i))continue;o[i].count+=1}return o.bins=n,o}function u(e,t,n){var r=d.unique(e,t),i=d.count.map(e,t);return r.map(function(e){return{value:e,count:i[e]}}).sort(h.comparator(n?"-count":"+value"))}var l=e("./bins"),c=e("../generate"),f=e("../import/type"),h=e("../util"),d=e("../stats"),p={integer:1,number:1,date:1};t.exports={$bin:r,histogram:i}},{"../generate":12,"../import/type":21,"../stats":24,"../util":27,"./bins":10}],12:[function(e,t,n){var r=t.exports={};r.repeat=function(e,t){var n,r=Array(t);for(n=0;t>n;++n)r[n]=e;return r},r.zeros=function(e){return r.repeat(0,e)},r.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("Infinite range");var r,i=[],o=-1;if(0>n)for(;(r=e+n*++o)>t;)i.push(r);else for(;(r=e+n*++o)<t;)i.push(r);return i},r.random={},r.random.uniform=function(e,t){void 0===t&&(t=void 0===e?1:e,e=0);var n=t-e,i=function(){return e+n*Math.random()};return i.samples=function(e){return r.zeros(e).map(i)},i},r.random.integer=function(e,t){void 0===t&&(t=e,e=0);var n=t-e,i=function(){return e+Math.floor(n*Math.random())};return i.samples=function(e){return r.zeros(e).map(i)},i},r.random.normal=function(e,t){e=e||0,t=t||1;var n,i=function(){var r,i,o=0,a=0;if(void 0!==n)return o=n,n=void 0,o;do o=2*Math.random()-1,a=2*Math.random()-1,r=o*o+a*a;while(0===r||r>1);return i=Math.sqrt(-2*Math.log(r)/r),n=e+a*i*t,e+o*i*t};return i.samples=function(e){return r.zeros(e).map(i)},i}},{}],13:[function(e,t,n){function r(e,t){if(e){var n=t.header;e=(n?n.join(t.delimiter)+"\n":"")+e}return o.dsv(t.delimiter).parse(e)}var i=e("../../util"),o=e("d3-dsv");r.delimiter=function(e){var t={delimiter:e};return function(e,n){return r(e,n?i.extend(n,t):t)}},t.exports=r},{"../../util":27,"d3-dsv":2}],14:[function(e,t,n){var r=e("./dsv");t.exports={json:e("./json"),topojson:e("./topojson"),treejson:e("./treejson"),dsv:r,csv:r.delimiter(","),tsv:r.delimiter("	")}},{"./dsv":13,"./json":15,"./topojson":16,"./treejson":17}],15:[function(e,t,n){var r=e("../../util");t.exports=function(e,t){var n=r.isObject(e)&&!r.isBuffer(e)?e:JSON.parse(e);return t&&t.property&&(n=r.accessor(t.property)(n)),n}},{"../../util":27}],16:[function(e,t,n){(function(n){var r=e("./json"),i=function(e,t){var n=i.topojson;if(null==n)throw Error("TopoJSON library not loaded.");var o,a=r(e,t);if(t&&t.feature){if(o=a.objects[t.feature])return n.feature(a,o).features;throw Error("Invalid TopoJSON object: "+t.feature)}if(t&&t.mesh){if(o=a.objects[t.mesh])return[n.mesh(a,a.objects[t.mesh])];throw Error("Invalid TopoJSON object: "+t.mesh)}throw Error("Missing TopoJSON feature or mesh parameter.")};i.topojson="undefined"!=typeof window?window.topojson:"undefined"!=typeof n?n.topojson:null,t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./json":15}],17:[function(e,t,n){function r(e,t){function n(e){r.push(e);var i=e[t];if(i)for(var o=0;o<i.length;++o)n(i[o],e)}t=t||"children";var r=[];return n(e,null),r.root=e,r}var i=e("./json");t.exports=function(e,t){return e=i(e,t),r(e,t&&t.children)}},{"./json":15}],18:[function(e,t,n){function r(t){var n=t.url;if(!n&&t.file)return f+t.file;if(t.baseURL&&!c.test(n)&&(l(n,"/")||"/"===t.baseURL[t.baseURL.length-1]||(n="/"+n),n=t.baseURL+n),!i.useXHR&&l(n,"//")&&(n=(t.defaultProtocol||"http")+":"+n),t.domainWhiteList){var r,o;if(i.useXHR){var a=document.createElement("a");a.href=n,""===a.host&&(a.href=a.href),r=a.hostname.toLowerCase(),o=window.location.hostname}else{var s=e("url").parse(n);r=s.hostname,o=null}if(o!==r){var u=t.domainWhiteList.some(function(e){var t=r.length-e.length;return e===r||t>1&&"."===r[t-1]&&r.lastIndexOf(e)===t});if(!u)throw"URL is not whitelisted: "+n}}return n}function i(e,t){var n,r=t||function(e){throw e};try{n=i.sanitizeUrl(e)}catch(o){return void r(o)}return n?i.useXHR?a(n,t):l(n,f)?s(n.slice(f.length),t):n.indexOf("://")<0?s(n,t):u(n,t):void r("Invalid URL: "+e.url)}function o(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function a(e,t){function n(){var e=i.status;!e&&o(i)||e>=200&&300>e||304===e?t(null,i.responseText):t(i,null)}var r=!!t,i=new XMLHttpRequest;return!this.XDomainRequest||"withCredentials"in i||!/^(http(s)?:)?\/\//.test(e)||(i=new XDomainRequest),r&&("onload"in i?i.onload=i.onerror=n:i.onreadystatechange=function(){i.readyState>3&&n()}),i.open("GET",e,r),i.send(),!r&&o(i)?i.responseText:void 0}function s(t,n){var r=e("fs");return n?void r.readFile(t,n):r.readFileSync(t,"utf8")}function u(t,n){return n?void e("request")(t,function(e,t,r){e||200!==t.statusCode?(e=e||"Load failed with response code "+t.statusCode+".",n(e,null)):n(null,r)}):e("sync-request")("GET",t).getBody()}function l(e,t){return null==e?!1:0===e.lastIndexOf(t,0)}var c=/^([A-Za-z]+:)?\/\//,f="file://";i.sanitizeUrl=r,i.useXHR="undefined"!=typeof XMLHttpRequest,t.exports=i},{fs:1,request:1,"sync-request":1,url:1}],19:[function(e,t,n){function r(e,t){var n=t&&t.type||"json";return e=s[n](e,t),t&&t.parse&&i(e,t.parse),e}function i(e,t){var n,r,i,s,u,l,c=e.length;for(t="auto"===t?a.inferAll(e):o.duplicate(t),n=o.keys(t),r=n.map(function(e){return a.parsers[t[e]]}),s=0,l=n.length;c>s;++s)for(i=e[s],u=0;l>u;++u)i[n[u]]=r[u](i[n[u]]);a.annotation(e,t)}var o=e("../util"),a=e("./type"),s=e("./formats");r.formats=s,t.exports=r},{"../util":27,"./formats":14,"./type":21}],20:[function(e,t,n){var r=e("../util"),i=e("./load"),o=e("./read");t.exports=r.keys(o.formats).reduce(function(e,t){return e[t]=function(e,n,a){r.isString(e)&&(e={url:e}),2===arguments.length&&r.isFunction(n)&&(a=n,n=void 0),n=r.extend({parse:"auto"},n),n.type=t;var s=i(e,a?function(e,t){if(e)return void a(e,null);try{t=o(t,n),a(null,t)}catch(r){a(r,null)}}:void 0);return a?void 0:o(s,n)},e},{})},{"../util":27,"./load":18,"./read":19}],21:[function(e,t,n){function r(e,t){return t?void(e[l]=t):e&&e[l]||null}function i(e,t){t=u.$(t);var n,r,i;if(e[l]&&(n=t(e[l]),u.isString(n)))return n;for(r=0,i=e.length;!u.isValid(n)&&i>r;++r)n=t?t(e[r]):e[r];return u.isDate(n)?"date":u.isNumber(n)?"number":u.isBoolean(n)?"boolean":u.isString(n)?"string":null}function o(e,t){return e.length?(t=t||u.keys(e[0]),t.reduce(function(t,n){return t[n]=i(e,n),t},{})):void 0}function a(e,t){t=u.$(t);var n,r,i,o=["boolean","integer","number","date"];for(n=0;n<e.length;++n){for(i=t?t(e[n]):e[n],r=0;r<o.length;++r)u.isValid(i)&&!f[o[r]](i)&&(o.splice(r,1),r-=1);if(0===o.length)return"string"}return o[0]}function s(e,t){return t=t||u.keys(e[0]),t.reduce(function(t,n){return t[n]=a(e,n),t},{})}var u=e("../util"),l="__types__",c={"boolean":u["boolean"],integer:u.number,number:u.number,date:u.date,string:function(e){return""===e?null:e}},f={"boolean":function(e){return"true"===e||"false"===e||u.isBoolean(e)},integer:function(e){return f.number(e)&&(e=+e)===~~e},number:function(e){return!isNaN(+e)&&!u.isDate(e)},date:function(e){return!isNaN(Date.parse(e))}};i.annotation=r,i.all=o,i.infer=a,i.inferAll=s,i.parsers=c,t.exports=i},{"../util":27}],22:[function(e,t,n){var r=e("./util"),i={load:e("./import/load"),read:e("./import/read"),type:e("./import/type"),bins:e("./bins/bins"),$bin:e("./bins/histogram").$bin,groupby:e("./aggregate/groupby"),histogram:e("./bins/histogram").histogram,print:e("./print"),template:e("./template"),time:e("./time")};r.extend(i,r),r.extend(i,e("./generate")),r.extend(i,e("./stats")),r.extend(i,e("./import/readers")),t.exports=i},{"./aggregate/groupby":8,"./bins/bins":10,"./bins/histogram":11,"./generate":12,"./import/load":18,"./import/read":19,"./import/readers":20,"./import/type":21,"./print":23,"./stats":24,"./template":25,"./time":26,"./util":27}],23:[function(e,t,n){function r(e){return["valid:    "+e.valid,"missing:  "+e.missing,"distinct: "+e.distinct,"min:      "+e.min,"max:      "+e.max,"median:   "+e.median,"mean:     "+e.mean,"stdev:    "+e.stdev,"modeskew: "+e.modeskew].join("\n")}function i(e){var t=["valid:    "+e.valid,"missing:  "+e.missing,"distinct: "+e.distinct,"top values: "],n=e.unique,r=o.keys(n).sort(function(e,t){return n[t]-n[e]}).slice(0,6).map(function(e){return" '"+e+"' ("+n[e]+")"});return t.concat(r).join("\n")}var o=e("./util"),a=e("./import/type"),s=e("./stats"),u=e("./template"),l={date:'|time:"%m/%d/%Y %H:%M:%S"',number:'|number:".4f"',integer:'|number:"d"'},c={number:"left",integer:"left"};t.exports.table=function(e,t){t=o.extend({separator:" ",minwidth:8,maxwidth:15},t);var n=t.fields||o.keys(e[0]),r=a.all(e);if(t.start||t.limit){var i=t.start||0,f=t.limit?i+t.limit:e.length;e=e.slice(i,f)}var h=n.map(function(n){var i=l[r[n]]||"",o=u("{{"+n+i+"}}"),a=s.max(e,function(e){return o(e).length});return a=Math.max(Math.min(n.length,t.minwidth),a),t.maxwidth>0?Math.min(a,t.maxwidth):a}),d=n.map(function(e,t){return o.truncate(o.pad(e,h[t],"center"),h[t])}).join(t.separator),p=u(n.map(function(e,t){return"{{"+e+(l[r[e]]||"")+("|pad:"+h[t]+","+(c[r[e]]||"right"))+("|truncate:"+h[t])+"}}"}).join(t.separator));return d+"\n"+e.map(p).join("\n")},t.exports.summary=function(e){e=e?e.__summary__?e:s.summary(e):this;var t,n,o=[];for(t=0,n=e.length;n>t;++t)o.push("-- "+e[t].field+" --"),o.push("string"===e[t].type||e[t].distinct<10?i(e[t]):r(e[t])),o.push("");return o.join("\n")}},{"./import/type":21,"./stats":24,"./template":25,"./util":27}],24:[function(e,t,n){var r=e("./util"),i=e("./import/type"),o=e("./generate"),a={};a.unique=function(e,t,n){t=r.$(t),n=n||[];var i,o,a,s={};for(o=0,a=e.length;a>o;++o)i=t?t(e[o]):e[o],i in s||(s[i]=1,n.push(i));return n},a.count=function(e){return e&&e.length||0},a.count.valid=function(e,t){t=r.$(t);var n,i,o,a=0;for(i=0,o=e.length;o>i;++i)n=t?t(e[i]):e[i],r.isValid(n)&&(a+=1);return a},a.count.missing=function(e,t){t=r.$(t);var n,i,o,a=0;for(i=0,o=e.length;o>i;++i)n=t?t(e[i]):e[i],null==n&&(a+=1);return a},a.count.distinct=function(e,t){t=r.$(t);var n,i,o,a={},s=0;for(i=0,o=e.length;o>i;++i)n=t?t(e[i]):e[i],n in a||(a[n]=1,s+=1);return s},a.count.map=function(e,t){t=r.$(t);var n,i,o,a={};for(i=0,o=e.length;o>i;++i)n=t?t(e[i]):e[i],a[n]=n in a?a[n]+1:1;return a},a.median=function(e,t){return t&&(e=e.map(r.$(t))),e=e.filter(r.isValid).sort(r.cmp),a.quantile(e,.5)},a.quartile=function(e,t){t&&(e=e.map(r.$(t))),e=e.filter(r.isValid).sort(r.cmp);var n=a.quantile;return[n(e,.25),n(e,.5),n(e,.75)]},a.quantile=function(e,t,n){void 0===n&&(n=t,t=r.identity),t=r.$(t);var i=(e.length-1)*n+1,o=Math.floor(i),a=+t(e[o-1]),s=i-o;return s?a+s*(t(e[o])-a):a},a.sum=function(e,t){t=r.$(t);for(var n,i=0,o=0,a=e.length;a>o;++o)n=t?t(e[o]):e[o],r.isValid(n)&&(i+=n);return i},a.mean=function(e,t){t=r.$(t);var n,i,o,a,s,u=0;for(i=0,a=0,o=e.length;o>i;++i)s=t?t(e[i]):e[i],r.isValid(s)&&(n=s-u,u+=n/++a);return u},a.variance=function(e,t){if(t=r.$(t),!r.isArray(e)||e.length<2)return 0;var n,i,o,a,s=0,u=0;for(i=0,o=0;i<e.length;++i)a=t?t(e[i]):e[i],r.isValid(a)&&(n=a-s,s+=n/++o,u+=n*(a-s));return u/=o-1},a.stdev=function(e,t){return Math.sqrt(a.variance(e,t))},a.modeskew=function(e,t){var n=a.mean(e,t),r=a.median(e,t),i=a.stdev(e,t);return 0===i?0:(n-r)/i},a.min=function(e,t){return a.extent(e,t)[0]},a.max=function(e,t){return a.extent(e,t)[1]},a.extent=function(e,t){t=r.$(t);var n,i,o,a,s=e.length;for(a=0;s>a;++a)if(o=t?t(e[a]):e[a],r.isValid(o)){n=i=o;break}for(;s>a;++a)o=t?t(e[a]):e[a],r.isValid(o)&&(n>o&&(n=o),o>i&&(i=o));return[n,i]},a.extent.index=function(e,t){t=r.$(t);var n,i,o,a,s=-1,u=-1,l=e.length;for(a=0;l>a;++a)if(o=t?t(e[a]):e[a],r.isValid(o)){n=i=o,s=u=a;break}for(;l>a;++a)o=t?t(e[a]):e[a],r.isValid(o)&&(n>o&&(n=o,s=a),o>i&&(i=o,u=a));return[s,u]},a.dot=function(e,t,n){var i,o,a=0;if(n)for(t=r.$(t),n=r.$(n),i=0;i<e.length;++i)o=t(e[i])*n(e[i]),o===o&&(a+=o);else{if(e.length!==t.length)throw Error("Array lengths must match.");for(i=0;i<e.length;++i)o=e[i]*t[i],o===o&&(a+=o)}return a},a.rank=function(e,t){t=r.$(t)||r.identity;var n,i,o,a=e.map(function(e,n){return{idx:n,val:t(e)}}).sort(r.comparator("val")),s=e.length,u=Array(s),l=-1,c={};for(n=0;s>n;++n){if(i=a[n].val,0>l&&c===i)l=n-1;else if(l>-1&&c!==i){for(o=1+(n-1+l)/2;n>l;++l)u[a[l].idx]=o;l=-1}u[a[n].idx]=n+1,c=i}if(l>-1)for(o=1+(s-1+l)/2;s>l;++l)u[a[l].idx]=o;return u},a.cor=function(e,t,n){var i=n;n=i?e.map(r.$(n)):t,t=i?e.map(r.$(t)):e;var o=a.dot(t,n),s=a.mean(t),u=a.mean(n),l=a.stdev(t),c=a.stdev(n),f=e.length;return(o-f*s*u)/((f-1)*l*c)},a.cor.rank=function(e,t,n){var i,o,s,u=n?a.rank(e,r.$(t)):a.rank(e),l=n?a.rank(e,r.$(n)):a.rank(t),c=e.length;for(i=0,o=0;c>i;++i)s=u[i]-l[i],o+=s*s;return 1-6*o/(c*(c*c-1))},a.cor.dist=function(e,t,n){var i,o,s,u,l=n?e.map(r.$(t)):e,c=n?e.map(r.$(n)):t,f=a.dist.mat(l),h=a.dist.mat(c),d=f.length;for(i=0,o=0,s=0,u=0;d>i;++i)o+=f[i]*f[i],s+=h[i]*h[i],u+=f[i]*h[i];return Math.sqrt(u/Math.sqrt(o*s))},a.dist=function(e,t,n,i){var o,a,s=r.isFunction(n)||r.isString(n),u=e,l=s?e:t,c=s?i:n,f=2===c||null==c,h=e.length,d=0;for(s&&(t=r.$(t),n=r.$(n)),a=0;h>a;++a)o=s?t(u[a])-n(l[a]):u[a]-l[a],d+=f?o*o:Math.pow(Math.abs(o),c);return f?Math.sqrt(d):Math.pow(d,1/c)},a.dist.mat=function(e){var t,n,r,i=e.length,a=i*i,s=Array(a),u=o.zeros(i),l=0;for(n=0;i>n;++n)for(s[n*i+n]=0,r=n+1;i>r;++r)s[n*i+r]=t=Math.abs(e[n]-e[r]),s[r*i+n]=t,u[n]+=t,u[r]+=t;for(n=0;i>n;++n)l+=u[n],u[n]/=i;for(l/=a,n=0;i>n;++n)for(r=n;i>r;++r)s[n*i+r]+=l-u[n]-u[r],s[r*i+n]=s[n*i+r];return s},a.entropy=function(e,t){t=r.$(t);var n,i,o=0,a=0,s=e.length;for(n=0;s>n;++n)o+=t?t(e[n]):e[n];if(0===o)return 0;for(n=0;s>n;++n)i=(t?t(e[n]):e[n])/o,i&&(a+=i*Math.log(i));return-a/Math.LN2},a.mutual=function(e,t,n,i){var o,a,s,u=i?e.map(r.$(t)):e,l=i?e.map(r.$(n)):t,c=i?e.map(r.$(i)):n,f={},h={},d=c.length,p=0,g=0,m=0;for(s=0;d>s;++s)f[u[s]]=0,h[l[s]]=0;for(s=0;d>s;++s)f[u[s]]+=c[s],h[l[s]]+=c[s],p+=c[s];for(a=1/(p*Math.LN2),s=0;d>s;++s)0!==c[s]&&(o=p*c[s]/(f[u[s]]*h[l[s]]),g+=c[s]*a*Math.log(o),m+=c[s]*a*Math.log(c[s]/p));return[g,1+g/m]},a.mutual.info=function(e,t,n,r){return a.mutual(e,t,n,r)[0]},a.mutual.dist=function(e,t,n,r){return a.mutual(e,t,n,r)[1]},a.profile=function(e,t){var n,o,s,u,l,c=0,f=0,h=0,d=0,p=null,g=null,m=0,v=[],y={};for(s=0;s<e.length;++s)u=t?t(e[s]):e[s],y[u]=u in y?y[u]+1:(d+=1,1),null==u?++h:r.isValid(u)&&(l="string"==typeof u?u.length:u,(null===p||p>l)&&(p=l),(null===g||l>g)&&(g=l),n=l-c,c+=n/++f,m+=n*(l-c),v.push(l));return m/=f-1,o=Math.sqrt(m),v.sort(r.cmp),{type:i(e,t),unique:y,count:e.length,valid:f,missing:h,distinct:d,min:p,max:g,mean:c,stdev:o,median:u=a.quantile(v,.5),q1:a.quantile(v,.25),q3:a.quantile(v,.75),modeskew:0===o?0:(c-u)/o}},a.summary=function(e,t){t=t||r.keys(e[0]);var n=t.map(function(t){var n=a.profile(e,r.$(t));return n.field=t,n});return n.__summary__=!0,n},t.exports=a},{"./generate":12,"./import/type":21,"./util":27}],25:[function(e,t,n){function r(e){var t=i(e,"d");return t="var __t; return "+t+";",new Function("d",t).bind(f)}function i(e,t,n){t=t||"obj";var r=0,i="'",s=h;return e.replace(s,function(s,u,l){return i+=e.slice(r,l).replace(m,a),r=l+s.length,u&&(i+="'\n+((__t=("+o(u,t,n)+"))==null?'':__t)+\n'"),s}),i+"'"}function o(e,t,n){function i(e){return e=e||"",m?(m=!1,v="String("+v+")"+e):v+=e,v}function o(){return"(typeof "+v+'==="number"?new Date('+v+"):"+v+")"}function a(e,t){x=s(k[0],t,e),m=!1,v="this.formats["+x+"]("+v+")"}function f(e,t){x=s(k[0],t,e),m=!1,v="this.formats["+x+"]("+o()+")"}var h=e.match(d),g=h.shift().trim(),m=!0;n&&(n[g]=1);for(var v=r.property(t,g),y=0;y<h.length;++y){var b,x,w,$=h[y],k=null;switch((b=$.indexOf(":"))>0&&($=$.slice(0,b),k=h[y].slice(b+1).match(p).map(function(e){return e.trim()})),$=$.trim()){case"length":i(".length");break;case"lower":i(".toLowerCase()");break;case"upper":i(".toUpperCase()");break;case"lower-locale":i(".toLocaleLowerCase()");break;case"upper-locale":i(".toLocaleUpperCase()");break;case"trim":i(".trim()");break;case"left":x=u.number(k[0]),i(".slice(0,"+x+")");break;case"right":x=u.number(k[0]),i(".slice(-"+x+")");break;case"mid":x=u.number(k[0]),w=x+u.number(k[1]),i(".slice(+"+x+","+w+")");break;case"slice":x=u.number(k[0]),i(".slice("+x+(k.length>1?","+u.number(k[1]):"")+")");break;case"truncate":x=u.number(k[0]),w=k[1],w="left"!==w&&"middle"!==w&&"center"!==w?"right":w,v="this.truncate("+i()+","+x+",'"+w+"')";break;case"pad":x=u.number(k[0]),w=k[1],w="left"!==w&&"middle"!==w&&"center"!==w?"right":w,v="this.pad("+i()+","+x+",'"+w+"')";break;case"number":a(l.format,"number");break;case"time":f(c.format,"time");break;case"time-utc":f(c.utcFormat,"time-utc");break;default:throw Error("Unrecognized template filter: "+$)}}return v}function a(e){return"\\"+g[e]}function s(e,t,n){if(!("'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]))throw Error("Format pattern must be quoted: "+e);if(e=e.slice(1,-1),t=t+":"+e,!f.format_map[t]){var r=n(e),i=f.formats.length;f.formats.push(r),f.format_map[t]=i}return f.format_map[t]}var u=e("./util"),l=e("d3-format"),c=e("d3-time-format"),f={formats:[],format_map:{},truncate:u.truncate,pad:u.pad};r.source=i,r.context=f,t.exports=r,r.clearFormatCache=function(){f.formats=[],f.format_map={}},r.property=function(e,t){var n=u.field(t).map(u.str).join("][");return e+"["+n+"]"};var h=/\{\{(.+?)\}\}|$/g,d=/(?:"[^"]*"|\'[^\']*\'|[^\|"]+|[^\|\']+)+/g,p=/(?:"[^"]*"|\'[^\']*\'|[^,"]+|[^,\']+)+/g,g={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},m=/\\|'|\r|\n|\u2028|\u2029/g},{"./util":27,"d3-format":3,"d3-time-format":4}],26:[function(e,t,n){function r(e){return l.setTime(+e),l}function i(e,t,n,r,i,o){var a={type:e,date:t,unit:n};return r?a.step=r:a.minstep=1,null!=i&&(a.min=i),null!=o&&(a.max=o),a}function o(e,t,n,r,o,a){return i(e,function(e){return t.offset(n,e)},function(e){return t.count(n,e)},r,o,a)}function a(e,t,n,r){var i,o,a,s=p[0];for(i=1,o=p.length;o>i;++i)if(s=p[i],t>s[0]){if(a=t/s[0],a>r)return e[p[i-1][1]];if(a>=n)return e[s[1]]}return e[p[o-1][1]]}function s(e){var t,n,r={};for(t=0,n=e.length;n>t;++t)r[e[t].type]=e[t];return r.find=function(t,n,r){return a(e,t,n,r)},r}var u=e("d3-time"),l=new Date,c=new Date(0,0,1).setFullYear(0),f=new Date(Date.UTC(0,0,1)).setUTCFullYear(0),h=[o("second",u.second,c),o("minute",u.minute,c),o("hour",u.hour,c),o("day",u.day,c,[1,7]),o("month",u.month,c,[1,3,6]),o("year",u.year,c),i("seconds",function(e){return new Date(1970,0,1,0,0,e)},function(e){return r(e).getSeconds()},null,0,59),i("minutes",function(e){return new Date(1970,0,1,0,e)},function(e){return r(e).getMinutes()},null,0,59),i("hours",function(e){return new Date(1970,0,1,e)},function(e){return r(e).getHours()},null,0,23),i("weekdays",function(e){return new Date(1970,0,4+e)},function(e){return r(e).getDay()},[1],0,6),i("dates",function(e){return new Date(1970,0,e)},function(e){return r(e).getDate()},[1],1,31),i("months",function(e){return new Date(1970,e%12,1)},function(e){return r(e).getMonth()},[1],0,11)],d=[o("second",u.utcSecond,f),o("minute",u.utcMinute,f),o("hour",u.utcHour,f),o("day",u.utcDay,f,[1,7]),o("month",u.utcMonth,f,[1,3,6]),o("year",u.utcYear,f),i("seconds",function(e){return new Date(Date.UTC(1970,0,1,0,0,e))},function(e){return r(e).getUTCSeconds()},null,0,59),i("minutes",function(e){return new Date(Date.UTC(1970,0,1,0,e))},function(e){return r(e).getUTCMinutes()},null,0,59),i("hours",function(e){return new Date(Date.UTC(1970,0,1,e))},function(e){return r(e).getUTCHours()},null,0,23),i("weekdays",function(e){return new Date(Date.UTC(1970,0,4+e))},function(e){return r(e).getUTCDay()},[1],0,6),i("dates",function(e){return new Date(Date.UTC(1970,0,e))},function(e){return r(e).getUTCDate()},[1],1,31),i("months",function(e){return new Date(Date.UTC(1970,e%12,1))},function(e){return r(e).getUTCMonth()},[1],0,11)],p=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]];t.exports=s(h),t.exports.utc=s(d)},{"d3-time":5}],27:[function(e,t,n){function r(e){return e.replace(h,"$1\\'")}function i(e,t){var n,r="";for(n=0;e>n;++n)r+=t;return r}function o(e,t,n){var r=0,i=e.split(d);return e=n?(i=i.reverse()).filter(function(e){return r+=e.length,t>=r}).reverse():i.filter(function(e){return r+=e.length,t>=r}),e.length?e.join("").trim():i[0].slice(0,t)}var a=e("buffer"),s=e("./time"),u=s.utc,l=t.exports={},c="__name__";l.namedfunc=function(e,t){return t[c]=e,t},l.name=function(e){return null==e?null:e[c]},l.identity=function(e){return e},l["true"]=l.namedfunc("true",function(){return!0}),l["false"]=l.namedfunc("false",function(){return!1}),l.duplicate=function(e){return JSON.parse(JSON.stringify(e))},l.equal=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},l.extend=function(e){for(var t,n,r=1,i=arguments.length;i>r;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e},l.length=function(e){return null!=e&&null!=e.length?e.length:null},l.keys=function(e){var t,n=[];for(t in e)n.push(t);return n},l.vals=function(e){var t,n=[];for(t in e)n.push(e[t]);return n},l.toMap=function(e,t){return(t=l.$(t))?e.reduce(function(e,n){return e[t(n)]=1,e},{}):e.reduce(function(e,t){return e[t]=1,e},{})},l.keystr=function(e){var t=e.length;if(!t)return"";for(var n=String(e[0]),r=1;t>r;++r)n+="|"+String(e[r]);return n};var f=Object.prototype.toString;l.isObject=function(e){return e===Object(e)},l.isFunction=function(e){return"[object Function]"===f.call(e)},l.isString=function(e){return"string"==typeof value||"[object String]"===f.call(e)},l.isArray=Array.isArray||function(e){return"[object Array]"===f.call(e)},l.isNumber=function(e){return"number"==typeof e||"[object Number]"===f.call(e)},l.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==f.call(e)},l.isDate=function(e){return"[object Date]"===f.call(e)},l.isValid=function(e){return null!=e&&e===e},l.isBuffer=a.Buffer&&a.Buffer.isBuffer||l["false"],l.number=function(e){return null==e||""===e?null:+e},l["boolean"]=function(e){return null==e||""===e?null:"false"===e?!1:!!e},l.date=function(e){return null==e||""===e?null:Date.parse(e)},l.array=function(e){return null!=e?l.isArray(e)?e:[e]:[]},l.str=function(e){return l.isArray(e)?"["+e.map(l.str)+"]":l.isObject(e)?JSON.stringify(e):l.isString(e)?"'"+r(e)+"'":e};var h=/(^|[^\\])'/g;l.field=function(e){return String(e).split("\\.").map(function(e){return e.split(".")}).reduce(function(e,t){return e.length&&(e[e.length-1]+="."+t.shift()),e.push.apply(e,t),e},[])},l.accessor=function(e){var t;return null==e||l.isFunction(e)?e:l.namedfunc(e,(t=l.field(e)).length>1?function(e){return t.reduce(function(e,t){return e[t]},e)}:function(t){return t[e]})},l.$=l.accessor,l.mutator=function(e){var t;return l.isString(e)&&(t=l.field(e)).length>1?function(e,n){for(var r=0;r<t.length-1;++r)e=e[t[r]];e[t[r]]=n}:function(t,n){t[e]=n}},l.$func=function(e,t){return function(n){n=l.$(n)||l.identity;var r=e+(l.name(n)?"_"+l.name(n):"");return l.namedfunc(r,function(e){return t(n(e))})}},l.$valid=l.$func("valid",l.isValid),l.$length=l.$func("length",l.length),l.$in=function(e,t){e=l.$(e);var n=l.isArray(t)?l.toMap(t):t;return function(t){return!!n[e(t)]}},l.$year=l.$func("year",s.year.unit),l.$month=l.$func("month",s.months.unit),l.$date=l.$func("date",s.dates.unit),l.$day=l.$func("day",s.weekdays.unit),l.$hour=l.$func("hour",s.hours.unit),l.$minute=l.$func("minute",s.minutes.unit),l.$second=l.$func("second",s.seconds.unit),l.$utcYear=l.$func("utcYear",u.year.unit),l.$utcMonth=l.$func("utcMonth",u.months.unit),l.$utcDate=l.$func("utcDate",u.dates.unit),l.$utcDay=l.$func("utcDay",u.weekdays.unit),l.$utcHour=l.$func("utcHour",u.hours.unit),l.$utcMinute=l.$func("utcMinute",u.minutes.unit),l.$utcSecond=l.$func("utcSecond",u.seconds.unit),l.comparator=function(e){var t=[];return void 0===e&&(e=[]),e=l.array(e).map(function(e){var n=1;return"-"===e[0]?(n=-1,e=e.slice(1)):"+"===e[0]&&(n=1,e=e.slice(1)),t.push(n),l.accessor(e)}),function(n,r){var i,o,a,s,u;for(i=0,o=e.length;o>i;++i){if(a=e[i],s=a(n),u=a(r),u>s)return-1*t[i];if(s>u)return t[i]}return 0}},l.cmp=function(e,t){return t>e?-1:e>t?1:e>=t?0:null===e?-1:null===t?1:0/0},l.numcmp=function(e,t){return e-t},l.stablesort=function(e,t,n){var r=e.reduce(function(e,t,r){return e[n(t)]=r,e},{});return e.sort(function(e,i){var o=t(e),a=t(i);return a>o?-1:o>a?1:r[n(e)]-r[n(i)]}),e},l.pad=function(e,t,n,r){r=r||" ";var o=t-e.length;if(0>=o)return e;switch(n){case"left":return i(o,r)+e;case"middle":case"center":return i(Math.floor(o/2),r)+e+i(Math.ceil(o/2),r);default:return e+i(o,r)}},l.truncate=function(e,t,n,r,i){var a=e.length;if(t>=a)return e;i=void 0!==i?String(i):"…";var s=Math.max(0,t-i.length);switch(n){case"left":return i+(r?o(e,s,1):e.slice(a-s));case"middle":case"center":var u=Math.ceil(s/2),l=Math.floor(s/2);return(r?o(e,u):e.slice(0,u))+i+(r?o(e,l,1):e.slice(a-l));

default:return(r?o(e,s):e.slice(0,s))+i}};var d=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/},{"./time":26,buffer:1}]},{},[22])(22)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.vl=e()}}(function(){var e;return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){},{}],2:[function(t,n,r){
// JavaScript specs as packaged in the D3 library (d3js.org). Please see license at http://colorbrewer.org/export/LICENSE.txt
!function(){var t={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};"function"==typeof e&&e.amd?e(t):"object"==typeof n&&n.exports?n.exports=t:this.colorbrewer=t}()},{}],3:[function(e,t,n){t.exports=e("./colorbrewer.js")},{"./colorbrewer.js":2}],4:[function(t,n,r){"undefined"==typeof Map&&(Map=function(){},Map.prototype={set:function(e,t){return this["$"+e]=t,this},get:function(e){return this["$"+e]},has:function(e){return"$"+e in this}}),function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.color={})}(this,function(e){"use strict";function t(){}function n(e,t,n){this.r=Math.max(0,Math.min(255,Math.round(e))),this.g=Math.max(0,Math.min(255,Math.round(t))),this.b=Math.max(0,Math.min(255,Math.round(n)))}function r(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),isNaN(n)&&(n=0),"#"+(16>e?"0"+e.toString(16):e.toString(16))+(16>t?"0"+t.toString(16):t.toString(16))+(16>n?"0"+n.toString(16):n.toString(16))}function i(e){return y(e>>16&255,e>>8&255,255&e)}function o(e,t,n){this.h=+e,this.s=Math.max(0,Math.min(1,+t)),this.l=Math.max(0,Math.min(1,+n))}function a(e,t,n){return 255*(60>e?t+(n-t)*e/60:180>e?n:240>e?t+(n-t)*(240-e)/60:t)}function s(e,t,n){this.l=+e,this.a=+t,this.b=+n}function u(e){return 255*(.0031308>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function l(e){return e>N?e*e*e:L*(e-D)}function c(e){return e>P?Math.pow(e,1/3):e/L+D}function f(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function h(e,t,n){this.h=+e,this.c=+t,this.l=+n}function d(e,t,n){this.h=+e,this.s=+t,this.l=+n}t.prototype={toString:function(){return this.rgb()+""}};var p=(new Map).set("aliceblue",15792383).set("antiquewhite",16444375).set("aqua",65535).set("aquamarine",8388564).set("azure",15794175).set("beige",16119260).set("bisque",16770244).set("black",0).set("blanchedalmond",16772045).set("blue",255).set("blueviolet",9055202).set("brown",10824234).set("burlywood",14596231).set("cadetblue",6266528).set("chartreuse",8388352).set("chocolate",13789470).set("coral",16744272).set("cornflowerblue",6591981).set("cornsilk",16775388).set("crimson",14423100).set("cyan",65535).set("darkblue",139).set("darkcyan",35723).set("darkgoldenrod",12092939).set("darkgray",11119017).set("darkgreen",25600).set("darkgrey",11119017).set("darkkhaki",12433259).set("darkmagenta",9109643).set("darkolivegreen",5597999).set("darkorange",16747520).set("darkorchid",10040012).set("darkred",9109504).set("darksalmon",15308410).set("darkseagreen",9419919).set("darkslateblue",4734347).set("darkslategray",3100495).set("darkslategrey",3100495).set("darkturquoise",52945).set("darkviolet",9699539).set("deeppink",16716947).set("deepskyblue",49151).set("dimgray",6908265).set("dimgrey",6908265).set("dodgerblue",2003199).set("firebrick",11674146).set("floralwhite",16775920).set("forestgreen",2263842).set("fuchsia",16711935).set("gainsboro",14474460).set("ghostwhite",16316671).set("gold",16766720).set("goldenrod",14329120).set("gray",8421504).set("green",32768).set("greenyellow",11403055).set("grey",8421504).set("honeydew",15794160).set("hotpink",16738740).set("indianred",13458524).set("indigo",4915330).set("ivory",16777200).set("khaki",15787660).set("lavender",15132410).set("lavenderblush",16773365).set("lawngreen",8190976).set("lemonchiffon",16775885).set("lightblue",11393254).set("lightcoral",15761536).set("lightcyan",14745599).set("lightgoldenrodyellow",16448210).set("lightgray",13882323).set("lightgreen",9498256).set("lightgrey",13882323).set("lightpink",16758465).set("lightsalmon",16752762).set("lightseagreen",2142890).set("lightskyblue",8900346).set("lightslategray",7833753).set("lightslategrey",7833753).set("lightsteelblue",11584734).set("lightyellow",16777184).set("lime",65280).set("limegreen",3329330).set("linen",16445670).set("magenta",16711935).set("maroon",8388608).set("mediumaquamarine",6737322).set("mediumblue",205).set("mediumorchid",12211667).set("mediumpurple",9662683).set("mediumseagreen",3978097).set("mediumslateblue",8087790).set("mediumspringgreen",64154).set("mediumturquoise",4772300).set("mediumvioletred",13047173).set("midnightblue",1644912).set("mintcream",16121850).set("mistyrose",16770273).set("moccasin",16770229).set("navajowhite",16768685).set("navy",128).set("oldlace",16643558).set("olive",8421376).set("olivedrab",7048739).set("orange",16753920).set("orangered",16729344).set("orchid",14315734).set("palegoldenrod",15657130).set("palegreen",10025880).set("paleturquoise",11529966).set("palevioletred",14381203).set("papayawhip",16773077).set("peachpuff",16767673).set("peru",13468991).set("pink",16761035).set("plum",14524637).set("powderblue",11591910).set("purple",8388736).set("rebeccapurple",6697881).set("red",16711680).set("rosybrown",12357519).set("royalblue",4286945).set("saddlebrown",9127187).set("salmon",16416882).set("sandybrown",16032864).set("seagreen",3050327).set("seashell",16774638).set("sienna",10506797).set("silver",12632256).set("skyblue",8900331).set("slateblue",6970061).set("slategray",7372944).set("slategrey",7372944).set("snow",16775930).set("springgreen",65407).set("steelblue",4620980).set("tan",13808780).set("teal",32896).set("thistle",14204888).set("tomato",16737095).set("turquoise",4251856).set("violet",15631086).set("wheat",16113331).set("white",16777215).set("whitesmoke",16119285).set("yellow",16776960).set("yellowgreen",10145074),g=n.prototype=new t,m=.7;g.darker=function(e){return e=null==e?m:Math.pow(m,e),new n(this.r*e,this.g*e,this.b*e)};var v=1/m;g.brighter=function(e){return e=null==e?v:Math.pow(v,e),new n(this.r*e,this.g*e,this.b*e)},g.rgb=function(){return this},g.toString=function(){return r(this.r,this.g,this.b)};var y=function(e,r,i){return 1===arguments.length&&(e instanceof t||(e=C(e)),e?(e=e.rgb(),i=e.b,r=e.g,e=e.r):e=r=i=0/0),new n(e,r,i)},b=o.prototype=new t;b.brighter=function(e){return e=null==e?v:Math.pow(v,e),new o(this.h,this.s,this.l*e)},b.darker=function(e){return e=null==e?m:Math.pow(m,e),new o(this.h,this.s,this.l*e)},b.rgb=function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=.5>=r?r*(1+t):r+t-r*t,o=2*r-i;return new n(a(e>=240?e-240:e+120,o,i),a(e,o,i),a(120>e?e+240:e-120,o,i))};var x=function(e,n,r){if(1===arguments.length)if(e instanceof o)r=e.l,n=e.s,e=e.h;else if(e instanceof t||(e=C(e)),e){if(e instanceof o)return e;e=e.rgb();var i=e.r/255,a=e.g/255,s=e.b/255,u=Math.min(i,a,s),l=Math.max(i,a,s),c=l-u;r=(l+u)/2,c?(n=.5>r?c/(l+u):c/(2-l-u),e=i===l?(a-s)/c+6*(s>a):a===l?(s-i)/c+2:(i-a)/c+4,e*=60):(e=0/0,n=r>0&&1>r?0:e)}else e=n=r=0/0;return new o(e,n,r)},w=/^#([0-9a-f]{3})$/,$=/^#([0-9a-f]{6})$/,k=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,_=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,S=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,C=function(e){var t;return e=(e+"").trim().toLowerCase(),(t=w.exec(e))?(t=parseInt(t[1],16),y(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t)):(t=$.exec(e))?i(parseInt(t[1],16)):(t=k.exec(e))?y(t[1],t[2],t[3]):(t=_.exec(e))?y(2.55*t[1],2.55*t[2],2.55*t[3]):(t=S.exec(e))?x(t[1],.01*t[2],.01*t[3]):p.has(e)?i(p.get(e)):null};C.prototype=t.prototype,y.prototype=n.prototype,x.prototype=o.prototype;var E=s.prototype=new t,M=18;E.brighter=function(e){return new s(this.l+M*(null==e?1:e),this.a,this.b)},E.darker=function(e){return new s(this.l-M*(null==e?1:e),this.a,this.b)};var T=.95047,A=1,O=1.08883,D=4/29,N=6/29,L=3*N*N,P=N*N*N;E.rgb=function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return e=A*l(e),t=T*l(t),r=O*l(r),new n(u(3.2404542*t-1.5371385*e-.4985314*r),u(-.969266*t+1.8760108*e+.041556*r),u(.0556434*t-.2040259*e+1.0572252*r))};var I=Math.PI/180,R=h.prototype=new t;R.brighter=function(e){return new h(this.h,this.c,this.l+M*(null==e?1:e))},R.darker=function(e){return new h(this.h,this.c,this.l-M*(null==e?1:e))},R.rgb=function(){return j(this).rgb()};var j=function(e,t,r){if(1===arguments.length)if(e instanceof s)r=e.b,t=e.a,e=e.l;else if(e instanceof h){var i=e.h*I;r=Math.sin(i)*e.c,t=Math.cos(i)*e.c,e=e.l}else{e instanceof n||(e=y(e));var o=f(e.r),a=f(e.g),r=f(e.b),u=c((.4124564*o+.3575761*a+.1804375*r)/T),l=c((.2126729*o+.7151522*a+.072175*r)/A),d=c((.0193339*o+.119192*a+.9503041*r)/O);r=200*(l-d),t=500*(u-l),e=116*l-16}return new s(e,t,r)};j.prototype=s.prototype;var F=180/Math.PI,U=function(e,t,n){return 1===arguments.length&&(e instanceof h?(n=e.l,t=e.c,e=e.h):(e instanceof s||(e=j(e)),n=e.l,t=Math.sqrt(e.a*e.a+e.b*e.b),e=Math.atan2(e.b,e.a)*F,0>e&&(e+=360))),new h(e,t,n)};U.prototype=h.prototype;var q=d.prototype=new t;q.brighter=function(e){return e=null==e?v:Math.pow(v,e),new d(this.h,this.s,this.l*e)},q.darker=function(e){return e=null==e?m:Math.pow(m,e),new d(this.h,this.s,this.l*e)};var z=1,H=-.14861,W=1.78277,B=-.29227,V=-.90649,Y=1.97294,X=Y*V,G=Y*W,K=W*B-V*H,Z=function(e,t,r){if(1===arguments.length)if(e instanceof d)r=e.l,t=e.s,e=e.h;else{e instanceof n||(e=y(e));var i=e.r/255,o=e.g/255,a=e.b/255;r=(K*a+X*i-G*o)/(K+X-G);var s=a-r,u=(Y*(o-r)-B*s)/V,l=Math.pow(r,z);t=Math.sqrt(u*u+s*s)/(Y*l*(1-l)),e=t?Math.atan2(u,s)*F-120:0/0,0>e&&(e+=360)}return new d(e,t,r)};q.rgb=function(){var e=isNaN(this.h)?0:(this.h+120)*I,t=Math.pow(this.l,z),r=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),o=Math.sin(e);return new n(255*(t+r*(H*i+W*o)),255*(t+r*(B*i+V*o)),255*(t+r*Y*i))},Z.prototype=d.prototype;var J=function(e,t){e=Z(e),t=Z(t);var n=isNaN(e.h)?t.h:e.h,r=isNaN(e.s)?t.s:e.s,i=e.l,o=isNaN(t.h)?0:t.h-n,a=isNaN(t.s)?0:t.s-r,s=t.l-i;return function(t){return e.h=n+o*t,e.s=r+a*t,e.l=i+s*t,e+""}},Q=function(e,t){var n=(e-t)%360;return n+(n>180?-360:-180>n?360:0)},ee=function(e,t){e=Z(e),t=Z(t);var n=isNaN(e.h)?t.h:e.h,r=isNaN(e.s)?t.s:e.s,i=e.l,o=isNaN(t.h)?0:Q(t.h,n),a=isNaN(t.s)?0:t.s-r,s=t.l-i;return function(t){return e.h=n+o*t,e.s=r+a*t,e.l=i+s*t,e+""}},te=function(e,t){e=U(e),t=U(t);var n=isNaN(e.h)?t.h:e.h,r=isNaN(e.c)?t.c:e.c,i=e.l,o=isNaN(t.h)?0:t.h-n,a=isNaN(t.c)?0:t.c-r,s=t.l-i;return function(t){return e.h=n+o*t,e.c=r+a*t,e.l=i+s*t,e+""}},ne=function(e,t){e=U(e),t=U(t);var n=isNaN(e.h)?t.h:e.h,r=isNaN(e.c)?t.c:e.c,i=e.l,o=isNaN(t.h)?0:Q(t.h,n),a=isNaN(t.c)?0:t.c-r,s=t.l-i;return function(t){return e.h=n+o*t,e.c=r+a*t,e.l=i+s*t,e+""}},re=function(e,t){e=j(e),t=j(t);var n=e.l,r=e.a,i=e.b,o=t.l-n,a=t.a-r,s=t.b-i;return function(t){return e.l=n+o*t,e.a=r+a*t,e.b=i+s*t,e+""}},ie=function(e,t){e=x(e),t=x(t);var n=isNaN(e.h)?t.h:e.h,r=isNaN(e.s)?t.s:e.s,i=e.l,o=isNaN(t.h)?0:t.h-n,a=isNaN(t.s)?0:t.s-r,s=t.l-i;return function(t){return e.h=n+o*t,e.s=r+a*t,e.l=i+s*t,e+""}},oe=function(e,t){e=x(e),t=x(t);var n=isNaN(e.h)?t.h:e.h,r=isNaN(e.s)?t.s:e.s,i=e.l,o=isNaN(t.h)?0:Q(t.h,n),a=isNaN(t.s)?0:t.s-r,s=t.l-i;return function(t){return e.h=n+o*t,e.s=r+a*t,e.l=i+s*t,e+""}},ae=function(e,t){e=y(e),t=y(t);var n=e.r,i=e.g,o=e.b,a=t.r-n,s=t.g-i,u=t.b-o;return function(e){return r(Math.round(n+a*e),Math.round(i+s*e),Math.round(o+u*e))}};e.color=C,e.rgb=y,e.hsl=x,e.lab=j,e.hcl=U,e.cubehelix=Z,e.interpolateRgb=ae,e.interpolateHsl=oe,e.interpolateHslLong=ie,e.interpolateLab=re,e.interpolateHcl=ne,e.interpolateHclLong=te,e.interpolateCubehelix=ee,e.interpolateCubehelixLong=J})},{}],5:[function(t,n,r){!function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.format={})}(this,function(e){"use strict";function t(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function n(e){return e=t(Math.abs(e)),e?e[1]:0/0}function r(e,n){var r=t(e,n);if(!r)return e+"";var i=r[0],o=r[1],a=o-(p=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+t(e,n+a-1)[0]}function i(e,n){var r=t(e,n);if(!r)return e+"";var i=r[0],o=r[1];return 0>o?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}function o(e,t){e=e.toPrecision(t);e:for(var n,r=e.length,i=1,o=-1;r>i;++i)switch(e[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break e;default:o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(n+1):e}function a(e){if(!(t=v.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",o=t[4]||"",a=!!t[5],s=t[6]&&+t[6],u=!!t[7],l=t[8]&&+t[8].slice(1),c=t[9]||"";"n"===c?(u=!0,c="g"):m[c]||(c=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=l,this.type=c}function s(e){return new a(e)}function u(e){return e}function l(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function c(e){function t(e){e=s(e);var t=e.fill,n=e.align,r=e.sign,u=e.symbol,l=e.zero,c=e.width,f=e.comma,h=e.precision,d=e.type,v="$"===u?o[0]:"#"===u&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",y="$"===u?o[1]:/[%p]/.test(d)?"%":"",b=m[d],x=!d||/[defgprs%]/.test(d);return h=null==h?d?6:12:/[gprs]/.test(d)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),function(e){var o=v,s=y;if("c"===d)s=b(e)+s,e="";else{e=+e;var u=(0>e||0>1/e)&&(e*=-1,!0);if(e=b(e,h),o=(u?"("===r?r:"-":"-"===r||"("===r?"":r)+o,s=s+("s"===d?g[8+p/3]:"")+(u&&"("===r?")":""),x)for(var m,w=-1,$=e.length;++w<$;)if(m=e.charCodeAt(w),48>m||m>57){s=(46===m?a+e.slice(w+1):e.slice(w))+s,e=e.slice(0,w);break}}f&&!l&&(e=i(e,1/0));var k=o.length+e.length+s.length,_=c>k?new Array(c-k+1).join(t):"";switch(f&&l&&(e=i(_+e,_.length?c-s.length:1/0),_=""),n){case"<":
return o+e+s+_;case"=":return o+_+e+s;case"^":return _.slice(0,k=_.length>>1)+o+e+s+_.slice(k)}return _+o+e+s}}function r(e,r){var i=t((e=s(e),e.type="f",e)),o=3*Math.max(-8,Math.min(8,Math.floor(n(r)/3))),a=Math.pow(10,-o),u=g[8+o/3];return function(e){return i(a*e)+u}}var i=e.grouping&&e.thousands?l(e.grouping,e.thousands):u,o=e.currency,a=e.decimal;return{format:t,formatPrefix:r}}function f(e,t){return Math.max(0,n(Math.abs(t))-n(Math.abs(e)))+1}function h(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(t)/3)))-n(Math.abs(e)))}function d(e){return Math.max(0,-n(Math.abs(e)))}var p,g=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],m={"":o,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return i(100*e,t)},r:i,s:r,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},v=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var y=c({decimal:".",thousands:",",grouping:[3],currency:["$",""]});e.format=y.format,e.formatPrefix=y.formatPrefix,e.formatSpecifier=s,e.localeFormat=c,e.precisionFixed=d,e.precisionPrefix=h,e.precisionRound=f})},{}],6:[function(t,n,r){"undefined"==typeof Map?(Map=function(){this.clear()},Map.prototype={set:function(e,t){return this._[e]=t,this},get:function(e){return this._[e]},has:function(e){return e in this._},"delete":function(e){return e in this._&&delete this._[e]},clear:function(){this._=Object.create(null)},get size(){var e=0;for(var t in this._)++e;return e},forEach:function(e){for(var t in this._)e(this._[t],t,this)}}):function(){var e=new Map;e.set(0,0)!==e&&(e=e.set,Map.prototype.set=function(){return e.apply(this,arguments),this})}(),function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.timeFormat={})}(this,function(e){"use strict";function t(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function n(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function i(e,t,n){var r=re.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function o(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function a(e,t,n){var r=ie.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function s(e,t,n){var r=ie.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function u(e,t,n){var r=ie.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function l(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function c(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function f(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function h(e,t,n){var r=ie.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function d(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function p(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function g(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function m(e,t,n){var r=ie.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function v(e,t,n){var r=ie.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function y(){return"%"}function b(){return"+0000"}function x(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(t)+i:i)}function w(e,t){return x(e.getUTCFullYear()%1e4,t,4)}function $(e,t){return x(e.getUTCFullYear()%100,t,2)}function k(e,t,n){function r(t){return e(t=new Date(+t)),t}return r.floor=r,r.round=function(n){var r=new Date(+n),i=new Date(n-1);return e(r),e(i),t(i,1),i-n>n-r?r:i},r.ceil=function(n){return e(n=new Date(n-1)),t(n,1),n},r.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},r.range=function(n,r,i){var o=[];if(n=new Date(n-1),r=new Date(+r),i=null==i?1:Math.floor(i),!(r>n&&i>0))return o;for(t(n,1),e(n),r>n&&o.push(new Date(+n));t(n,i),e(n),r>n;)o.push(new Date(+n));return o},r.filter=function(n){return k(function(t){for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(r.count=function(t,r){return ae.setTime(+t),oe.setTime(+r),e(ae),e(oe),Math.floor(n(ae,oe))}),r}function _(e){return k(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}function S(e,t){return x(ue.count(se(e),e),t,2)}function C(e){return e.getUTCDay()}function E(e,t){return x(le.count(se(e),e),t,2)}function M(e,t){return x(e.getUTCSeconds(),t,2)}function T(e,t){return x(e.getUTCMinutes(),t,2)}function A(e,t){return x(e.getUTCMonth()+1,t,2)}function O(e,t){return x(e.getUTCMilliseconds(),t,3)}function D(e,t){return x(1+ce.count(se(e),e),t,3)}function N(e,t){return x(e.getUTCHours()%12||12,t,2)}function L(e,t){return x(e.getUTCHours(),t,2)}function P(e,t){return x(e.getUTCDate(),t,2)}function I(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+x(t/60|0,"0",2)+x(t%60,"0",2)}function R(e,t){return x(e.getFullYear()%1e4,t,4)}function j(e,t){return x(e.getFullYear()%100,t,2)}function F(e){return k(function(t){t.setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()+7-e)%7)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}function U(e,t){return x(he.count(fe(e),e),t,2)}function q(e){return e.getDay()}function z(e,t){return x(de.count(fe(e),e),t,2)}function H(e,t){return x(e.getSeconds(),t,2)}function W(e,t){return x(e.getMinutes(),t,2)}function B(e,t){return x(e.getMonth()+1,t,2)}function V(e,t){return x(e.getMilliseconds(),t,3)}function Y(e,t){return x(1+pe.count(fe(e),e),t,3)}function X(e,t){return x(e.getHours()%12||12,t,2)}function G(e,t){return x(e.getHours(),t,2)}function K(e,t){return x(e.getDate(),t,2)}function Z(e){for(var t=new Map,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function J(e){return e.replace(ge,"\\$&")}function Q(e){return new RegExp("^(?:"+e.map(J).join("|")+")","i")}function ee(e){function x(e,t){return function(n){for(var r,i,o,a=[],s=-1,u=0,l=e.length;++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=ne[r=e.charAt(++s)])&&(r=e.charAt(++s)),(o=t[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join("")}}function k(e,n){return function(i){var o=r(1900),a=_(o,e,i,0);if(a!=i.length)return null;if("p"in o&&(o.H=o.H%12+12*o.p),"Z"in o){if("w"in o&&("W"in o||"U"in o)){var s=t(r(o.y)).getUTCDay();"W"in o&&(o.U=o.W,o.w=(o.w+6)%7,--s),o.m=0,o.d=o.w+7*o.U-(s+6)%7}return o.H+=o.Z/100|0,o.M+=o.Z%100,t(o)}if("w"in o&&("W"in o||"U"in o)){var s=n(r(o.y)).getDay();"W"in o&&(o.U=o.W,o.w=(o.w+6)%7,--s),o.m=0,o.d=o.w+7*o.U-(s+6)%7}return n(o)}}function _(e,t,n,r){for(var i,o,a=0,s=t.length,u=n.length;s>a;){if(r>=u)return-1;if(i=t.charCodeAt(a++),37===i){if(i=t.charAt(a++),o=Ie[i in ne?t.charAt(a++):i],!o||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function F(e,t,n){var r=Me.exec(t.slice(n));return r?(e.w=Te.get(r[0].toLowerCase()),n+r[0].length):-1}function J(e,t,n){var r=Ce.exec(t.slice(n));return r?(e.w=Ee.get(r[0].toLowerCase()),n+r[0].length):-1}function ee(e,t,n){var r=De.exec(t.slice(n));return r?(e.m=Ne.get(r[0].toLowerCase()),n+r[0].length):-1}function te(e,t,n){var r=Ae.exec(t.slice(n));return r?(e.m=Oe.get(r[0].toLowerCase()),n+r[0].length):-1}function re(e,t,n){return _(e,ve,t,n)}function ie(e,t,n){return _(e,ye,t,n)}function oe(e,t,n){return _(e,be,t,n)}function ae(e,t,n){var r=Se.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}function se(e){return $e[e.getDay()]}function ue(e){return we[e.getDay()]}function le(e){return _e[e.getMonth()]}function ce(e){return ke[e.getMonth()]}function fe(e){return xe[+(e.getHours()>=12)]}function he(e){return $e[e.getUTCDay()]}function de(e){return we[e.getUTCDay()]}function pe(e){return _e[e.getUTCMonth()]}function ge(e){return ke[e.getUTCMonth()]}function me(e){return xe[+(e.getUTCHours()>=12)]}var ve=e.dateTime,ye=e.date,be=e.time,xe=e.periods,we=e.days,$e=e.shortDays,ke=e.months,_e=e.shortMonths,Se=Z(xe),Ce=Q(we),Ee=Z(we),Me=Q($e),Te=Z($e),Ae=Q(ke),Oe=Z(ke),De=Q(_e),Ne=Z(_e),Le={a:se,A:ue,b:le,B:ce,c:null,d:K,e:K,H:G,I:X,j:Y,L:V,m:B,M:W,p:fe,S:H,U:z,w:q,W:U,x:null,X:null,y:j,Y:R,Z:I,"%":y},Pe={a:he,A:de,b:pe,B:ge,c:null,d:P,e:P,H:L,I:N,j:D,L:O,m:A,M:T,p:me,S:M,U:E,w:C,W:S,x:null,X:null,y:$,Y:w,Z:b,"%":y},Ie={a:F,A:J,b:ee,B:te,c:re,d:f,e:f,H:d,I:d,j:h,L:m,m:c,M:p,p:ae,S:g,U:s,w:a,W:u,x:ie,X:oe,y:l,Y:v,Z:o,"%":i};return Le.x=x(ye,Le),Le.X=x(be,Le),Le.c=x(ve,Le),Pe.x=x(ye,Pe),Pe.X=x(be,Pe),Pe.c=x(ve,Pe),{format:function(e){var t=x(e+="",Le);return t.parse=k(e,n),t.toString=function(){return e},t},utcFormat:function(e){var n=x(e+="",Pe);return n.parse=k(e,t),n.toString=function(){return e},n}}}function te(e){return e.toISOString()}var ne={"-":"",_:" ",0:"0"},re=/^%/,ie=/^\s*\d+/,oe=new Date,ae=new Date,se=k(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),ue=_(1),le=_(0),ce=k(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5}),fe=k(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()}),he=F(1),de=F(0),pe=k(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),ge=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,me=ee({dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});e.format=me.format,e.utcFormat=me.utcFormat;var ve="%Y-%m-%dT%H:%M:%S.%LZ";te.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},te.toString=function(){return ve};var ye=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?te:me.utcFormat(ve),be=ye;e.isoFormat=be,e.localeFormat=ee})},{}],7:[function(t,n,r){!function(t,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof e&&e.amd?e(["exports"],i):i(t.time={})}(this,function(e){"use strict";function t(e,n,r){function a(t){return e(t=new Date(+t)),t}return a.floor=a,a.round=function(t){var r=new Date(+t),i=new Date(t-1);return e(r),e(i),n(i,1),i-t>t-r?r:i},a.ceil=function(t){return e(t=new Date(t-1)),n(t,1),t},a.offset=function(e,t){return n(e=new Date(+e),null==t?1:Math.floor(t)),e},a.range=function(t,r,i){var o=[];if(t=new Date(t-1),r=new Date(+r),i=null==i?1:Math.floor(i),!(r>t&&i>0))return o;for(n(t,1),e(t),r>t&&o.push(new Date(+t));n(t,i),e(t),r>t;)o.push(new Date(+t));return o},a.filter=function(r){return t(function(t){for(;e(t),!r(t);)t.setTime(t-1)},function(e,t){for(;--t>=0;)for(;n(e,1),!r(e););})},r&&(a.count=function(t,n){return o.setTime(+t),i.setTime(+n),e(o),e(i),Math.floor(r(o,i))}),a}function n(e){return t(function(t){t.setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()+7-e)%7)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}function r(e){return t(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}var i=new Date,o=new Date,a=t(function(e){e.setMilliseconds(0)},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3});e.seconds=a.range;var s=t(function(e){e.setSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4});e.minutes=s.range;var u=t(function(e){e.setMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5});e.hours=u.range;var l=t(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5});e.days=l.range,e.sunday=n(0),e.sundays=e.sunday.range,e.monday=n(1),e.mondays=e.monday.range,e.tuesday=n(2),e.tuesdays=e.tuesday.range,e.wednesday=n(3),e.wednesdays=e.wednesday.range,e.thursday=n(4),e.thursdays=e.thursday.range,e.friday=n(5),e.fridays=e.friday.range,e.saturday=n(6),e.saturdays=e.saturday.range;var c=e.sunday;e.weeks=c.range;var f=t(function(e){e.setHours(0,0,0,0),e.setDate(1)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())});e.months=f.range;var h=t(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()});e.years=h.range;var d=t(function(e){e.setUTCMilliseconds(0)},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3});e.utcSeconds=d.range;var p=t(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4});e.utcMinutes=p.range;var g=t(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5});e.utcHours=g.range;var m=t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5});e.utcDays=m.range,e.utcSunday=r(0),e.utcSundays=e.utcSunday.range,e.utcMonday=r(1),e.utcMondays=e.utcMonday.range,e.utcTuesday=r(2),e.utcTuesdays=e.utcTuesday.range,e.utcWednesday=r(3),e.utcWednesdays=e.utcWednesday.range,e.utcThursday=r(4),e.utcThursdays=e.utcThursday.range,e.utcFriday=r(5),e.utcFridays=e.utcFriday.range,e.utcSaturday=r(6),e.utcSaturdays=e.utcSaturday.range;var v=e.utcSunday;e.utcWeeks=v.range;var y=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCDate(1)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())});e.utcMonths=y.range;var b=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()});e.utcYears=b.range,e.interval=t,e.second=a,e.minute=s,e.hour=u,e.day=l,e.week=c,e.month=f,e.year=h,e.utcSecond=d,e.utcMinute=p,e.utcHour=g,e.utcDay=m,e.utcWeek=v,e.utcMonth=y,e.utcYear=b})},{}],8:[function(e,t,n){function r(e){if(!e)throw Error("Missing binning options.");var t,n,r,s,u,l,c,f=e.maxbins||15,h=e.base||10,d=Math.log(h),p=e.div||[5,2],g=e.min,m=e.max,v=m-g;if(e.step)t=e.step;else if(e.steps)t=e.steps[Math.min(e.steps.length-1,i(e.steps,v/f,0,e.steps.length))];else{n=Math.ceil(Math.log(f)/d),r=e.minstep||0,t=Math.max(r,Math.pow(h,Math.round(Math.log(v)/d)-n));do t*=h;while(Math.ceil(v/t)>f);for(l=0;l<p.length;++l)u=t/p[l],u>=r&&f>=v/u&&(t=u)}return u=Math.log(t),s=u>=0?0:~~(-u/d)+1,c=Math.pow(h,-s-1),g=Math.min(g,Math.floor(g/t+c)*t),m=Math.ceil(m/t)*t,{start:g,stop:m,step:t,unit:{precision:s},value:o,index:a}}function i(e,t,n,r){for(;r>n;){var i=n+r>>>1;l.cmp(e[i],t)<0?n=i+1:r=i}return n}function o(e){return this.step*Math.floor(e/this.step+f)}function a(e){return Math.floor((e-this.start)/this.step+f)}function s(e){return this.unit.date(o.call(this,e))}function u(e){return a.call(this,this.unit.unit(e))}var l=e("../util"),c=e("../time"),f=1e-15;r.date=function(e){if(!e)throw Error("Missing date binning options.");var t=e.utc?c.utc:c,n=e.min,i=e.max,o=e.maxbins||20,a=e.minbins||4,l=+i-+n,f=e.unit?t[e.unit]:t.find(l,a,o),h=r({min:null!=f.min?f.min:f.unit(n),max:null!=f.max?f.max:f.unit(i),maxbins:o,minstep:f.minstep,steps:f.step});return h.unit=f,h.index=u,e.raw||(h.value=s),h},t.exports=r},{"../time":12,"../util":13}],9:[function(e,t,n){var r=t.exports={};r.repeat=function(e,t){var n,r=Array(t);for(n=0;t>n;++n)r[n]=e;return r},r.zeros=function(e){return r.repeat(0,e)},r.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("Infinite range");var r,i=[],o=-1;if(0>n)for(;(r=e+n*++o)>t;)i.push(r);else for(;(r=e+n*++o)<t;)i.push(r);return i},r.random={},r.random.uniform=function(e,t){void 0===t&&(t=void 0===e?1:e,e=0);var n=t-e,i=function(){return e+n*Math.random()};return i.samples=function(e){return r.zeros(e).map(i)},i},r.random.integer=function(e,t){void 0===t&&(t=e,e=0);var n=t-e,i=function(){return e+Math.floor(n*Math.random())};return i.samples=function(e){return r.zeros(e).map(i)},i},r.random.normal=function(e,t){e=e||0,t=t||1;var n,i=function(){var r,i,o=0,a=0;if(void 0!==n)return o=n,n=void 0,o;do o=2*Math.random()-1,a=2*Math.random()-1,r=o*o+a*a;while(0===r||r>1);return i=Math.sqrt(-2*Math.log(r)/r),n=e+a*i*t,e+o*i*t};return i.samples=function(e){return r.zeros(e).map(i)},i}},{}],10:[function(e,t,n){function r(e,t){return t?void(e[l]=t):e&&e[l]||null}function i(e,t){t=u.$(t);var n,r,i;if(e[l]&&(n=t(e[l]),u.isString(n)))return n;for(r=0,i=e.length;!u.isValid(n)&&i>r;++r)n=t?t(e[r]):e[r];return u.isDate(n)?"date":u.isNumber(n)?"number":u.isBoolean(n)?"boolean":u.isString(n)?"string":null}function o(e,t){return e.length?(t=t||u.keys(e[0]),t.reduce(function(t,n){return t[n]=i(e,n),t},{})):void 0}function a(e,t){t=u.$(t);var n,r,i,o=["boolean","integer","number","date"];for(n=0;n<e.length;++n){for(i=t?t(e[n]):e[n],r=0;r<o.length;++r)u.isValid(i)&&!f[o[r]](i)&&(o.splice(r,1),r-=1);if(0===o.length)return"string"}return o[0]}function s(e,t){return t=t||u.keys(e[0]),t.reduce(function(t,n){return t[n]=a(e,n),t},{})}var u=e("../util"),l="__types__",c={"boolean":u["boolean"],integer:u.number,number:u.number,date:u.date,string:function(e){return""===e?null:e}},f={"boolean":function(e){return"true"===e||"false"===e||u.isBoolean(e)},integer:function(e){return f.number(e)&&(e=+e)===~~e},number:function(e){return!isNaN(+e)&&!u.isDate(e)},date:function(e){return!isNaN(Date.parse(e))}};i.annotation=r,i.all=o,i.infer=a,i.inferAll=s,i.parsers=c,t.exports=i},{"../util":13}],11:[function(e,t,n){var r=e("./util"),i=e("./import/type"),o=e("./generate"),a={};a.unique=function(e,t,n){t=r.$(t),n=n||[];var i,o,a,s={};for(o=0,a=e.length;a>o;++o)i=t?t(e[o]):e[o],i in s||(s[i]=1,n.push(i));return n},a.count=function(e){return e&&e.length||0},a.count.valid=function(e,t){t=r.$(t);var n,i,o,a=0;for(i=0,o=e.length;o>i;++i)n=t?t(e[i]):e[i],r.isValid(n)&&(a+=1);return a},a.count.missing=function(e,t){t=r.$(t);var n,i,o,a=0;for(i=0,o=e.length;o>i;++i)n=t?t(e[i]):e[i],null==n&&(a+=1);return a},a.count.distinct=function(e,t){t=r.$(t);var n,i,o,a={},s=0;for(i=0,o=e.length;o>i;++i)n=t?t(e[i]):e[i],n in a||(a[n]=1,s+=1);return s},a.count.map=function(e,t){t=r.$(t);var n,i,o,a={};for(i=0,o=e.length;o>i;++i)n=t?t(e[i]):e[i],a[n]=n in a?a[n]+1:1;return a},a.median=function(e,t){return t&&(e=e.map(r.$(t))),e=e.filter(r.isValid).sort(r.cmp),a.quantile(e,.5)},a.quartile=function(e,t){t&&(e=e.map(r.$(t))),e=e.filter(r.isValid).sort(r.cmp);var n=a.quantile;return[n(e,.25),n(e,.5),n(e,.75)]},a.quantile=function(e,t,n){void 0===n&&(n=t,t=r.identity),t=r.$(t);var i=(e.length-1)*n+1,o=Math.floor(i),a=+t(e[o-1]),s=i-o;return s?a+s*(t(e[o])-a):a},a.sum=function(e,t){t=r.$(t);for(var n,i=0,o=0,a=e.length;a>o;++o)n=t?t(e[o]):e[o],r.isValid(n)&&(i+=n);return i},a.mean=function(e,t){t=r.$(t);var n,i,o,a,s,u=0;for(i=0,a=0,o=e.length;o>i;++i)s=t?t(e[i]):e[i],r.isValid(s)&&(n=s-u,u+=n/++a);return u},a.variance=function(e,t){if(t=r.$(t),!r.isArray(e)||e.length<2)return 0;var n,i,o,a,s=0,u=0;for(i=0,o=0;i<e.length;++i)a=t?t(e[i]):e[i],r.isValid(a)&&(n=a-s,s+=n/++o,u+=n*(a-s));return u/=o-1},a.stdev=function(e,t){return Math.sqrt(a.variance(e,t))},a.modeskew=function(e,t){var n=a.mean(e,t),r=a.median(e,t),i=a.stdev(e,t);return 0===i?0:(n-r)/i},a.min=function(e,t){return a.extent(e,t)[0]},a.max=function(e,t){return a.extent(e,t)[1]},a.extent=function(e,t){t=r.$(t);var n,i,o,a,s=e.length;for(a=0;s>a;++a)if(o=t?t(e[a]):e[a],r.isValid(o)){n=i=o;break}for(;s>a;++a)o=t?t(e[a]):e[a],r.isValid(o)&&(n>o&&(n=o),o>i&&(i=o));return[n,i]},a.extent.index=function(e,t){t=r.$(t);var n,i,o,a,s=-1,u=-1,l=e.length;for(a=0;l>a;++a)if(o=t?t(e[a]):e[a],r.isValid(o)){n=i=o,s=u=a;break}for(;l>a;++a)o=t?t(e[a]):e[a],r.isValid(o)&&(n>o&&(n=o,s=a),o>i&&(i=o,u=a));return[s,u]},a.dot=function(e,t,n){var i,o,a=0;if(n)for(t=r.$(t),n=r.$(n),i=0;i<e.length;++i)o=t(e[i])*n(e[i]),o===o&&(a+=o);else{if(e.length!==t.length)throw Error("Array lengths must match.");for(i=0;i<e.length;++i)o=e[i]*t[i],o===o&&(a+=o)}return a},a.rank=function(e,t){t=r.$(t)||r.identity;var n,i,o,a=e.map(function(e,n){return{idx:n,val:t(e)}}).sort(r.comparator("val")),s=e.length,u=Array(s),l=-1,c={};for(n=0;s>n;++n){if(i=a[n].val,0>l&&c===i)l=n-1;else if(l>-1&&c!==i){for(o=1+(n-1+l)/2;n>l;++l)u[a[l].idx]=o;l=-1}u[a[n].idx]=n+1,c=i}if(l>-1)for(o=1+(s-1+l)/2;s>l;++l)u[a[l].idx]=o;return u},a.cor=function(e,t,n){var i=n;n=i?e.map(r.$(n)):t,t=i?e.map(r.$(t)):e;var o=a.dot(t,n),s=a.mean(t),u=a.mean(n),l=a.stdev(t),c=a.stdev(n),f=e.length;return(o-f*s*u)/((f-1)*l*c)},a.cor.rank=function(e,t,n){var i,o,s,u=n?a.rank(e,r.$(t)):a.rank(e),l=n?a.rank(e,r.$(n)):a.rank(t),c=e.length;for(i=0,o=0;c>i;++i)s=u[i]-l[i],o+=s*s;return 1-6*o/(c*(c*c-1))},a.cor.dist=function(e,t,n){var i,o,s,u,l=n?e.map(r.$(t)):e,c=n?e.map(r.$(n)):t,f=a.dist.mat(l),h=a.dist.mat(c),d=f.length;for(i=0,o=0,s=0,u=0;d>i;++i)o+=f[i]*f[i],s+=h[i]*h[i],u+=f[i]*h[i];return Math.sqrt(u/Math.sqrt(o*s))},a.dist=function(e,t,n,i){var o,a,s=r.isFunction(n)||r.isString(n),u=e,l=s?e:t,c=s?i:n,f=2===c||null==c,h=e.length,d=0;for(s&&(t=r.$(t),n=r.$(n)),a=0;h>a;++a)o=s?t(u[a])-n(l[a]):u[a]-l[a],d+=f?o*o:Math.pow(Math.abs(o),c);return f?Math.sqrt(d):Math.pow(d,1/c)},a.dist.mat=function(e){var t,n,r,i=e.length,a=i*i,s=Array(a),u=o.zeros(i),l=0;for(n=0;i>n;++n)for(s[n*i+n]=0,r=n+1;i>r;++r)s[n*i+r]=t=Math.abs(e[n]-e[r]),s[r*i+n]=t,u[n]+=t,u[r]+=t;for(n=0;i>n;++n)l+=u[n],u[n]/=i;for(l/=a,n=0;i>n;++n)for(r=n;i>r;++r)s[n*i+r]+=l-u[n]-u[r],s[r*i+n]=s[n*i+r];return s},a.entropy=function(e,t){t=r.$(t);var n,i,o=0,a=0,s=e.length;for(n=0;s>n;++n)o+=t?t(e[n]):e[n];if(0===o)return 0;for(n=0;s>n;++n)i=(t?t(e[n]):e[n])/o,i&&(a+=i*Math.log(i));return-a/Math.LN2},a.mutual=function(e,t,n,i){var o,a,s,u=i?e.map(r.$(t)):e,l=i?e.map(r.$(n)):t,c=i?e.map(r.$(i)):n,f={},h={},d=c.length,p=0,g=0,m=0;for(s=0;d>s;++s)f[u[s]]=0,h[l[s]]=0;for(s=0;d>s;++s)f[u[s]]+=c[s],h[l[s]]+=c[s],p+=c[s];for(a=1/(p*Math.LN2),s=0;d>s;++s)0!==c[s]&&(o=p*c[s]/(f[u[s]]*h[l[s]]),g+=c[s]*a*Math.log(o),m+=c[s]*a*Math.log(c[s]/p));return[g,1+g/m]},a.mutual.info=function(e,t,n,r){return a.mutual(e,t,n,r)[0]},a.mutual.dist=function(e,t,n,r){return a.mutual(e,t,n,r)[1]},a.profile=function(e,t){var n,o,s,u,l,c=0,f=0,h=0,d=0,p=null,g=null,m=0,v=[],y={};for(s=0;s<e.length;++s)u=t?t(e[s]):e[s],y[u]=u in y?y[u]+1:(d+=1,1),null==u?++h:r.isValid(u)&&(l="string"==typeof u?u.length:u,(null===p||p>l)&&(p=l),(null===g||l>g)&&(g=l),n=l-c,c+=n/++f,m+=n*(l-c),v.push(l));return m/=f-1,o=Math.sqrt(m),v.sort(r.cmp),{type:i(e,t),unique:y,count:e.length,valid:f,missing:h,distinct:d,min:p,max:g,mean:c,stdev:o,median:u=a.quantile(v,.5),q1:a.quantile(v,.25),q3:a.quantile(v,.75),modeskew:0===o?0:(c-u)/o}},a.summary=function(e,t){t=t||r.keys(e[0]);var n=t.map(function(t){var n=a.profile(e,r.$(t));return n.field=t,n});return n.__summary__=!0,n},t.exports=a},{"./generate":9,"./import/type":10,"./util":13}],12:[function(e,t,n){function r(e){return l.setTime(+e),l}function i(e,t,n,r,i,o){var a={type:e,date:t,unit:n};return r?a.step=r:a.minstep=1,null!=i&&(a.min=i),null!=o&&(a.max=o),a}function o(e,t,n,r,o,a){return i(e,function(e){return t.offset(n,e)},function(e){return t.count(n,e)},r,o,a)}function a(e,t,n,r){var i,o,a,s=p[0];for(i=1,o=p.length;o>i;++i)if(s=p[i],t>s[0]){if(a=t/s[0],a>r)return e[p[i-1][1]];if(a>=n)return e[s[1]]}return e[p[o-1][1]]}function s(e){var t,n,r={};for(t=0,n=e.length;n>t;++t)r[e[t].type]=e[t];return r.find=function(t,n,r){return a(e,t,n,r)},r}var u=e("d3-time"),l=new Date,c=new Date(0,0,1).setFullYear(0),f=new Date(Date.UTC(0,0,1)).setUTCFullYear(0),h=[o("second",u.second,c),o("minute",u.minute,c),o("hour",u.hour,c),o("day",u.day,c,[1,7]),o("month",u.month,c,[1,3,6]),o("year",u.year,c),i("seconds",function(e){return new Date(1970,0,1,0,0,e)},function(e){return r(e).getSeconds()},null,0,59),i("minutes",function(e){return new Date(1970,0,1,0,e)},function(e){return r(e).getMinutes()},null,0,59),i("hours",function(e){return new Date(1970,0,1,e)},function(e){return r(e).getHours()},null,0,23),i("weekdays",function(e){return new Date(1970,0,4+e)},function(e){return r(e).getDay()},[1],0,6),i("dates",function(e){return new Date(1970,0,e)},function(e){return r(e).getDate()},[1],1,31),i("months",function(e){return new Date(1970,e%12,1)},function(e){return r(e).getMonth()},[1],0,11)],d=[o("second",u.utcSecond,f),o("minute",u.utcMinute,f),o("hour",u.utcHour,f),o("day",u.utcDay,f,[1,7]),o("month",u.utcMonth,f,[1,3,6]),o("year",u.utcYear,f),i("seconds",function(e){return new Date(Date.UTC(1970,0,1,0,0,e))},function(e){return r(e).getUTCSeconds()},null,0,59),i("minutes",function(e){return new Date(Date.UTC(1970,0,1,0,e))},function(e){return r(e).getUTCMinutes()},null,0,59),i("hours",function(e){return new Date(Date.UTC(1970,0,1,e))},function(e){return r(e).getUTCHours()},null,0,23),i("weekdays",function(e){return new Date(Date.UTC(1970,0,4+e))},function(e){return r(e).getUTCDay()},[1],0,6),i("dates",function(e){return new Date(Date.UTC(1970,0,e))},function(e){return r(e).getUTCDate()},[1],1,31),i("months",function(e){return new Date(Date.UTC(1970,e%12,1))},function(e){return r(e).getUTCMonth()},[1],0,11)],p=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]];t.exports=s(h),t.exports.utc=s(d)},{"d3-time":7}],13:[function(e,t,n){function r(e){return e.replace(h,"$1\\'")}function i(e,t){var n,r="";for(n=0;e>n;++n)r+=t;return r}function o(e,t,n){var r=0,i=e.split(d);return e=n?(i=i.reverse()).filter(function(e){return r+=e.length,t>=r}).reverse():i.filter(function(e){return r+=e.length,t>=r}),e.length?e.join("").trim():i[0].slice(0,t)}var a=e("buffer"),s=e("./time"),u=s.utc,l=t.exports={},c="__name__";l.namedfunc=function(e,t){return t[c]=e,t},l.name=function(e){return null==e?null:e[c]},l.identity=function(e){return e},l["true"]=l.namedfunc("true",function(){return!0}),l["false"]=l.namedfunc("false",function(){return!1}),l.duplicate=function(e){return JSON.parse(JSON.stringify(e))},l.equal=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},l.extend=function(e){for(var t,n,r=1,i=arguments.length;i>r;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e},l.length=function(e){return null!=e&&null!=e.length?e.length:null},l.keys=function(e){var t,n=[];for(t in e)n.push(t);return n},l.vals=function(e){var t,n=[];for(t in e)n.push(e[t]);return n},l.toMap=function(e,t){return(t=l.$(t))?e.reduce(function(e,n){return e[t(n)]=1,e},{}):e.reduce(function(e,t){return e[t]=1,e},{})},l.keystr=function(e){var t=e.length;if(!t)return"";for(var n=String(e[0]),r=1;t>r;++r)n+="|"+String(e[r]);return n};var f=Object.prototype.toString;l.isObject=function(e){return e===Object(e)},l.isFunction=function(e){return"[object Function]"===f.call(e)},l.isString=function(e){return"string"==typeof value||"[object String]"===f.call(e)},l.isArray=Array.isArray||function(e){return"[object Array]"===f.call(e)},l.isNumber=function(e){return"number"==typeof e||"[object Number]"===f.call(e)},l.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==f.call(e)},l.isDate=function(e){return"[object Date]"===f.call(e)},l.isValid=function(e){return null!=e&&e===e},l.isBuffer=a.Buffer&&a.Buffer.isBuffer||l["false"],l.number=function(e){return null==e||""===e?null:+e},l["boolean"]=function(e){return null==e||""===e?null:"false"===e?!1:!!e},l.date=function(e){return null==e||""===e?null:Date.parse(e)},l.array=function(e){return null!=e?l.isArray(e)?e:[e]:[]},l.str=function(e){return l.isArray(e)?"["+e.map(l.str)+"]":l.isObject(e)?JSON.stringify(e):l.isString(e)?"'"+r(e)+"'":e};var h=/(^|[^\\])'/g;l.field=function(e){return String(e).split("\\.").map(function(e){return e.split(".")}).reduce(function(e,t){return e.length&&(e[e.length-1]+="."+t.shift()),e.push.apply(e,t),e},[])},l.accessor=function(e){var t;return null==e||l.isFunction(e)?e:l.namedfunc(e,(t=l.field(e)).length>1?function(e){return t.reduce(function(e,t){return e[t]},e)}:function(t){return t[e]})},l.$=l.accessor,l.mutator=function(e){var t;return l.isString(e)&&(t=l.field(e)).length>1?function(e,n){for(var r=0;r<t.length-1;++r)e=e[t[r]];e[t[r]]=n}:function(t,n){t[e]=n}},l.$func=function(e,t){return function(n){n=l.$(n)||l.identity;var r=e+(l.name(n)?"_"+l.name(n):"");return l.namedfunc(r,function(e){return t(n(e))})}},l.$valid=l.$func("valid",l.isValid),l.$length=l.$func("length",l.length),l.$in=function(e,t){e=l.$(e);var n=l.isArray(t)?l.toMap(t):t;return function(t){return!!n[e(t)]}},l.$year=l.$func("year",s.year.unit),l.$month=l.$func("month",s.months.unit),l.$date=l.$func("date",s.dates.unit),l.$day=l.$func("day",s.weekdays.unit),l.$hour=l.$func("hour",s.hours.unit),l.$minute=l.$func("minute",s.minutes.unit),l.$second=l.$func("second",s.seconds.unit),l.$utcYear=l.$func("utcYear",u.year.unit),l.$utcMonth=l.$func("utcMonth",u.months.unit),l.$utcDate=l.$func("utcDate",u.dates.unit),l.$utcDay=l.$func("utcDay",u.weekdays.unit),l.$utcHour=l.$func("utcHour",u.hours.unit),l.$utcMinute=l.$func("utcMinute",u.minutes.unit),l.$utcSecond=l.$func("utcSecond",u.seconds.unit),l.comparator=function(e){var t=[];return void 0===e&&(e=[]),e=l.array(e).map(function(e){var n=1;return"-"===e[0]?(n=-1,e=e.slice(1)):"+"===e[0]&&(n=1,e=e.slice(1)),t.push(n),l.accessor(e)}),function(n,r){var i,o,a,s,u;for(i=0,o=e.length;o>i;++i){if(a=e[i],s=a(n),u=a(r),u>s)return-1*t[i];if(s>u)return t[i]}return 0}},l.cmp=function(e,t){return t>e?-1:e>t?1:e>=t?0:null===e?-1:null===t?1:0/0},l.numcmp=function(e,t){return e-t},l.stablesort=function(e,t,n){var r=e.reduce(function(e,t,r){return e[n(t)]=r,e},{});return e.sort(function(e,i){var o=t(e),a=t(i);return a>o?-1:o>a?1:r[n(e)]-r[n(i)]}),e},l.pad=function(e,t,n,r){r=r||" ";var o=t-e.length;if(0>=o)return e;switch(n){case"left":return i(o,r)+e;case"middle":case"center":return i(Math.floor(o/2),r)+e+i(Math.ceil(o/2),r);default:return e+i(o,r)}},l.truncate=function(e,t,n,r,i){var a=e.length;if(t>=a)return e;i=void 0!==i?String(i):"…";var s=Math.max(0,t-i.length);switch(n){case"left":return i+(r?o(e,s,1):e.slice(a-s));case"middle":case"center":var u=Math.ceil(s/2),l=Math.floor(s/2);return(r?o(e,u):e.slice(0,u))+i+(r?o(e,l,1):e.slice(a-l));default:return(r?o(e,s):e.slice(0,s))+i}};var d=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/},{"./time":12,buffer:1}],14:[function(e,t,n){"use strict";e("./globals");var r=e("./consts"),i=e("./util"),o=e("./field"),a=e("./enc"),s=e("./schema/schema");t.exports=function(){function e(e,t){
var n=s.instantiate(),r=s.util.merge(n,t||{},e);this._data=r.data,this._marktype=r.marktype,this._enc=r.encoding,this._config=r.config,this._filter=r.filter}var t=e.prototype;return e.fromShorthand=function(t,n,i,o){var s=r.shorthand,u=t.split(s.delim),l=u.shift().split(s.assign)[1].trim(),c=a.fromShorthand(u);return new e({data:n,marktype:l,encoding:c,config:i,filter:[]},o)},e.fromSpec=function(t,n){return new e(t,n)},t.toShorthand=function(){var e=r.shorthand;return"mark"+e.assign+this._marktype+e.delim+a.shorthand(this._enc)},e.shorthand=function(e){var t=r.shorthand;return"mark"+t.assign+e.marktype+t.delim+a.shorthand(e.encoding)},e.specFromShorthand=function(t,n,r,i){return e.fromShorthand(t,n,r).toSpec(i)},t.toSpec=function(e,t){var n,r=i.duplicate(this._enc);n={marktype:this._marktype,encoding:r,filter:this._filter},e||(n.config=i.duplicate(this._config)),t||(n.data=i.duplicate(this._data));var o=s.instantiate();return s.util.subtract(n,o)},t.marktype=function(){return this._marktype},t.is=function(e){return this._marktype===e},t.has=function(e){return void 0!==this._enc[e].name},t.field=function(e){return this._enc[e]},t.filter=function(){var e=[],t=this.fields(),n=this;return i.forEach(t,function(t,r){"*"!==r&&(n.config("filterNull").Q&&t.containsType[Q]||n.config("filterNull").T&&t.containsType[T]||n.config("filterNull").O&&t.containsType[O]||n.config("filterNull").N&&t.containsType[N])&&e.push({operands:[r],operator:"notNull"})}),e.concat(this._filter)},t.fieldRef=function(e,t){return t=t||{},t.data=!this._vega2&&t.data!==!1,o.fieldRef(this._enc[e],t)},t.fieldName=function(e){return this._enc[e].name},t.fields=function(){return a.fields(this._enc)},t.fieldTitle=function(e){if(o.isCount(this._enc[e]))return o.count.displayName;var t=this._enc[e].aggregate||this._enc[e].timeUnit||this._enc[e].bin&&"bin";return t?t.toUpperCase()+"("+this._enc[e].name+")":this._enc[e].name},t.scale=function(e){return this._enc[e].scale||{}},t.axis=function(e){return this._enc[e].axis||{}},t.bandSize=function(e,t){return t=t||e===Y&&this.has(ROW)&&this.has(Y)||e===X&&this.has(COL)&&this.has(X),this.field(e).band.size||this.config(t?"smallBandSize":"largeBandSize")},t.aggregate=function(e){return this._enc[e].aggregate},t.bin=function(e){var t=this._enc[e].bin;return t==={}?!1:t===!0?{maxbins:s.MAXBINS_DEFAULT}:t},t.value=function(e){return this._enc[e].value},t.numberFormat=function(e){var t=e.max>this.config("maxSmallNumber")?"largeNumberFormat":"smallNumberFormat";return this.config(t)},t.sort=function(t,n){var r=this._enc[t].sort,i=this._enc,a=o.isTypes;if((!r||0===r.length)&&e.toggleSort.support({encoding:this._enc},n,!0)&&this.config("toggleSort")===Q){var s=a(i.x,[N,O])?i.y:i.x;a(i[t],[N,O])&&(r=[{name:s.name,aggregate:s.aggregate,type:s.type,reverse:!0}])}return r},t.map=function(e){return a.map(this._enc,e)},t.reduce=function(e,t){return a.reduce(this._enc,e,t)},t.forEach=function(e){return a.forEach(this._enc,e)},t.type=function(e){return this.has(e)?this._enc[e].type:null},t.isType=function(e,t){var n=this.field(e);return n&&o.isType(n,t)},t.isTypes=function(e,t){var n=this.field(e);return n&&o.isTypes(n,t)},e.isOrdinalScale=function(e,t){return o.isOrdinalScale(e.field(t))},e.isDimension=function(e,t){return o.isDimension(e.field(t))},e.isMeasure=function(e,t){return o.isMeasure(e.field(t))},t.isOrdinalScale=function(t){return this.has(t)&&e.isOrdinalScale(this,t)},t.isDimension=function(t){return this.has(t)&&e.isDimension(this,t)},t.isMeasure=function(t){return this.has(t)&&e.isMeasure(this,t)},t.isAggregate=function(){return a.isAggregate(this._enc)},e.isAggregate=function(e){return a.isAggregate(e.encoding)},e.alwaysNoOcclusion=function(e){return a.isAggregate(e.encoding)},e.isStack=function(e){return("bar"===e.marktype||"area"===e.marktype)&&e.encoding.color},t.isStack=function(){return(this.is("bar")||this.is("area"))&&this.has("color")},t.cardinality=function(e,t){return o.cardinality(this.field(e),t,this.config("filterNull"))},t.isRaw=function(){return!this.isAggregate()},t.data=function(e){return e?this._data[e]:this._data},t.hasValues=function(){var e=this.data("values");return e&&e.length},t.config=function(e){return this._config[e]},e.transpose=function(e){var t=e.encoding,n=i.duplicate(e.encoding);return n.x=t.y,n.y=t.x,n.row=t.col,n.col=t.row,e.encoding=n,e},e.toggleSort=function(e){return e.config=e.config||{},e.config.toggleSort=e.config.toggleSort===Q?N:Q,e},e.toggleSort.direction=function(t){if(e.toggleSort.support(t)){var n=t.encoding;return n.x.type===N?"x":"y"}},e.toggleSort.mode=function(e){return e.config.toggleSort},e.toggleSort.support=function(t,n){var r=t.encoding,i=o.isTypes;return!a.has(r,ROW)&&!a.has(r,COL)&&a.has(r,X)&&a.has(r,Y)&&e.alwaysNoOcclusion(t,n)?i(r.x,[N,O])&&o.isMeasure(r.y)?"x":i(r.y,[N,O])&&o.isMeasure(r.x)?"y":!1:!1},e.toggleFilterNullO=function(e){return e.config=e.config||{},e.config.filterNull=e.config.filterNull||{T:!0,Q:!0},e.config.filterNull.O=!e.config.filterNull.O,e},e.toggleFilterNullO.support=function(e,t){var n=a.fields(e.encoding);for(var r in n){var i=n[r];if(i.containsType.O&&r in t&&t[r].nulls>0)return!0}return!1},e}()},{"./consts":32,"./enc":34,"./field":35,"./globals":36,"./schema/schema":37,"./util":39}],15:[function(e,t,n){"use strict";function r(e,t,n){n=n||{};var r={},o={},a={},s={};return t.forEach(function(e,n){e.aggregate?"count"===e.aggregate?o.count={op:"count",field:"*"}:o[e.aggregate+"|"+e.name]={op:e.aggregate,field:t.fieldRef(n,{nofn:!0})}:(r[e.name]=t.fieldRef(n),n==ROW||n==COL?s[e.name]=r[e.name]:n!==X&&n!==Y&&(a[e.name]=r[e.name]))}),r=i.vals(r),o=i.vals(o),o.length>0&&(e.transform||(e.transform=[]),e.transform.push({type:"aggregate",groupby:r,fields:o})),{details:i.vals(a),dims:r,facets:i.vals(s),aggregated:o.length>0}}e("../globals");var i=e("../util");t.exports=r},{"../globals":36,"../util":39}],16:[function(e,t,n){"use strict";e("../globals");var r=e("../util"),i=r.setter,o=r.getter,a=e("./time"),s=t.exports={};s.names=function(e){return r.keys(r.keys(e).reduce(function(t,n){var r=e[n].scale;return(r===X||r===Y)&&(t[e[n].scale]=1),t},{}))},s.defs=function(e,t,n,r,i){return e.reduce(function(e,o){return e.push(s.def(o,t,n,r,i)),e},[])},s.def=function(e,t,n,r,i){var o=e==COL,a=e==ROW,u=o?"x":a?"y":e,l={type:u,scale:e,properties:{},layer:t.field(e).axis.layer,orient:s.orient(e,t,r)};return l=s.labels.scale(l,t,e),l=s.labels.format(l,e,t,r),e==X&&(t.isDimension(X)||t.isType(X,T)?l=s.labels.rotate(l):l.ticks=t.field(e).axis.ticks),l.titleOffset=s.titleOffset(t,n,e),a&&(l.offset=s.titleOffset(t,n,Y)+20),l=s.grid(l,e,t,n),l=s.title(l,e,t,n,i),(a||o)&&(l=s.hideTicks(l)),l},s.orient=function(e,t,n){var r=t.field(e).axis.orient;return r?r:e===COL?"top":e===X&&t.has(Y)&&t.isOrdinalScale(Y)&&t.cardinality(Y,n)>30?"top":void 0},s.grid=function(e,t,n,r){var i=r.cellPadding,o=t==COL,a=t==ROW;return n.axis(t).grid&&(e.grid=!0,e.properties.grid=o?{x:{offset:r.cellWidth*(1+i/2),scale:"col"},y:{value:-r.cellHeight*(i/2)},stroke:{value:n.config("cellGridColor")},opacity:{value:n.config("cellGridOpacity")}}:a?{y:{offset:-r.cellHeight*(i/2),scale:"row"},x:{value:e.offset},x2:{offset:e.offset+.05*r.cellWidth,group:"mark.group.width",mult:1},stroke:{value:n.config("cellGridColor")},opacity:{value:n.config("cellGridOpacity")}}:{stroke:{value:n.config("gridColor")},opacity:{value:n.config("gridOpacity")}}),e},s.hideTicks=function(e){return e.properties.ticks={opacity:{value:0}},e.properties.majorTicks={opacity:{value:0}},e.properties.axis={opacity:{value:0}},e},s.title=function(e,t,n,i){var o=n.field(t).axis;if(o.title)e.title=o.title;else{var a,s=n.fieldTitle(t);o.titleMaxLength?a=o.titleMaxLength:t===X?a=i.cellWidth/n.config("characterWidth"):t===Y&&(a=i.cellHeight/n.config("characterWidth")),e.title=a?r.truncate(s,a):s}return t===ROW&&(e.properties.title={angle:{value:0},align:{value:"right"},baseline:{value:"middle"},dy:{value:-i.height/2-20}}),e},s.labels={},s.labels.scale=function(e,t,n){var r=t.field(n).timeUnit;return t.isType(n,T)&&r&&a.hasScale(r)&&i(e,["properties","labels","text","scale"],"time-"+r),e},s.labels.format=function(e,t,n,r){var o=r[n.field(t).name];if(n.axis(t).format)e.format=n.axis(t).format;else if(n.isType(t,Q)||"number"===o.type)e.format=n.numberFormat(o);else if(n.isType(t,T)){var a=n.field(t).timeUnit;a?"year"===a&&(e.format="d"):e.format=n.config("timeFormat")}else n.isTypes(t,[N,O])&&n.axis(t).maxLabelLength&&i(e,["properties","labels","text","template"],"{{data | truncate:"+n.axis(t).maxLabelLength+"}}");return e},s.labels.rotate=function(e){var t="top"===e.orient?"left":"right";return i(e,["properties","labels","angle","value"],270),i(e,["properties","labels","align","value"],t),i(e,["properties","labels","baseline","value"],"middle"),e},s.titleOffset=function(e,t,n){var r=e.axis(n).titleOffset;if(r)return r;switch(n){case ROW:return 0;case COL:return 35}return o(t,[n,"axisTitleOffset"])}},{"../globals":36,"../util":39,"./time":31}],17:[function(e,t,n){"use strict";function r(e,t,n){return n=n||{},e.transform||(e.transform=[]),t.forEach(function(n,r){t.bin(r)&&e.transform.push({type:"bin",field:t.fieldRef(r,{nofn:!0}),output:t.fieldRef(r),maxbins:t.bin(r).maxbins})}),e}e("../globals"),t.exports=r},{"../globals":36}],18:[function(e,t,n){"use strict";var r=t.exports=e("datalib/src/stats").summary;e("../globals");var i=t.exports={},o=e("../Encoding"),a=i.axis=e("./axis"),s=i.filter=e("./filter"),u=i.legend=e("./legend"),l=i.marks=e("./marks"),c=i.scale=e("./scale");i.aggregate=e("./aggregate"),i.bin=e("./bin"),i.facet=e("./facet"),i.group=e("./group"),i.layout=e("./layout"),i.sort=e("./sort"),i.stack=e("./stack"),i.style=e("./style"),i.subfacet=e("./subfacet"),i.template=e("./template"),i.time=e("./time"),i.compile=function(e,t,n){return i.compileEncoding(o.fromSpec(e,n),t)},i.shorthand=function(e,t,n,r){return i.compileEncoding(o.fromShorthand(e,n,r),t)},i.compileEncoding=function(e,t){!t&&e.hasValues()&&(t=r(e.data("values")).reduce(function(e,t){return e[t.field]=t,e},{}));var n=i.layout(e,t),o=i.template(e,n,t),f=o.data[0],h=o.data[1];f=s.addFilters(f,e),o=i.time(o,e),h=i.bin(h,e);for(var d=i.aggregate(h,e),p=i.sort(o.data,e,t),g=i.style(e,t),m=o.marks[0],v=l[e.marktype()],y=l.def(v,e,n,g,t),b=y[0],x=0;x<y.length;x++)m.marks.push(y[x]);var w=l[e.marktype()].line,$=d.details,k=$&&$.length>0,_=k&&i.stack(o.data,e,b,d.facets);if(k&&(_||w)&&i.subfacet(m,b,$,_,e),w){var S=e.isMeasure(X)&&e.isDimension(Y)?Y:X;b.from||(b.from={}),b.from.transform=[{type:"sort",by:"-"+e.fieldRef(S)}]}return e.has(ROW)||e.has(COL)?(o=i.facet(m,e,n,g,p,o,b,_,t),o.legends=u.defs(e)):(m.scales=c.defs(c.names(b.properties.update),e,n,t,g,p,{stack:_}),m.axes=a.defs(a.names(b.properties.update),e,n,t),m.legends=u.defs(e)),s.filterLessThanZero(h,e),o}},{"../Encoding":14,"../globals":36,"./aggregate":15,"./axis":16,"./bin":17,"./facet":19,"./filter":20,"./group":21,"./layout":22,"./legend":23,"./marks":24,"./scale":25,"./sort":26,"./stack":27,"./style":28,"./subfacet":29,"./template":30,"./time":31,"datalib/src/stats":11}],19:[function(e,t,n){"use strict";function r(e,t,n,r,u,l,c,f,h){var d,p,g=e.properties.enter,m=[],v=[],y=t.has(ROW),b=t.has(COL);g.fill={value:t.config("cellBackgroundColor")},e.from={data:e.marks[0].from.data};for(var x=0;x<e.marks.length;x++){var w=e.marks[x];w.from.transform?delete w.from.data:delete w.from}y?(t.isDimension(ROW)||i.error("Row encoding should be ordinal."),g.y={scale:ROW,field:"keys."+m.length},g.height={value:n.cellHeight},m.push(t.fieldRef(ROW)),b&&(d=i.duplicate(e.from),d.transform=d.transform||[],d.transform.unshift({type:"facet",keys:[t.fieldRef(COL)]})),p=a("x-axes",{axes:t.has(X)?o.defs(["x"],t,n,h):void 0,x:b?{scale:COL,field:"keys.0"}:{value:0},width:b&&{value:n.cellWidth},from:d}),l.marks.unshift(p),l.axes=l.axes||[],l.axes.push.apply(l.axes,o.defs(["row"],t,n,h))):t.has(X)&&v.push.apply(v,o.defs(["x"],t,n,h)),b?(t.isDimension(COL)||i.error("Col encoding should be ordinal."),g.x={scale:COL,field:"keys."+m.length},g.width={value:n.cellWidth},m.push(t.fieldRef(COL)),y&&(d=i.duplicate(e.from),d.transform=d.transform||[],d.transform.unshift({type:"facet",keys:[t.fieldRef(ROW)]})),p=a("y-axes",{axes:t.has(Y)?o.defs(["y"],t,n,h):void 0,y:y&&{scale:ROW,field:"keys.0"},x:y&&{value:0},height:y&&{value:n.cellHeight},from:d}),l.marks.unshift(p),l.axes=l.axes||[],l.axes.push.apply(l.axes,o.defs(["col"],t,n,h))):t.has(Y)&&v.push.apply(v,o.defs(["y"],t,n,h)),l.scales=(l.scales||[]).concat(s.defs(s.names(g).concat(s.names(c.properties.update)),t,n,h,r,u,{stack:f,facet:!0})),v.length>0&&(e.axes=v);var $=e.from.transform||(e.from.transform=[]);return $.unshift({type:"facet",keys:m}),l}e("../globals");var i=e("../util"),o=e("./axis"),a=e("./group").def,s=e("./scale");t.exports=r},{"../globals":36,"../util":39,"./axis":16,"./group":21,"./scale":25}],20:[function(e,t,n){"use strict";e("../globals");var r=t.exports={},i={">":!0,">=":!0,"=":!0,"!=":!0,"<":!0,"<=":!0};r.addFilters=function(e,t){var n=t.filter();e.transform||(e.transform=[]);for(var r=0,o=n.length;o>r;r++){var a=n[r],s="",u=a.operator,l=a.operands,c="d."+(t._vega2?"":"data.");if(i[u]){"="===u&&(u="==");var f=l[0],h=l[1];s=c+f+u+h}else if("notNull"===u)for(var d=0;d<l.length;d++)s+=c+l[d]+"!==null",d<l.length-1&&(s+=" && ");else console.warn("Unsupported operator: ",u);e.transform.push({type:"filter",test:s})}return e},r.filterLessThanZero=function(e,t){t.forEach(function(n,r){"log"===t.scale(r).type&&e.transform.push({type:"filter",test:"d."+t.fieldRef(r)+">0"})})}},{"../globals":36}],21:[function(e,t,n){"use strict";function r(e,t){return t=t||{},{_name:e||void 0,type:"group",from:t.from,properties:{enter:{x:t.x||void 0,y:t.y||void 0,width:t.width||{group:"width"},height:t.height||{group:"height"}}},scales:t.scales||void 0,axes:t.axes||void 0,marks:t.marks||[]}}t.exports={def:r}},{}],22:[function(e,t,n){"use strict";function r(e,t){var n=i(e,t);return n=s(e,t,n)}function i(e,t){var n,r,i=e.has(ROW),o=e.has(COL),a=e.has(X),s=e.has(Y),u=e.marktype(),l=a&&e.isDimension(X)?e.cardinality(X,t):1,c=s&&e.isDimension(Y)?e.cardinality(Y,t):1,f=l>e.config("largeBandMaxCardinality")||c>e.config("largeBandMaxCardinality"),h=e.config("cellPadding");n=a?e.isOrdinalScale(X)?(l+e.field(X).band.padding)*e.bandSize(X,f):o||i?e.field(COL).width:e.config("singleWidth"):u===TEXT?e.config("textCellWidth"):e.bandSize(X),r=s?e.isOrdinalScale(Y)?(c+e.field(Y).band.padding)*e.bandSize(Y,f):o||i?e.field(ROW).height:e.config("singleHeight"):e.bandSize(Y);var d=n,p=r;if(o){var g=e.cardinality(COL,t);d=n*((1+h)*(g-1)+1)}if(i){var m=e.cardinality(ROW,t);p=r*((1+h)*(m-1)+1)}return{cellWidth:n,cellHeight:r,cellPadding:h,width:d,height:p,x:{useSmallBand:f},y:{useSmallBand:f}}}function o(e,t,n){var r=e.numberFormat(t,n);return f.format(r)(n.max).length}function a(e,t,n){var r=e.field(n),i=t[r.name];return r.bin?o(e,n,i):e.isType(n,Q)?o(e,n,i):e.isType(n,T)?c.maxLength(e.field(n).timeUnit,e):e.isTypes(n,[N,O])?"number"===i.type?o(e,n,i):Math.min(i.max,e.axis(n).maxLabelLength||1/0):void 0}function s(e,t,n){return[X,Y].forEach(function(r){var i,o=r===X?20:22;e.isDimension(r)||e.isType(r,T)?i=a(e,t,r):(e.isType(r,Q)||"count"===e.aggregate(r))&&r===Y&&(i=a(e,t,r)),i?l(n,[r,"axisTitleOffset"],e.config("characterWidth")*i+o):l(n,[r,"axisTitleOffset"],3*e.config("characterWidth")+o)}),n}e("../globals");var u=e("../util"),l=u.setter,c=e("./time"),f=e("d3-format");t.exports=r},{"../globals":36,"../util":39,"./time":31,"d3-format":5}],23:[function(e,t,n){"use strict";e("../globals");var r=e("./time"),i=t.exports={};i.defs=function(e){var t=[];if(e.has(COLOR)&&e.field(COLOR).legend&&t.push(i.def(COLOR,e,{fill:COLOR,orient:"right"})),e.has(SIZE)&&e.field(SIZE).legend&&t.push(i.def(SIZE,e,{size:SIZE,orient:1===t.length?"left":"right"})),e.has(SHAPE)&&e.field(SHAPE).legend){if(2===t.length)return console.error("Vega-lite currently only supports two legends"),t;t.push(i.def(SHAPE,e,{shape:SHAPE,orient:1===t.length?"left":"right"}))}return t},i.def=function(e,t,n){var i=n,o=t.field(e).timeUnit;if(i.title=t.fieldTitle(e),t.isType(e,T)&&o&&r.hasScale(o)){var a=i.properties=i.properties||{},s=a.labels=a.labels||{},u=s.text=s.text||{};u.scale="time-"+o}return i}},{"../globals":36,"./time":31}],24:[function(e,t,n){"use strict";function r(e,t,n){var r={};return e.isMeasure(X)?(r.x={scale:X,field:e.fieldRef(X)},(!e.has(Y)||e.isDimension(Y))&&(r.x2={value:0})):e.has(X)?r.xc={scale:X,field:e.fieldRef(X)}:r.x={value:0,offset:e.config("singleBarOffset")},r.x2||(r.width=!e.has(X)||e.isOrdinalScale(X)?e.has(SIZE)?{scale:SIZE,field:e.fieldRef(SIZE)}:{value:e.bandSize(X,t.x.useSmallBand),offset:-1}:{value:2}),e.isMeasure(Y)?(r.y={scale:Y,field:e.fieldRef(Y)},r.y2={group:"height"}):(e.has(Y)?r.yc={scale:Y,field:e.fieldRef(Y)}:r.y2={group:"height",offset:-e.config("singleBarOffset")},r.height=e.has(SIZE)?{scale:SIZE,field:e.fieldRef(SIZE)}:{value:e.bandSize(Y,t.y.useSmallBand),offset:-1}),r.fill=e.has(COLOR)?{scale:COLOR,field:e.fieldRef(COLOR)}:{value:e.value(COLOR)},e.has(ALPHA)?r.opacity={scale:ALPHA,field:e.fieldRef(ALPHA)}:void 0!==e.value(ALPHA)&&(r.opacity={value:e.value(ALPHA)}),r}function i(e,t,n){var r={};return e.has(X)?r.x={scale:X,field:e.fieldRef(X)}:e.has(X)||(r.x={value:e.bandSize(X,t.x.useSmallBand)/2}),e.has(Y)?r.y={scale:Y,field:e.fieldRef(Y)}:e.has(Y)||(r.y={value:e.bandSize(Y,t.y.useSmallBand)/2}),e.has(SIZE)?r.size={scale:SIZE,field:e.fieldRef(SIZE)}:e.has(SIZE)||(r.size={value:e.value(SIZE)}),e.has(SHAPE)?r.shape={scale:SHAPE,field:e.fieldRef(SHAPE)}:e.has(SHAPE)||(r.shape={value:e.value(SHAPE)}),e.field(SHAPE).filled?e.has(COLOR)?r.fill={scale:COLOR,field:e.fieldRef(COLOR)}:e.has(COLOR)||(r.fill={value:e.value(COLOR)}):(e.has(COLOR)?r.stroke={scale:COLOR,field:e.fieldRef(COLOR)}:e.has(COLOR)||(r.stroke={value:e.value(COLOR)}),r.strokeWidth={value:e.config("strokeWidth")}),e.has(ALPHA)?r.opacity={scale:ALPHA,field:e.fieldRef(ALPHA)}:void 0!==e.value(ALPHA)?r.opacity={value:e.value(ALPHA)}:e.has(COLOR)||(r.opacity={value:n.opacity}),r}function o(e,t,n){var r={};return e.has(X)?r.x={scale:X,field:e.fieldRef(X)}:e.has(X)||(r.x={value:0}),e.has(Y)?r.y={scale:Y,field:e.fieldRef(Y)}:e.has(Y)||(r.y={group:"height"}),e.has(COLOR)?r.stroke={scale:COLOR,field:e.fieldRef(COLOR)}:e.has(COLOR)||(r.stroke={value:e.value(COLOR)}),e.has(ALPHA)?r.opacity={scale:ALPHA,field:e.fieldRef(ALPHA)}:void 0!==e.value(ALPHA)&&(r.opacity={value:e.value(ALPHA)}),r.strokeWidth={value:e.config("strokeWidth")},r}function a(e,t,n){var r={};return e.isMeasure(X)?(r.x={scale:X,field:e.fieldRef(X)},e.isDimension(Y)&&(r.x2={scale:X,value:0},r.orient={value:"horizontal"})):r.x=e.has(X)?{scale:X,field:e.fieldRef(X)}:{value:0},e.isMeasure(Y)?(r.y={scale:Y,field:e.fieldRef(Y)},r.y2={scale:Y,value:0}):r.y=e.has(Y)?{scale:Y,field:e.fieldRef(Y)}:{group:"height"},e.has(COLOR)?r.fill={scale:COLOR,field:e.fieldRef(COLOR)}:e.has(COLOR)||(r.fill={value:e.value(COLOR)}),e.has(ALPHA)?r.opacity={scale:ALPHA,field:e.fieldRef(ALPHA)}:void 0!==e.value(ALPHA)&&(r.opacity={value:e.value(ALPHA)}),r}function s(e,t,n){var r={};return e.has(X)?(r.x={scale:X,field:e.fieldRef(X)},e.isDimension(X)&&(r.x.offset=-e.bandSize(X,t.x.useSmallBand)/3)):e.has(X)||(r.x={value:0}),e.has(Y)?(r.y={scale:Y,field:e.fieldRef(Y)},e.isDimension(Y)&&(r.y.offset=-e.bandSize(Y,t.y.useSmallBand)/3)):e.has(Y)||(r.y={value:0}),r.width=!e.has(X)||e.isDimension(X)?{value:e.bandSize(X,t.y.useSmallBand)/1.5}:{value:1},r.height=!e.has(Y)||e.isDimension(Y)?{value:e.bandSize(Y,t.y.useSmallBand)/1.5}:{value:1},r.fill=e.has(COLOR)?{scale:COLOR,field:e.fieldRef(COLOR)}:{value:e.value(COLOR)},e.has(ALPHA)?r.opacity={scale:ALPHA,field:e.fieldRef(ALPHA)}:void 0!==e.value(ALPHA)?r.opacity={value:e.value(ALPHA)}:e.has(COLOR)||(r.opacity={value:n.opacity}),r}function u(e){return function(t,n,r){var i={};return t.has(X)?i.x={scale:X,field:t.fieldRef(X)}:t.has(X)||(i.x={value:t.bandSize(X,n.x.useSmallBand)/2}),t.has(Y)?i.y={scale:Y,field:t.fieldRef(Y)}:t.has(Y)||(i.y={value:t.bandSize(Y,n.y.useSmallBand)/2}),t.has(SIZE)?i.size={scale:SIZE,field:t.fieldRef(SIZE)}:t.has(X)||(i.size={value:t.value(SIZE)}),i.shape={value:e},t.has(COLOR)?i.fill={scale:COLOR,field:t.fieldRef(COLOR)}:t.has(COLOR)||(i.fill={value:t.value(COLOR)}),t.has(ALPHA)?i.opacity={scale:ALPHA,field:t.fieldRef(ALPHA)}:void 0!==t.value(ALPHA)?i.opacity={value:t.value(ALPHA)}:t.has(COLOR)||(i.opacity={value:r.opacity}),i}}function l(e,t,n,r){var i={},o=e.field(TEXT);if(e.has(X)?i.x={scale:X,field:e.fieldRef(X)}:e.has(X)||(i.x=e.has(TEXT)&&e.isType(TEXT,Q)?{value:t.cellWidth-5}:{value:e.bandSize(X,t.x.useSmallBand)/2}),e.has(Y)?i.y={scale:Y,field:e.fieldRef(Y)}:e.has(Y)||(i.y={value:e.bandSize(Y,t.y.useSmallBand)/2}),e.has(SIZE)?i.fontSize={scale:SIZE,field:e.fieldRef(SIZE)}:e.has(SIZE)||(i.fontSize={value:o.font.size}),i.fill={value:o.text.color},i.opacity=e.has(ALPHA)?{scale:ALPHA,field:e.fieldRef(ALPHA)}:void 0!==e.value(ALPHA)?{value:e.value(ALPHA)}:{value:n.opacity},e.has(TEXT))if(e.isType(TEXT,Q)){var a=r[e.fieldName(name)],s=o.format||e.numberFormat(a);i.text={template:"{{"+e.fieldRef(TEXT)+" | number:'"+s+"'}}"},i.align={value:o.align}}else i.text={field:e.fieldRef(TEXT)};else i.text={value:o.placeholder};return i.font={value:o.font.family},i.fontWeight={value:o.font.weight},i.fontStyle={value:o.font.style},i.baseline={value:o.baseline},i}e("../globals");var c=t.exports={};c.def=function(e,t,n,r,i){var o=[];if(t.marktype()===TEXT&&t.has(COLOR)){var a={x:{value:0},y:{value:0},x2:{value:n.cellWidth},y2:{value:n.cellHeight},fill:{scale:COLOR,field:t.fieldRef(COLOR)}};o.push({type:"rect",from:{data:TABLE},properties:{enter:a,update:a}})}var s=e.prop(t,n,r,i);return o.push({type:e.type,from:{data:TABLE},properties:{enter:s,update:s}}),o},c.bar={type:"rect",stack:!0,prop:r,requiredEncoding:["x","y"],supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1,alpha:1}},c.line={type:"line",line:!0,prop:o,requiredEncoding:["x","y"],supportedEncoding:{row:1,col:1,x:1,y:1,color:1,alpha:1,detail:1}},c.area={type:"area",stack:!0,line:!0,requiredEncoding:["x","y"],prop:a,supportedEncoding:{row:1,col:1,x:1,y:1,color:1,alpha:1}},c.tick={type:"rect",prop:s,supportedEncoding:{row:1,col:1,x:1,y:1,color:1,alpha:1,detail:1}},c.circle={type:"symbol",prop:u("circle"),supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1,alpha:1,detail:1}},c.square={type:"symbol",prop:u("square"),supportedEncoding:c.circle.supportedEncoding},c.point={type:"symbol",prop:i,supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1,alpha:1,shape:1,detail:1}},c.text={type:"text",prop:l,requiredEncoding:["text"],supportedEncoding:{row:1,col:1,size:1,color:1,alpha:1,text:1}}},{"../globals":36}],25:[function(e,t,n){"use strict";e("../globals");var r=e("../util"),i=e("./time"),o=e("colorbrewer"),a=e("d3-color").interpolateLab,s=e("../schema/schema"),u=t.exports={};u.names=function(e){return r.keys(r.keys(e).reduce(function(t,n){return e[n]&&e[n].scale&&(t[e[n].scale]=1),t},{}))},u.defs=function(e,t,n,r,i,o,a){return a=a||{},e.reduce(function(e,i){var s={name:i,type:u.type(i,t),domain:u.domain(i,t,r,o,a)};return s.sort=u.sort(s,t,i)||void 0,u.range(s,t,n,r,a),e.push(s),e},[])},u.sort=function(e,t,n){return"ordinal"===e.type&&(!!t.bin(n)||0===t.sort(n).length)},u.type=function(e,t){switch(t.type(e)){case N:case O:return"ordinal";case T:var n=t.field(e).timeUnit;return n?i.scale.type(n,e):"time";case Q:return t.bin(e)?e===COLOR?"linear":"ordinal":t.scale(e).type}},u.domain=function(e,t,n,o,a){var u=t.field(e);if(t.isType(e,T)){var l=i.scale.domain(u.timeUnit,e);if(l)return l}if(u.bin){var c=n[u.name],f=r.getbins(c,u.bin.maxbins||s.MAXBINS_DEFAULT),h=(f.stop-f.start)/f.step;return r.range(h).map(function(e){return f.start+f.step*e})}if(e==a.stack)return{data:STACKED,field:t.fieldRef(e,{data:!t._vega2,prefn:(a.facet?"max_":"")+"sum_"})};var d=t.aggregate(e),p=u.timeUnit,g=t.scale(e).useRawDomain,m=void 0!==g?g:t.config("useRawDomain"),v=!d||"count"!==d&&"sum"!==d;return m&&v&&(t.isType(e,Q)&&!u.bin||t.isType(e,T)&&(!p||!i.isOrdinalFn(p)))?{data:RAW,field:t.fieldRef(e,{nofn:!p})}:{data:o.getDataset(e),field:t.fieldRef(e)}},u.range=function(e,t,n,r){var i=t.scale(e.name),o=t.field(e.name),a=o.timeUnit;switch(e.name){case X:e.range=n.cellWidth?[0,n.cellWidth]:"width","ordinal"===e.type?e.bandWidth=t.bandSize(X,n.x.useSmallBand):(e.zero=t.isType(e.name,T)&&"year"===a?!1:void 0===i.zero?!0:i.zero,e.reverse=i.reverse),e.round=!0,e.nice="time"===e.type?a||t.config("timeScaleNice"):!0;break;case Y:"ordinal"===e.type?(e.range=n.cellHeight?o.bin?[n.cellHeight,0]:[0,n.cellHeight]:"height",e.bandWidth=t.bandSize(Y,n.y.useSmallBand)):(e.range=n.cellHeight?[n.cellHeight,0]:"height",e.zero=t.isType(e.name,T)&&"year"===a?!1:void 0===i.zero?!0:i.zero,e.reverse=i.reverse),e.round=!0,e.nice="time"===e.type?a||t.config("timeScaleNice"):!0;break;case ROW:e.bandWidth=n.cellHeight,e.round=!0,e.nice=!0;break;case COL:e.bandWidth=n.cellWidth,e.round=!0,e.nice=!0;break;case SIZE:if(t.is("bar"))e.range=[3,Math.max(t.bandSize(X),t.bandSize(Y))];else if(t.is(TEXT))e.range=[8,40];else{var s=Math.min(t.bandSize(X),t.bandSize(Y))-1;e.range=[10,.8*s*s]}e.round=!0,e.zero=!1;break;case SHAPE:e.range="shapes";break;case COLOR:e.range=u.color(e,t,r);break;case ALPHA:e.range=[.2,1];break;default:throw new Error("Unknown encoding name: "+e.name)}switch(e.name){case ROW:case COL:e.padding=t.config("cellPadding"),e.outerPadding=0;break;case X:case Y:"ordinal"===e.type&&(e.points=!0,e.padding=t.field(e.name).band.padding)}},u.color=function(e,t,n){var r=t.scale(COLOR),i=r.range,a=t.cardinality(COLOR,n),s=t.type(COLOR);if(void 0===i){var l=r.ordinalPalette;if("ordinal"===e.type)i=s===N?10>=a?r.c10palette:r.c20palette:2>=a?[o[l][3][0],o[l][3][2]]:l;else{var c=o[l][9];i=[c[0],c[8]],e.zero=!1}}return u.color.palette(i,a,s)},u.color.palette=function(e,t,n){switch(e){case"category10k":return["#2ca02c","#e377c2","#7f7f7f","#17becf","#8c564b","#d62728","#bcbd22","#9467bd","#ff7f0e","#1f77b4"];case"category10":return["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];case"category20":return["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"];case"category20b":return["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"];case"category20c":return["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"]}if(e in o){var i=o[e],a=5;return t in i?i[t]:n===N?i[Math.max.apply(null,r.keys(i))]:u.color.interpolate(i[a][0],i[a][a-1],t)}return e},u.color.interpolate=function(e,t,n){var i=a(e,t);return r.range(n).map(function(e){return i(1*e/(n-1))})}},{"../globals":36,"../schema/schema":37,"../util":39,"./time":31,colorbrewer:3,"d3-color":4}],26:[function(e,t,n){"use strict";function r(e,t,n,r){var o={},a=0;return t.forEach(function(r,s){var u=t.sort(s,n);if(u.length>0){var l=u.map(function(e){return{op:e.aggregate,field:i.fieldRef(e,{nofn:!0,data:!t._vega2})}}),c=u.map(function(e){var n=e.reverse?"-":"";return n+i.fieldRef(e,{data:!t._vega2})}),f="sorted"+a++,h=[{type:"aggregate",groupby:[t.fieldRef(s)],fields:l},{type:"sort",by:c}];e.push({name:f,source:RAW,transform:h}),o[s]=f}}),{getDataset:function(e){var t=o[e];return t?t:TABLE}}}e("../globals");var i=e("../field");t.exports=r},{"../field":35,"../globals":36}],27:[function(e,t,n){"use strict";function r(e,t,n,r){if(!i[t.marktype()].stack)return!1;if(!t.has(COLOR))return!1;var o=null,a=null,s=null,u=t.isMeasure(X),l=t.isMeasure(Y);if(u&&!l)o=Y,a=X,s=0;else{if(!l||u)return null;o=X,a=Y,s=1}var c={name:STACKED,source:TABLE,transform:[{type:"aggregate",groupby:[t.fieldRef(o)].concat(r),fields:[{op:"sum",field:t.fieldRef(a)}]}]};return r&&r.length>0&&c.transform.push({type:"aggregate",groupby:r,fields:[{op:"max",field:t.fieldName(a,{fn:"sum"})}]}),e.push(c),n.from.transform=[{type:"stack",point:t.fieldRef(o),height:t.fieldRef(a),output:{y1:a,y0:a+"2"}}],n.properties.update[a]=n.properties.enter[a]={scale:a,field:a},n.properties.update[a+"2"]=n.properties.enter[a+"2"]={scale:a,field:a+"2"},a}e("../globals");var i=e("./marks");t.exports=r},{"../globals":36,"./marks":24}],28:[function(e,t,n){"use strict";function r(e,t){if(!t)return 1;var n=0;if(e.isAggregate())n=1,e.forEach(function(r,o){o===ROW||o===COL||(o===X||o===Y)&&i.isOrdinalScale(r)||(n*=e.cardinality(o,t))});else{n=t.count;var r=1;e.has(ROW)&&(r*=e.cardinality(ROW,t)),e.has(COL)&&(r*=e.cardinality(COL,t)),n/=r}var o=0;return o=20>n?1:200>n?.7:1e3>n||e.is("tick")?.6:.3}e("../globals");var i=e("../field");t.exports=function(e,t){return{opacity:r(e,t)}}},{"../field":35,"../globals":36}],29:[function(e,t,n){"use strict";function r(e,t,n,r,o){var a=e.marks,s=i("subfacet",{marks:a});e.marks=[s],s.from=t.from,delete t.from;var u=s.from.transform||(s.from.transform=[]);u.unshift({type:"facet",keys:n}),r&&o.has(COLOR)&&u.unshift({type:"sort",by:o.fieldRef(COLOR)})}e("../globals");var i=e("./group").def;t.exports=r},{"../globals":36,"./group":21}],30:[function(e,t,n){"use strict";function r(e,t,n){var r={name:RAW,format:{}},a={name:TABLE,source:RAW},s=e.data("url"),u=e.data("formatType"),l=e.data("values");return e.hasValues()?r.values=l:(r.url=s,r.format.type=u),e.forEach(function(e,t){var n;e.type==T?(r.format.parse=r.format.parse||{},r.format.parse[e.name]="date"):e.type==Q&&(r.format.parse=r.format.parse||{},n=o.isCount(e)?"count":e.name,r.format.parse[n]="number")}),{width:t.width,height:t.height,padding:"auto",data:[r,a],marks:[i("cell",{width:t.cellWidth?{value:t.cellWidth}:void 0,height:t.cellHeight?{value:t.cellHeight}:void 0})]}}e("../globals");var i=e("./group").def,o=e("../field");t.exports=r},{"../field":35,"../globals":36,"./group":21}],31:[function(e,t,n){"use strict";function r(e,t){var n={},i={};t.forEach(function(e,r){e.type===T&&e.timeUnit&&(n[t.fieldRef(r)]={field:e,encType:r},i[e.timeUnit]=!0)});var o=e.data[0],a=o.transform=o.transform||[];for(var s in n){var u=n[s];r.transform(a,t,u.encType,u.field)}var l=e.scales=e.scales||[];for(var c in i){var f=r.scale.def(c,t);f&&l.push(f)}return e}function i(e,t){return"utc"+e+"(d.data."+t.name+")"}var o=e("../util"),a=e("d3-time-format");t.exports=r;var s=new Date(2014,8,17);r.cardinality=function(e,t,n,r){var i=e.timeUnit;switch(i){case"seconds":return 60;case"minutes":return 60;case"hours":return 24;case"day":return 7;case"date":return 31;case"month":return 12;case"year":var o=t[e.name],a=t["year_"+e.name];return a?a.distinct-(o.nulls>0&&n[r]?1:0):null}return null},r.maxLength=function(e,t){switch(e){case"seconds":case"minutes":case"hours":case"date":return 2;case"month":case"day":var n=r.range(e,t);return n?Math.max.apply(null,n.map(function(e){return e.length})):2;case"year":return 4}var i=t.config("timeFormat");return a.utcFormat(i)(s).length},r.formula=function(e){return i(e.timeUnit,e)},r.transform=function(e,t,n,i){e.push({type:"formula",field:t.fieldRef(n),expr:r.formula(i)})},r.range=function(e,t){var n,r=t.config("timeScaleLabelLength");switch(e){case"day":n=t.config("dayScaleLabel");break;case"month":n=t.config("monthScaleLabel")}return n?r?n.map(function(e){return e.substr(0,r)}):n:void 0},r.scale={},r.scale.def=function(e,t){var n=r.range(e,t);return n?{name:"time-"+e,type:"ordinal",domain:r.scale.domain(e),range:n}:null},r.isOrdinalFn=function(e){switch(e){case"seconds":case"minutes":case"hours":case"day":case"date":case"month":return!0}return!1},r.scale.type=function(e,t){return t===COLOR?"linear":r.isOrdinalFn(e)||t===COL||t===ROW?"ordinal":"linear"},r.scale.domain=function(e,t){
var n=t===COLOR;switch(e){case"seconds":case"minutes":return n?[0,59]:o.range(0,60);case"hours":return n?[0,23]:o.range(0,24);case"day":return n?[0,6]:o.range(0,7);case"date":return n?[1,31]:o.range(1,32);case"month":return n?[0,11]:o.range(0,12)}return null},r.hasScale=function(e){switch(e){case"day":case"month":return!0}return!1}},{"../util":39,"d3-time-format":6}],32:[function(e,t,n){"use strict";e("./globals");var r=t.exports={};r.encodingTypes=[X,Y,ROW,COL,SIZE,SHAPE,COLOR,ALPHA,TEXT,DETAIL],r.shorthand={delim:"|",assign:"=",type:",",func:"_"}},{"./globals":36}],33:[function(e,t,n){"use strict";e("./globals");var r=e("datalib/src/stats"),i=t.exports={};i.types={"boolean":N,number:Q,integer:Q,date:T,string:N},i.stats=function(e){var t=r.summary(e);return t.reduce(function(e,t){return e[t.field]=t,e},{"*":{max:e.length,min:0}})}},{"./globals":36,"datalib/src/stats":11}],34:[function(e,t,n){"use strict";var r=e("./consts"),i=r.shorthand,o=e("./field"),a=e("./util"),s=e("./schema/schema"),u=s.encTypes,l=t.exports={};l.countRetinal=function(e){var t=0;return e.color&&t++,e.alpha&&t++,e.size&&t++,e.shape&&t++,t},l.has=function(e,t){var n=e&&e[t];return n&&n.name},l.isAggregate=function(e){for(var t in e)if(l.has(e,t)&&e[t].aggregate)return!0;return!1},l.forEach=function(e,t){var n=0;u.forEach(function(r){l.has(e,r)&&t(e[r],r,n++)})},l.map=function(e,t){var n=[];return u.forEach(function(r){l.has(e,r)&&n.push(t(e[r],r,e))}),n},l.reduce=function(e,t,n){var r=n;return u.forEach(function(n){l.has(e,n)&&(r=t(r,e[n],n,e))}),r},l.fields=function(e){return l.reduce(e,function(e,t){var n=e[t.name]=e[t.name]||[],r=n.containsType=n.containsType||{};return-1===n.indexOf(t)&&(n.push(t),r[t.type]=!0),e},{})},l.shorthand=function(e){return l.map(e,function(e,t){return t+i.assign+o.shorthand(e)}).join(i.delim)},l.fromShorthand=function(e){var t=a.isArray(e)?e:e.split(i.delim);return t.reduce(function(e,t){var n=t.split(i.assign),r=n[0].trim(),a=n[1];return e[r]=o.fromShorthand(a),e},{})}},{"./consts":32,"./field":35,"./schema/schema":37,"./util":39}],35:[function(e,t,n){"use strict";function r(e){return f(e,[N,O])||!!e.bin||c(e,T)&&!!e.timeUnit}e("./globals");var i=e("./consts"),o=i.shorthand,a=e("./compiler/time"),s=e("./util"),u=e("./schema/schema"),l=t.exports={};l.fieldRef=function(e,t){t=t||{};var n=(t.data?"data.":"")+(t.prefn||""),r=t.nofn||t.fn,i=e.name;return l.isCount(e)?n+"count":!r&&e.bin?n+"bin_"+i:!r&&e.aggregate?n+e.aggregate+"_"+i:!r&&e.timeUnit?n+e.timeUnit+"_"+i:t.fn?n+t.fn+"_"+i:n+i},l.shorthand=function(e){var t=i.shorthand;return(e.aggregate?e.aggregate+t.func:"")+(e.timeUnit?e.timeUnit+t.func:"")+(e.bin?"bin"+t.func:"")+(e.name||"")+t.type+e.type},l.shorthands=function(e,t){return t=t||o.delim,e.map(l.shorthand).join(t)},l.fromShorthand=function(e){var t,n=e.split(o.type),r={name:n[0].trim(),type:n[1].trim()};for(t in u.aggregate["enum"]){var i=u.aggregate["enum"][t];if(0===r.name.indexOf(i+"_")){r.name=r.name.substr(i.length+1),"count"==i&&0===r.name.length&&(r.name="*"),r.aggregate=i;break}}for(t in u.timefns){var a=u.timefns[t];if(r.name&&0===r.name.indexOf(a+"_")){r.name=r.name.substr(r.length+1),r.timeUnit=a;break}}return r.name&&0===r.name.indexOf("bin_")&&(r.name=r.name.substr(4),r.bin=!0),r};var c=l.isType=function(e,t){return e.type===t},f=l.isTypes=function(e,t){for(var n=0;n<t.length;n++)if(e.type===t[n])return!0;return!1};l.isOrdinalScale=function(e){return f(e,[N,O])||e.bin||c(e,T)&&e.timeUnit&&a.isOrdinalFn(e.timeUnit)},l.isDimension=function(e){return e&&r(e)},l.isMeasure=function(e){return e&&!r(e)},l.count=function(){return{name:"*",aggregate:"count",type:Q,displayName:l.count.displayName}},l.count.displayName="Number of Records",l.isCount=function(e){return"count"===e.aggregate},l.cardinality=function(e,t,n){var r=t[e.name],i=e.type;if(n=n||{},e.bin){var o=s.getbins(r,e.bin.maxbins||u.MAXBINS_DEFAULT);return(o.stop-o.start)/o.step}if(c(e,T)){var l=a.cardinality(e,t,n,i);if(null!==l)return l}return e.aggregate?1:r.distinct-(r.nulls>0&&n[i]?1:0)}},{"./compiler/time":31,"./consts":32,"./globals":36,"./schema/schema":37,"./util":39}],36:[function(e,t,n){(function(e){"use strict";var t=e||window;t.TABLE="table",t.RAW="raw",t.STACKED="stacked",t.INDEX="index",t.X="x",t.Y="y",t.ROW="row",t.COL="col",t.SIZE="size",t.SHAPE="shape",t.COLOR="color",t.ALPHA="alpha",t.TEXT="text",t.DETAIL="detail",t.N="N",t.O="O",t.Q="Q",t.T="T"}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";e("../globals");var r=t.exports={},i=e("../util"),o=i.toMap,a=e("colorbrewer");r.util=e("./schemautil"),r.marktype={type:"string","enum":["point","tick","bar","line","area","circle","square","text"]},r.aggregate={type:"string","enum":["avg","sum","median","min","max","count"],supportedEnums:{Q:["avg","median","sum","min","max","count"],O:["median","min","max"],N:[],T:["avg","median","min","max"],"":["count"]},supportedTypes:o([Q,N,O,T,""])},r.getSupportedRole=function(e){return r.schema.properties.encoding.properties[e].supportedRole},r.timeUnits=["year","month","day","date","hours","minutes","seconds"],r.defaultTimeFn="month",r.timeUnit={type:"string","enum":r.timeUnits,supportedTypes:o([T])},r.scale_type={type:"string","enum":["linear","log","pow","sqrt","quantile"],"default":"linear",supportedTypes:o([Q])},r.field={type:"object",properties:{name:{type:"string"}}};var s=i.duplicate,u=r.util.merge;r.MAXBINS_DEFAULT=15;var l={type:["boolean","object"],"default":!1,properties:{maxbins:{type:"integer","default":r.MAXBINS_DEFAULT,minimum:2,description:"Maximum number of bins."}},supportedTypes:o([Q])},c=u(s(r.field),{type:"object",properties:{type:{type:"string","enum":[N,O,Q,T]},aggregate:r.aggregate,timeUnit:r.timeUnit,bin:l,scale:{type:"object",properties:{type:r.scale_type,reverse:{type:"boolean","default":!1,supportedTypes:o([Q,T])},zero:{type:"boolean",description:"Include zero","default":!0,supportedTypes:o([Q,T])},nice:{type:"string","enum":["second","minute","hour","day","week","month","year"],supportedTypes:o([T])},useRawDomain:{type:"boolean","default":void 0,description:"Use the raw data range as scale domain instead of aggregated data for aggregate axis. This option does not work with sum or count aggregateas they might have a substantially larger scale range.By default, use value from config.useRawDomain."}}}}}),f=u(s(r.field),{type:"object",supportedRole:{dimension:!0},properties:{type:{type:"string","enum":[N,O,Q,T]},timeUnit:r.timeUnit,bin:l,aggregate:{type:"string","enum":["count"],supportedTypes:o([N,O])}}}),h={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0},properties:{axis:{type:"object",properties:{grid:{type:"boolean","default":!0,description:"A flag indicate if gridlines should be created in addition to ticks."},layer:{type:"string","default":"back",description:"A string indicating if the axis (and any gridlines) should be placed above or below the data marks."},orient:{type:"string","default":void 0,"enum":["top","right","left","bottom"],description:"The orientation of the axis. One of top, bottom, left or right. The orientation can be used to further specialize the axis type (e.g., a y axis oriented for the right edge of the chart)."},ticks:{type:"integer","default":5,description:'A desired number of ticks, for axes visualizing quantitative scales. The resulting number may be different so that values are "nice" (multiples of 2, 5, 10) and lie within the underlying scale\'s range.'},title:{type:"string","default":void 0,description:"A title for the axis. (Shows field name and its function by default.)"},titleMaxLength:{type:"integer","default":void 0,description:"Max length for axis title if the title is automatically generated from the field's description"},titleOffset:{type:"integer","default":void 0,description:"A title offset value for the axis."},format:{type:"string","default":void 0,description:"The formatting pattern for axis labels. If not undefined, this will be determined by small/largeNumberFormat and the max value of the field."},maxLabelLength:{type:"integer","default":25,minimum:0,description:"Truncate labels that are too long."}}}}},d={type:"object",properties:{sort:{type:"array","default":[],items:{type:"object",supportedTypes:o([N,O]),required:["name","aggregate"],properties:{name:{type:"string"},aggregate:{type:"string","enum":["avg","sum","min","max","count"]},reverse:{type:"boolean","default":!1}}}}}},p={type:"object",properties:{band:{type:"object",properties:{size:{type:"integer",minimum:0,"default":void 0},padding:{type:"integer",minimum:0,"default":1}}}}},g={type:"object",properties:{legend:{type:"boolean","default":!0}}},m={type:"object",supportedMarktypes:{text:!0},properties:{align:{type:"string","default":"right"},baseline:{type:"string","default":"middle"},color:{type:"string",role:"color","default":"#000000"},margin:{type:"integer","default":4,minimum:0},placeholder:{type:"string","default":"Abc"},font:{type:"object",properties:{weight:{type:"string","enum":["normal","bold"],"default":"normal"},size:{type:"integer","default":10,minimum:0},family:{type:"string","default":"Helvetica Neue"},style:{type:"string","default":"normal","enum":["normal","italic"]}}},format:{type:"string","default":void 0,description:"The formatting pattern for text value. If not undefined, this will be determined by small/largeNumberFormat and the max value of the field."}}},v={type:"object",supportedMarktypes:{point:!0,bar:!0,circle:!0,square:!0,text:!0},properties:{value:{type:"integer","default":30,minimum:0}}},y={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0,text:!0},properties:{value:{type:"string",role:"color","default":"steelblue"},scale:{type:"object",properties:{range:{type:["string","array"],"default":void 0,description:"color palette, if undefined vega-lite will use data propertyto pick one from c10palette, c20palette, or ordinalPalette"},c10palette:{type:"string","default":"category10","enum":["category10","category10k","Pastel1","Pastel2","Set1","Set2","Set3"]},c20palette:{type:"string","default":"category20","enum":["category20","category20b","category20c"]},ordinalPalette:{type:"string","default":"BuGn","enum":i.keys(a)}}}}},b={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0,text:!0},properties:{value:{type:"number","default":void 0,minimum:0,maximum:1}}},x={type:"object",supportedMarktypes:{point:!0,circle:!0,square:!0},properties:{value:{type:"string","enum":["circle","square","cross","diamond","triangle-up","triangle-down"],"default":"circle"},filled:{type:"boolean","default":!1,description:"whether the shape's color should be used as fill color instead of stroke color"}}},w={type:"object",supportedMarktypes:{point:!0,tick:!0,line:!0,circle:!0,square:!0}},$={properties:{height:{type:"number",minimum:0,"default":150}}},k={properties:{width:{type:"number",minimum:0,"default":150},axis:{properties:{maxLabelLength:{type:"integer","default":12,minimum:0,description:"Truncate labels that are too long."}}}}},_={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0,text:!0},properties:{padding:{type:"number",minimum:0,maximum:1,"default":.1}}},S={required:["name","type"]},C=u(s(c),{supportedRole:{measure:!0,dimension:!0}}),E=u(s(c),{supportedRole:{measure:!0,dimension:"ordinal-only"}}),M=u(s(c),{supportedRole:{measure:!0}}),A=u(s(C),h,p,S,d),D=s(A),L=u(s(f),S,_,d),P=u(s(L),h,$),I=u(s(L),h,k),R=u(s(E),g,v,d),j=u(s(C),g,y,d),F=u(s(E),b,d),U=u(s(f),g,x,d),q=u(s(f),w,d),z=u(s(M),m,d),H={type:"array",items:{type:"object",properties:{operands:{type:"array",items:{type:["string","boolean","integer","number"]}},operator:{type:"string","enum":[">",">=","=","!=","<","<=","notNull"]}}}},W={type:"object",properties:{formatType:{type:"string","enum":["json","csv"],"default":"json"},url:{type:"string","default":void 0},values:{type:"array","default":void 0,description:"Pass array of objects instead of a url to a file.",items:{type:"object",additionalProperties:!0}}}},B={type:"object",properties:{width:{type:"integer","default":void 0},height:{type:"integer","default":void 0},viewport:{type:"array",items:{type:"integer"},"default":void 0},gridColor:{type:"string",role:"color","default":"black"},gridOpacity:{type:"number",minimum:0,maximum:1,"default":.08},filterNull:{type:"object",properties:{O:{type:"boolean","default":!1},Q:{type:"boolean","default":!0},T:{type:"boolean","default":!0}}},toggleSort:{type:"string","default":O},singleHeight:{type:"integer","default":200,minimum:0},singleWidth:{type:"integer","default":200,minimum:0},largeBandSize:{type:"integer","default":21,minimum:0},smallBandSize:{type:"integer","default":12,minimum:0},largeBandMaxCardinality:{type:"integer","default":10},cellPadding:{type:"number","default":.1},cellGridColor:{type:"string",role:"color","default":"black"},cellGridOpacity:{type:"number",minimum:0,maximum:1,"default":.15},cellBackgroundColor:{type:"string",role:"color","default":"transparent"},textCellWidth:{type:"integer","default":90,minimum:0},strokeWidth:{type:"integer","default":2,minimum:0},singleBarOffset:{type:"integer","default":5,minimum:0},timeScaleLabelLength:{type:"integer","default":3,minimum:0,description:"Max length for values in dayScaleLabel and monthScaleLabel.  Zero means using full names in dayScaleLabel/monthScaleLabel."},dayScaleLabel:{type:"array",items:{type:"string"},"default":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],description:"Axis labels for day of week, starting from Sunday.(Consistent with Javascript -- See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getDay."},monthScaleLabel:{type:"array",items:{type:"string"},"default":["January","February","March","April","May","June","July","August","September","October","November","December"],description:"Axis labels for month."},characterWidth:{type:"integer","default":6},maxSmallNumber:{type:"number","default":1e4,description:"maximum number that a field will be considered smallNumber.Used for axis labelling."},smallNumberFormat:{type:"string","default":"",description:"D3 Number format for axis labels and text tables for number <= maxSmallNumber. Used for axis labelling."},largeNumberFormat:{type:"string","default":".3s",description:"D3 Number format for axis labels and text tables for number > maxSmallNumber."},timeFormat:{type:"string","default":"%Y-%m-%d",description:"Date format for axis labels."},useRawDomain:{type:"boolean","default":!1,description:"Use the raw data range as scale domain instead of aggregated data for aggregate axis. This option does not work with sum or count aggregateas they might have a substantially larger scale range.By default, use value from config.useRawDomain."}}};r.schema={$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for Vega-lite specification",type:"object",required:["marktype","encoding","data"],properties:{data:W,marktype:r.marktype,encoding:{type:"object",properties:{x:A,y:D,row:P,col:I,size:R,color:j,alpha:F,shape:U,text:z,detail:q}},filter:H,config:B}},r.encTypes=i.keys(r.schema.properties.encoding.properties),r.instantiate=function(){return r.util.instantiate(r.schema)}},{"../globals":36,"../util":39,"./schemautil":38,colorbrewer:3}],38:[function(e,t,n){"use strict";function r(e,t){if("object"!=typeof t||null===t)return e;for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&("object"!=typeof t[n]||null===t[n]?e[n]=t[n]:"object"!=typeof e[n]||null===e[n]?e[n]=r(t[n].constructor===Array?[]:{},t[n]):r(e[n],t[n]));return e}var i=t.exports={},o=e("../util"),a=function(e){return 0===Object.keys(e).length};i.extend=function(e,t){return i.merge(i.instantiate(t),e)},i.instantiate=function(e){var t;if(void 0===e)return void 0;if("default"in e)return t=e["default"],o.isObject(t)?o.duplicate(t):t;if("object"===e.type){var n={};for(var r in e.properties)t=i.instantiate(e.properties[r]),void 0!==t&&(n[r]=t);return n}return"array"===e.type?[]:void 0},i.subtract=function(e,t){var n={};for(var r in e){var s=t[r],u=e[r];if(!t||s!==u)if("object"==typeof u&&!o.isArray(u)&&s){var l=i.subtract(u,s);a(l)||(n[r]=l)}else(!o.isArray(u)||u.length>0)&&(n[r]=u)}return n},i.merge=function(){for(var e=arguments[0],t=1;t<arguments.length;t++)e=r(e,arguments[t]);return e}},{"../util":39}],39:[function(e,t,n){"use strict";var r=t.exports=e("datalib/src/util");r.extend(r,e("datalib/src/generate")),r.extend(r,e("datalib/src/stats")),r.bin=e("datalib/src/bins/bins"),r.isin=function(e,t){return-1!==t.indexOf(e)},r.forEach=function(e,t,n){if(e.forEach)e.forEach.call(n,t);else for(var r in e)t.call(n,e[r],r,e)},r.reduce=function(e,t,n,r){if(e.reduce)return e.reduce.call(r,t,n);for(var i in e)n=t.call(r,n,e[i],i,e);return n},r.map=function(e,t,n){if(e.map)return e.map.call(n,t);var r=[];for(var i in e)r.push(t.call(n,e[i],i,e))},r.any=function(e,t){var n,r=0;for(n in e)if(t(e[n],n,r++))return!0;return!1},r.all=function(e,t){var n,r=0;for(n in e)if(!t(e[n],n,r++))return!1;return!0},r.getbins=function(e,t){return r.bin({min:e.min,max:e.max,maxbins:t})},r.setter=function(e,t,n,r){for(var i=0;i<t.length-1;++i)e=r||t[i]in e?e[t[i]]:e[t[i]]={};e[t[i]]=n},r.getter=function(e,t,n){for(var r=0;r<t.length;++r)e=n||t[r]in e?e[t[r]]:e[t[r]]={};return e},r.error=function(e){console.error("[VL Error]",e)}},{"datalib/src/bins/bins":8,"datalib/src/generate":9,"datalib/src/stats":11,"datalib/src/util":13}],40:[function(e,t,n){"use strict";e("./globals");var r=e("./util"),i=e("./consts"),o={};r.extend(o,i,r),o.Encoding=e("./Encoding"),o.compiler=e("./compiler/compiler"),o.compile=o.compiler.compile,o.data=e("./data"),o.enc=e("./enc"),o.field=e("./field"),o.schema=e("./schema/schema"),o.toShorthand=o.Encoding.shorthand,t.exports=o},{"./Encoding":14,"./compiler/compiler":18,"./consts":32,"./data":33,"./enc":34,"./field":35,"./globals":36,"./schema/schema":37,"./util":39}]},{},[40])(40)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.cp=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){t.exports={consts:e("./consts"),cluster:e("./cluster/cluster"),gen:e("./gen/gen"),rank:e("./rank/rank"),util:e("./util"),auto:"-, sum"}},{"./cluster/cluster":7,"./consts":10,"./gen/gen":14,"./rank/rank":18,"./util":20}],2:[function(e,t,n){t.exports={hcluster:e("./hcluster"),Kmeans:e("./kmeans"),kmeans:e("./kmeans").kmeans}},{"./hcluster":4,"./kmeans":5}],3:[function(e,t,n){t.exports={euclidean:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=Math.pow(t[r]-e[r],2);return Math.sqrt(n)},manhattan:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=Math.abs(t[r]-e[r]);return n},max:function(e,t){for(var n=0,r=0;r<e.length;r++)n=Math.max(n,Math.abs(t[r]-e[r]));return n}}},{}],4:[function(e,t,n){var r=e("./distance"),i=function(e,t,n){this.distance=e,this.linkage=t,this.threshold=void 0==n?1/0:n};i.prototype={cluster:function(e,t,n){this.clusters=[],this.dists=[],this.mins=[],this.index=[];for(var r=0;r<e.length;r++){var i={value:e[r],key:r,index:r,size:1};this.clusters[r]=i,this.index[r]=i,this.dists[r]=[],this.mins[r]=0}for(var r=0;r<this.clusters.length;r++)for(var o=0;r>=o;o++){var a=r==o?1/0:this.distance(this.clusters[r].value,this.clusters[o].value);this.dists[r][o]=a,this.dists[o][r]=a,a<this.dists[r][this.mins[r]]&&(this.mins[r]=o)}for(var s=this.mergeClosest(),r=0;s;)n&&r++%t==0&&n(this.clusters),s=this.mergeClosest();return this.clusters.forEach(function(e){delete e.key,delete e.index}),this.clusters},mergeClosest:function(){for(var e=0,t=1/0,n=0;n<this.clusters.length;n++){var r=this.clusters[n].key,i=this.dists[r][this.mins[r]];t>i&&(e=r,t=i)}if(t>=this.threshold)return!1;var o=this.index[e],a=this.index[this.mins[e]],s={left:o,right:a,key:o.key,size:o.size+a.size};this.clusters[o.index]=s,this.clusters.splice(a.index,1),this.index[o.key]=s;for(var n=0;n<this.clusters.length;n++){var i,u=this.clusters[n];o.key==u.key?i=1/0:"single"==this.linkage?(i=this.dists[o.key][u.key],this.dists[o.key][u.key]>this.dists[a.key][u.key]&&(i=this.dists[a.key][u.key])):"complete"==this.linkage?(i=this.dists[o.key][u.key],this.dists[o.key][u.key]<this.dists[a.key][u.key]&&(i=this.dists[a.key][u.key])):i="average"==this.linkage?(this.dists[o.key][u.key]*o.size+this.dists[a.key][u.key]*a.size)/(o.size+a.size):this.distance(u.value,o.value),this.dists[o.key][u.key]=this.dists[u.key][o.key]=i}for(var n=0;n<this.clusters.length;n++){var l=this.clusters[n].key;if(this.mins[l]==o.key||this.mins[l]==a.key){for(var t=l,c=0;c<this.clusters.length;c++){var f=this.clusters[c].key;this.dists[l][f]<this.dists[l][t]&&(t=f)}this.mins[l]=t}this.clusters[n].index=n}return delete o.key,delete a.key,delete o.index,delete a.index,!0}};var o=function(e,t,n,o,a,s){t=t||"euclidean",n=n||"average","string"==typeof t&&(t=r[t]);var u=new i(t,n,o).cluster(e,a,s);return void 0===o?u[0]:u};t.exports=o},{"./distance":3}],5:[function(e,t,n){function r(e){this.centroids=e||[]}var i=e("./distance");r.prototype.randomCentroids=function(e,t){var n=e.slice(0);return n.sort(function(){return Math.round(Math.random())-.5}),n.slice(0,t)},r.prototype.classify=function(e,t){var n=1/0,r=0;t=t||"euclidean","string"==typeof t&&(t=i[t]);for(var o=0;o<this.centroids.length;o++){var a=t(e,this.centroids[o]);n>a&&(n=a,r=o)}return r},r.prototype.cluster=function(e,t,n,r,o){t=t||Math.max(2,Math.ceil(Math.sqrt(e.length/2))),n=n||"euclidean","string"==typeof n&&(n=i[n]),this.centroids=this.randomCentroids(e,t);for(var a=new Array(e.length),s=new Array(t),u=0,l=!0;l;){for(var c=0;c<e.length;c++)a[c]=this.classify(e[c],n);l=!1;for(var f=0;t>f;f++){for(var h=[],c=0;c<a.length;c++)a[c]==f&&h.push(e[c]);if(h.length){for(var d=this.centroids[f],p=new Array(d.length),g=0;g<d.length;g++){for(var m=0,c=0;c<h.length;c++)m+=h[c][g];p[g]=m/h.length,p[g]!=d[g]&&(l=!0)}this.centroids[f]=p,s[f]=h}}o&&u++%r==0&&o(s)}return s},r.prototype.toJSON=function(){return JSON.stringify(this.centroids)},r.prototype.fromJSON=function(e){return this.centroids=JSON.parse(e),this},t.exports=r,t.exports.kmeans=function(e,t){return(new r).cluster(e,t)}},{"./distance":3}],6:[function(e,t,n){(function(e){"use strict";var t=e||window;t.TABLE="table",t.RAW="raw",t.STACKED="stacked",t.INDEX="index",t.X="x",t.Y="y",t.ROW="row",t.COL="col",t.SIZE="size",t.SHAPE="shape",t.COLOR="color",t.ALPHA="alpha",t.TEXT="text",t.DETAIL="detail",t.N="N",t.O="O",t.Q="Q",t.T="T"}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,n){(function(n){"use strict";function r(e,t){var n=r.distance.table(e),u=o.hcluster(e,function(e,t){var r=i.Encoding.shorthand(e),o=i.Encoding.shorthand(t);return n[r][o]},"average",a.CLUSTER_THRESHOLD),l=u.map(function(e){return s.traverse(e,[])}).map(function(e){return e.sort(function(e,t){return t._info.score-e._info.score})}).filter(function(e){return e.length>0}).sort(function(e,t){return t[0]._info.score-e[0]._info.score});return l.dist=n,l}t.exports=r;var i="undefined"!=typeof window?window.vl:"undefined"!=typeof n?n.vl:null,o=e("clusterfck"),a=e("./clusterconsts"),s=e("../util");r.distance=e("./distance")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util":20,"./clusterconsts":8,"./distance":9,clusterfck:2}],8:[function(e,t,n){"use strict";function r(e,t){var n=t[0],r=t[1],i=t[2];return e[n]=e[n]||{},e[r]=e[r]||{},e[n][r]=e[r][n]=i,e}var i=t.exports={};i.SWAPPABLE=.05,i.DIST_MISSING=1,i.CLUSTER_THRESHOLD=1,i.DIST_BY_ENCTYPE=[["x","y",i.SWAPPABLE],["row","col",i.SWAPPABLE],["color","shape",i.SWAPPABLE],["color","detail",i.SWAPPABLE],["detail","shape",i.SWAPPABLE],["color","alpha",i.SWAPPABLE],["size","alpha",i.SWAPPABLE],["size","color",i.SWAPPABLE]].reduce(r,{})},{}],9:[function(e,t,n){(function(n){"use strict";var r="undefined"!=typeof window?window.vl:"undefined"!=typeof n?n.vl:null,i=e("./clusterconsts"),o=e("../util"),a={};t.exports=a,a.table=function(e){var t,n,i=e.length,o=e.map(function(e){return a.getEncTypeByColumnName(e)}),s=e.map(r.Encoding.shorthand),u={};for(t=0;i>t;t++)u[s[t]]={};for(t=0;i>t;t++)for(n=t+1;i>n;n++){var l=s[n],c=s[t];u[l][c]=u[c][l]=a.get(o[t],o[n])}return u},a.get=function(e,t){var n=o.union(r.keys(e.col),r.keys(t.col)),a=0;n.forEach(function(n){var r=e.col[n],o=t.col[n];r&&o?r.encType!=o.encType&&(a+=(i.DIST_BY_ENCTYPE[r.encType]||{})[o.encType]||1):a+=i.DIST_MISSING});var s=r.Encoding.isStack(e),u=r.Encoding.isStack(t);return(s||u)&&(s&&u?e.encoding.color.name!==t.encoding.color.name&&(a+=1):a+=1),a},a.getEncTypeByColumnName=function(e){var t={},n=e.encoding;return r.keys(n).forEach(function(e){var i=r.duplicate(n[e]);i.encType=e,t[i.name||""]=i,delete i.name}),{marktype:e.marktype,col:t,encoding:e.encoding}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util":20,"./clusterconsts":8}],10:[function(e,t,n){"use strict";var r=t.exports={gen:{},cluster:{},rank:{}};r.gen.projections={type:"object",properties:{omitDotPlot:{type:"boolean","default":!1,description:"remove all dot plots"},maxCardinalityForAutoAddOrdinal:{type:"integer","default":50,description:"max cardinality for ordinal field to be considered for auto adding"},alwaysAddHistogram:{type:"boolean","default":!0}}},r.gen.aggregates={type:"object",properties:{config:{type:"object"},data:{type:"object"},tableTypes:{type:"boolean","default":"both","enum":["both","aggregated","disaggregated"]},genDimQ:{type:"string","default":"auto","enum":["auto","bin","cast","none"],description:"Use Q as Dimension either by binning or casting"},minCardinalityForBin:{type:"integer","default":20,description:"minimum cardinality of a field if we were to bin"},omitDotPlot:{type:"boolean","default":!1,description:"remove all dot plots"},omitMeasureOnly:{type:"boolean","default":!1,description:"Omit aggregation with measure(s) only"},omitDimensionOnly:{type:"boolean","default":!0,description:"Omit aggregation with dimension(s) only"},addCountForDimensionOnly:{type:"boolean","default":!0,description:"Add count when there are dimension(s) only"},aggrList:{type:"array",items:{type:["string"]},"default":[void 0,"avg"]},timeUnitList:{type:"array",items:{type:["string"]},"default":["year"]},consistentAutoQ:{type:"boolean","default":!0,description:"generate similar auto transform for quant"}}},r.gen.encodings={type:"object",properties:{marktypeList:{type:"array",items:{type:"string"},"default":["point","bar","line","area","text","tick"],description:"allowed marktypes"},encodingTypeList:{type:"array",items:{type:"string"},"default":["x","y","row","col","size","color","text","detail"],description:"allowed encoding types"},maxGoodCardinalityForFacets:{type:"integer","default":5,description:"maximum cardinality of a field to be put on facet (row/col) effectively"},maxCardinalityForFacets:{type:"integer","default":20,description:"maximum cardinality of a field to be put on facet (row/col)"},maxGoodCardinalityForColor:{type:"integer","default":7,description:"maximum cardinality of an ordinal field to be put on color effectively"},maxCardinalityForColor:{type:"integer","default":20,description:"maximum cardinality of an ordinal field to be put on color"},maxCardinalityForShape:{type:"integer","default":6,description:"maximum cardinality of an ordinal field to be put on shape"},omitTranpose:{type:"boolean","default":!0,description:"Eliminate all transpose by (1) keeping horizontal dot plot only (2) for OxQ charts, always put O on Y (3) show only one DxD, MxM (currently sorted by name)"},omitDotPlot:{type:"boolean","default":!1,description:"remove all dot plots"},omitDotPlotWithExtraEncoding:{type:"boolean","default":!0,description:"remove all dot plots with >1 encoding"},omitMultipleRetinalEncodings:{type:"boolean","default":!0,description:"omit using multiple retinal variables (size, color, alpha, shape)"},omitNonTextAggrWithAllDimsOnFacets:{type:"boolean","default":!0,description:"remove all aggregated charts (except text tables) with all dims on facets (row, col)"},omitSizeOnBar:{type:"boolean","default":!1,description:"do not use bar's size"},omitStackedAverage:{type:"boolean","default":!0,description:"do not stack bar chart with average"},alwaysGenerateTableAsHeatmap:{type:"boolean","default":!0}}}},{}],11:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){function s(t){t=i.duplicate(t),t.key=i.field.shorthands(t),e.push(t)}function u(){if(r.omitMeasureOnly||r.omitDimensionOnly){var e=!1,t=!1,n=!1;if(g.forEach(function(r){i.field.isDimension(r)?t=!0:(e=!0,r.aggregate||(n=!0))}),!t&&!n&&r.omitMeasureOnly)return;if(!e&&(r.addCountForDimensionOnly&&(g.push(i.field.count()),s(g),g.pop()),r.omitDimensionOnly))return}r.omitDotPlot&&1===g.length||s(g)}function l(e,t,n,r){var i=t===!0||null===t,o=t===!1||null===t;r?i&&(g[e].aggregate=r,p(e+1,!0,n),delete g[e].aggregate):o&&p(e+1,!1,n)}function c(e,t,n){g[e].bin=!0,p(e+1,t,n),delete g[e].bin}function f(e,o,s){var u=t[e],f=o===!0||null===o;if(g[e]={name:u.name,type:u.type},"count"===u.aggregate)f&&(g[e].aggregate=u.aggregate,p(e+1,!0,s));else if(u._aggregate)l(e,o,s,u._aggregate);else if(u._raw)l(e,o,s,void 0);else if(u._bin)c(e,o,s);else if(r.aggrList.forEach(function(t){r.consistentAutoQ&&s!==a&&s!==t||l(e,o,t,t)}),(!r.consistentAutoQ||i.isin(s,[a,"bin","cast","autocast"]))&&!m){var h=i.field.cardinality(u,n)>r.minCardinalityForBin,d="auto"===r.genDimQ,v="bin"===r.genDimQ||d&&h,y="cast"===r.genDimQ||d&&!h;v&&i.isin(s,[a,"bin","autocast"])&&c(e,o,d?"autocast":"bin"),y&&i.isin(s,[a,"cast","autocast"])&&(g[e].type="O",p(e+1,o,d?"autocast":"cast"),g[e].type="Q")}}function h(e,t,n,r){g[e].timeUnit=r,p(e+1,t,n),delete g[e].timeUnit}function d(e,n,i){var o=t[e];g[e]={name:o.name,type:o.type},o._timeUnit?h(e,n,i,o._timeUnit):r.timeUnitList.forEach(function(t){void 0===t?n||p(e+1,!1,i):h(e,n,i,t)})}function p(e,n,r){if(e===t.length)return void u();var i=t[e];switch(i.type){case Q:f(e,n,r);break;case T:d(e,n,r);break;case O:case N:default:g[e]=i,p(e+1,n,r)}}r=i.schema.util.extend(r||{},o.gen.aggregates);var g=new Array(t.length),m=i.any(t,function(e){return i.field.isTypes(e,[N,O])}),v="aggregated"===r.tableTypes?!0:"disaggregated"===r.tableTypes?!1:null;return p(0,v,a),e}var i="undefined"!=typeof window?window.vl:"undefined"!=typeof n?n.vl:null,o=e("../consts"),a="*";t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../consts":10}],12:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r,o){r=a.schema.util.extend(r||{},c.gen.encodings);var u=s([],t,n,r);return o?u.reduce(function(e,t){return e[t]=i([],t,n,r),e},{}):u.reduce(function(e,t){return i(e,t,n,r)},[])}function i(e,t,n,r){return u(t,n,r).forEach(function(i){var s=a.duplicate({data:r.data,marktype:i,encoding:t,config:r.config}),u=o(s,n,r),c=l.encoding(u,n,r);u._info=c,e.push(u)}),e}function o(e,t,n){"text"===e.marktype&&n.alwaysGenerateTableAsHeatmap&&(e.encoding.color=e.encoding.text);var r=e.encoding;return["x","y"].forEach(function(e){var n=r[e];if(n&&a.field.isMeasure(n)&&!a.field.isCount(n)){var i=t[n.name];i&&i.stdev/i.avg<.01&&(n.scale={
zero:!1})}}),e}var a="undefined"!=typeof window?window.vl:"undefined"!=typeof n?n.vl:null,s=e("./encs"),u=e("./marktypes"),l=e("../rank/rank"),c=e("../consts");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../consts":10,"../rank/rank":18,"./encs":13,"./marktypes":15}],13:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){return r.omitMultipleRetinalEncodings&&(e.color||e.size||e.shape||e.alpha)?!1:!0}function i(e,t,n,i){return r(e,t,n,i)?l.field.isMeasure(t)||l.field.cardinality(t,n)<=i.maxCardinalityForColor:!1}function o(e,t,n,i){return r(e,t,n,i)?t.bin&&t.type===Q?!1:t.timeUnit&&t.type===T?!1:l.field.cardinality(t,n)<=i.maxCardinalityForColor:!1}function a(e){return l.field.isTypes(e.y,[N,O])&&d(e.x)?!0:d(e.y)&&!l.field.isTypes(e.x,[N,O])&&h(e.x)?!0:!1}function s(e,t,n){if(e.text)return f.satisfyRules(e,TEXT,t,n);if(e.x||e.y||e.geo||e.arc){if(e.row||e.col){if(!e.x||!e.y)return!1;if(n.omitNonTextAggrWithAllDimsOnFacets&&u.isAggrWithAllDimOnFacets(e))return!1}if(e.x&&e.y){var r=!!h(e.x),i=!!h(e.y);if(r&&i&&!l.enc.isAggregate(e))return!1;if(n.omitTranpose)if(r^i){if(!a(e))return!1}else if(e.y.type===T||e.x.type===T){if(e.y.type===T&&e.x.type!==T)return!1}else if(e.x.name>e.y.name)return!1;return!0}return n.omitDotPlot?!1:n.omitTranpose&&e.y?!1:n.omitDotPlotWithExtraEncoding&&l.keys(e).length>1?!1:e.x&&"count"==e.x.aggregate&&!e.y?!1:e.y&&"count"==e.y.aggregate&&!e.x?!1:!0}return!1}function u(e,t,n,r){function i(a){if(a===t.length)return void(s(o,n,r)&&e.push(l.duplicate(o)));var u=t[a];for(var c in r.encodingTypeList){var f=r.encodingTypeList[c],d=h(u);f in o||!(d&&p[f].dimension||!d&&p[f].measure)||p[f].rules&&!p[f].rules(o,u,n,r)||(o[f]=u,i(a+1),delete o[f])}}r=l.schema.util.extend(r||{},c.gen.encodings);var o={};return i(0),e}e("../globals");var l="undefined"!=typeof window?window.vl:"undefined"!=typeof n?n.vl:null,c=e("../consts"),f=e("./marktypes"),h=l.field.isDimension,d=l.field.isMeasure;t.exports=u;var p={x:{dimension:!0,measure:!0,multiple:!0},y:{dimension:!0,measure:!0,multiple:!0},row:{dimension:!0,multiple:!0},col:{dimension:!0,multiple:!0},shape:{dimension:!0,rules:o},size:{measure:!0,rules:r},color:{dimension:!0,measure:!0,rules:i},alpha:{measure:!0,rules:r},text:{measure:!0},detail:{dimension:!0}};u.isAggrWithAllDimOnFacets=function(e){var t=!1,n=!1;for(var r in e){var i=e[r];if(i.aggregate&&(t=!0),l.field.isDimension(i)&&r!==ROW&&r!==COL&&(n=!0),t&&n)break}return t&&!n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../consts":10,"../globals":17,"./marktypes":15}],14:[function(e,t,n){"use strict";var r=e("../util"),i=t.exports={aggregates:e("./aggregates"),projections:e("./projections"),encodings:e("./encodings"),encs:e("./encs"),marktypes:e("./marktypes")};i.charts=function(e,t,n,o){t=r.gen.getOpt(t),o=void 0===o?{encodings:1}:o;var a,s,u=t.genAggr?i.aggregates([],e,t):[e],l=0;return o===!0||o&&o.aggregate?a=u.reduce(function(e,n){return i.encs(e,n,t)},[]):(a=u.map(function(e){return i.encs([],e,t)},!0),l+=1),o===!0||o&&o.encodings?s=r.nestedReduce(a,function(e,r){return i.marktypes(e,r,t,n)},l,!0):(s=r.nestedMap(a,function(e){return i.marktypes([],e,t,n)},l,!0),l+=1),s}},{"../util":20,"./aggregates":11,"./encodings":12,"./encs":13,"./marktypes":15,"./projections":16}],15:[function(e,t,n){(function(n){"use strict";function r(e,t,n){n=h.schema.util.extend(n||{},d.gen.encodings);var r=n.marktypeList.filter(function(r){return m.satisfyRules(e,r,t,n)});return r}function i(e,t,n){return h.field.cardinality(e,t)<=n.maxCardinalityForFacets}function o(e,t,n){return e.row&&!i(e.row,t,n)?!1:e.col&&!i(e.col,t,n)?!1:!0}function a(e,t,n){if(!o(e,t,n))return!1;if(e.x&&e.y){var r=p(e.x),i=p(e.y);if(r&&i){if(e.shape)return!1;if(e.color&&p(e.color))return!1}}else{if(n.omitDotPlot)return!1;if(n.omitTranpose&&e.y)return!1;if(n.omitDotPlotWithExtraEncoding&&h.keys(e).length>1)return!1;if(e.shape)return!1}return!0}function s(e,t,n){if(e.x||e.y){if(h.enc.isAggregate(e))return!1;var r=p(e.x),i=p(e.y);return!r&&(!e.y||g(e.y))||!i&&(!e.x||g(e.x))}return!1}function u(e,t,n){if(!o(e,t,n))return!1;if(n.omitSizeOnBar&&void 0!==e.size)return!1;if(void 0!==e.x.aggregate^void 0!==e.y.aggregate&&p(e.x)^p(e.y)){var r=e.x.aggregate||e.y.aggregate;return!(n.omitStackedAverage&&"avg"===r&&e.color)}return!1}function l(e,t,n){return o(e,t,n)?"T"==e.x.type&&e.x.timeUnit&&"Q"==e.y.type&&e.y.aggregate:!1}function c(e,t,n){return o(e,t,n)&&l(e,t,n)?!(n.omitStackedAverage&&"avg"===e.y.aggregate&&e.color):!1}function f(e,t,n){return!(!e.row&&!e.col||!e.text||!e.text.aggregate||e.x||e.y||e.size||n.alwaysGenerateTableAsHeatmap&&e.color)}var h="undefined"!=typeof window?window.vl:"undefined"!=typeof n?n.vl:null,d=e("../consts"),p=h.field.isDimension,g=h.field.isOrdinalScale,m=t.exports=r,v=m.rule={point:a,bar:u,line:l,area:c,text:f,tick:s};m.satisfyRules=function(e,t,n,r){var i=h.compiler.marks[t],o=i.requiredEncoding,a=i.supportedEncoding;for(var s in o)if(!(o[s]in e))return!1;for(var u in e)if(!a[u])return!1;return!v[t]||v[t](e,n,r)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../consts":10}],16:[function(e,t,n){(function(n){"use strict";function r(e,t,n){n=s.schema.util.extend(n||{},a.gen.projections);var l=[],c=[],f=[],h=!1,d=!1,p={};e.forEach(function(e,r){if(p[e.name]=r,e.selected)l.push(e),u(e)||"T"===e.type?h=!0:d=!0;else if(e.selected!==!1&&!s.field.isCount(e)){if(s.field.isDimension(e)&&!n.maxCardinalityForAutoAddOrdinal&&s.field.cardinality(e,t,15)>n.maxCardinalityForAutoAddOrdinal)return;c.push(e)}}),c.sort(i(h,d,p));var g=o.chooseKorLess(c,1);return g.forEach(function(e){var t=l.concat(e);if(t.length>0){if(n.omitDotPlot&&1===t.length)return;f.push(t)}}),f.forEach(function(e){e.key=r.key(e)}),f}function i(e,t,n){return function(t,r){return t.type!==r.type?e?l[r.type]-l[t.type]:l[t.type]-l[r.type]:n[t.name]-n[r.name]}}var o=e("../util"),a=e("../consts"),s="undefined"!=typeof window?window.vl:"undefined"!=typeof n?n.vl:null,u=s.field.isDimension;t.exports=r;var l={N:0,O:1,T:2,Q:3};r.key=function(e){return e.map(function(e){return s.field.isCount(e)?"count":e.name}).join(",")}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../consts":10,"../util":20}],17:[function(e,t,n){(function(t){"use strict";var n=t||window;e("vega-lite/src/globals"),n.CHART_TYPES={TABLE:"TABLE",BAR:"BAR",PLOT:"PLOT",LINE:"LINE",AREA:"AREA",MAP:"MAP",HISTOGRAM:"HISTOGRAM"},n.ANY_DATA_TYPES=15}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"vega-lite/src/globals":6}],18:[function(e,t,n){t.exports={encoding:e("./rankEncodings")}},{"./rankEncodings":19}],19:[function(e,t,n){(function(n){"use strict";function r(e,t,n,u){var l=[],c=i.keys(e.encoding),f=e.marktype,h=e.encoding,d=i.enc.reduce(e.encoding,function(e,t,n){var r=i.field.shorthand(t),o=e[r]=e[r]||[];return o.push({encType:n,field:t}),e},{});return i.forEach(d,function(o){var a=o.map(function(e){return e.encType+i.shorthand.assign+i.field.shorthand(e.field)+" "+(u&&u[e.field.name]?"[x]":"[ ]")}),s=o.map(function(o){var a=i.field.isDimension(o.field)?"dimension":"measure",s=r.score[a](o.field,o.encType,e.marktype,t,n);return!u||u[o.field.name]?s:Math.pow(s,.125)});l.push({reason:a.join(" | "),score:Math.max.apply(null,s)})}),f===TEXT||h.x&&h.y&&o(h.x)^o(h.y)&&l.push({reason:"OxQ plot",score:.8}),c.length>1&&f!==TEXT&&(h.x&&h.y||h.geo||h.text||l.push({reason:"unused position",score:a})),l.push({reason:"marktype="+f,score:s[f]}),{score:l.reduce(function(e,t){return e*t.score},1),features:l}}e("../globals");var i="undefined"!=typeof window?window.vl:"undefined"!=typeof n?n.vl:null,o=i.field.isDimension;t.exports=r;var a=.5,s={line:.99,area:.98,bar:.97,tick:.96,point:.95,circle:.94,square:.94,text:.8},u={},l={},c=.1,f=.01;u.minor=.01,u.pos=1,u.Y_T=.8,u.facet_text=1,u.facet_good=.675,u.facet_ok=.55,u.facet_bad=.4,u.color_good=.7,u.color_ok=.65,u.color_bad=.3,u.color_stack=.6,u.shape=.6,u.detail=.5,u.bad=c,u.terrible=f,l.pos=1,l.size=.6,l.color=.5,l.alpha=.45,l.text=.4,l.bad=c,l.terrible=f,r.dimensionScore=function(e,t,n,r,o){var a=i.field.cardinality(e,r);switch(t){case X:return i.field.isTypes(e,[N,O])?u.pos-u.minor:u.pos;case Y:return i.field.isTypes(e,[N,O])?u.pos-u.minor:e.type===T?u.Y_T:u.pos-u.minor;case COL:return n===TEXT?u.facet_text:a<=o.maxGoodCardinalityForFacets?u.facet_good:a<=o.maxCardinalityForFacets?u.facet_ok:u.facet_bad;case ROW:return n===TEXT?u.facet_text:(a<=o.maxGoodCardinalityForFacets?u.facet_good:a<=o.maxCardinalityForFacets?u.facet_ok:u.facet_bad)-u.minor;case COLOR:var s=e.bin&&e.type===Q||e.timeUnit&&e.type===T,l="bar"===n||"area"===n;return s?u.color_bad:l?u.color_stack:a<=o.maxGoodCardinalityForColor?u.color_good:a<=o.maxCardinalityForColor?u.color_ok:u.color_bad;case SHAPE:return a<=o.maxCardinalityForShape?u.shape:f;case DETAIL:return u.detail}return f},r.dimensionScore.consts=u,r.measureScore=function(e,t,n,r,i){switch(t){case X:return l.pos;case Y:return l.pos;case SIZE:return"bar"===n?c:n===TEXT?c:"line"===n?c:l.size;case COLOR:return l.color;case"alpha":return l.alpha;case TEXT:return l.text}return c},r.measureScore.consts=l,r.score={dimension:r.dimensionScore,measure:r.measureScore}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../globals":17}],20:[function(e,t,n){"use strict";var r=e("./consts"),i=t.exports={gen:{}};i.isArray=Array.isArray||function(e){return"[object Array]"=={}.toString.call(e)},i.json=function(e,t){return JSON.stringify(e,null,t)},i.keys=function(e){var t,n=[];for(t in e)n.push(t);return n},i.nestedMap=function(e,t,n,r){return e.map(0===n?t:function(e){var o=i.nestedMap(e,t,n-1);return r?o.filter(i.nonEmpty):o})},i.nestedReduce=function(e,t,n,r){return 0===n?e.reduce(t,[]):e.map(function(e){var o=i.nestedReduce(e,t,n-1);return r?o.filter(i.nonEmpty):o})},i.nonEmpty=function(e){return!i.isArray(e)||e.length>0},i.traverse=function(e,t){return void 0!==e.value?t.push(e.value):(e.left&&i.traverse(e.left,t),e.right&&i.traverse(e.right,t)),t},i.union=function(e,t){var n={};return e.forEach(function(e){n[e]=!0}),t.forEach(function(e){n[e]=!0}),i.keys(n)},i.gen.getOpt=function(e){return(e?i.keys(e):[]).reduce(function(t,n){return t[n]=e[n],t},Object.create(r.gen.DEFAULT_OPT))},i.powerset=function(e){for(var t=[[]],n=0;n<e.length;n++)for(var r=0,i=t.length;i>r;r++)t.push(t[r].concat(e[n]));return t},i.chooseKorLess=function(e,t){for(var n=[[]],r=0;r<e.length;r++)for(var i=0,o=n.length;o>i;i++){var a=n[i].concat(e[r]);a.length<=t&&n.push(a)}return n},i.chooseK=function(e,t){for(var n=[[]],r=[],i=0;i<e.length;i++)for(var o=0,a=n.length;a>o;o++){var s=n[o].concat(e[i]);s.length<t?n.push(s):s.length===t&&r.push(s)}return r},i.cross=function(e,t){for(var n=[],r=0;r<e.length;r++)for(var i=0;i<t.length;i++)n.push(e[r].concat(t[i]));return n}},{"./consts":10}]},{},[1])(1)}),function(){function e(e,t){if(e!==t){var n=null===e,r=e===$,i=e===e,o=null===t,a=t===$,s=t===t;if(e>t&&!o||!i||n&&!a&&s||r&&s)return 1;if(t>e&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function t(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function n(e,t,n){if(t!==t)return d(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function r(e){return"function"==typeof e||!1}function i(e){return null==e?"":e+""}function o(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function a(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function s(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function u(t,n,r){for(var i=-1,o=t.criteria,a=n.criteria,s=o.length,u=r.length;++i<s;){var l=e(o[i],a[i]);if(l){if(i>=u)return l;var c=r[i];return l*("asc"===c||c===!0?1:-1)}}return t.index-n.index}function l(e){return qe[e]}function c(e){return ze[e]}function f(e,t,n){return t?e=Be[e]:n&&(e=Ve[e]),"\\"+e}function h(e){return"\\"+Ve[e]}function d(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function p(e){return!!e&&"object"==typeof e}function g(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function m(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=q,o[++i]=n);return o}function v(e,t){for(var n,r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r],u=t?t(s,r,e):s;r&&n===u||(n=u,a[++o]=s)}return a}function y(e){for(var t=-1,n=e.length;++t<n&&g(e.charCodeAt(t)););return t}function b(e){for(var t=e.length;t--&&g(e.charCodeAt(t)););return t}function x(e){return He[e]}function w(g){function X(e){if(p(e)&&!Ts(e)&&!(e instanceof qe)){if(e instanceof ee)return e;if(ta.call(e,"__chain__")&&ta.call(e,"__wrapped__"))return dr(e)}return new ee(e)}function J(){}function ee(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function qe(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ma,this.__views__=[]}function ze(){var e=new qe(this.__wrapped__);return e.__actions__=nt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=nt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=nt(this.__views__),e}function He(){if(this.__filtered__){var e=new qe(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function We(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ts(e),r=0>t,i=n?e.length:0,o=Vn(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,h=0,d=ka(u,this.__takeCount__);if(!n||R>i||i==u&&d==u)return nn(r&&n?e.reverse():e,this.__actions__);var p=[];e:for(;u--&&d>h;){l+=t;for(var g=-1,m=e[l];++g<f;){var v=c[g],y=v.iteratee,b=v.type,x=y(m);if(b==F)m=x;else if(!x){if(b==j)continue e;break e}}p[h++]=m}return p}function Be(){this.__data__={}}function Ve(e){return this.has(e)&&delete this.__data__[e]}function Ye(e){return"__proto__"==e?$:this.__data__[e]}function Xe(e){return"__proto__"!=e&&ta.call(this.__data__,e)}function Ge(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Ke(e){var t=e?e.length:0;for(this.data={hash:va(null),set:new fa};t--;)this.push(e[t])}function Ze(e,t){var n=e.data,r="string"==typeof t||Li(t)?n.set.has(t):n.hash[t];return r?0:-1}function Je(e){var t=this.data;"string"==typeof e||Li(e)?t.set.add(e):t.hash[e]=!0}function tt(e,t){for(var n=-1,r=e.length,i=-1,o=t.length,a=qo(r+o);++n<r;)a[n]=e[n];for(;++i<o;)a[n++]=t[i];return a}function nt(e,t){var n=-1,r=e.length;for(t||(t=qo(r));++n<r;)t[n]=e[n];return t}function rt(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function it(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function ot(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function at(e,t,n,r){for(var i=-1,o=e.length,a=r,s=a;++i<o;){var u=e[i],l=+t(u);n(l,a)&&(a=l,s=u)}return s}function st(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}function ut(e,t){for(var n=-1,r=e.length,i=qo(r);++n<r;)i[n]=t(e[n],n,e);return i}function lt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ct(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function ft(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function ht(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function dt(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function pt(e,t){return e===$?t:e}function gt(e,t,n,r){return e!==$&&ta.call(r,n)?e:t}function mt(e,t,n){for(var r=-1,i=Us(t),o=i.length;++r<o;){var a=i[r],s=e[a],u=n(s,t[a],a,e,t);(u===u?u===s:s!==s)&&(s!==$||a in e)||(e[a]=u)}return e}function vt(e,t){return null==t?e:bt(t,Us(t),e)}function yt(e,t){for(var n=-1,r=null==e,i=!r&&Zn(e),o=i?e.length:0,a=t.length,s=qo(a);++n<a;){var u=t[n];s[n]=i?Jn(u,o)?e[u]:$:r?$:e[u]}return s}function bt(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function xt(e,t,n){var r=typeof e;return"function"==r?t===$?e:an(e,t,n):null==e?Mo:"object"==r?Ft(e):t===$?Lo(e):Ut(e,t)}function wt(e,t,n,r,i,o,a){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==$)return s;if(!Li(e))return e;var u=Ts(e);if(u){if(s=Yn(e),!t)return nt(e,s)}else{var l=ra.call(e),c=l==Y;if(l!=K&&l!=z&&(!c||i))return Ue[l]?Gn(e,l,t):i?e:{};if(s=Xn(c?{}:e),!t)return vt(s,e)}o||(o=[]),a||(a=[]);for(var f=o.length;f--;)if(o[f]==e)return a[f];return o.push(e),a.push(s),(u?rt:Ot)(e,function(r,i){s[i]=wt(r,t,n,i,e,o,a)}),s}function $t(e,t,n){if("function"!=typeof e)throw new Ko(U);return ha(function(){e.apply($,n)},t)}function kt(e,t){var r=e?e.length:0,i=[];if(!r)return i;var o=-1,a=Hn(),s=a==n,u=s&&t.length>=R?gn(t):null,l=t.length;u&&(a=Ze,s=!1,t=u);e:for(;++o<r;){var c=e[o];if(s&&c===c){for(var f=l;f--;)if(t[f]===c)continue e;i.push(c)}else a(t,c,0)<0&&i.push(c)}return i}function _t(e,t){var n=!0;return Ia(e,function(e,r,i){return n=!!t(e,r,i)}),n}function St(e,t,n,r){var i=r,o=i;return Ia(e,function(e,a,s){var u=+t(e,a,s);(n(u,i)||u===r&&u===o)&&(i=u,o=e)}),o}function Ct(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===$||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function Et(e,t){var n=[];return Ia(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Mt(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function Tt(e,t,n,r){r||(r=[]);for(var i=-1,o=e.length;++i<o;){var a=e[i];p(a)&&Zn(a)&&(n||Ts(a)||Si(a))?t?Tt(a,t,n,r):lt(r,a):n||(r[r.length]=a)}return r}function At(e,t){return ja(e,t,eo)}function Ot(e,t){return ja(e,t,Us)}function Dt(e,t){return Fa(e,t,Us)}function Nt(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];Ni(e[a])&&(o[++i]=a)}return o}function Lt(e,t,n){if(null!=e){n!==$&&n in fr(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=e[t[r++]];return r&&r==i?e:$}}function Pt(e,t,n,r,i,o){return e===t?!0:null==e||null==t||!Li(e)&&!p(t)?e!==e&&t!==t:It(e,t,Pt,n,r,i,o)}function It(e,t,n,r,i,o,a){var s=Ts(e),u=Ts(t),l=H,c=H;s||(l=ra.call(e),l==z?l=K:l!=K&&(s=Hi(e))),u||(c=ra.call(t),c==z?c=K:c!=K&&(u=Hi(t)));var f=l==K,h=c==K,d=l==c;if(d&&!s&&!f)return Fn(e,t,l);if(!i){var p=f&&ta.call(e,"__wrapped__"),g=h&&ta.call(t,"__wrapped__");if(p||g)return n(p?e.value():e,g?t.value():t,r,i,o,a)}if(!d)return!1;o||(o=[]),a||(a=[]);for(var m=o.length;m--;)if(o[m]==e)return a[m]==t;o.push(e),a.push(t);var v=(s?jn:Un)(e,t,n,r,i,o,a);return o.pop(),a.pop(),v}function Rt(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=fr(e);r--;){var a=t[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){a=t[r];var s=a[0],u=e[s],l=a[1];if(o&&a[2]){if(u===$&&!(s in e))return!1}else{var c=n?n(u,l,s):$;if(!(c===$?Pt(l,u,n,!0):c))return!1}}return!0}function jt(e,t){var n=-1,r=Zn(e)?qo(e.length):[];return Ia(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Ft(e){var t=Wn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==$||n in fr(e))}}return function(e){return Rt(e,t)}}function Ut(e,t){var n=Ts(e),r=er(e)&&rr(t),i=e+"";return e=hr(e),function(o){if(null==o)return!1;var a=i;if(o=fr(o),!(!n&&r||a in o)){if(o=1==e.length?o:Lt(o,Xt(e,0,-1)),null==o)return!1;a=Cr(e),o=fr(o)}return o[a]===t?t!==$||a in o:Pt(t,o[a],$,!0)}}function qt(e,t,n,r,i){if(!Li(e))return e;var o=Zn(t)&&(Ts(t)||Hi(t)),a=o?$:Us(t);return rt(a||t,function(s,u){if(a&&(u=s,s=t[u]),p(s))r||(r=[]),i||(i=[]),zt(e,t,u,qt,n,r,i);else{var l=e[u],c=n?n(l,s,u,e,t):$,f=c===$;f&&(c=s),c===$&&(!o||u in e)||!f&&(c===c?c===l:l!==l)||(e[u]=c)}}),e}function zt(e,t,n,r,i,o,a){for(var s=o.length,u=t[n];s--;)if(o[s]==u)return void(e[n]=a[s]);var l=e[n],c=i?i(l,u,n,e,t):$,f=c===$;f&&(c=u,Zn(u)&&(Ts(u)||Hi(u))?c=Ts(l)?l:Zn(l)?nt(l):[]:Ui(u)||Si(u)?c=Si(l)?Xi(l):Ui(l)?l:{}:f=!1),o.push(u),a.push(c),f?e[n]=r(c,u,i,o,a):(c===c?c!==l:l===l)&&(e[n]=c)}function Ht(e){return function(t){return null==t?$:t[e]}}function Wt(e){var t=e+"";return e=hr(e),function(n){return Lt(n,e,t)}}function Bt(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Jn(r)){var i=r;da.call(e,r,1)}}return e}function Vt(e,t){return e+ya(Ca()*(t-e+1))}function Yt(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function Xt(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===$||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=qo(i);++r<i;)o[r]=e[r+t];return o}function Gt(e,t){var n;return Ia(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Kt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Zt(e,t,n){var r=qn(),i=-1;t=ut(t,function(e){return r(e)});var o=jt(e,function(e){var n=ut(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Kt(o,function(e,t){return u(e,t,n)})}function Jt(e,t){var n=0;return Ia(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function Qt(e,t){var r=-1,i=Hn(),o=e.length,a=i==n,s=a&&o>=R,u=s?gn():null,l=[];u?(i=Ze,a=!1):(s=!1,u=t?[]:l);e:for(;++r<o;){var c=e[r],f=t?t(c,r,e):c;if(a&&c===c){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),l.push(c)}else i(u,f,0)<0&&((t||s)&&u.push(f),l.push(c))}return l}function en(e,t){for(var n=-1,r=t.length,i=qo(r);++n<r;)i[n]=e[t[n]];return i}function tn(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Xt(e,r?0:o,r?o+1:i):Xt(e,r?o+1:0,r?i:o)}function nn(e,t){var n=e;n instanceof qe&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var o=t[r];n=o.func.apply(o.thisArg,lt([n],o.args))}return n}function rn(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Oa>=i){for(;i>r;){var o=r+i>>>1,a=e[o];(n?t>=a:t>a)&&null!==a?r=o+1:i=o}return i}return on(e,t,Mo,n)}function on(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,u=t===$;o>i;){var l=ya((i+o)/2),c=n(e[l]),f=c!==$,h=c===c;if(a)var d=h||r;else d=s?h&&f&&(r||null!=c):u?h&&(r||f):null==c?!1:r?t>=c:t>c;d?i=l+1:o=l}return ka(o,Aa)}function an(e,t,n){if("function"!=typeof e)return Mo;if(t===$)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function sn(e){var t=new aa(e.byteLength),n=new pa(t);return n.set(new pa(e)),t}function un(e,t,n){for(var r=n.length,i=-1,o=$a(e.length-r,0),a=-1,s=t.length,u=qo(s+o);++a<s;)u[a]=t[a];for(;++i<r;)u[n[i]]=e[i];for(;o--;)u[a++]=e[i++];return u}function ln(e,t,n){for(var r=-1,i=n.length,o=-1,a=$a(e.length-i,0),s=-1,u=t.length,l=qo(a+u);++o<a;)l[o]=e[o];for(var c=o;++s<u;)l[c+s]=t[s];for(;++r<i;)l[c+n[r]]=e[o++];return l}function cn(e,t){return function(n,r,i){var o=t?t():{};if(r=qn(r,i,3),Ts(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];e(o,u,r(u,a,n),n)}else Ia(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function fn(e){return vi(function(t,n){var r=-1,i=null==t?0:n.length,o=i>2?n[i-2]:$,a=i>2?n[2]:$,s=i>1?n[i-1]:$;for("function"==typeof o?(o=an(o,s,5),i-=2):(o="function"==typeof s?s:$,i-=o?1:0),a&&Qn(n[0],n[1],a)&&(o=3>i?$:o,i=1);++r<i;){var u=n[r];u&&e(t,u,o)}return t})}function hn(e,t){return function(n,r){var i=n?za(n):0;if(!nr(i))return e(n,r);for(var o=t?i:-1,a=fr(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function dn(e){return function(t,n,r){for(var i=fr(t),o=r(t),a=o.length,s=e?a:-1;e?s--:++s<a;){var u=o[s];if(n(i[u],u,i)===!1)break}return t}}function pn(e,t){function n(){var i=this&&this!==Qe&&this instanceof n?r:e;return i.apply(t,arguments)}var r=vn(e);return n}function gn(e){return va&&fa?new Ke(e):null}function mn(e){return function(t){for(var n=-1,r=So(co(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function vn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Pa(e.prototype),r=e.apply(n,t);return Li(r)?r:n}}function yn(e){function t(n,r,i){i&&Qn(n,r,i)&&(r=$);var o=Rn(n,e,$,$,$,$,$,r);return o.placeholder=t.placeholder,o}return t}function bn(e,t){return vi(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply($,n))})}function xn(e,t){return function(n,r,i){if(i&&Qn(n,r,i)&&(r=$),r=qn(r,i,3),1==r.length){n=Ts(n)?n:cr(n);var o=at(n,r,e,t);if(!n.length||o!==t)return o}return St(n,r,e,t)}}function wn(e,n){return function(r,i,o){if(i=qn(i,o,3),Ts(r)){var a=t(r,i,n);return a>-1?r[a]:$}return Mt(r,i,e)}}function $n(e){return function(n,r,i){return n&&n.length?(r=qn(r,i,3),t(n,r,e)):-1}}function kn(e){return function(t,n,r){return n=qn(n,r,3),Mt(t,n,e,!0)}}function _n(e){return function(){for(var t,n=arguments.length,r=e?n:-1,i=0,o=qo(n);e?r--:++r<n;){var a=o[i++]=arguments[r];if("function"!=typeof a)throw new Ko(U);!t&&ee.prototype.thru&&"wrapper"==zn(a)&&(t=new ee([],!0))}for(r=t?-1:n;++r<n;){a=o[r];var s=zn(a),u="wrapper"==s?qa(a):$;t=u&&tr(u[0])&&u[1]==(O|E|T|D)&&!u[4].length&&1==u[9]?t[zn(u[0])].apply(t,u[3]):1==a.length&&tr(a)?t[s]():t.thru(a)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&Ts(r)&&r.length>=R)return t.plant(r).value();for(var i=0,a=n?o[i].apply(this,e):r;++i<n;)a=o[i].call(this,a);return a}}}function Sn(e,t){return function(n,r,i){return"function"==typeof r&&i===$&&Ts(n)?e(n,r):t(n,an(r,i,3))}}function Cn(e){return function(t,n,r){return("function"!=typeof n||r!==$)&&(n=an(n,r,3)),e(t,n,eo)}}function En(e){return function(t,n,r){return("function"!=typeof n||r!==$)&&(n=an(n,r,3)),e(t,n)}}function Mn(e){return function(t,n,r){var i={};return n=qn(n,r,3),Ot(t,function(t,r,o){var a=n(t,r,o);r=e?a:r,t=e?t:a,i[r]=t}),i}}function Tn(e){return function(t,n,r){return t=i(t),(e?t:"")+Nn(t,n,r)+(e?"":t)}}function An(e){var t=vi(function(n,r){var i=m(r,t.placeholder);return Rn(n,e,$,r,i)});return t}function On(e,t){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===$&&Ts(n)?e(n,r,i,a):Yt(n,qn(r,o,4),i,a,t)}}function Dn(e,t,n,r,i,o,a,s,u,l){function c(){for(var b=arguments.length,x=b,w=qo(b);x--;)w[x]=arguments[x];if(r&&(w=un(w,r,i)),o&&(w=ln(w,o,a)),p||v){var k=c.placeholder,C=m(w,k);if(b-=C.length,l>b){var E=s?nt(s):$,M=$a(l-b,0),O=p?C:$,D=p?$:C,N=p?w:$,L=p?$:w;t|=p?T:A,t&=~(p?A:T),g||(t&=~(_|S));var P=[e,t,n,N,O,L,D,E,u,M],I=Dn.apply($,P);return tr(e)&&Ha(I,P),I.placeholder=k,I}}var R=h?n:this,j=d?R[e]:e;return s&&(w=ur(w,s)),f&&u<w.length&&(w.length=u),this&&this!==Qe&&this instanceof c&&(j=y||vn(e)),j.apply(R,w)}var f=t&O,h=t&_,d=t&S,p=t&E,g=t&C,v=t&M,y=d?$:vn(e);return c}function Nn(e,t,n){var r=e.length;if(t=+t,r>=t||!xa(t))return"";var i=t-r;return n=null==n?" ":n+"",vo(n,ma(i/n.length)).slice(0,i)}function Ln(e,t,n,r){function i(){for(var t=-1,s=arguments.length,u=-1,l=r.length,c=qo(l+s);++u<l;)c[u]=r[u];for(;s--;)c[u++]=arguments[++t];var f=this&&this!==Qe&&this instanceof i?a:e;return f.apply(o?n:this,c)}var o=t&_,a=vn(e);return i}function Pn(e){var t=Bo[e];return function(e,n){return n=n===$?0:+n||0,n?(n=la(10,n),t(e*n)/n):t(e)}}function In(e){return function(t,n,r,i){var o=qn(r);return null==r&&o===xt?rn(t,n,e):on(t,n,o(r,i,1),e)}}function Rn(e,t,n,r,i,o,a,s){var u=t&S;if(!u&&"function"!=typeof e)throw new Ko(U);var l=r?r.length:0;if(l||(t&=~(T|A),r=i=$),l-=i?i.length:0,t&A){var c=r,f=i;r=i=$}var h=u?$:qa(e),d=[e,t,n,r,i,c,f,o,a,s];if(h&&(ir(d,h),t=d[1],s=d[9]),d[9]=null==s?u?0:e.length:$a(s-l,0)||0,t==_)var p=pn(d[0],d[2]);else p=t!=T&&t!=(_|T)||d[4].length?Dn.apply($,d):Ln.apply($,d);var g=h?Ua:Ha;return g(p,d)}function jn(e,t,n,r,i,o,a){var s=-1,u=e.length,l=t.length;if(u!=l&&!(i&&l>u))return!1;for(;++s<u;){var c=e[s],f=t[s],h=r?r(i?f:c,i?c:f,s):$;if(h!==$){if(h)continue;return!1}if(i){if(!ht(t,function(e){return c===e||n(c,e,r,i,o,a)}))return!1}else if(c!==f&&!n(c,f,r,i,o,a))return!1}return!0}function Fn(e,t,n){switch(n){case W:case B:return+e==+t;case V:return e.name==t.name&&e.message==t.message;case G:return e!=+e?t!=+t:e==+t;case Z:case Q:return e==t+""}return!1}function Un(e,t,n,r,i,o,a){var s=Us(e),u=s.length,l=Us(t),c=l.length;if(u!=c&&!i)return!1;for(var f=u;f--;){var h=s[f];if(!(i?h in t:ta.call(t,h)))return!1}for(var d=i;++f<u;){h=s[f];var p=e[h],g=t[h],m=r?r(i?g:p,i?p:g,h):$;if(!(m===$?n(p,g,r,i,o,a):m))return!1;d||(d="constructor"==h)}if(!d){var v=e.constructor,y=t.constructor;if(v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function qn(e,t,n){var r=X.callback||Co;return r=r===Co?xt:r,n?r(e,t,n):r}function zn(e){for(var t=e.name,n=La[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Hn(e,t,r){var i=X.indexOf||_r;return i=i===_r?n:i,e?i(e,t,r):i}function Wn(e){for(var t=to(e),n=t.length;n--;)t[n][2]=rr(t[n][1]);return t}function Bn(e,t){var n=null==e?$:e[t];return Ri(n)?n:$}function Vn(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=ka(t,e+a);break;case"takeRight":e=$a(e,t-a)}}return{start:e,end:t}}function Yn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ta.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Xn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Yo),new t}function Gn(e,t,n){var r=e.constructor;switch(t){case te:return sn(e);case W:case B:return new r(+e);case ne:case re:case ie:case oe:case ae:case se:case ue:case le:case ce:var i=e.buffer;return new r(n?sn(i):i,e.byteOffset,e.length);case G:case Q:return new r(e);case Z:var o=new r(e.source,Te.exec(e));o.lastIndex=e.lastIndex}return o}function Kn(e,t,n){null==e||er(t,e)||(t=hr(t),e=1==t.length?e:Lt(e,Xt(t,0,-1)),t=Cr(t));var r=null==e?e:e[t];return null==r?$:r.apply(e,n)}function Zn(e){return null!=e&&nr(za(e))}function Jn(e,t){return e="number"==typeof e||De.test(e)?+e:-1,t=null==t?Da:t,e>-1&&e%1==0&&t>e}function Qn(e,t,n){if(!Li(n))return!1;var r=typeof t;if("number"==r?Zn(n)&&Jn(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function er(e,t){var n=typeof e;if("string"==n&&$e.test(e)||"number"==n)return!0;if(Ts(e))return!1;var r=!we.test(e);return r||null!=t&&e in fr(t)}function tr(e){var t=zn(e);if(!(t in qe.prototype))return!1;var n=X[t];if(e===n)return!0;var r=qa(n);return!!r&&e===r[0]}function nr(e){return"number"==typeof e&&e>-1&&e%1==0&&Da>=e}function rr(e){return e===e&&!Li(e)}function ir(e,t){var n=e[1],r=t[1],i=n|r,o=O>i,a=r==O&&n==E||r==O&&n==D&&e[7].length<=t[8]||r==(O|D)&&n==E;if(!o&&!a)return e;r&_&&(e[2]=t[2],i|=n&_?0:C);var s=t[3];if(s){var u=e[3];e[3]=u?un(u,s,t[4]):nt(s),e[4]=u?m(e[3],q):nt(t[4])}return s=t[5],s&&(u=e[5],e[5]=u?ln(u,s,t[6]):nt(s),e[6]=u?m(e[5],q):nt(t[6])),s=t[7],s&&(e[7]=nt(s)),r&O&&(e[8]=null==e[8]?t[8]:ka(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function or(e,t){return e===$?t:As(e,t,or)}function ar(e,t){e=fr(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function sr(e,t){var n={};return At(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function ur(e,t){for(var n=e.length,r=ka(t.length,n),i=nt(e);r--;){var o=t[r];e[r]=Jn(o,n)?i[o]:$}return e}function lr(e){for(var t=eo(e),n=t.length,r=n&&e.length,i=!!r&&nr(r)&&(Ts(e)||Si(e)),o=-1,a=[];++o<n;){var s=t[o];(i&&Jn(s,r)||ta.call(e,s))&&a.push(s)}return a}function cr(e){return null==e?[]:Zn(e)?Li(e)?e:Yo(e):oo(e)}function fr(e){return Li(e)?e:Yo(e)}function hr(e){if(Ts(e))return e;var t=[];return i(e).replace(ke,function(e,n,r,i){t.push(r?i.replace(Ee,"$1"):n||e);

}),t}function dr(e){return e instanceof qe?e.clone():new ee(e.__wrapped__,e.__chain__,nt(e.__actions__))}function pr(e,t,n){t=(n?Qn(e,t,n):null==t)?1:$a(ya(t)||1,1);for(var r=0,i=e?e.length:0,o=-1,a=qo(ma(i/t));i>r;)a[++o]=Xt(e,r,r+=t);return a}function gr(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function mr(e,t,n){var r=e?e.length:0;return r?((n?Qn(e,t,n):null==t)&&(t=1),Xt(e,0>t?0:t)):[]}function vr(e,t,n){var r=e?e.length:0;return r?((n?Qn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Xt(e,0,0>t?0:t)):[]}function yr(e,t,n){return e&&e.length?tn(e,qn(t,n,3),!0,!0):[]}function br(e,t,n){return e&&e.length?tn(e,qn(t,n,3),!0):[]}function xr(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Qn(e,t,n)&&(n=0,r=i),Ct(e,t,n,r)):[]}function wr(e){return e?e[0]:$}function $r(e,t,n){var r=e?e.length:0;return n&&Qn(e,t,n)&&(t=!1),r?Tt(e,t):[]}function kr(e){var t=e?e.length:0;return t?Tt(e,!0):[]}function _r(e,t,r){var i=e?e.length:0;if(!i)return-1;if("number"==typeof r)r=0>r?$a(i+r,0):r;else if(r){var o=rn(e,t);return i>o&&(t===t?t===e[o]:e[o]!==e[o])?o:-1}return n(e,t,r||0)}function Sr(e){return vr(e,1)}function Cr(e){var t=e?e.length:0;return t?e[t-1]:$}function Er(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?$a(r+n,0):ka(n||0,r-1))+1;else if(n){i=rn(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return d(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Mr(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Hn(),i=e.length;++n<i;)for(var o=0,a=e[n];(o=r(t,a,o))>-1;)da.call(t,o,1);return t}function Tr(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],a=e.length;for(t=qn(t,n,3);++i<a;){var s=e[i];t(s,i,e)&&(r.push(s),o.push(i))}return Bt(e,o),r}function Ar(e){return mr(e,1)}function Or(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Qn(e,t,n)&&(t=0,n=r),Xt(e,t,n)):[]}function Dr(e,t,n){var r=e?e.length:0;return r?((n?Qn(e,t,n):null==t)&&(t=1),Xt(e,0,0>t?0:t)):[]}function Nr(e,t,n){var r=e?e.length:0;return r?((n?Qn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Xt(e,0>t?0:t)):[]}function Lr(e,t,n){return e&&e.length?tn(e,qn(t,n,3),!1,!0):[]}function Pr(e,t,n){return e&&e.length?tn(e,qn(t,n,3)):[]}function Ir(e,t,r,i){var o=e?e.length:0;if(!o)return[];null!=t&&"boolean"!=typeof t&&(i=r,r=Qn(e,t,i)?$:t,t=!1);var a=qn();return(null!=r||a!==xt)&&(r=a(r,i,3)),t&&Hn()==n?v(e,r):Qt(e,r)}function Rr(e){if(!e||!e.length)return[];var t=-1,n=0;e=st(e,function(e){return Zn(e)?(n=$a(e.length,n),!0):void 0});for(var r=qo(n);++t<n;)r[t]=ut(e,Ht(t));return r}function jr(e,t,n){var r=e?e.length:0;if(!r)return[];var i=Rr(e);return null==t?i:(t=an(t,n,4),ut(i,function(e){return ct(e,t,$,!0)}))}function Fr(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Zn(n))var r=r?lt(kt(r,n),kt(n,r)):n}return r?Qt(r):[]}function Ur(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||Ts(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function qr(e){var t=X(e);return t.__chain__=!0,t}function zr(e,t,n){return t.call(n,e),e}function Hr(e,t,n){return t.call(n,e)}function Wr(){return qr(this)}function Br(){return new ee(this.value(),this.__chain__)}function Vr(e){for(var t,n=this;n instanceof J;){var r=dr(n);t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function Yr(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof qe){var n=e;return this.__actions__.length&&(n=new qe(this)),n=n.reverse(),n.__actions__.push({func:Hr,args:[t],thisArg:$}),new ee(n,this.__chain__)}return this.thru(t)}function Xr(){return this.value()+""}function Gr(){return nn(this.__wrapped__,this.__actions__)}function Kr(e,t,n){var r=Ts(e)?ot:_t;return n&&Qn(e,t,n)&&(t=$),("function"!=typeof t||n!==$)&&(t=qn(t,n,3)),r(e,t)}function Zr(e,t,n){var r=Ts(e)?st:Et;return t=qn(t,n,3),r(e,t)}function Jr(e,t){return is(e,Ft(t))}function Qr(e,t,n,r){var i=e?za(e):0;return nr(i)||(e=oo(e),i=e.length),n="number"!=typeof n||r&&Qn(t,n,r)?0:0>n?$a(i+n,0):n||0,"string"==typeof e||!Ts(e)&&zi(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&Hn(e,t,n)>-1}function ei(e,t,n){var r=Ts(e)?ut:jt;return t=qn(t,n,3),r(e,t)}function ti(e,t){return ei(e,Lo(t))}function ni(e,t,n){var r=Ts(e)?st:Et;return t=qn(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function ri(e,t,n){if(n?Qn(e,t,n):null==t){e=cr(e);var r=e.length;return r>0?e[Vt(0,r-1)]:$}var i=-1,o=Yi(e),r=o.length,a=r-1;for(t=ka(0>t?0:+t||0,r);++i<t;){var s=Vt(i,a),u=o[s];o[s]=o[i],o[i]=u}return o.length=t,o}function ii(e){return ri(e,Ma)}function oi(e){var t=e?za(e):0;return nr(t)?t:Us(e).length}function ai(e,t,n){var r=Ts(e)?ht:Gt;return n&&Qn(e,t,n)&&(t=$),("function"!=typeof t||n!==$)&&(t=qn(t,n,3)),r(e,t)}function si(e,t,n){if(null==e)return[];n&&Qn(e,t,n)&&(t=$);var r=-1;t=qn(t,n,3);var i=jt(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Kt(i,s)}function ui(e,t,n,r){return null==e?[]:(r&&Qn(t,n,r)&&(n=$),Ts(t)||(t=null==t?[]:[t]),Ts(n)||(n=null==n?[]:[n]),Zt(e,t,n))}function li(e,t){return Zr(e,Ft(t))}function ci(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Ko(U);var n=e;e=t,t=n}return e=xa(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function fi(e,t,n){return n&&Qn(e,t,n)&&(t=$),t=e&&null==t?e.length:$a(+t||0,0),Rn(e,O,$,$,$,$,t)}function hi(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Ko(U);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=$),n}}function di(e,t,n){function r(){d&&sa(d),l&&sa(l),g=0,l=d=p=$}function i(t,n){n&&sa(n),l=d=p=$,t&&(g=gs(),c=e.apply(h,u),d||l||(u=h=$))}function o(){var e=t-(gs()-f);0>=e||e>t?i(p,l):d=ha(o,e)}function a(){i(v,d)}function s(){if(u=arguments,f=gs(),h=this,p=v&&(d||!y),m===!1)var n=y&&!d;else{l||y||(g=f);var r=m-(f-g),i=0>=r||r>m;i?(l&&(l=sa(l)),g=f,c=e.apply(h,u)):l||(l=ha(a,r))}return i&&d?d=sa(d):d||t===m||(d=ha(o,t)),n&&(i=!0,c=e.apply(h,u)),!i||d||l||(u=h=$),c}var u,l,c,f,h,d,p,g=0,m=!1,v=!0;if("function"!=typeof e)throw new Ko(U);if(t=0>t?0:+t||0,n===!0){var y=!0;v=!1}else Li(n)&&(y=!!n.leading,m="maxWait"in n&&$a(+n.maxWait||0,t),v="trailing"in n?!!n.trailing:v);return s.cancel=r,s}function pi(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Ko(U);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new pi.Cache,n}function gi(e){if("function"!=typeof e)throw new Ko(U);return function(){return!e.apply(this,arguments)}}function mi(e){return hi(2,e)}function vi(e,t){if("function"!=typeof e)throw new Ko(U);return t=$a(t===$?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=$a(n.length-t,0),o=qo(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=qo(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=o,e.apply(this,a)}}function yi(e){if("function"!=typeof e)throw new Ko(U);return function(t){return e.apply(this,t)}}function bi(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ko(U);return n===!1?r=!1:Li(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),di(e,t,{leading:r,maxWait:+t,trailing:i})}function xi(e,t){return t=null==t?Mo:t,Rn(t,T,$,[e],[])}function wi(e,t,n,r){return t&&"boolean"!=typeof t&&Qn(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?wt(e,t,an(n,r,1)):wt(e,t)}function $i(e,t,n){return"function"==typeof t?wt(e,!0,an(t,n,1)):wt(e,!0)}function ki(e,t){return e>t}function _i(e,t){return e>=t}function Si(e){return p(e)&&Zn(e)&&ta.call(e,"callee")&&!ca.call(e,"callee")}function Ci(e){return e===!0||e===!1||p(e)&&ra.call(e)==W}function Ei(e){return p(e)&&ra.call(e)==B}function Mi(e){return!!e&&1===e.nodeType&&p(e)&&!Ui(e)}function Ti(e){return null==e?!0:Zn(e)&&(Ts(e)||zi(e)||Si(e)||p(e)&&Ni(e.splice))?!e.length:!Us(e).length}function Ai(e,t,n,r){n="function"==typeof n?an(n,r,3):$;var i=n?n(e,t):$;return i===$?Pt(e,t,n):!!i}function Oi(e){return p(e)&&"string"==typeof e.message&&ra.call(e)==V}function Di(e){return"number"==typeof e&&xa(e)}function Ni(e){return Li(e)&&ra.call(e)==Y}function Li(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Pi(e,t,n,r){return n="function"==typeof n?an(n,r,3):$,Rt(e,Wn(t),n)}function Ii(e){return Fi(e)&&e!=+e}function Ri(e){return null==e?!1:Ni(e)?oa.test(ea.call(e)):p(e)&&Oe.test(e)}function ji(e){return null===e}function Fi(e){return"number"==typeof e||p(e)&&ra.call(e)==G}function Ui(e){var t;if(!p(e)||ra.call(e)!=K||Si(e)||!ta.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return At(e,function(e,t){n=t}),n===$||ta.call(e,n)}function qi(e){return Li(e)&&ra.call(e)==Z}function zi(e){return"string"==typeof e||p(e)&&ra.call(e)==Q}function Hi(e){return p(e)&&nr(e.length)&&!!Fe[ra.call(e)]}function Wi(e){return e===$}function Bi(e,t){return t>e}function Vi(e,t){return t>=e}function Yi(e){var t=e?za(e):0;return nr(t)?t?nt(e):[]:oo(e)}function Xi(e){return bt(e,eo(e))}function Gi(e,t,n){var r=Pa(e);return n&&Qn(e,t,n)&&(t=$),t?vt(r,t):r}function Ki(e){return Nt(e,eo(e))}function Zi(e,t,n){var r=null==e?$:Lt(e,hr(t),t+"");return r===$?n:r}function Ji(e,t){if(null==e)return!1;var n=ta.call(e,t);if(!n&&!er(t)){if(t=hr(t),e=1==t.length?e:Lt(e,Xt(t,0,-1)),null==e)return!1;t=Cr(t),n=ta.call(e,t)}return n||nr(e.length)&&Jn(t,e.length)&&(Ts(e)||Si(e))}function Qi(e,t,n){n&&Qn(e,t,n)&&(t=$);for(var r=-1,i=Us(e),o=i.length,a={};++r<o;){var s=i[r],u=e[s];t?ta.call(a,u)?a[u].push(s):a[u]=[s]:a[u]=s}return a}function eo(e){if(null==e)return[];Li(e)||(e=Yo(e));var t=e.length;t=t&&nr(t)&&(Ts(e)||Si(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=qo(t),a=t>0;++r<t;)o[r]=r+"";for(var s in e)a&&Jn(s,t)||"constructor"==s&&(i||!ta.call(e,s))||o.push(s);return o}function to(e){e=fr(e);for(var t=-1,n=Us(e),r=n.length,i=qo(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function no(e,t,n){var r=null==e?$:e[t];return r===$&&(null==e||er(t,e)||(t=hr(t),e=1==t.length?e:Lt(e,Xt(t,0,-1)),r=null==e?$:e[Cr(t)]),r=r===$?n:r),Ni(r)?r.call(e):r}function ro(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||er(t,e)?[r]:hr(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var u=t[i];Li(s)&&(i==a?s[u]=n:null==s[u]&&(s[u]=Jn(t[i+1])?[]:{})),s=s[u]}return e}function io(e,t,n,r){var i=Ts(e)||Hi(e);if(t=qn(t,r,4),null==n)if(i||Li(e)){var o=e.constructor;n=i?Ts(e)?new o:[]:Pa(Ni(o)?o.prototype:$)}else n={};return(i?rt:Ot)(e,function(e,r,i){return t(n,e,r,i)}),n}function oo(e){return en(e,Us(e))}function ao(e){return en(e,eo(e))}function so(e,t,n){return t=+t||0,n===$?(n=t,t=0):n=+n||0,e>=ka(t,n)&&e<$a(t,n)}function uo(e,t,n){n&&Qn(e,t,n)&&(t=n=$);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Ca();return ka(e+o*(t-e+ua("1e-"+((o+"").length-1))),t)}return Vt(e,t)}function lo(e){return e=i(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function co(e){return e=i(e),e&&e.replace(Ne,l).replace(Ce,"")}function fo(e,t,n){e=i(e),t+="";var r=e.length;return n=n===$?r:ka(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function ho(e){return e=i(e),e&&ve.test(e)?e.replace(ge,c):e}function po(e){return e=i(e),e&&Se.test(e)?e.replace(_e,f):e||"(?:)"}function go(e,t,n){e=i(e),t=+t;var r=e.length;if(r>=t||!xa(t))return e;var o=(t-r)/2,a=ya(o),s=ma(o);return n=Nn("",s,n),n.slice(0,a)+e+n}function mo(e,t,n){return(n?Qn(e,t,n):null==t)?t=0:t&&(t=+t),e=xo(e),Sa(e,t||(Ae.test(e)?16:10))}function vo(e,t){var n="";if(e=i(e),t=+t,1>t||!e||!xa(t))return n;do t%2&&(n+=e),t=ya(t/2),e+=e;while(t);return n}function yo(e,t,n){return e=i(e),n=null==n?0:ka(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function bo(e,t,n){var r=X.templateSettings;n&&Qn(e,t,n)&&(t=n=$),e=i(e),t=mt(vt({},n||t),r,gt);var o,a,s=mt(vt({},t.imports),r.imports,gt),u=Us(s),l=en(s,u),c=0,f=t.interpolate||Le,d="__p += '",p=Xo((t.escape||Le).source+"|"+f.source+"|"+(f===xe?Me:Le).source+"|"+(t.evaluate||Le).source+"|$","g"),g="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++je+"]")+"\n";e.replace(p,function(t,n,r,i,s,u){return r||(r=i),d+=e.slice(c,u).replace(Pe,h),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t}),d+="';\n";var m=t.variable;m||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(fe,""):d).replace(he,"$1").replace(de,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Zs(function(){return Wo(u,g+"return "+d).apply($,l)});if(v.source=d,Oi(v))throw v;return v}function xo(e,t,n){var r=e;return(e=i(e))?(n?Qn(r,t,n):null==t)?e.slice(y(e),b(e)+1):(t+="",e.slice(o(e,t),a(e,t)+1)):e}function wo(e,t,n){var r=e;return e=i(e),e?e.slice((n?Qn(r,t,n):null==t)?y(e):o(e,t+"")):e}function $o(e,t,n){var r=e;return e=i(e),e?(n?Qn(r,t,n):null==t)?e.slice(0,b(e)+1):e.slice(0,a(e,t+"")+1):e}function ko(e,t,n){n&&Qn(e,t,n)&&(t=$);var r=N,o=L;if(null!=t)if(Li(t)){var a="separator"in t?t.separator:a;r="length"in t?+t.length||0:r,o="omission"in t?i(t.omission):o}else r=+t||0;if(e=i(e),r>=e.length)return e;var s=r-o.length;if(1>s)return o;var u=e.slice(0,s);if(null==a)return u+o;if(qi(a)){if(e.slice(s).search(a)){var l,c,f=e.slice(0,s);for(a.global||(a=Xo(a.source,(Te.exec(a)||"")+"g")),a.lastIndex=0;l=a.exec(f);)c=l.index;u=u.slice(0,null==c?s:c)}}else if(e.indexOf(a,s)!=s){var h=u.lastIndexOf(a);h>-1&&(u=u.slice(0,h))}return u+o}function _o(e){return e=i(e),e&&me.test(e)?e.replace(pe,x):e}function So(e,t,n){return n&&Qn(e,t,n)&&(t=$),e=i(e),e.match(t||Ie)||[]}function Co(e,t,n){return n&&Qn(e,t,n)&&(t=$),p(e)?To(e):xt(e,t)}function Eo(e){return function(){return e}}function Mo(e){return e}function To(e){return Ft(wt(e,!0))}function Ao(e,t){return Ut(e,wt(t,!0))}function Oo(e,t,n){if(null==n){var r=Li(t),i=r?Us(t):$,o=i&&i.length?Nt(t,i):$;(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=Nt(t,Us(t)));var a=!0,s=-1,u=Ni(e),l=o.length;n===!1?a=!1:Li(n)&&"chain"in n&&(a=n.chain);for(;++s<l;){var c=o[s],f=t[c];e[c]=f,u&&(e.prototype[c]=function(t){return function(){var n=this.__chain__;if(a||n){var r=e(this.__wrapped__),i=r.__actions__=nt(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,lt([this.value()],arguments))}}(f))}return e}function Do(){return Qe._=ia,this}function No(){}function Lo(e){return er(e)?Ht(e):Wt(e)}function Po(e){return function(t){return Lt(e,hr(t),t+"")}}function Io(e,t,n){n&&Qn(e,t,n)&&(t=n=$),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=$a(ma((t-e)/(n||1)),0),o=qo(i);++r<i;)o[r]=e,e+=n;return o}function Ro(e,t,n){if(e=ya(e),1>e||!xa(e))return[];var r=-1,i=qo(ka(e,Ta));for(t=an(t,n,1);++r<e;)Ta>r?i[r]=t(r):t(r);return i}function jo(e){var t=++na;return i(e)+t}function Fo(e,t){return(+e||0)+(+t||0)}function Uo(e,t,n){return n&&Qn(e,t,n)&&(t=$),t=qn(t,n,3),1==t.length?dt(Ts(e)?e:cr(e),t):Jt(e,t)}g=g?et.defaults(Qe.Object(),g,et.pick(Qe,Re)):Qe;{var qo=g.Array,zo=g.Date,Ho=g.Error,Wo=g.Function,Bo=g.Math,Vo=g.Number,Yo=g.Object,Xo=g.RegExp,Go=g.String,Ko=g.TypeError,Zo=qo.prototype,Jo=Yo.prototype,Qo=Go.prototype,ea=Wo.prototype.toString,ta=Jo.hasOwnProperty,na=0,ra=Jo.toString,ia=Qe._,oa=Xo("^"+ea.call(ta).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=g.ArrayBuffer,sa=g.clearTimeout,ua=g.parseFloat,la=Bo.pow,ca=Jo.propertyIsEnumerable,fa=Bn(g,"Set"),ha=g.setTimeout,da=Zo.splice,pa=g.Uint8Array,ga=Bn(g,"WeakMap"),ma=Bo.ceil,va=Bn(Yo,"create"),ya=Bo.floor,ba=Bn(qo,"isArray"),xa=g.isFinite,wa=Bn(Yo,"keys"),$a=Bo.max,ka=Bo.min,_a=Bn(zo,"now"),Sa=g.parseInt,Ca=Bo.random,Ea=Vo.NEGATIVE_INFINITY,Ma=Vo.POSITIVE_INFINITY,Ta=4294967295,Aa=Ta-1,Oa=Ta>>>1,Da=9007199254740991,Na=ga&&new ga,La={};X.support={}}X.templateSettings={escape:ye,evaluate:be,interpolate:xe,variable:"",imports:{_:X}};var Pa=function(){function e(){}return function(t){if(Li(t)){e.prototype=t;var n=new e;e.prototype=$}return n||{}}}(),Ia=hn(Ot),Ra=hn(Dt,!0),ja=dn(),Fa=dn(!0),Ua=Na?function(e,t){return Na.set(e,t),e}:Mo,qa=Na?function(e){return Na.get(e)}:No,za=Ht("length"),Ha=function(){var e=0,t=0;return function(n,r){var i=gs(),o=I-(i-t);if(t=i,o>0){if(++e>=P)return n}else e=0;return Ua(n,r)}}(),Wa=vi(function(e,t){return p(e)&&Zn(e)?kt(e,Tt(t,!1,!0)):[]}),Ba=$n(),Va=$n(!0),Ya=vi(function(e){for(var t=e.length,r=t,i=qo(f),o=Hn(),a=o==n,s=[];r--;){var u=e[r]=Zn(u=e[r])?u:[];i[r]=a&&u.length>=120?gn(r&&u):null}var l=e[0],c=-1,f=l?l.length:0,h=i[0];e:for(;++c<f;)if(u=l[c],(h?Ze(h,u):o(s,u,0))<0){for(var r=t;--r;){var d=i[r];if((d?Ze(d,u):o(e[r],u,0))<0)continue e}h&&h.push(u),s.push(u)}return s}),Xa=vi(function(t,n){n=Tt(n);var r=yt(t,n);return Bt(t,n.sort(e)),r}),Ga=In(),Ka=In(!0),Za=vi(function(e){return Qt(Tt(e,!1,!0))}),Ja=vi(function(e,t){return Zn(e)?kt(e,t):[]}),Qa=vi(Rr),es=vi(function(e){var t=e.length,n=t>2?e[t-2]:$,r=t>1?e[t-1]:$;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):$,r=$),e.length=t,jr(e,n,r)}),ts=vi(function(e){return e=Tt(e),this.thru(function(t){return tt(Ts(t)?t:[fr(t)],e)})}),ns=vi(function(e,t){return yt(e,Tt(t))}),rs=cn(function(e,t,n){ta.call(e,n)?++e[n]:e[n]=1}),is=wn(Ia),os=wn(Ra,!0),as=Sn(rt,Ia),ss=Sn(it,Ra),us=cn(function(e,t,n){ta.call(e,n)?e[n].push(t):e[n]=[t]}),ls=cn(function(e,t,n){e[n]=t}),cs=vi(function(e,t,n){var r=-1,i="function"==typeof t,o=er(t),a=Zn(e)?qo(e.length):[];return Ia(e,function(e){var s=i?t:o&&null!=e?e[t]:$;a[++r]=s?s.apply(e,n):Kn(e,t,n)}),a}),fs=cn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),hs=On(ct,Ia),ds=On(ft,Ra),ps=vi(function(e,t){if(null==e)return[];var n=t[2];return n&&Qn(t[0],t[1],n)&&(t.length=1),Zt(e,Tt(t),[])}),gs=_a||function(){return(new zo).getTime()},ms=vi(function(e,t,n){var r=_;if(n.length){var i=m(n,ms.placeholder);r|=T}return Rn(e,r,t,n,i)}),vs=vi(function(e,t){t=t.length?Tt(t):Ki(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Rn(e[i],_,e)}return e}),ys=vi(function(e,t,n){var r=_|S;if(n.length){var i=m(n,ys.placeholder);r|=T}return Rn(t,r,e,n,i)}),bs=yn(E),xs=yn(M),ws=vi(function(e,t){return $t(e,1,t)}),$s=vi(function(e,t,n){return $t(e,t,n)}),ks=_n(),_s=_n(!0),Ss=vi(function(e,t){if(t=Tt(t),"function"!=typeof e||!ot(t,r))throw new Ko(U);var n=t.length;return vi(function(r){for(var i=ka(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)})}),Cs=An(T),Es=An(A),Ms=vi(function(e,t){return Rn(e,D,$,$,$,Tt(t))}),Ts=ba||function(e){return p(e)&&nr(e.length)&&ra.call(e)==H},As=fn(qt),Os=fn(function(e,t,n){return n?mt(e,t,n):vt(e,t)}),Ds=bn(Os,pt),Ns=bn(As,or),Ls=kn(Ot),Ps=kn(Dt),Is=Cn(ja),Rs=Cn(Fa),js=En(Ot),Fs=En(Dt),Us=wa?function(e){var t=null==e?$:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Zn(e)?lr(e):Li(e)?wa(e):[]}:lr,qs=Mn(!0),zs=Mn(),Hs=vi(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=ut(Tt(t),Go);return ar(e,kt(eo(e),t))}var n=an(t[0],t[1],3);return sr(e,function(e,t,r){return!n(e,t,r)})}),Ws=vi(function(e,t){return null==e?{}:"function"==typeof t[0]?sr(e,an(t[0],t[1],3)):ar(e,Tt(t))}),Bs=mn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Vs=mn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ys=Tn(),Xs=Tn(!0),Gs=mn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ks=mn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Zs=vi(function(e,t){try{return e.apply($,t)}catch(n){return Oi(n)?n:new Ho(n)}}),Js=vi(function(e,t){return function(n){return Kn(n,e,t)}}),Qs=vi(function(e,t){return function(n){return Kn(e,n,t)}}),eu=Pn("ceil"),tu=Pn("floor"),nu=xn(ki,Ea),ru=xn(Bi,Ma),iu=Pn("round");return X.prototype=J.prototype,ee.prototype=Pa(J.prototype),ee.prototype.constructor=ee,qe.prototype=Pa(J.prototype),qe.prototype.constructor=qe,Be.prototype["delete"]=Ve,Be.prototype.get=Ye,Be.prototype.has=Xe,Be.prototype.set=Ge,Ke.prototype.push=Je,pi.Cache=Be,X.after=ci,X.ary=fi,X.assign=Os,X.at=ns,X.before=hi,X.bind=ms,X.bindAll=vs,X.bindKey=ys,X.callback=Co,X.chain=qr,X.chunk=pr,X.compact=gr,X.constant=Eo,X.countBy=rs,X.create=Gi,X.curry=bs,X.curryRight=xs,X.debounce=di,X.defaults=Ds,X.defaultsDeep=Ns,X.defer=ws,X.delay=$s,X.difference=Wa,X.drop=mr,X.dropRight=vr,X.dropRightWhile=yr,X.dropWhile=br,X.fill=xr,X.filter=Zr,X.flatten=$r,X.flattenDeep=kr,X.flow=ks,X.flowRight=_s,X.forEach=as,X.forEachRight=ss,X.forIn=Is,X.forInRight=Rs,X.forOwn=js,X.forOwnRight=Fs,X.functions=Ki,X.groupBy=us,X.indexBy=ls,X.initial=Sr,X.intersection=Ya,X.invert=Qi,X.invoke=cs,X.keys=Us,X.keysIn=eo,X.map=ei,X.mapKeys=qs,X.mapValues=zs,X.matches=To,X.matchesProperty=Ao,X.memoize=pi,X.merge=As,X.method=Js,X.methodOf=Qs,X.mixin=Oo,X.modArgs=Ss,X.negate=gi,X.omit=Hs,X.once=mi,X.pairs=to,X.partial=Cs,X.partialRight=Es,X.partition=fs,X.pick=Ws,X.pluck=ti,X.property=Lo,X.propertyOf=Po,X.pull=Mr,X.pullAt=Xa,X.range=Io,X.rearg=Ms,X.reject=ni,X.remove=Tr,X.rest=Ar,X.restParam=vi,X.set=ro,X.shuffle=ii,X.slice=Or,X.sortBy=si,X.sortByAll=ps,X.sortByOrder=ui,X.spread=yi,X.take=Dr,X.takeRight=Nr,X.takeRightWhile=Lr,X.takeWhile=Pr,X.tap=zr,X.throttle=bi,X.thru=Hr,X.times=Ro,X.toArray=Yi,X.toPlainObject=Xi,X.transform=io,X.union=Za,X.uniq=Ir,X.unzip=Rr,X.unzipWith=jr,X.values=oo,X.valuesIn=ao,X.where=li,X.without=Ja,X.wrap=xi,X.xor=Fr,X.zip=Qa,X.zipObject=Ur,X.zipWith=es,X.backflow=_s,X.collect=ei,X.compose=_s,X.each=as,X.eachRight=ss,X.extend=Os,X.iteratee=Co,X.methods=Ki,X.object=Ur,X.select=Zr,X.tail=Ar,X.unique=Ir,Oo(X,X),X.add=Fo,X.attempt=Zs,X.camelCase=Bs,X.capitalize=lo,X.ceil=eu,X.clone=wi,X.cloneDeep=$i,X.deburr=co,X.endsWith=fo,X.escape=ho,X.escapeRegExp=po,X.every=Kr,X.find=is,X.findIndex=Ba,X.findKey=Ls,X.findLast=os,X.findLastIndex=Va,X.findLastKey=Ps,X.findWhere=Jr,X.first=wr,X.floor=tu,X.get=Zi,X.gt=ki,X.gte=_i,X.has=Ji,X.identity=Mo,X.includes=Qr,X.indexOf=_r,X.inRange=so,X.isArguments=Si,X.isArray=Ts,X.isBoolean=Ci,X.isDate=Ei,X.isElement=Mi,X.isEmpty=Ti,X.isEqual=Ai,X.isError=Oi,X.isFinite=Di,X.isFunction=Ni,X.isMatch=Pi,X.isNaN=Ii,X.isNative=Ri,X.isNull=ji,X.isNumber=Fi,X.isObject=Li,X.isPlainObject=Ui,X.isRegExp=qi,X.isString=zi,X.isTypedArray=Hi,X.isUndefined=Wi,X.kebabCase=Vs,X.last=Cr,X.lastIndexOf=Er,X.lt=Bi,X.lte=Vi,X.max=nu,X.min=ru,X.noConflict=Do,X.noop=No,X.now=gs,X.pad=go,X.padLeft=Ys,X.padRight=Xs,X.parseInt=mo,X.random=uo,X.reduce=hs,X.reduceRight=ds,X.repeat=vo,X.result=no,X.round=iu,X.runInContext=w,X.size=oi,X.snakeCase=Gs,X.some=ai,X.sortedIndex=Ga,X.sortedLastIndex=Ka,X.startCase=Ks,X.startsWith=yo,X.sum=Uo,X.template=bo,X.trim=xo,X.trimLeft=wo,X.trimRight=$o,X.trunc=ko,X.unescape=_o,X.uniqueId=jo,X.words=So,X.all=Kr,X.any=ai,X.contains=Qr,X.eq=Ai,X.detect=is,X.foldl=hs,X.foldr=ds,X.head=wr,X.include=Qr,X.inject=hs,Oo(X,function(){var e={};return Ot(X,function(t,n){X.prototype[n]||(e[n]=t)}),e}(),!1),X.sample=ri,X.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ri(t,e)}):ri(this.value())},X.VERSION=k,rt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){X[e].placeholder=X}),rt(["drop","take"],function(e,t){qe.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new qe(this);n=null==n?1:$a(ya(n)||0,0);var i=this.clone();return r?i.__takeCount__=ka(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},qe.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),rt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=F;qe.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:qn(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),rt(["first","last"],function(e,t){var n="take"+(t?"Right":"");qe.prototype[e]=function(){return this[n](1).value()[0]}}),rt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");qe.prototype[e]=function(){return this.__filtered__?new qe(this):this[n](1)}}),rt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Ft:Lo;qe.prototype[e]=function(e){return this[n](r(e))}}),qe.prototype.compact=function(){return this.filter(Mo)},qe.prototype.reject=function(e,t){return e=qn(e,t,1),this.filter(function(t){return!e(t)})},qe.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new qe(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==$&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},qe.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},qe.prototype.toArray=function(){return this.take(Ma)},Ot(qe.prototype,function(e,t){var n=/^(?:filter|map|reject)|While$/.test(t),r=/^(?:first|last)$/.test(t),i=X[r?"take"+("last"==t?"Right":""):t];i&&(X.prototype[t]=function(){var t=r?[1]:arguments,o=this.__chain__,a=this.__wrapped__,s=!!this.__actions__.length,u=a instanceof qe,l=t[0],c=u||Ts(a);c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=function(e){return r&&o?i(e,1)[0]:i.apply($,lt([e],t))},h={func:Hr,args:[f],thisArg:$},d=u&&!s;if(r&&!o)return d?(a=a.clone(),a.__actions__.push(h),e.call(a)):i.call($,this.value())[0];if(!r&&c){a=d?a:new qe(this);var p=e.apply(a,t);return p.__actions__.push(h),new ee(p,o)}return this.thru(f)})}),rt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?Qo:Zo)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);X.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),Ot(qe.prototype,function(e,t){var n=X[t];if(n){var r=n.name,i=La[r]||(La[r]=[]);i.push({name:t,func:n})}}),La[Dn($,S).name]=[{name:"wrapper",func:$}],qe.prototype.clone=ze,qe.prototype.reverse=He,qe.prototype.value=We,X.prototype.chain=Wr,X.prototype.commit=Br,X.prototype.concat=ts,X.prototype.plant=Vr,X.prototype.reverse=Yr,X.prototype.toString=Xr,X.prototype.run=X.prototype.toJSON=X.prototype.valueOf=X.prototype.value=Gr,X.prototype.collect=X.prototype.map,X.prototype.head=X.prototype.first,X.prototype.select=X.prototype.filter,X.prototype.tail=X.prototype.rest,X}var $,k="3.10.0",_=1,S=2,C=4,E=8,M=16,T=32,A=64,O=128,D=256,N=30,L="...",P=150,I=16,R=200,j=1,F=2,U="Expected a function",q="__lodash_placeholder__",z="[object Arguments]",H="[object Array]",W="[object Boolean]",B="[object Date]",V="[object Error]",Y="[object Function]",X="[object Map]",G="[object Number]",K="[object Object]",Z="[object RegExp]",J="[object Set]",Q="[object String]",ee="[object WeakMap]",te="[object ArrayBuffer]",ne="[object Float32Array]",re="[object Float64Array]",ie="[object Int8Array]",oe="[object Int16Array]",ae="[object Int32Array]",se="[object Uint8Array]",ue="[object Uint8ClampedArray]",le="[object Uint16Array]",ce="[object Uint32Array]",fe=/\b__p \+= '';/g,he=/\b(__p \+=) '' \+/g,de=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pe=/&(?:amp|lt|gt|quot|#39|#96);/g,ge=/[&<>"'`]/g,me=RegExp(pe.source),ve=RegExp(ge.source),ye=/<%-([\s\S]+?)%>/g,be=/<%([\s\S]+?)%>/g,xe=/<%=([\s\S]+?)%>/g,we=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,$e=/^\w*$/,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,_e=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Se=RegExp(_e.source),Ce=/[\u0300-\u036f\ufe20-\ufe23]/g,Ee=/\\(\\)?/g,Me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Te=/\w*$/,Ae=/^0[xX]/,Oe=/^\[object .+?Constructor\]$/,De=/^\d+$/,Ne=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Le=/($^)/,Pe=/['\n\r\u2028\u2029\\]/g,Ie=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Re=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],je=-1,Fe={};Fe[ne]=Fe[re]=Fe[ie]=Fe[oe]=Fe[ae]=Fe[se]=Fe[ue]=Fe[le]=Fe[ce]=!0,Fe[z]=Fe[H]=Fe[te]=Fe[W]=Fe[B]=Fe[V]=Fe[Y]=Fe[X]=Fe[G]=Fe[K]=Fe[Z]=Fe[J]=Fe[Q]=Fe[ee]=!1;var Ue={};Ue[z]=Ue[H]=Ue[te]=Ue[W]=Ue[B]=Ue[ne]=Ue[re]=Ue[ie]=Ue[oe]=Ue[ae]=Ue[G]=Ue[K]=Ue[Z]=Ue[Q]=Ue[se]=Ue[ue]=Ue[le]=Ue[ce]=!0,Ue[V]=Ue[Y]=Ue[X]=Ue[J]=Ue[ee]=!1;var qe={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},ze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},He={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},We={"function":!0,object:!0},Be={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ve={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ye=We[typeof exports]&&exports&&!exports.nodeType&&exports,Xe=We[typeof module]&&module&&!module.nodeType&&module,Ge=Ye&&Xe&&"object"==typeof global&&global&&global.Object&&global,Ke=We[typeof self]&&self&&self.Object&&self,Ze=We[typeof window]&&window&&window.Object&&window,Je=Xe&&Xe.exports===Ye&&Ye,Qe=Ge||Ze!==(this&&this.window)&&Ze||Ke||this,et=w();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Qe._=et,define(function(){return et})):Ye&&Xe?Je?(Xe.exports=et)._=et:Ye._=et:Qe._=et}.call(this),/**
 * @license AngularJS v1.4.3
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";function r(e){var t;if(t=e.match(l)){var n=new Date(0),r=0,o=0;return t[9]&&(r=i(t[9]+t[10]),o=i(t[9]+t[11])),n.setUTCFullYear(i(t[1]),i(t[2])-1,i(t[3])),n.setUTCHours(i(t[4]||0)-r,i(t[5]||0)-o,i(t[6]||0),i(t[7]||0)),n}return e}function i(e){return parseInt(e,10)}function o(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function a(e,r,i,o){function a(e,n,r,i){return t.isFunction(e)?e:function(){return t.isNumber(e)?[e,n,r,i]:[200,e,n,r]}}function l(e,a,s,l,c,m,v){function y(e){return t.isString(e)||t.isFunction(e)||e instanceof RegExp?e:t.toJson(e)}function b(t){function i(){var n=t.response(e,a,s,c);x.$$respHeaders=n[2],l(g(n[0]),g(n[1]),x.getAllResponseHeaders(),g(n[3]||""))}function u(){for(var e=0,t=d.length;t>e;e++)if(d[e]===i){d.splice(e,1),l(-1,n,"");break}}return!o&&m&&(m.then?m.then(u):r(u,m)),i}var x=new u,w=h[0],$=!1;if(w&&w.match(e,a)){if(!w.matchData(s))throw new Error("Expected "+w+" with different data\nEXPECTED: "+y(w.data)+"\nGOT:      "+s);if(!w.matchHeaders(c))throw new Error("Expected "+w+" with different headers\nEXPECTED: "+y(w.headers)+"\nGOT:      "+y(c));if(h.shift(),w.response)return void d.push(b(w));$=!0}for(var k,_=-1;k=f[++_];)if(k.match(e,a,s,c||{})){if(k.response)(o?o.defer:p)(b(k));else{if(!k.passThrough)throw new Error("No response defined !");i(e,a,s,l,c,m,v)}return}throw new Error($?"No response defined !":"Unexpected request: "+e+" "+a+"\n"+(w?"Expected "+w:"No more request expected"))}function c(e){t.forEach(["GET","DELETE","JSONP","HEAD"],function(t){l[e+t]=function(r,i){return l[e](t,r,n,i)}}),t.forEach(["PUT","POST","PATCH"],function(t){l[e+t]=function(n,r,i){return l[e](t,n,r,i)}})}var f=[],h=[],d=[],p=t.bind(d,d.push),g=t.copy;return l.when=function(e,t,r,i){var u=new s(e,t,r,i),l={respond:function(e,t,r,i){return u.passThrough=n,u.response=a(e,t,r,i),l}};return o&&(l.passThrough=function(){return u.response=n,u.passThrough=!0,l}),f.push(u),l},c("when"),l.expect=function(e,t,n,r){var i=new s(e,t,n,r),o={respond:function(e,t,n,r){return i.response=a(e,t,n,r),o}};return h.push(i),o},c("expect"),l.flush=function(n,r){if(r!==!1&&e.$digest(),!d.length)throw new Error("No pending request to flush !");if(t.isDefined(n)&&null!==n)for(;n--;){if(!d.length)throw new Error("No more pending request to flush !");d.shift()()}else for(;d.length;)d.shift()();l.verifyNoOutstandingExpectation(r)},l.verifyNoOutstandingExpectation=function(t){if(t!==!1&&e.$digest(),h.length)throw new Error("Unsatisfied requests: "+h.join(", "))},l.verifyNoOutstandingRequest=function(){if(d.length)throw new Error("Unflushed requests: "+d.length)},l.resetExpectations=function(){h.length=0,d.length=0},l}function s(e,n,r,i){this.data=r,this.headers=i,this.match=function(n,r,i,o){return e!=n?!1:this.matchUrl(r)?t.isDefined(i)&&!this.matchData(i)?!1:t.isDefined(o)&&!this.matchHeaders(o)?!1:!0:!1},this.matchUrl=function(e){return n?t.isFunction(n.test)?n.test(e):t.isFunction(n)?n(e):n==e:!0},this.matchHeaders=function(e){return t.isUndefined(i)?!0:t.isFunction(i)?i(e):t.equals(i,e)},this.matchData=function(e){return t.isUndefined(r)?!0:r&&t.isFunction(r.test)?r.test(e):r&&t.isFunction(r)?r(e):r&&!t.isString(r)?t.equals(t.fromJson(t.toJson(r)),t.fromJson(e)):r==e},this.toString=function(){return e+" "+n}}function u(){u.$$lastInstance=this,this.open=function(e,t,n){this.$$method=e,this.$$url=t,this.$$async=n,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(e){this.$$data=e},this.setRequestHeader=function(e,t){this.$$reqHeaders[e]=t},this.getResponseHeader=function(e){var r=this.$$respHeaders[e];return r?r:(e=t.lowercase(e),(r=this.$$respHeaders[e])?r:(r=n,t.forEach(this.$$respHeaders,function(n,i){r||t.lowercase(i)!=e||(r=n)}),r))},this.getAllResponseHeaders=function(){var e=[];return t.forEach(this.$$respHeaders,function(t,n){e.push(n+": "+t)}),e.join("\n")},this.abort=t.noop}t.mock={},t.mock.$BrowserProvider=function(){this.$get=function(){return new t.mock.$Browser}},t.mock.$Browser=function(){var e=this;this.isMock=!0,e.$$url="http://server/",e.$$lastUrl=e.$$url,e.pollFns=[],e.$$completeOutstandingRequest=t.noop,e.$$incOutstandingRequestCount=t.noop,e.onUrlChange=function(t){return e.pollFns.push(function(){(e.$$lastUrl!==e.$$url||e.$$state!==e.$$lastState)&&(e.$$lastUrl=e.$$url,e.$$lastState=e.$$state,t(e.$$url,e.$$state))}),t},e.$$applicationDestroyed=t.noop,e.$$checkUrlChange=t.noop,e.deferredFns=[],e.deferredNextId=0,e.defer=function(t,n){return n=n||0,e.deferredFns.push({time:e.defer.now+n,fn:t,id:e.deferredNextId}),e.deferredFns.sort(function(e,t){return e.time-t.time}),e.deferredNextId++},e.defer.now=0,e.defer.cancel=function(r){var i;return t.forEach(e.deferredFns,function(e,t){e.id===r&&(i=t)}),i!==n?(e.deferredFns.splice(i,1),!0):!1},e.defer.flush=function(n){if(t.isDefined(n))e.defer.now+=n;else{if(!e.deferredFns.length)throw new Error("No deferred tasks to be flushed");e.defer.now=e.deferredFns[e.deferredFns.length-1].time}for(;e.deferredFns.length&&e.deferredFns[0].time<=e.defer.now;)e.deferredFns.shift().fn()},e.$$baseHref="/",e.baseHref=function(){return this.$$baseHref}},t.mock.$Browser.prototype={poll:function(){t.forEach(this.pollFns,function(e){e()})},url:function(e,n,r){return t.isUndefined(r)&&(r=null),e?(this.$$url=e,this.$$state=t.copy(r),this):this.$$url},state:function(){return this.$$state},notifyWhenNoOutstandingRequests:function(e){e()}},t.mock.$ExceptionHandlerProvider=function(){var e;this.mode=function(t){switch(t){case"log":case"rethrow":var n=[];e=function(e){if(n.push(1==arguments.length?e:[].slice.call(arguments,0)),"rethrow"===t)throw e},e.errors=n;break;default:throw new Error("Unknown mode '"+t+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return e},this.mode("rethrow")},t.mock.$LogProvider=function(){function e(e,t,n){return e.concat(Array.prototype.slice.call(t,n))}var n=!0;this.debugEnabled=function(e){return t.isDefined(e)?(n=e,this):n},this.$get=function(){var r={log:function(){r.log.logs.push(e([],arguments,0))},warn:function(){r.warn.logs.push(e([],arguments,0))},info:function(){r.info.logs.push(e([],arguments,0))},error:function(){r.error.logs.push(e([],arguments,0))},debug:function(){n&&r.debug.logs.push(e([],arguments,0))}};return r.reset=function(){r.log.logs=[],r.info.logs=[],r.warn.logs=[],r.error.logs=[],r.debug.logs=[]},r.assertEmpty=function(){var e=[];if(t.forEach(["error","warn","info","log","debug"],function(n){t.forEach(r[n].logs,function(r){t.forEach(r,function(t){e.push("MOCK $log ("+n+"): "+String(t)+"\n"+(t.stack||""))})})}),e.length)throw e.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),e.push(""),new Error(e.join("\n---------\n"))},r.reset(),r}},t.mock.$IntervalProvider=function(){this.$get=["$browser","$rootScope","$q","$$q",function(e,r,i,o){var a=[],s=0,u=0,l=function(l,c,f,h){function d(){if(y.notify(m++),f>0&&m>=f){var i;y.resolve(m),t.forEach(a,function(e,t){e.id===b.$$intervalId&&(i=t)}),i!==n&&a.splice(i,1)}v?e.defer.flush():r.$apply()}var p=arguments.length>4,g=p?Array.prototype.slice.call(arguments,4):[],m=0,v=t.isDefined(h)&&!h,y=(v?o:i).defer(),b=y.promise;return f=t.isDefined(f)?f:0,b.then(null,null,p?function(){l.apply(null,g)}:l),b.$$intervalId=s,a.push({nextTime:u+c,delay:c,fn:d,id:s,deferred:y}),a.sort(function(e,t){return e.nextTime-t.nextTime}),s++,b};return l.cancel=function(e){if(!e)return!1;var r;return t.forEach(a,function(t,n){t.id===e.$$intervalId&&(r=n)}),r!==n?(a[r].deferred.reject("canceled"),a.splice(r,1),!0):!1},l.flush=function(e){for(u+=e;a.length&&a[0].nextTime<=u;){var t=a[0];t.fn(),t.nextTime+=t.delay,a.sort(function(e,t){return e.nextTime-t.nextTime})}return e},l}]};var l=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;if(t.mock.TzDate=function(e,n){var i=new Date(0);if(t.isString(n)){var a=n;if(i.origDate=r(n),n=i.origDate.getTime(),isNaN(n))throw{name:"Illegal Argument",message:"Arg '"+a+"' passed into TzDate constructor is not a valid date string"}}else i.origDate=new Date(n);var s=new Date(n).getTimezoneOffset();i.offsetDiff=60*s*1e3-1e3*e*60*60,i.date=new Date(n+i.offsetDiff),i.getTime=function(){return i.date.getTime()-i.offsetDiff},i.toLocaleDateString=function(){return i.date.toLocaleDateString()},i.getFullYear=function(){return i.date.getFullYear()},i.getMonth=function(){return i.date.getMonth()},i.getDate=function(){return i.date.getDate()},i.getHours=function(){return i.date.getHours()},i.getMinutes=function(){return i.date.getMinutes()},i.getSeconds=function(){return i.date.getSeconds()},i.getMilliseconds=function(){return i.date.getMilliseconds()},i.getTimezoneOffset=function(){return 60*e},i.getUTCFullYear=function(){return i.origDate.getUTCFullYear()},i.getUTCMonth=function(){return i.origDate.getUTCMonth()},i.getUTCDate=function(){return i.origDate.getUTCDate()},i.getUTCHours=function(){return i.origDate.getUTCHours()},i.getUTCMinutes=function(){return i.origDate.getUTCMinutes()},i.getUTCSeconds=function(){return i.origDate.getUTCSeconds()},i.getUTCMilliseconds=function(){return i.origDate.getUTCMilliseconds()},i.getDay=function(){return i.date.getDay()},i.toISOString&&(i.toISOString=function(){return o(i.origDate.getUTCFullYear(),4)+"-"+o(i.origDate.getUTCMonth()+1,2)+"-"+o(i.origDate.getUTCDate(),2)+"T"+o(i.origDate.getUTCHours(),2)+":"+o(i.origDate.getUTCMinutes(),2)+":"+o(i.origDate.getUTCSeconds(),2)+"."+o(i.origDate.getUTCMilliseconds(),3)+"Z"});var u=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];return t.forEach(u,function(e){i[e]=function(){throw new Error("Method '"+e+"' is not implemented in the TzDate mock")}}),i},t.mock.TzDate.prototype=Date.prototype,t.mock.animate=t.module("ngAnimateMock",["ng"]).config(["$provide",function(e){var n=[];e.value("$$animateReflow",function(e){var t=n.length;return n.push(e),function(){n.splice(t,1)}}),e.decorator("$animate",["$delegate","$timeout","$browser","$$rAF",function(e,r,i,o){var a={queue:[],cancel:e.cancel,enabled:e.enabled,triggerCallbackEvents:function(){o.flush()},triggerCallbackPromise:function(){r.flush(0)},triggerCallbacks:function(){this.triggerCallbackEvents(),this.triggerCallbackPromise()},triggerReflow:function(){t.forEach(n,function(e){e()}),n=[]}};return t.forEach(["animate","enter","leave","move","addClass","removeClass","setClass"],function(t){a[t]=function(){return a.queue.push({event:t,element:arguments[0],options:arguments[arguments.length-1],args:arguments}),e[t].apply(e,arguments)}}),a}])}]),t.mock.dump=function(e){function n(e){var i;return t.isElement(e)?(e=t.element(e),i=t.element("<div></div>"),t.forEach(e,function(e){i.append(t.element(e).clone())}),i=i.html()):t.isArray(e)?(i=[],t.forEach(e,function(e){i.push(n(e))}),i="[ "+i.join(", ")+" ]"):i=t.isObject(e)?t.isFunction(e.$eval)&&t.isFunction(e.$apply)?r(e):e instanceof Error?e.stack||""+e.name+": "+e.message:t.toJson(e,!0):String(e),i}function r(e,n){n=n||"  ";var i=[n+"Scope("+e.$id+"): {"];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&!o.match(/^(\$|this)/)&&i.push("  "+o+": "+t.toJson(e[o]));for(var a=e.$$childHead;a;)i.push(r(a,n+"  ")),a=a.$$nextSibling;return i.push("}"),i.join("\n"+n)}return n(e)},t.mock.$HttpBackendProvider=function(){this.$get=["$rootScope","$timeout",a]},t.mock.$TimeoutDecorator=["$delegate","$browser",function(e,n){function r(e){var n=[];return t.forEach(e,function(e){n.push("{id: "+e.id+", time: "+e.time+"}")}),n.join(", ")}return e.flush=function(e){n.defer.flush(e)},e.verifyNoPendingTasks=function(){if(n.deferredFns.length)throw new Error("Deferred tasks to flush ("+n.deferredFns.length+"): "+r(n.deferredFns))},e}],t.mock.$RAFDecorator=["$delegate",function(e){var t=[],n=function(e){var n=t.length;return t.push(e),function(){t.splice(n,1)}};return n.supported=e.supported,n.flush=function(){if(0===t.length)throw new Error("No rAF callbacks present");for(var e=t.length,n=0;e>n;n++)t[n]();t=t.slice(n)},n}],t.mock.$RootElementProvider=function(){this.$get=function(){return t.element("<div ng-app></div>")}},t.mock.$ControllerDecorator=["$delegate",function(e){return function(n,r,i,o){if(i&&"object"==typeof i){var a=e(n,r,!0,o);return t.extend(a.instance,i),a()}return e(n,r,i,o)}}],t.module("ngMock",["ng"]).provider({$browser:t.mock.$BrowserProvider,$exceptionHandler:t.mock.$ExceptionHandlerProvider,$log:t.mock.$LogProvider,$interval:t.mock.$IntervalProvider,$httpBackend:t.mock.$HttpBackendProvider,$rootElement:t.mock.$RootElementProvider}).config(["$provide",function(e){e.decorator("$timeout",t.mock.$TimeoutDecorator),e.decorator("$$rAF",t.mock.$RAFDecorator),e.decorator("$rootScope",t.mock.$RootScopeDecorator),e.decorator("$controller",t.mock.$ControllerDecorator)}]),t.module("ngMockE2E",["ng"]).config(["$provide",function(e){e.decorator("$httpBackend",t.mock.e2e.$httpBackendDecorator)}]),t.mock.e2e={},t.mock.e2e.$httpBackendDecorator=["$rootScope","$timeout","$delegate","$browser",a],t.mock.$RootScopeDecorator=["$delegate",function(e){function t(){for(var e,t=0,n=[this.$$childHead];n.length;)for(e=n.shift();e;)t+=1,n.push(e.$$childHead),e=e.$$nextSibling;return t}function n(){for(var e,t=this.$$watchers?this.$$watchers.length:0,n=[this.$$childHead];n.length;)for(e=n.shift();e;)t+=e.$$watchers?e.$$watchers.length:0,n.push(e.$$childHead),e=e.$$nextSibling;return t}var r=Object.getPrototypeOf(e);return r.$countChildScopes=t,r.$countWatchers=n,e}],e.jasmine||e.mocha){var c=null,f=[],h=function(){return!!c};t.mock.$$annotate=t.injector.$$annotate,t.injector.$$annotate=function(e){return"function"!=typeof e||e.$inject||f.push(e),t.mock.$$annotate.apply(this,arguments)},(e.beforeEach||e.setup)(function(){f=[],c=this}),(e.afterEach||e.teardown)(function(){var e=c.$injector;f.forEach(function(e){delete e.$inject}),t.forEach(c.$modules,function(e){e&&e.$$hashKey&&(e.$$hashKey=n)}),c.$injector=null,c.$modules=null,c=null,e&&e.get("$rootElement").off(),t.forEach(t.element.fragments,function(e,n){delete t.element.fragments[n]}),u.$$lastInstance=null,t.forEach(t.callbacks,function(e,n){delete t.callbacks[n]}),t.callbacks.counter=0}),e.module=t.mock.module=function(){function e(){if(c.$injector)throw new Error("Injector already created, can not register a module!");var e=c.$modules||(c.$modules=[]);t.forEach(n,function(n){e.push(t.isObject(n)&&!t.isArray(n)?function(e){t.forEach(n,function(t,n){e.value(n,t)})}:n)})}var n=Array.prototype.slice.call(arguments,0);return h()?e():e};var d=function(e,t){this.message=e.message,this.name=e.name,e.line&&(this.line=e.line),e.sourceId&&(this.sourceId=e.sourceId),e.stack&&t&&(this.stack=e.stack+"\n"+t.stack),e.stackArray&&(this.stackArray=e.stackArray)};d.prototype.toString=Error.prototype.toString,e.inject=t.mock.inject=function(){function e(){var e=c.$modules||[],i=!!c.$injectorStrict;e.unshift("ngMock"),e.unshift("ng");var o=c.$injector;o||(i&&t.forEach(e,function(e){"function"==typeof e&&t.injector.$$annotate(e)}),o=c.$injector=t.injector(e,i),c.$injectorStrict=i);for(var a=0,s=n.length;s>a;a++){c.$injectorStrict&&o.annotate(n[a]);try{o.invoke(n[a]||t.noop,this)}catch(u){if(u.stack&&r)throw new d(u,r);throw u}finally{r=null}}}var n=Array.prototype.slice.call(arguments,0),r=new Error("Declaration Location");return h()?e.call(c):e},t.mock.inject.strictDi=function(e){function t(){if(e!==c.$injectorStrict){if(c.$injector)throw new Error("Injector already created, can not modify strict annotations");c.$injectorStrict=e}}return e=arguments.length?!!e:!0,h()?t():t}}}(window,window.angular),/**
 * @license AngularJS v1.4.3
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";function r(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&s.test("."+e)}function i(e,t){if(!r(t))throw a("badmember",'Dotted member path "@{0}" is invalid.',t);for(var i=t.split("."),o=0,s=i.length;s>o&&e!==n;o++){var u=i[o];e=null!==e?e[u]:n}return e}function o(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var r in e)!e.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(n[r]=e[r]);return n}var a=t.$$minErr("$resource"),s=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var e=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(r,s){function u(e){return l(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function l(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function c(t,n){this.template=t,this.defaults=p({},e.defaults,n),this.urlParams={}}function f(u,l,v,y){function b(e,t){var n={};return t=p({},l,t),d(t,function(t,r){m(t)&&(t=t()),n[r]=t&&t.charAt&&"@"==t.charAt(0)?i(e,t.substr(1)):t}),n}function x(e){return e.resource}function w(e){o(e||{},this)}var $=new c(u,y);return v=p({},e.defaults.actions,v),w.prototype.toJSON=function(){var e=p({},this);return delete e.$promise,delete e.$resolved,e},d(v,function(e,i){var u=/^(POST|PUT|PATCH)$/i.test(e.method);w[i]=function(l,c,f,v){var y,k,_,S={};switch(arguments.length){case 4:_=v,k=f;case 3:case 2:if(!m(c)){S=l,y=c,k=f;break}if(m(l)){k=l,_=c;break}k=c,_=f;case 1:m(l)?k=l:u?y=l:S=l;break;case 0:break;default:throw a("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var C=this instanceof w,E=C?y:e.isArray?[]:new w(y),M={},T=e.interceptor&&e.interceptor.response||x,A=e.interceptor&&e.interceptor.responseError||n;d(e,function(e,t){"params"!=t&&"isArray"!=t&&"interceptor"!=t&&(M[t]=g(e))}),u&&(M.data=y),$.setUrlParams(M,p({},b(y,e.params||{}),S),e.url);var O=r(M).then(function(n){var r=n.data,s=E.$promise;if(r){if(t.isArray(r)!==!!e.isArray)throw a("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",i,e.isArray?"array":"object",t.isArray(r)?"array":"object",M.method,M.url);e.isArray?(E.length=0,d(r,function(e){E.push("object"==typeof e?new w(e):e)})):(o(r,E),E.$promise=s)}return E.$resolved=!0,n.resource=E,n},function(e){return E.$resolved=!0,(_||h)(e),s.reject(e)});return O=O.then(function(e){var t=T(e);return(k||h)(t,e.headers),t},A),C?O:(E.$promise=O,E.$resolved=!1,E)},w.prototype["$"+i]=function(e,t,n){m(e)&&(n=t,t=e,e={});var r=w[i].call(this,e,this,t,n);return r.$promise||r}}),w.bind=function(e){return f(u,p({},l,e),v)},w}var h=t.noop,d=t.forEach,p=t.extend,g=t.copy,m=t.isFunction;return c.prototype={setUrlParams:function(e,n,r){var i,o,s=this,l=r||s.template,c=s.urlParams={};d(l.split(/\W/),function(e){if("hasOwnProperty"===e)throw a("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(c[e]=!0)}),l=l.replace(/\\:/g,":"),n=n||{},d(s.urlParams,function(e,r){i=n.hasOwnProperty(r)?n[r]:s.defaults[r],t.isDefined(i)&&null!==i?(o=u(i),l=l.replace(new RegExp(":"+r+"(\\W|$)","g"),function(e,t){return o+t})):l=l.replace(new RegExp("(/?):"+r+"(\\W|$)","g"),function(e,t,n){return"/"==n.charAt(0)?n:t+n})}),s.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),e.url=l.replace(/\/\\\./,"/."),d(n,function(t,n){s.urlParams[n]||(e.params=e.params||{},e.params[n]=t)})}},f}]})}(window,window.angular),/**
 * An Angular module that gives you access to the browsers local storage
 * @version v0.2.2 - 2015-05-29
 * @link https://github.com/grevory/angular-local-storage
 * @author grevory <greg@gregpike.ca>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(e,t,n){"use strict";var r=t.isDefined,i=t.isUndefined,o=t.isNumber,a=t.isObject,s=t.isArray,u=t.extend,l=t.toJson,c=t.module("LocalStorageModule",[]);c.provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(e){return this.prefix=e,this},this.setStorageType=function(e){return this.storageType=e,this},this.setStorageCookie=function(e,t){return this.cookie.expiry=e,this.cookie.path=t,this},this.setStorageCookieDomain=function(e){return this.cookie.domain=e,this},this.setNotify=function(e,t){return this.notify={setItem:e,removeItem:t},this},this.$get=["$rootScope","$window","$document","$parse",function(e,t,n,c){var f,h=this,d=h.prefix,p=h.cookie,g=h.notify,m=h.storageType;n?n[0]&&(n=n[0]):n=document,"."!==d.substr(-1)&&(d=d?d+".":"");var v=function(e){return d+e},y=function(){try{var n=m in t&&null!==t[m],r=v("__"+Math.round(1e7*Math.random()));return n&&(f=t[m],f.setItem(r,""),f.removeItem(r)),n}catch(i){return m="cookie",e.$broadcast("LocalStorageModule.notification.error",i.message),!1}}(),b=function(t,n){if(n=i(n)?null:l(n),!y||"cookie"===h.storageType)return y||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:n,storageType:"cookie"}),S(t,n);try{f&&f.setItem(v(t),n),g.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:n,storageType:h.storageType})}catch(r){return e.$broadcast("LocalStorageModule.notification.error",r.message),S(t,n)}return!0},x=function(t){if(!y||"cookie"===h.storageType)return y||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),C(t);var n=f?f.getItem(v(t)):null;if(!n||"null"===n)return null;try{return JSON.parse(n)}catch(r){return n}},w=function(){var t,n;for(t=0;t<arguments.length;t++)if(n=arguments[t],y&&"cookie"!==h.storageType)try{f.removeItem(v(n)),g.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:h.storageType})}catch(r){e.$broadcast("LocalStorageModule.notification.error",r.message),E(n)}else y||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:"cookie"}),E(n)},$=function(){if(!y)return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var t=d.length,n=[];for(var r in f)if(r.substr(0,t)===d)try{n.push(r.substr(t))}catch(i){return e.$broadcast("LocalStorageModule.notification.error",i.Description),[]}return n},k=function(t){var n=d?new RegExp("^"+d):new RegExp,r=t?new RegExp(t):new RegExp;if(!y||"cookie"===h.storageType)return y||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),M();var i=d.length;for(var o in f)if(n.test(o)&&r.test(o.substr(i)))try{w(o.substr(i))}catch(a){return e.$broadcast("LocalStorageModule.notification.error",a.message),M()}return!0},_=function(){try{return t.navigator.cookieEnabled||"cookie"in n&&(n.cookie.length>0||(n.cookie="test").indexOf.call(n.cookie,"test")>-1)}catch(r){return e.$broadcast("LocalStorageModule.notification.error",r.message),!1}}(),S=function(t,r,u){if(i(r))return!1;if((s(r)||a(r))&&(r=l(r)),!_)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var c="",f=new Date,h="";if(null===r?(f.setTime(f.getTime()+-864e5),c="; expires="+f.toGMTString(),r=""):o(u)&&0!==u?(f.setTime(f.getTime()+24*u*60*60*1e3),c="; expires="+f.toGMTString()):0!==p.expiry&&(f.setTime(f.getTime()+24*p.expiry*60*60*1e3),c="; expires="+f.toGMTString()),t){var d="; path="+p.path;p.domain&&(h="; domain="+p.domain),n.cookie=v(t)+"="+encodeURIComponent(r)+c+d+h}}catch(g){return e.$broadcast("LocalStorageModule.notification.error",g.message),!1}return!0},C=function(t){if(!_)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var r=n.cookie&&n.cookie.split(";")||[],i=0;i<r.length;i++){for(var o=r[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(v(t)+"=")){var a=decodeURIComponent(o.substring(d.length+t.length+1,o.length));try{return JSON.parse(a)}catch(s){return a}}}return null},E=function(e){S(e,null)},M=function(){for(var e=null,t=d.length,r=n.cookie.split(";"),i=0;i<r.length;i++){for(e=r[i];" "===e.charAt(0);)e=e.substring(1,e.length);var o=e.substring(t,e.indexOf("="));E(o)}},T=function(){return m},A=function(e,t,n,i){i=i||t;var o=x(i);return null===o&&r(n)?o=n:a(o)&&a(n)&&(o=u(n,o)),c(t).assign(e,o),e.$watch(t,function(e){b(i,e)},a(e[t]))},O=function(){for(var e=0,n=t[m],r=0;r<n.length;r++)0===n.key(r).indexOf(d)&&e++;return e};return{isSupported:y,getStorageType:T,set:b,add:b,get:x,keys:$,remove:w,clearAll:k,bind:A,deriveKey:v,length:O,cookie:{isSupported:_,set:S,add:S,get:C,remove:E,clearAll:M}}}]})}(window,window.angular),/*! tether 0.7.1 */
function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t(require,exports,module):e.Tether=t()}(this,function(e,t,n){return function(){var e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,g,m,v,y,b={}.hasOwnProperty,x=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},w=[].slice;null==this.Tether&&(this.Tether={modules:[]}),f=function(e){var t,n,r,i,o;if(n=getComputedStyle(e).position,"fixed"===n)return e;for(r=void 0,t=e;t=t.parentNode;){try{i=getComputedStyle(t)}catch(a){}if(null==i)return t;if(/(auto|scroll)/.test(i.overflow+i.overflowY+i.overflowX)&&("absolute"!==n||"relative"===(o=i.position)||"absolute"===o||"fixed"===o))return t}return document.body},m=function(){var e;return e=0,function(){return e++}}(),y={},l=function(e){var t,r,o,a,s;if(o=e._tetherZeroElement,null==o&&(o=e.createElement("div"),o.setAttribute("data-tether-id",m()),i(o.style,{top:0,left:0,position:"absolute"}),e.body.appendChild(o),e._tetherZeroElement=o),t=o.getAttribute("data-tether-id"),null==y[t]){y[t]={},s=o.getBoundingClientRect();for(r in s)a=s[r],y[t][r]=a;n(function(){return y[t]=void 0})}return y[t]},d=null,a=function(e){var t,n,r,i,o,a,s;e===document?(n=document,e=document.documentElement):n=e.ownerDocument,r=n.documentElement,t={},s=e.getBoundingClientRect();for(i in s)a=s[i],t[i]=a;return o=l(n),t.top-=o.top,t.left-=o.left,null==t.width&&(t.width=document.body.scrollWidth-t.left-t.right),null==t.height&&(t.height=document.body.scrollHeight-t.top-t.bottom),t.top=t.top-r.clientTop,t.left=t.left-r.clientLeft,t.right=n.body.clientWidth-t.width-t.left,t.bottom=n.body.clientHeight-t.height-t.top,t},u=function(e){return e.offsetParent||document.documentElement},c=function(){var e,t,n,r,o;return e=document.createElement("div"),e.style.width="100%",e.style.height="200px",t=document.createElement("div"),i(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t),r=e.offsetWidth,t.style.overflow="scroll",o=e.offsetWidth,r===o&&(o=t.clientWidth),document.body.removeChild(t),n=r-o,{width:n,height:n}},i=function(e){var t,n,r,i,o,a,s;for(null==e&&(e={}),t=[],Array.prototype.push.apply(t,arguments),s=t.slice(1),o=0,a=s.length;a>o;o++)if(r=s[o])for(n in r)b.call(r,n)&&(i=r[n],e[n]=i);return e},p=function(e,t){var n,r,i,o,a,u;if(null!=e.classList){for(a=t.split(" "),u=[],i=0,o=a.length;o>i;i++)r=a[i],r.trim()&&u.push(e.classList.remove(r));return u}return n=s(e).replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," "),g(e,n)},t=function(e,t){var n,r,i,o,a;if(null!=e.classList){for(o=t.split(" "),a=[],r=0,i=o.length;i>r;r++)n=o[r],n.trim()&&a.push(e.classList.add(n));return a}return p(e,t),n=s(e)+(" "+t),g(e,n)},h=function(e,t){return null!=e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(s(e))},s=function(e){return e.className instanceof SVGAnimatedString?e.className.baseVal:e.className},g=function(e,t){return e.setAttribute("class",t)},v=function(e,n,r){var i,o,a,s,u,l;for(o=0,s=r.length;s>o;o++)i=r[o],x.call(n,i)<0&&h(e,i)&&p(e,i);for(l=[],a=0,u=n.length;u>a;a++)i=n[a],l.push(h(e,i)?void 0:t(e,i));return l},r=[],n=function(e){return r.push(e)},o=function(){var e,t;for(t=[];e=r.pop();)t.push(e());return t},e=function(){function e(){}return e.prototype.on=function(e,t,n,r){var i;return null==r&&(r=!1),null==this.bindings&&(this.bindings={}),null==(i=this.bindings)[e]&&(i[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:r})},e.prototype.once=function(e,t,n){return this.on(e,t,n,!0)},e.prototype.off=function(e,t){var n,r,i;if(null!=(null!=(r=this.bindings)?r[e]:void 0)){if(null==t)return delete this.bindings[e];for(n=0,i=[];n<this.bindings[e].length;)i.push(this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):n++);return i}},e.prototype.trigger=function(){var e,t,n,r,i,o,a,s,u;if(n=arguments[0],e=2<=arguments.length?w.call(arguments,1):[],null!=(a=this.bindings)?a[n]:void 0){for(i=0,u=[];i<this.bindings[n].length;)s=this.bindings[n][i],r=s.handler,t=s.ctx,o=s.once,r.apply(null!=t?t:this,e),u.push(o?this.bindings[n].splice(i,1):i++);return u}},e}(),this.Tether.Utils={getScrollParent:f,getBounds:a,getOffsetParent:u,extend:i,addClass:t,removeClass:p,hasClass:h,updateClasses:v,defer:n,flush:o,uniqueId:m,Evented:e,getScrollBarSize:c}}.call(this),function(){var e,t,n,r,i,o,a,s,u,l,c,f,h,d,p,g,m,v,y,b,x,w,$,k,_,S,C,E,M,T=[].slice,A=function(e,t){return function(){return e.apply(t,arguments)}};if(null==this.Tether)throw new Error("You must include the utils.js file before tether.js");r=this.Tether,M=r.Utils,g=M.getScrollParent,m=M.getSize,d=M.getOuterSize,f=M.getBounds,h=M.getOffsetParent,l=M.extend,i=M.addClass,$=M.removeClass,S=M.updateClasses,u=M.defer,c=M.flush,p=M.getScrollBarSize,C=function(e,t,n){return null==n&&(n=1),e+n>=t&&t>=e-n},_=function(){var e,t,n,r,i;for(e=document.createElement("div"),i=["transform","webkitTransform","OTransform","MozTransform","msTransform"],n=0,r=i.length;r>n;n++)if(t=i[n],void 0!==e.style[t])return t}(),k=[],w=function(){var e,t,n;for(t=0,n=k.length;n>t;t++)e=k[t],e.position(!1);return c()},v=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},function(){var e,t,n,r,i,o,a,s,u;for(t=null,n=null,r=null,i=function(){if(null!=n&&n>16)return n=Math.min(n-16,250),void(r=setTimeout(i,250));if(!(null!=t&&v()-t<10))return null!=r&&(clearTimeout(r),r=null),t=v(),w(),n=v()-t},s=["resize","scroll","touchmove"],u=[],o=0,a=s.length;a>o;o++)e=s[o],u.push(window.addEventListener(e,i));return u}(),e={center:"center",left:"right",right:"left"},t={middle:"middle",top:"bottom",bottom:"top"},n={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},s=function(n,r){var i,o;return i=n.left,o=n.top,"auto"===i&&(i=e[r.left]),"auto"===o&&(o=t[r.top]),{left:i,top:o}},a=function(e){var t,r;return{left:null!=(t=n[e.left])?t:e.left,top:null!=(r=n[e.top])?r:e.top}},o=function(){var e,t,n,r,i,o,a;for(t=1<=arguments.length?T.call(arguments,0):[],n={top:0,left:0},i=0,o=t.length;o>i;i++)a=t[i],r=a.top,e=a.left,"string"==typeof r&&(r=parseFloat(r,10)),"string"==typeof e&&(e=parseFloat(e,10)),n.top+=r,n.left+=e;return n},y=function(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e},b=x=function(e){var t,n,r;return r=e.split(" "),n=r[0],t=r[1],{top:n,left:t}},E=function(){function e(e){this.position=A(this.position,this);var t,n,i,o,a;for(k.push(this),this.history=[],this.setOptions(e,!1),o=r.modules,n=0,i=o.length;i>n;n++)t=o[n],null!=(a=t.initialize)&&a.call(this);this.position()}return e.modules=[],e.prototype.getClass=function(e){var t,n;return(null!=(t=this.options.classes)?t[e]:void 0)?this.options.classes[e]:(null!=(n=this.options.classes)?n[e]:void 0)!==!1?this.options.classPrefix?""+this.options.classPrefix+"-"+e:e:""},e.prototype.setOptions=function(e,t){var n,r,o,a,s,u;for(this.options=e,null==t&&(t=!0),n={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},this.options=l(n,this.options),s=this.options,this.element=s.element,this.target=s.target,this.targetModifier=s.targetModifier,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),u=["element","target"],o=0,a=u.length;a>o;o++){if(r=u[o],null==this[r])throw new Error("Tether Error: Both element and target must be defined");null!=this[r].jquery?this[r]=this[r][0]:"string"==typeof this[r]&&(this[r]=document.querySelector(this[r]))}if(i(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&i(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");return this.targetAttachment=b(this.options.targetAttachment),this.attachment=b(this.options.attachment),this.offset=x(this.options.offset),this.targetOffset=x(this.options.targetOffset),null!=this.scrollParent&&this.disable(),this.scrollParent="scroll-handle"===this.targetModifier?this.target:g(this.target),this.options.enabled!==!1?this.enable(t):void 0},e.prototype.getTargetBounds=function(){var e,t,n,r,i,o,a,s,u;if(null==this.targetModifier)return f(this.target);switch(this.targetModifier){case"visible":return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:(e=f(this.target),i={height:e.height,width:e.width,top:e.top,left:e.left},i.height=Math.min(i.height,e.height-(pageYOffset-e.top)),i.height=Math.min(i.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),i.height=Math.min(innerHeight,i.height),i.height-=2,i.width=Math.min(i.width,e.width-(pageXOffset-e.left)),i.width=Math.min(i.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),i.width=Math.min(innerWidth,i.width),i.width-=2,i.top<pageYOffset&&(i.top=pageYOffset),i.left<pageXOffset&&(i.left=pageXOffset),i);case"scroll-handle":return u=this.target,u===document.body?(u=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=f(u),s=getComputedStyle(u),n=u.scrollWidth>u.clientWidth||"scroll"===[s.overflow,s.overflowX]||this.target!==document.body,o=0,n&&(o=15),r=e.height-parseFloat(s.borderTopWidth)-parseFloat(s.borderBottomWidth)-o,i={width:15,height:.975*r*(r/u.scrollHeight),left:e.left+e.width-parseFloat(s.borderLeftWidth)-15},t=0,408>r&&this.target===document.body&&(t=-11e-5*Math.pow(r,2)-.00727*r+22.58),this.target!==document.body&&(i.height=Math.max(i.height,24)),a=this.target.scrollTop/(u.scrollHeight-r),i.top=a*(r-i.height-t)+e.top+parseFloat(s.borderTopWidth),this.target===document.body&&(i.height=Math.max(i.height,24)),i}},e.prototype.clearCache=function(){return this._cache={}},e.prototype.cache=function(e,t){return null==this._cache&&(this._cache={}),null==this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]},e.prototype.enable=function(e){return null==e&&(e=!0),this.options.addTargetClasses!==!1&&i(this.target,this.getClass("enabled")),i(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),e?this.position():void 0},e.prototype.disable=function(){return $(this.target,this.getClass("enabled")),$(this.element,this.getClass("enabled")),this.enabled=!1,null!=this.scrollParent?this.scrollParent.removeEventListener("scroll",this.position):void 0},e.prototype.destroy=function(){var e,t,n,r,i;for(this.disable(),i=[],e=n=0,r=k.length;r>n;e=++n){if(t=k[e],t===this){k.splice(e,1);break}i.push(void 0)}return i},e.prototype.updateAttachClasses=function(e,t){var n,r,i,o,a,s,l,c,f,h=this;for(null==e&&(e=this.attachment),null==t&&(t=this.targetAttachment),o=["left","top","bottom","right","middle","center"],(null!=(f=this._addAttachClasses)?f.length:void 0)&&this._addAttachClasses.splice(0,this._addAttachClasses.length),n=null!=this._addAttachClasses?this._addAttachClasses:this._addAttachClasses=[],e.top&&n.push(""+this.getClass("element-attached")+"-"+e.top),e.left&&n.push(""+this.getClass("element-attached")+"-"+e.left),t.top&&n.push(""+this.getClass("target-attached")+"-"+t.top),t.left&&n.push(""+this.getClass("target-attached")+"-"+t.left),r=[],a=0,l=o.length;l>a;a++)i=o[a],r.push(""+this.getClass("element-attached")+"-"+i);for(s=0,c=o.length;c>s;s++)i=o[s],r.push(""+this.getClass("target-attached")+"-"+i);return u(function(){return null!=h._addAttachClasses?(S(h.element,h._addAttachClasses,r),h.options.addTargetClasses!==!1&&S(h.target,h._addAttachClasses,r),h._addAttachClasses=void 0):void 0})},e.prototype.position=function(e){var t,n,i,u,l,d,g,m,v,b,x,w,$,k,_,S,C,E,M,T,A,O,D,N,L,P,I,R,j,F,U,q,z,H,W,B=this;if(null==e&&(e=!0),this.enabled){for(this.clearCache(),T=s(this.targetAttachment,this.attachment),this.updateAttachClasses(this.attachment,T),t=this.cache("element-bounds",function(){return f(B.element)}),L=t.width,i=t.height,0===L&&0===i&&null!=this.lastSize?(F=this.lastSize,L=F.width,i=F.height):this.lastSize={width:L,height:i},D=O=this.cache("target-bounds",function(){return B.getTargetBounds()}),v=y(a(this.attachment),{width:L,height:i}),A=y(a(T),D),l=y(this.offset,{width:L,height:i}),d=y(this.targetOffset,D),v=o(v,l),A=o(A,d),u=O.left+A.left-v.left,N=O.top+A.top-v.top,U=r.modules,P=0,R=U.length;R>P;P++){if(g=U[P],_=g.position.call(this,{left:u,top:N,targetAttachment:T,targetPos:O,attachment:this.attachment,elementPos:t,offset:v,targetOffset:A,manualOffset:l,manualTargetOffset:d,scrollbarSize:E}),_===!1)return!1;null!=_&&"object"==typeof _&&(N=_.top,u=_.left)}if(m={page:{top:N,left:u},viewport:{top:N-pageYOffset,bottom:pageYOffset-N-i+innerHeight,left:u-pageXOffset,right:pageXOffset-u-L+innerWidth}},document.body.scrollWidth>window.innerWidth&&(E=this.cache("scrollbar-size",p),m.viewport.bottom-=E.height),document.body.scrollHeight>window.innerHeight&&(E=this.cache("scrollbar-size",p),m.viewport.right-=E.width),(""!==(q=document.body.style.position)&&"static"!==q||""!==(z=document.body.parentElement.style.position)&&"static"!==z)&&(m.page.bottom=document.body.scrollHeight-N-i,m.page.right=document.body.scrollWidth-u-L),(null!=(H=this.options.optimizations)?H.moveElement:void 0)!==!1&&null==this.targetModifier){for(x=this.cache("target-offsetparent",function(){return h(B.target)}),k=this.cache("target-offsetparent-bounds",function(){return f(x)}),$=getComputedStyle(x),n=getComputedStyle(this.element),w=k,b={},W=["Top","Left","Bottom","Right"],I=0,j=W.length;j>I;I++)M=W[I],b[M.toLowerCase()]=parseFloat($["border"+M+"Width"]);k.right=document.body.scrollWidth-k.left-w.width+b.right,k.bottom=document.body.scrollHeight-k.top-w.height+b.bottom,m.page.top>=k.top+b.top&&m.page.bottom>=k.bottom&&m.page.left>=k.left+b.left&&m.page.right>=k.right&&(C=x.scrollTop,S=x.scrollLeft,m.offset={top:m.page.top-k.top+C-b.top,left:m.page.left-k.left+S-b.left})}return this.move(m),this.history.unshift(m),this.history.length>3&&this.history.pop(),e&&c(),!0}},e.prototype.move=function(e){var t,n,r,i,o,a,s,c,f,d,p,g,m,v,y,b,x,w=this;if(null!=this.element.parentNode){c={};for(d in e){c[d]={};for(i in e[d]){for(r=!1,b=this.history,v=0,y=b.length;y>v;v++)if(s=b[v],!C(null!=(x=s[d])?x[i]:void 0,e[d][i])){r=!0;break}r||(c[d][i]=!0)}}t={top:"",left:"",right:"",bottom:""},f=function(e,n){var r,i,o;return(null!=(o=w.options.optimizations)?o.gpu:void 0)===!1?(e.top?t.top=""+n.top+"px":t.bottom=""+n.bottom+"px",e.left?t.left=""+n.left+"px":t.right=""+n.right+"px"):(e.top?(t.top=0,i=n.top):(t.bottom=0,i=-n.bottom),e.left?(t.left=0,r=n.left):(t.right=0,r=-n.right),t[_]="translateX("+Math.round(r)+"px) translateY("+Math.round(i)+"px)","msTransform"!==_?t[_]+=" translateZ(0)":void 0)},o=!1,(c.page.top||c.page.bottom)&&(c.page.left||c.page.right)?(t.position="absolute",f(c.page,e.page)):(c.viewport.top||c.viewport.bottom)&&(c.viewport.left||c.viewport.right)?(t.position="fixed",f(c.viewport,e.viewport)):null!=c.offset&&c.offset.top&&c.offset.left?(t.position="absolute",a=this.cache("target-offsetparent",function(){return h(w.target)}),h(this.element)!==a&&u(function(){return w.element.parentNode.removeChild(w.element),a.appendChild(w.element)}),f(c.offset,e.offset),o=!0):(t.position="absolute",f({top:!0,left:!0},e.page)),o||"BODY"===this.element.parentNode.tagName||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element)),m={},g=!1;for(i in t)p=t[i],n=this.element.style[i],""===n||""===p||"top"!==i&&"left"!==i&&"bottom"!==i&&"right"!==i||(n=parseFloat(n),p=parseFloat(p)),n!==p&&(g=!0,m[i]=t[i]);return g?u(function(){return l(w.element.style,m)}):void 0}},e}(),r.position=w,this.Tether=l(E,r)}.call(this),function(){var e,t,n,r,i,o,a,s,u,l,c=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};l=this.Tether.Utils,a=l.getOuterSize,o=l.getBounds,s=l.getSize,r=l.extend,u=l.updateClasses,n=l.defer,t={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle"},e=["left","top","right","bottom"],i=function(t,n){var r,i,a,s,u,l,c;if("scrollParent"===n?n=t.scrollParent:"window"===n&&(n=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),n===document&&(n=n.documentElement),null!=n.nodeType)for(i=s=o(n),u=getComputedStyle(n),n=[i.left,i.top,s.width+i.left,s.height+i.top],r=l=0,c=e.length;c>l;r=++l)a=e[r],a=a[0].toUpperCase()+a.substr(1),"Top"===a||"Left"===a?n[r]+=parseFloat(u["border"+a+"Width"]):n[r]-=parseFloat(u["border"+a+"Width"]);return n},this.Tether.modules.push({position:function(t){var a,s,l,f,h,d,p,g,m,v,y,b,x,w,$,k,_,S,C,E,M,T,A,O,D,N,L,P,I,R,j,F,U,q,z,H,W,B,V,Y,X,G,K,Z,J,Q,ee,te=this;if(N=t.top,y=t.left,M=t.targetAttachment,!this.options.constraints)return!0;for(S=function(t){var n,r,i,o;for(te.removeClass(t),o=[],r=0,i=e.length;i>r;r++)n=e[r],o.push(te.removeClass(""+t+"-"+n));return o},Y=this.cache("element-bounds",function(){return o(te.element)}),v=Y.height,L=Y.width,0===L&&0===v&&null!=this.lastSize&&(X=this.lastSize,L=X.width,v=X.height),A=this.cache("target-bounds",function(){return te.getTargetBounds()}),T=A.height,O=A.width,E={},m={},s=[this.getClass("pinned"),this.getClass("out-of-bounds")],G=this.options.constraints,P=0,F=G.length;F>P;P++)g=G[P],g.outOfBoundsClass&&s.push(g.outOfBoundsClass),g.pinnedClass&&s.push(g.pinnedClass);for(I=0,U=s.length;U>I;I++)for(p=s[I],K=["left","top","right","bottom"],R=0,q=K.length;q>R;R++)C=K[R],s.push(""+p+"-"+C);for(a=[],E=r({},M),m=r({},this.attachment),Z=this.options.constraints,j=0,z=Z.length;z>j;j++){if(g=Z[j],D=g.to,l=g.attachment,$=g.pin,null==l&&(l=""),c.call(l," ")>=0?(J=l.split(" "),d=J[0],h=J[1]):h=d=l,f=i(this,D),("target"===d||"both"===d)&&(N<f[1]&&"top"===E.top&&(N+=T,E.top="bottom"),N+v>f[3]&&"bottom"===E.top&&(N-=T,E.top="top")),"together"===d&&(N<f[1]&&"top"===E.top&&("bottom"===m.top?(N+=T,E.top="bottom",N+=v,m.top="top"):"top"===m.top&&(N+=T,E.top="bottom",N-=v,m.top="bottom")),N+v>f[3]&&"bottom"===E.top&&("top"===m.top?(N-=T,E.top="top",N-=v,m.top="bottom"):"bottom"===m.top&&(N-=T,E.top="top",N+=v,m.top="top")),"middle"===E.top&&(N+v>f[3]&&"top"===m.top?(N-=v,m.top="bottom"):N<f[1]&&"bottom"===m.top&&(N+=v,m.top="top"))),("target"===h||"both"===h)&&(y<f[0]&&"left"===E.left&&(y+=O,E.left="right"),y+L>f[2]&&"right"===E.left&&(y-=O,E.left="left")),"together"===h&&(y<f[0]&&"left"===E.left?"right"===m.left?(y+=O,E.left="right",y+=L,m.left="left"):"left"===m.left&&(y+=O,E.left="right",y-=L,m.left="right"):y+L>f[2]&&"right"===E.left?"left"===m.left?(y-=O,E.left="left",y-=L,m.left="right"):"right"===m.left&&(y-=O,E.left="left",y+=L,m.left="left"):"center"===E.left&&(y+L>f[2]&&"left"===m.left?(y-=L,m.left="right"):y<f[0]&&"right"===m.left&&(y+=L,m.left="left"))),("element"===d||"both"===d)&&(N<f[1]&&"bottom"===m.top&&(N+=v,m.top="top"),N+v>f[3]&&"top"===m.top&&(N-=v,m.top="bottom")),("element"===h||"both"===h)&&(y<f[0]&&"right"===m.left&&(y+=L,m.left="left"),y+L>f[2]&&"left"===m.left&&(y-=L,m.left="right")),"string"==typeof $?$=function(){var e,t,n,r;for(n=$.split(","),r=[],t=0,e=n.length;e>t;t++)w=n[t],r.push(w.trim());return r}():$===!0&&($=["top","left","right","bottom"]),$||($=[]),k=[],b=[],N<f[1]&&(c.call($,"top")>=0?(N=f[1],k.push("top")):b.push("top")),N+v>f[3]&&(c.call($,"bottom")>=0?(N=f[3]-v,k.push("bottom")):b.push("bottom")),y<f[0]&&(c.call($,"left")>=0?(y=f[0],k.push("left")):b.push("left")),y+L>f[2]&&(c.call($,"right")>=0?(y=f[2]-L,k.push("right")):b.push("right")),k.length)for(_=null!=(Q=this.options.pinnedClass)?Q:this.getClass("pinned"),a.push(_),B=0,H=k.length;H>B;B++)C=k[B],a.push(""+_+"-"+C);if(b.length)for(x=null!=(ee=this.options.outOfBoundsClass)?ee:this.getClass("out-of-bounds"),a.push(x),V=0,W=b.length;W>V;V++)C=b[V],a.push(""+x+"-"+C);(c.call(k,"left")>=0||c.call(k,"right")>=0)&&(m.left=E.left=!1),(c.call(k,"top")>=0||c.call(k,"bottom")>=0)&&(m.top=E.top=!1),(E.top!==M.top||E.left!==M.left||m.top!==this.attachment.top||m.left!==this.attachment.left)&&this.updateAttachClasses(m,E)}return n(function(){return te.options.addTargetClasses!==!1&&u(te.target,a,s),u(te.element,a,s)}),{top:N,left:y}}})}.call(this),function(){var e,t,n,r;r=this.Tether.Utils,t=r.getBounds,n=r.updateClasses,e=r.defer,this.Tether.modules.push({position:function(r){var i,o,a,s,u,l,c,f,h,d,p,g,m,v,y,b,x,w,$,k,_,S,C,E,M,T=this;if(p=r.top,l=r.left,_=this.cache("element-bounds",function(){return t(T.element)}),u=_.height,g=_.width,d=this.getTargetBounds(),s=p+u,c=l+g,i=[],p<=d.bottom&&s>=d.top)for(S=["left","right"],m=0,x=S.length;x>m;m++)f=S[m],((C=d[f])===l||C===c)&&i.push(f);if(l<=d.right&&c>=d.left)for(E=["top","bottom"],v=0,w=E.length;w>v;v++)f=E[v],((M=d[f])===p||M===s)&&i.push(f);for(a=[],o=[],h=["left","top","right","bottom"],a.push(this.getClass("abutted")),y=0,$=h.length;$>y;y++)f=h[y],a.push(""+this.getClass("abutted")+"-"+f);for(i.length&&o.push(this.getClass("abutted")),b=0,k=i.length;k>b;b++)f=i[b],o.push(""+this.getClass("abutted")+"-"+f);return e(function(){return T.options.addTargetClasses!==!1&&n(T.target,o,a),n(T.element,o,a)}),!0}})}.call(this),function(){this.Tether.modules.push({position:function(e){var t,n,r,i,o,a,s;return a=e.top,t=e.left,this.options.shift?(n=function(e){return"function"==typeof e?e.call(this,{top:a,left:t}):e},r=n(this.options.shift),"string"==typeof r?(r=r.split(" "),r[1]||(r[1]=r[0]),o=r[0],i=r[1],o=parseFloat(o,10),i=parseFloat(i,10)):(s=[r.top,r.left],o=s[0],i=s[1]),a+=o,t+=i,{top:a,left:t}):void 0}})}.call(this),this.Tether}),/*! tether-drop 1.0.8 */
function(e,t){"function"==typeof define&&define.amd?define(["tether"],t):"object"==typeof exports?module.exports=t(require("tether")):e.Drop=t(e.Tether)}(this,function(e){"use strict";function t(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function i(e){var n=e.split(" "),r=t(n,2),i=r[0],o=r[1];if(["left","right"].indexOf(i)>=0){var a=[o,i];i=a[0],o=a[1]}return[i,o].join(" ")}function o(e,t){for(var n=void 0,r=[];-1!==(n=e.indexOf(t));)r.push(e.splice(n,1));return r}function a(){var t=void 0===arguments[0]?{}:arguments[0],c=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return new(l.apply(b,[null].concat(t)))};f(c,{createContext:a,drops:[],defaults:{}});var v={classPrefix:"drop",defaults:{position:"bottom left",openOn:"click",constrainToScrollParent:!0,constrainToWindow:!0,classes:"",remove:!1,tetherOptions:{}}};f(c,v,t),f(c.defaults,v.defaults,t.defaults),"undefined"==typeof $[c.classPrefix]&&($[c.classPrefix]=[]),c.updateBodyClasses=function(){for(var e=!1,t=$[c.classPrefix],n=t.length,r=0;n>r;++r)if(t[r].isOpened()){e=!0;break}e?h(document.body,""+c.classPrefix+"-open"):d(document.body,""+c.classPrefix+"-open")};var b=function(t){function a(e){if(n(this,a),u(Object.getPrototypeOf(a.prototype),"constructor",this).call(this),this.options=f({},c.defaults,e),this.target=this.options.target,"undefined"==typeof this.target)throw new Error("Drop Error: You must provide a target.");this.options.classes&&this.options.addTargetClasses!==!1&&h(this.target,this.options.classes),c.drops.push(this),$[c.classPrefix].push(this),this._boundEvents=[],this.setupElements(),this.setupEvents(),this.setupTether()}return r(a,t),s(a,[{key:"_on",value:function(e,t,n){this._boundEvents.push({element:e,event:t,handler:n}),e.addEventListener(t,n)}},{key:"setupElements",value:function(){var e=this;if(this.drop=document.createElement("div"),h(this.drop,c.classPrefix),this.options.classes&&h(this.drop,this.options.classes),this.content=document.createElement("div"),h(this.content,""+c.classPrefix+"-content"),"function"==typeof this.options.content){var t=function(){var t=e.options.content.call(e,e);if("string"==typeof t)e.content.innerHTML=t;else{if("object"!=typeof t)throw new Error("Drop Error: Content function should return a string or HTMLElement.");e.content.innerHTML="",e.content.appendChild(t)}};t(),this.on("open",t.bind(this))}else"object"==typeof this.options.content?this.content.appendChild(this.options.content):this.content.innerHTML=this.options.content;this.drop.appendChild(this.content)}},{key:"setupTether",value:function(){var t=this.options.position.split(" ");t[0]=w[t[0]],t=t.join(" ");var n=[];n.push(this.options.constrainToScrollParent?{to:"scrollParent",pin:"top, bottom",attachment:"together none"}:{to:"scrollParent"}),n.push(this.options.constrainToWindow!==!1?{to:"window",attachment:"together"}:{to:"window"});var r={element:this.drop,target:this.target,attachment:i(t),targetAttachment:i(this.options.position),classPrefix:c.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:n,addTargetClasses:this.options.addTargetClasses};this.options.tetherOptions!==!1&&(this.tether=new e(f({},r,this.options.tetherOptions)))}},{key:"setupEvents",value:function(){var e=this;if(this.options.openOn){if("always"===this.options.openOn)return void setTimeout(this.open.bind(this));var t=this.options.openOn.split(" ");if(t.indexOf("click")>=0)for(var n=function(t){e.toggle(),t.preventDefault()},r=function(t){e.isOpened()&&(t.target===e.drop||e.drop.contains(t.target)||t.target===e.target||e.target.contains(t.target)||e.close())},i=0;i<m.length;++i){var o=m[i];this._on(this.target,o,n),this._on(document,o,r)}t.indexOf("hover")>=0&&!function(){var t=!1,n=function(){t=!0,e.open()},r=null,i=function(){t=!1,"undefined"!=typeof r&&clearTimeout(r),r=setTimeout(function(){t||e.close(),r=null},50)};e._on(e.target,"mouseover",n),e._on(e.drop,"mouseover",n),e._on(e.target,"mouseout",i),e._on(e.drop,"mouseout",i)}()}}},{key:"isOpened",value:function(){return this.drop?p(this.drop,""+c.classPrefix+"-open"):void 0}},{key:"toggle",value:function(){this.isOpened()?this.close():this.open()}},{key:"open",value:function(){var e=this;this.isOpened()||(this.drop.parentNode||document.body.appendChild(this.drop),"undefined"!=typeof this.tether&&this.tether.enable(),h(this.drop,""+c.classPrefix+"-open"),h(this.drop,""+c.classPrefix+"-open-transitionend"),setTimeout(function(){e.drop&&h(e.drop,""+c.classPrefix+"-after-open")}),"undefined"!=typeof this.tether&&this.tether.position(),this.trigger("open"),c.updateBodyClasses())}},{key:"close",value:function(){var e=this;if(this.isOpened()){d(this.drop,""+c.classPrefix+"-open"),d(this.drop,""+c.classPrefix+"-after-open");var t=function n(){p(e.drop,""+c.classPrefix+"-open")||d(e.drop,""+c.classPrefix+"-open-transitionend"),e.drop.removeEventListener(y,n)};this.drop.addEventListener(y,t),this.trigger("close"),"undefined"!=typeof this.tether&&this.tether.disable(),c.updateBodyClasses(),this.options.remove&&this.remove()}}},{key:"remove",value:function(){this.close(),this.drop.parentNode&&this.drop.parentNode.removeChild(this.drop)}},{key:"position",value:function(){this.isOpened()&&"undefined"!=typeof this.tether&&this.tether.position()}},{key:"destroy",value:function(){this.remove(),"undefined"!=typeof this.tether&&this.tether.destroy();for(var e=0;e<this._boundEvents.length;++e){var t=this._boundEvents[e],n=t.element,r=t.event,i=t.handler;n.removeEventListener(r,i)}this._boundEvents=[],this.tether=null,this.drop=null,this.content=null,this.target=null,o($[c.classPrefix],this),o(c.drops,this)}}]),a}(g);return c}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;s=l=u=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;e=l,t=o,n=a,r=!0}},l=Function.prototype.bind,c=e.Utils,f=c.extend,h=c.addClass,d=c.removeClass,p=c.hasClass,g=c.Evented,m=["click"];"ontouchstart"in document.documentElement&&m.push("touchstart");var v={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},y="";for(var b in v)if({}.hasOwnProperty.call(v,b)){var x=document.createElement("p");"undefined"!==x.style[b]&&(y=v[b])}var w={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},$={},k=a();return document.addEventListener("DOMContentLoaded",function(){k.updateBodyClasses()}),k}),function(){var e,t,n,r,i,o,a,s,u,l,c,f,h,d,p;n=Math.floor,l=Math.min,t=function(e,t){return t>e?-1:e>t?1:0},u=function(e,r,i,o,a){var s;if(null==i&&(i=0),null==a&&(a=t),0>i)throw new Error("lo must be non-negative");for(null==o&&(o=e.length);o>i;)s=n((i+o)/2),a(r,e[s])<0?o=s:i=s+1;return[].splice.apply(e,[i,i-i].concat(r)),r},o=function(e,n,r){return null==r&&(r=t),e.push(n),d(e,0,e.length-1,r)},i=function(e,n){var r,i;return null==n&&(n=t),r=e.pop(),e.length?(i=e[0],e[0]=r,p(e,0,n)):i=r,i},s=function(e,n,r){var i;return null==r&&(r=t),i=e[0],e[0]=n,p(e,0,r),i},a=function(e,n,r){var i;return null==r&&(r=t),e.length&&r(e[0],n)<0&&(i=[e[0],n],n=i[0],e[0]=i[1],p(e,0,r)),n},r=function(e,r){var i,o,a,s,u,l;for(null==r&&(r=t),s=function(){l=[];for(var t=0,r=n(e.length/2);r>=0?r>t:t>r;r>=0?t++:t--)l.push(t);return l}.apply(this).reverse(),u=[],o=0,a=s.length;a>o;o++)i=s[o],u.push(p(e,i,r));return u},h=function(e,n,r){var i;return null==r&&(r=t),i=e.indexOf(n),-1!==i?(d(e,0,i,r),p(e,i,r)):void 0},c=function(e,n,i){var o,s,u,l,c;if(null==i&&(i=t),s=e.slice(0,n),!s.length)return s;for(r(s,i),c=e.slice(n),u=0,l=c.length;l>u;u++)o=c[u],a(s,o,i);return s.sort(i).reverse()},f=function(e,n,o){var a,s,c,f,h,d,p,g,m,v;if(null==o&&(o=t),10*n<=e.length){if(f=e.slice(0,n).sort(o),!f.length)return f;for(c=f[f.length-1],g=e.slice(n),h=0,p=g.length;p>h;h++)a=g[h],o(a,c)<0&&(u(f,a,0,null,o),f.pop(),c=f[f.length-1]);return f}for(r(e,o),v=[],s=d=0,m=l(n,e.length);m>=0?m>d:d>m;s=m>=0?++d:--d)v.push(i(e,o));return v},d=function(e,n,r,i){var o,a,s;for(null==i&&(i=t),o=e[r];r>n&&(s=r-1>>1,a=e[s],i(o,a)<0);)e[r]=a,r=s;return e[r]=o},p=function(e,n,r){var i,o,a,s,u;for(null==r&&(r=t),o=e.length,u=n,a=e[n],i=2*n+1;o>i;)s=i+1,o>s&&!(r(e[i],e[s])<0)&&(i=s),e[n]=e[i],n=i,i=2*n+1;return e[n]=a,d(e,u,n,r)},e=function(){function e(e){this.cmp=null!=e?e:t,this.nodes=[]}return e.push=o,e.pop=i,e.replace=s,e.pushpop=a,e.heapify=r,e.updateItem=h,e.nlargest=c,e.nsmallest=f,e.prototype.push=function(e){return o(this.nodes,e,this.cmp)},e.prototype.pop=function(){return i(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return s(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return a(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return r(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return h(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return t=new e,t.nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),function(e,t){return"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Heap=t()}(this,function(){return e})}.call(this),function(e){if("function"==typeof define&&define.amd)define(["d3","topojson"],e);else{var t="undefined"==typeof topojson?null:topojson;vg=e(d3,t)}}(function(e,t){function n(e){return e.replace(D,"$1\\'")}function r(e,t,n,r){for(;r>n;){var i=n+r>>>1;A.cmp(e[i],t)<0?n=i+1:r=i}return n}function o(e,t,n){var r=0,i=e.split(N);return e=n?(i=i.reverse()).filter(function(e){return r+=e.length,t>=r}).reverse():i.filter(function(e){return r+=e.length,t>=r}),e.length?e.join("").trim():i[0].slice(0,t)}function a(e){A.config.isNode?process.stderr.write(e+"\n"):console.log(e)}function s(e){A.config.isNode?process.stderr.write(e+"\n"):console.error(e)}function u(e){return e.__vgtree__=!0,e.nodes=function(){return l(this,[])},e}function l(e,t){var n,r=e.values,i=r?r.length:0;for(t.push(e),n=0;i>n;++n)l(r[n],t);return t}function c(e){var t,n,r=e;if(A.isArray(e))for(r=[],t=0,n=e.length;n>t;++t)r.push(c(e[t]));else if(A.isObject(e)){r={};for(t in e)r[t]=c(e[t])}return r}function f(e,t,n){if(r=[],n&&t.length>1){for(var r,i,o,a=h(e.domain()),s=-1,u=t.length,l=(t[1]-t[0])/++n;++s<u;)for(i=n;--i>0;)(o=+t[s]-i*l)>=a[0]&&r.push(o);for(--s,i=0;++i<n&&(o=+t[s]+i*l)<a[1];)r.push(o)}return r}function h(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function d(e){return e.rangeExtent?e.rangeExtent():h(e.range())}function p(e,t,n,r,i,o){i=Math.max(i,0)+o,("left"===e||"top"===e)&&(i*=-1),"top"===e||"bottom"===e?(A.extend(t.properties.enter,{x:n,y:{value:i}}),A.extend(t.properties.update,{x:r,y:{value:i},align:{value:"center"},baseline:{value:G[e]}})):(A.extend(t.properties.enter,{x:{value:i},y:n}),A.extend(t.properties.update,{x:{value:i},y:r,align:{value:X[e]},baseline:{value:"middle"}}))}function g(e,t,n,r,i){var o="left"===e||"top"===e?-1:1;i=i===1/0?"top"===e||"bottom"===e?{group:"mark.group.height",mult:-o}:{group:"mark.group.width",mult:-o}:{value:o*i},"top"===e||"bottom"===e?(A.extend(t.properties.enter,{x:n,y:{value:0},y2:i}),A.extend(t.properties.update,{x:r,y:{value:0},y2:i}),A.extend(t.properties.exit,{x:r})):(A.extend(t.properties.enter,{x:{value:0},x2:i,y:n}),A.extend(t.properties.update,{x:{value:0},x2:i,y:r}),A.extend(t.properties.exit,{y:r}))}function m(e,t,n,r){var i=~~((n[0]+n[1])/2),o="top"===e||"left"===e?-1:1;"bottom"===e||"top"===e?A.extend(t.properties.update,{x:{value:i},y:{value:o*r},angle:{value:0}}):A.extend(t.properties.update,{x:{value:o*r},y:{value:i},angle:{value:-90}})}function v(e,t,n,r){var i;("top"===e||"left"===e)&&(r=-1*r),i="bottom"===e||"top"===e?"M"+n[0]+","+r+"V0H"+n[1]+"V"+r:"M"+r+","+n[0]+"H0V"+n[1]+"H"+r,t.properties.update.path={value:i}}function y(e,t,n){var r=n?{}:e,i=e.mark.def.offset,o=e.mark.def.orient,a=t.width,s=t.height;if(A.isArray(i)){var u=i[0],l=i[1];switch(o){case"left":r.x=-u,r.y=l;break;case"right":r.x=a+u,r.y=l;break;case"bottom":r.x=u,r.y=s+l;break;case"top":r.x=u,r.y=-l;break;default:r.x=u,r.y=l}}else switch(A.isObject(i)&&(i=-t.scales[i.scale](i.value)),o){case"left":r.x=-i,r.y=0;break;case"right":r.x=a+i,r.y=0;break;case"bottom":r.x=0,r.y=s+i;break;case"top":r.x=0,r.y=-i;break;default:r.x=0,r.y=0}n&&n.interpolate(e,r)}function b(){return{type:"rule",interactive:!1,key:"data",properties:{enter:{stroke:{value:A.config.axis.tickColor},strokeWidth:{value:A.config.axis.tickWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function x(){return{type:"text",interactive:!0,key:"data",properties:{enter:{fill:{value:A.config.axis.tickLabelColor},font:{value:A.config.axis.tickLabelFont},fontSize:{value:A.config.axis.tickLabelFontSize},opacity:{value:1e-6},text:{field:"label"}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function w(){return{type:"text",interactive:!0,properties:{enter:{font:{value:A.config.axis.titleFont},fontSize:{value:A.config.axis.titleFontSize},fontWeight:{value:A.config.axis.titleFontWeight},fill:{value:A.config.axis.titleColor},align:{value:"center"},baseline:{value:"middle"},text:{field:"data"}},update:{}}}}function $(){return{type:"path",interactive:!1,properties:{enter:{x:{value:.5},y:{value:.5},stroke:{value:A.config.axis.axisColor},strokeWidth:{value:A.config.axis.axisWidth}},update:{}}}}function k(e,t,n){var r,i=n?{}:e,o=e.mark.def.offset,a=e.mark.def.orient,s=2*e.mark.def.padding,u=~~e.bounds.width()+(e.width?0:s),l=~~e.bounds.height()+(e.height?0:s);switch(i.x=.5,i.y=.5,i.width=u,i.height=l,!n&&t.bounds&&(t.bounds.delta=t.bounds.x2-t.width),a){case"left":r=t.bounds?t.bounds.x1:0,i.x+=r-o-u;break;case"right":r=t.width,t.bounds&&(r=n?t.width+t.bounds.delta:t.bounds.x2),i.x+=r+o}n&&n.interpolate(e,i),e.mark.def.properties.enter(e,t,n)}function _(e,t,n,r,i){var o=e.properties.enter,a=e.properties.update;t&&(o.size=a.size={scale:t.scaleName,field:"data"}),n&&(o.shape=a.shape={scale:n.scaleName,field:"data"}),r&&(o.fill=a.fill={scale:r.scaleName,field:"data"}),i&&(o.stroke=a.stroke={scale:i.scaleName,field:"data"})}function S(){var e=A.config.legend;return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{value:0},y:{value:0},fill:{value:e.titleColor},font:{value:e.titleFont},fontSize:{value:e.titleFontSize},fontWeight:{value:e.titleFontWeight},baseline:{value:"top"},text:{field:"data"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function C(){var e=A.config.legend;return{type:"symbol",interactive:!1,key:"data",properties:{enter:{x:{field:"offset",mult:.5},y:{scale:"legend",field:"index"},shape:{value:e.symbolShape},size:{value:e.symbolSize},stroke:{value:e.symbolColor},strokeWidth:{value:e.symbolStrokeWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{field:"offset",mult:.5},y:{scale:"legend",field:"index"},opacity:{value:1}}}}}function E(){var e=A.config.legend;return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{field:"offset",offset:5},y:{scale:"legend",field:"index"},fill:{value:e.labelColor},font:{value:e.labelFont},fontSize:{value:e.labelFontSize},align:{value:e.labelAlign},baseline:{value:e.labelBaseline},text:{field:"label"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1},x:{field:"offset",offset:5},y:{scale:"legend",field:"index"}}}}}function M(){var e=A.config.legend;return{type:"rect",interactive:!1,properties:{enter:{x:{value:0},y:{value:0},width:{value:e.gradientWidth},height:{value:e.gradientHeight},stroke:{value:e.gradientStrokeColor},strokeWidth:{value:e.gradientStrokeWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{value:0},y:{value:0},opacity:{value:1}}}}}function T(){var e=A.config.legend;return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{scale:"legend",field:"data"},y:{value:20},dy:{value:2},fill:{value:e.labelColor},font:{value:e.labelFont},fontSize:{value:e.labelFontSize},align:{field:"align"},baseline:{value:"top"},text:{field:"label"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{scale:"legend",field:"data"},y:{value:20},opacity:{value:1}}}}}var A={version:"1.5.4",d3:e,topojson:t},O=Object.prototype.toString;A.isObject=function(e){return e===Object(e)},A.isFunction=function(e){return"[object Function]"==O.call(e)},A.isString=function(e){return"[object String]"==O.call(e)},A.isArray=Array.isArray||function(e){return"[object Array]"==O.call(e)},A.isNumber=function(e){return"[object Number]"==O.call(e)},A.isBoolean=function(e){return"[object Boolean]"==O.call(e)},A.isTree=function(e){return e&&e.__vgtree__},A.tree=function(e,t){var n=[e];return n.__vgtree__=!0,n.children=t||"children",n},A.number=function(e){return null===e?null:+e},A["boolean"]=function(e){return null===e?null:!!e},A.date=function(e){return null===e?null:Date.parse(e)},A.startsWith=String.prototype.startsWith?function(e,t){return e.startsWith(t)}:function(e,t){return 0===e.lastIndexOf(t,0)},A.identity=function(e){return e},A["true"]=function(){return!0},A.extend=function(e){for(var t,n,r=1,i=arguments.length;i>r;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e},A.duplicate=function(e){return JSON.parse(JSON.stringify(e))},A.field=function(e){return e.split("\\.").map(function(e){return e.split(".")}).reduce(function(e,t){return e.length&&(e[e.length-1]+="."+t.shift()),e.push.apply(e,t),e},[])},A.accessor=function(e){var t;return A.isFunction(e)||null==e?e:A.isString(e)&&(t=A.field(e)).length>1?function(e){return t.reduce(function(e,t){return e[t]},e)}:function(t){return t[e]}},A.mutator=function(e){var t;return A.isString(e)&&(t=A.field(e)).length>1?function(e,n){for(var r=0;r<t.length-1;++r)e=e[t[r]];e[t[r]]=n}:function(t,n){t[e]=n}},A.comparator=function(e){var t=[];return void 0===e&&(e=[]),e=A.array(e).map(function(e){var n=1;return"-"===e[0]?(n=-1,e=e.slice(1)):"+"===e[0]&&(n=1,e=e.slice(1)),t.push(n),A.accessor(e)}),function(n,r){var i,o,a,s,u;for(i=0,o=e.length;o>i;++i){if(a=e[i],s=a(n),u=a(r),u>s)return-1*t[i];if(s>u)return t[i]}return 0}},A.cmp=function(e,t){return t>e?-1:e>t?1:e>=t?0:null===e&&null===t?0:null===e?-1:null===t?1:0/0},A.numcmp=function(e,t){return e-t},A.array=function(e){return null!=e?A.isArray(e)?e:[e]:[]},A.values=function(e){return A.isObject(e)&&!A.isArray(e)&&e.values?e.values:e},A.str=function(e){return A.isArray(e)?"["+e.map(A.str)+"]":A.isObject(e)?JSON.stringify(e):A.isString(e)?"'"+n(e)+"'":e};var D=/(^|[^\\])'/g;A.keystr=function(e){return e.join("|")},A.keys=function(e){var t=[];for(var n in e)t.push(n);return t},A.toMap=function(e){return e.reduce(function(e,t){return e[t]=1,e},{})},A.unique=function(e,t,n){if(!A.isArray(e)||0===e.length)return[];t=t||A.identity,n=n||[];for(var r,i={},o=0,a=e.length;a>o;++o)r=t(e[o]),r in i||(i[r]=!0,n.push(r));return n},A.minIndex=function(e,t){if(!A.isArray(e)||0==e.length)return-1;t=t||A.identity;for(var n=0,r=t(e[0]),i=r,o=1,a=e.length;a>o;++o)i=t(e[o]),r>i&&(r=i,n=o);return n},A.maxIndex=function(e,t){if(!A.isArray(e)||0==e.length)return-1;t=t||A.identity;for(var n=0,r=t(e[0]),i=r,o=1,a=e.length;a>o;++o)i=t(e[o]),i>r&&(r=i,n=o);return n},A.bins=function(e){e=e||{};var t,n,i,o,a=e.maxbins||1024,s=e.base||10,u=e.div||[5,2],l=e.minstep||0,c=Math.log(s),f=Math.ceil(Math.log(a)/c),h=e.min,d=e.max,p=d-h,g=Math.max(l,Math.pow(s,Math.round(Math.log(p)/c)-f)),m=Math.ceil(p/g);if(null!=e.step)g=e.step;else if(e.steps)g=e.steps[Math.min(e.steps.length-1,r(e.steps,p/a,0,e.steps.length))];else{do g*=s,m=Math.ceil(p/g);while(m>a);for(i=0;i<u.length;++i)n=g/u[i],n>=l&&a>=p/n&&(g=n,m=Math.ceil(p/g))}return n=Math.log(g),t=n>=0?0:~~(-n/c)+1,o=(0>h?-1:1)*Math.pow(s,-t-1),h=Math.min(h,Math.floor(h/g+o)*g),d=Math.ceil(d/g)*g,{start:h,stop:d,step:g,unit:t}},A.truncate=function(e,t,n,r,i){var a=e.length;if(t>=a)return e;i=i||"...";var s=Math.max(0,t-i.length);switch(n){case"left":return i+(r?o(e,s,1):e.slice(a-s));case"middle":case"center":var u=Math.ceil(s/2),l=Math.floor(s/2);return(r?o(e,u):e.slice(0,u))+i+(r?o(e,l,1):e.slice(a-l));default:return(r?o(e,s):e.slice(0,s))+i}};var N=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/;A.log=function(e){a("[Vega Log] "+e)},A.error=function(e){s("[Vega Err] "+e)},A.config={},A.config.isNode=!1,A.config.domainWhiteList=!1,A.config.dataHeaders=!1,A.config.safeMode=!1,A.config.baseURL="",A.config.defaultProtocol="http:",A.config.svgNamespace='version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"',A.config.autopadInset=5,A.config.scale={time:e.time.scale,utc:e.time.scale.utc},A.config.render={lineWidth:1,lineCap:"butt",font:"sans-serif",fontSize:11},A.config.axis={orient:"bottom",ticks:10,padding:3,axisColor:"#000",gridColor:"#d8d8d8",tickColor:"#000",tickLabelColor:"#000",axisWidth:1,tickWidth:1,tickSize:6,tickLabelFontSize:11,tickLabelFont:"sans-serif",titleColor:"#000",titleFont:"sans-serif",titleFontSize:11,titleFontWeight:"bold",titleOffset:35},A.config.legend={orient:"right",offset:10,padding:3,gradientStrokeColor:"#888",gradientStrokeWidth:1,gradientHeight:16,gradientWidth:100,labelColor:"#000",labelFontSize:10,labelFont:"sans-serif",labelAlign:"left",labelBaseline:"middle",labelOffset:8,symbolShape:"circle",symbolSize:50,symbolColor:"#888",symbolStrokeWidth:1,titleColor:"#000",titleFont:"sans-serif",titleFontSize:11,titleFontWeight:"bold"},A.config.color={rgb:[128,128,128],lab:[50,0,0],hcl:[0,0,50],hsl:[0,0,.5]},A.config.range={category10:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],category20:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],shapes:["circle","cross","diamond","square","triangle-down","triangle-up"]},A.Bounds=function(){var e=function(e){this.clear(),e&&this.union(e)},t=e.prototype;return t.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},t.set=function(e,t,n,r){return this.x1=e,this.y1=t,this.x2=n,this.y2=r,this},t.add=function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},t.expand=function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},t.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},t.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},t.rotate=function(e,t,n){var r=Math.cos(e),i=Math.sin(e),o=t-t*r+n*i,a=n-t*i-n*r,s=this.x1,u=this.x2,l=this.y1,c=this.y2;return this.clear().add(r*s-i*l+o,i*s+r*l+a).add(r*s-i*c+o,i*s+r*c+a).add(r*u-i*l+o,i*u+r*l+a).add(r*u-i*c+o,i*u+r*c+a)},t.union=function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},t.encloses=function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},t.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},t.contains=function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},t.width=function(){return this.x2-this.x1},t.height=function(){return this.y2-this.y1},e}(),A.Gradient=function(){function e(e){this.id="grad_"+L++,this.type=e||"linear",this.stops=[],this.x1=0,this.x2=1,this.y1=0,this.y2=0}var t=e.prototype;return t.stop=function(e,t){return this.stops.push({offset:e,color:t}),this},e}();var L=0;A.canvas={},A.canvas.path=function(){function t(e){var t,n,r,i=[];e=e.slice().replace(h[0],"###$1").split(h[1]).slice(1);for(var o,a,s=0,u=e.length;u>s;s++){t=e[s],n=t.slice(1).trim().replace(h[2],"$1###-").split(h[3]),a=[t.charAt(0)];for(var o=0,l=n.length;l>o;o++)r=parseFloat(n[o]),isNaN(r)||a.push(r);var c=a[0].toLowerCase(),d=f[c];if(a.length-1>d)for(var p=1,g=a.length;g>p;p+=d)i.push([a[0]].concat(a.slice(p,p+d)));else i.push(a)}return i}function n(e,t,n,r,a,s,u){for(var l=r[0],c=r[1],f=r[2],h=r[3],d=r[4],p=r[5],g=r[6],m=i(p,g,l,c,h,d,f,t,n),v=0;v<m.length;v++){var y=o.apply(null,m[v]);e.bezierCurveTo.apply(e,y),a.add(y[0]-s,y[1]-u),a.add(y[2]-s,y[3]-u),a.add(y[4]-s,y[5]-u)}}function r(e,t,n,r){for(var a=n[0],s=n[1],u=n[2],l=n[3],c=n[4],f=n[5],h=n[6],d=i(f,h,a,s,l,c,u,e,t),p=0;p<d.length;p++){var g=o.apply(null,d[p]);r.add(g[0],g[1]),r.add(g[2],g[3]),r.add(g[4],g[5])}}function i(e,t,n,r,i,o,a,s,u){if(c=g.call(arguments),d[c])return d[c];var l=a*(Math.PI/180),f=Math.sin(l),h=Math.cos(l);n=Math.abs(n),r=Math.abs(r);var p=h*(s-e)*.5+f*(u-t)*.5,m=h*(u-t)*.5-f*(s-e)*.5,v=p*p/(n*n)+m*m/(r*r);v>1&&(v=Math.sqrt(v),n*=v,r*=v);var y=h/n,b=f/n,x=-f/r,w=h/r,$=y*s+b*u,k=x*s+w*u,_=y*e+b*t,S=x*e+w*t,C=(_-$)*(_-$)+(S-k)*(S-k),E=1/C-.25;0>E&&(E=0);var M=Math.sqrt(E);o==i&&(M=-M);var T=.5*($+_)-M*(S-k),A=.5*(k+S)+M*(_-$),O=Math.atan2(k-A,$-T),D=Math.atan2(S-A,_-T),N=D-O;0>N&&1==o?N+=2*Math.PI:N>0&&0==o&&(N-=2*Math.PI);for(var L=Math.ceil(Math.abs(N/(.5*Math.PI+.001))),P=[],I=0;L>I;I++){var R=O+I*N/L,j=O+(I+1)*N/L;P[I]=[T,A,R,j,n,r,f,h]}return d[c]=P}function o(e,t,n,r,i,o,a,s){if(c=g.call(arguments),p[c])return p[c];var u=s*i,l=-a*o,f=a*i,h=s*o,d=Math.cos(n),m=Math.sin(n),v=Math.cos(r),y=Math.sin(r),b=.5*(r-n),x=Math.sin(.5*b),w=8/3*x*x/Math.sin(b),$=e+d-w*m,k=t+m+w*d,_=e+v,S=t+y,C=_+w*y,E=S-w*v;return p[c]=[u*$+l*k,f*$+h*k,u*C+l*E,f*C+h*E,u*_+l*S,f*_+h*S]}function a(e,t,r,i){var o,a,s,u,l,c=null,f=0,h=0,d=0,p=0,g=new A.Bounds;void 0==r&&(r=0),void 0==i&&(i=0),e.beginPath();for(var m=0,v=t.length;v>m;++m){switch(o=t[m],o[0]){case"l":f+=o[1],h+=o[2],e.lineTo(f+r,h+i),g.add(f,h);break;case"L":f=o[1],h=o[2],e.lineTo(f+r,h+i),g.add(f,h);break;case"h":f+=o[1],e.lineTo(f+r,h+i),g.add(f,h);break;case"H":f=o[1],e.lineTo(f+r,h+i),g.add(f,h);break;case"v":h+=o[1],e.lineTo(f+r,h+i),g.add(f,h);break;case"V":h=o[1],e.lineTo(f+r,h+i),g.add(f,h);break;case"m":f+=o[1],h+=o[2],e.moveTo(f+r,h+i),g.add(f,h);break;case"M":f=o[1],h=o[2],e.moveTo(f+r,h+i),g.add(f,h);break;case"c":a=f+o[5],s=h+o[6],d=f+o[3],p=h+o[4],e.bezierCurveTo(f+o[1]+r,h+o[2]+i,d+r,p+i,a+r,s+i),g.add(f+o[1],h+o[2]),g.add(d,p),g.add(a,s),f=a,h=s;break;case"C":f=o[5],h=o[6],d=o[3],p=o[4],e.bezierCurveTo(o[1]+r,o[2]+i,d+r,p+i,f+r,h+i),g.add(o[1],o[2]),g.add(d,p),g.add(f,h);break;case"s":a=f+o[3],s=h+o[4],d=2*f-d,p=2*h-p,e.bezierCurveTo(d+r,p+i,f+o[1]+r,h+o[2]+i,a+r,s+i),g.add(d,p),g.add(f+o[1],h+o[2]),g.add(a,s),d=f+o[1],p=h+o[2],f=a,h=s;break;case"S":a=o[3],s=o[4],d=2*f-d,p=2*h-p,e.bezierCurveTo(d+r,p+i,o[1]+r,o[2]+i,a+r,s+i),f=a,h=s,g.add(o[1],o[2]),g.add(d,p),g.add(a,s),d=o[1],p=o[2];break;case"q":a=f+o[3],s=h+o[4],d=f+o[1],p=h+o[2],e.quadraticCurveTo(d+r,p+i,a+r,s+i),f=a,h=s,g.add(d,p),g.add(a,s);break;case"Q":a=o[3],s=o[4],e.quadraticCurveTo(o[1]+r,o[2]+i,a+r,s+i),f=a,h=s,d=o[1],p=o[2],g.add(d,p),g.add(a,s);break;case"t":a=f+o[1],s=h+o[2],null===c[0].match(/[QqTt]/)?(d=f,p=h):"t"===c[0]?(d=2*f-u,p=2*h-l):"q"===c[0]&&(d=2*f-d,p=2*h-p),u=d,l=p,e.quadraticCurveTo(d+r,p+i,a+r,s+i),f=a,h=s,d=f+o[1],p=h+o[2],g.add(d,p),g.add(a,s);break;case"T":a=o[1],s=o[2],d=2*f-d,p=2*h-p,e.quadraticCurveTo(d+r,p+i,a+r,s+i),f=a,h=s,g.add(d,p),g.add(a,s);break;case"a":n(e,f+r,h+i,[o[1],o[2],o[3],o[4],o[5],o[6]+f+r,o[7]+h+i],g,r,i),f+=o[6],h+=o[7];break;case"A":n(e,f+r,h+i,[o[1],o[2],o[3],o[4],o[5],o[6]+r,o[7]+i],g,r,i),f=o[6],h=o[7];break;case"z":case"Z":e.closePath()}c=o}return g.translate(r,i)}function s(e,t){for(var n,i,o,a,s,u=null,l=0,c=0,f=0,h=0,d=0,p=e.length;p>d;++d){switch(n=e[d],n[0]){case"l":l+=n[1],c+=n[2],t.add(l,c);break;case"L":l=n[1],c=n[2],t.add(l,c);break;case"h":l+=n[1],t.add(l,c);break;case"H":l=n[1],t.add(l,c);break;case"v":c+=n[1],t.add(l,c);break;case"V":c=n[1],t.add(l,c);break;case"m":l+=n[1],c+=n[2],t.add(l,c);break;case"M":l=n[1],c=n[2],t.add(l,c);break;case"c":i=l+n[5],o=c+n[6],f=l+n[3],h=c+n[4],t.add(l+n[1],c+n[2]),t.add(f,h),t.add(i,o),l=i,c=o;break;case"C":l=n[5],c=n[6],f=n[3],h=n[4],t.add(n[1],n[2]),t.add(f,h),t.add(l,c);break;case"s":i=l+n[3],o=c+n[4],f=2*l-f,h=2*c-h,t.add(f,h),t.add(l+n[1],c+n[2]),t.add(i,o),f=l+n[1],h=c+n[2],l=i,c=o;break;case"S":i=n[3],o=n[4],f=2*l-f,h=2*c-h,l=i,c=o,t.add(n[1],n[2]),t.add(f,h),t.add(i,o),f=n[1],h=n[2];break;case"q":i=l+n[3],o=c+n[4],f=l+n[1],h=c+n[2],l=i,c=o,t.add(f,h),t.add(i,o);break;case"Q":i=n[3],o=n[4],l=i,c=o,f=n[1],h=n[2],t.add(f,h),t.add(i,o);break;case"t":i=l+n[1],o=c+n[2],null===u[0].match(/[QqTt]/)?(f=l,h=c):"t"===u[0]?(f=2*l-a,h=2*c-s):"q"===u[0]&&(f=2*l-f,h=2*c-h),a=f,s=h,l=i,c=o,f=l+n[1],h=c+n[2],t.add(f,h),t.add(i,o);break;case"T":i=n[1],o=n[2],f=2*l-f,h=2*c-h,l=i,c=o,t.add(f,h),t.add(i,o);break;case"a":r(l,c,[n[1],n[2],n[3],n[4],n[5],n[6]+l,n[7]+c],t),l+=n[6],c+=n[7];break;case"A":r(l,c,[n[1],n[2],n[3],n[4],n[5],n[6],n[7]],t),l=n[6],c=n[7];break;case"z":case"Z":}u=n}return t}function u(t){var n,r=t[0];return n="horizontal"===r.orient?e.svg.area().y(function(e){return e.y}).x0(function(e){return e.x}).x1(function(e){return e.x+e.width}):e.svg.area().x(function(e){return e.x}).y1(function(e){return e.y}).y0(function(e){return e.y+e.height}),r.interpolate&&n.interpolate(r.interpolate),null!=r.tension&&n.tension(r.tension),n(t)}function l(t){var n=t[0],r=e.svg.line().x(function(e){return e.x}).y(function(e){return e.y});return n.interpolate&&r.interpolate(n.interpolate),null!=n.tension&&r.tension(n.tension),r(t)}var c,f={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)-/g,/\s|,|###/],d={},p={},g=Array.prototype.join;return{parse:t,render:a,bounds:s,area:u,line:l}}(),A.canvas.marks=function(){function e(e,t){var n=t.x||0,r=t.y||0,i=t.innerRadius||0,o=t.outerRadius||0,a=(t.startAngle||0)-Math.PI/2,s=(t.endAngle||0)-Math.PI/2;e.beginPath(),0===i?e.moveTo(n,r):e.arc(n,r,i,a,s,0),e.arc(n,r,o,s,a,1),e.closePath()}function t(e,t){var n=t[0],r=n.mark,i=r.pathCache||(r.pathCache=_(A.canvas.path.area(t)));S(e,i)}function n(e,t){var n=t[0],r=n.mark,i=r.pathCache||(r.pathCache=_(A.canvas.path.line(t)));S(e,i)}function r(e,t){if(null!=t.path){var n=t.pathCache||(t.pathCache=_(t.path));return S(e,n,t.x,t.y)}}function i(e,t){e.beginPath();var n,r,i,o,a=null!=t.size?t.size:100,s=t.x,u=t.y;if(null==t.shape||"circle"===t.shape)return n=Math.sqrt(a/Math.PI),e.arc(s,u,n,0,2*Math.PI,0),void e.closePath();switch(t.shape){case"cross":n=Math.sqrt(a/5)/2,r=3*n,e.moveTo(s-r,u-n),e.lineTo(s-n,u-n),e.lineTo(s-n,u-r),e.lineTo(s+n,u-r),e.lineTo(s+n,u-n),e.lineTo(s+r,u-n),e.lineTo(s+r,u+n),e.lineTo(s+n,u+n),
e.lineTo(s+n,u+r),e.lineTo(s-n,u+r),e.lineTo(s-n,u+n),e.lineTo(s-r,u+n);break;case"diamond":o=Math.sqrt(a/(2*E)),i=o*E,e.moveTo(s,u-o),e.lineTo(s+i,u),e.lineTo(s,u+o),e.lineTo(s-i,u);break;case"square":r=Math.sqrt(a),n=r/2,e.rect(s-n,u-n,r,r);break;case"triangle-down":i=Math.sqrt(a/C),o=i*C/2,e.moveTo(s,u+o),e.lineTo(s+i,u-o),e.lineTo(s-i,u-o);break;case"triangle-up":i=Math.sqrt(a/C),o=i*C/2,e.moveTo(s,u-o),e.lineTo(s+i,u+o),e.lineTo(s-i,u+o)}e.closePath()}function o(e,t){var r=t[0],i=r.strokeWidth,o=r.strokeCap;e.lineWidth=null!=i?i:A.config.render.lineWidth,e.lineCap=null!=o?o:A.config.render.lineCap,n(e,t)}function a(e,t){var n=t.x||0,r=t.y||0,i=null!=t.x2?t.x2:n,o=null!=t.y2?t.y2:r,a=t.strokeWidth,s=t.strokeCap;e.lineWidth=null!=a?a:A.config.render.lineWidth,e.lineCap=null!=s?s:A.config.render.lineCap,e.beginPath(),e.moveTo(n,r),e.lineTo(i,o)}function s(e,t,n,r){var i,o,a,s=n.fill,u=n.stroke;e(t,r),i=null==n.opacity?1:n.opacity,0!=i&&(s||u)&&(s&&(t.globalAlpha=i*(null==n.fillOpacity?1:n.fillOpacity),t.fillStyle=m(t,n,s),t.fill()),u&&(a=null!=(a=n.strokeWidth)?a:A.config.render.lineWidth,a>0&&(t.globalAlpha=i*(null==n.strokeOpacity?1:n.strokeOpacity),t.strokeStyle=m(t,n,u),t.lineWidth=a,t.lineCap=null!=(o=n.strokeCap)?o:A.config.render.lineCap,t.vgLineDash(n.strokeDash||null),t.vgLineDashOffset(n.strokeDashOffset||0),t.stroke())))}function u(e,t,n,r){var i,o,a;for(i=0,o=n.items.length;o>i;++i)a=n.items[i],(!r||r.intersects(a.bounds))&&s(e,t,a,a)}function l(e,t,n){if(t.items.length)for(var r,i,o,a,s,u,l,c,f,h,d=t.items,p=0,g=d.length;g>p;++p)r=d[p],(!n||n.intersects(r.bounds))&&(l=r.x||0,c=r.y||0,f=r.width||0,h=r.height||0,a=null==r.opacity?1:r.opacity,0!=a&&((i=r.fill)&&(e.globalAlpha=a*(null==r.fillOpacity?1:r.fillOpacity),e.fillStyle=m(e,r,i),e.fillRect(l,c,f,h)),(o=r.stroke)&&(u=null!=(u=r.strokeWidth)?u:A.config.render.lineWidth,u>0&&(e.globalAlpha=a*(null==r.strokeOpacity?1:r.strokeOpacity),e.strokeStyle=m(e,r,o),e.lineWidth=u,e.lineCap=null!=(s=r.strokeCap)?s:A.config.render.lineCap,e.vgLineDash(r.strokeDash||null),e.vgLineDashOffset(r.strokeDashOffset||0),e.strokeRect(l,c,f,h)))))}function c(e,t,n){if(t.items.length)for(var r,i,o,a,s,u,l,c,f,h=t.items,d=0,p=h.length;p>d;++d)r=h[d],(!n||n.intersects(r.bounds))&&(u=r.x||0,l=r.y||0,c=null!=r.x2?r.x2:u,f=null!=r.y2?r.y2:l,o=null==r.opacity?1:r.opacity,0!=o&&(i=r.stroke)&&(s=null!=(s=r.strokeWidth)?s:A.config.render.lineWidth,s>0&&(e.globalAlpha=o*(null==r.strokeOpacity?1:r.strokeOpacity),e.strokeStyle=m(e,r,i),e.lineWidth=s,e.lineCap=null!=(a=r.strokeCap)?a:A.config.render.lineCap,e.vgLineDash(r.strokeDash||null),e.vgLineDashOffset(r.strokeDashOffset||0),e.beginPath(),e.moveTo(u,l),e.lineTo(c,f),e.stroke())))}function f(e,t,n){if(t.items.length)for(var r,i=this,o=t.items,a=0,s=o.length;s>a;++a)if(r=o[a],!n||n.intersects(r.bounds)){r.image&&r.image.url===r.url||(r.image=i.loadImage(r.url),r.image.url=r.url);var u,l,c,f,h;c=r.width||r.image&&r.image.width||0,f=r.height||r.image&&r.image.height||0,u=(r.x||0)-("center"===r.align?c/2:"right"===r.align?c:0),l=(r.y||0)-("middle"===r.baseline?f/2:"bottom"===r.baseline?f:0),r.image.loaded&&(e.globalAlpha=null!=(h=r.opacity)?h:1,e.drawImage(r.image,u,l,c,f))}}function h(e,t,n){if(t.items.length)for(var r,i,o,a,s,u,l,c,f,h=t.items,d=0,p=h.length;p>d;++d)r=h[d],(!n||n.intersects(r.bounds))&&(e.font=A.scene.fontString(r),e.textAlign=r.align||"left",e.textBaseline=r.baseline||"alphabetic",a=null==r.opacity?1:r.opacity,0!=a&&(u=r.x||0,l=r.y||0,(c=r.radius)&&(f=(r.theta||0)-Math.PI/2,u+=c*Math.cos(f),l+=c*Math.sin(f)),r.angle?(e.save(),e.translate(u,l),e.rotate(r.angle*Math.PI/180),u=r.dx||0,l=r.dy||0):(u+=r.dx||0,l+=r.dy||0),(i=r.fill)&&(e.globalAlpha=a*(null==r.fillOpacity?1:r.fillOpacity),e.fillStyle=m(e,r,i),e.fillText(r.text,u,l)),(o=r.stroke)&&(s=null!=(s=r.strokeWidth)?s:1,s>0&&(e.globalAlpha=a*(null==r.strokeOpacity?1:r.strokeOpacity),e.strokeStyle=m(r,o),e.lineWidth=s,e.strokeText(r.text,u,l))),r.angle&&e.restore()))}function d(e){return function(t,n,r){u(e,t,n,r)}}function p(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.items[0].bounds))&&s(e,t,n.items[0],n.items)}}function g(e,t,n){if(t.items.length){var r,i,o,a,s,u,c,f,h,d=t.items,p=this;for(l(e,t,n),u=0,c=d.length;c>u;++u){for(r=d[u],i=r.axisItems||[],o=r.legendItems||[],a=r.x||0,s=r.y||0,e.save(),e.translate(a,s),r.clip&&(e.beginPath(),e.rect(0,0,r.width||0,r.height||0),e.clip()),n&&n.translate(-a,-s),f=0,h=i.length;h>f;++f)"back"===i[f].def.layer&&p.draw(e,i[f],n);for(f=0,h=r.items.length;h>f;++f)p.draw(e,r.items[f],n);for(f=0,h=i.length;h>f;++f)"back"!==i[f].def.layer&&p.draw(e,i[f],n);for(f=0,h=o.length;h>f;++f)p.draw(e,o[f],n);n&&n.translate(a,s),e.restore()}}}function m(e,t,n){return n.id?v(e,n,t.bounds):n}function v(e,t,n){var r,i,o=n.width(),a=n.height(),s=n.x1+t.x1*o,u=n.y1+t.y1*a,l=n.x1+t.x2*o,c=n.y1+t.y2*a,f=e.createLinearGradient(s,u,l,c),h=t.stops;for(r=0,i=h.length;i>r;++r)f.addColorStop(h[r].offset,h[r].color);return f}function y(e,t,n,r,i,o){if(0===t.items.length||t.bounds&&!t.bounds.contains(i,o))return!1;var a,s,u,l,c,f,h,d=t.items,p=this;for(f=d.length;--f>=0;){for(s=d[f],l=s.x||0,c=s.y||0,e.save(),e.translate(l,c),h=s.items.length;--h>=0;)if(a=s.items[h],a.interactive!==!1&&(u=p.pick(a,n,r,i-l,o-c)))return e.restore(),u;e.restore()}return t.interactive?b(T.group,e,t,n,r,i,o):!1}function b(e,t,n,r,i,o,a){if(!n.items.length)return!1;var s,u,l;for(1!==t._ratio&&(r*=t._ratio,i*=t._ratio),l=n.items.length;--l>=0;)if(s=n.items[l],u=s.bounds,(!u||u.contains(o,a))&&u&&e(t,s,r,i,o,a))return s;return!1}function x(e,t,n,r,i,o){if(!t.items.length)return!1;var a,s=t.items;return a=s[0].bounds,a&&!a.contains(i,o)?!1:(1!==e._ratio&&(n*=e._ratio,r*=e._ratio),T.area(e,s,n,r)?s[0]:!1)}function w(e,t,n,r,i,o){if(!t.items.length)return!1;var a,s=t.items;return a=s[0].bounds,a&&!a.contains(i,o)?!1:(1!==e._ratio&&(n*=e._ratio,r*=e._ratio),T.line(e,s,n,r)?s[0]:!1)}function $(e){return function(t,n,r,i,o,a){return b(e,t,n,r,i,o,a)}}function k(e,t,n,r,i,o){if(!t.fontSize)return!1;if(!t.angle)return!0;var a=A.scene.bounds.text(t,M,!0),s=-t.angle*Math.PI/180,u=Math.cos(s),l=Math.sin(s),n=t.x,r=t.y,c=u*i-l*o+(n-n*u+r*l),f=l*i+u*o+(r-n*l-r*u);return a.contains(c,f)}var _=A.canvas.path.parse,S=A.canvas.path.render,C=(Math.PI/2,Math.sqrt(3)),E=Math.tan(30*Math.PI/180),M=new A.Bounds,T={text:k,rect:function(e,t,n,r){return!0},image:function(e,t,n,r){return!0},group:function(e,t,n,r){return t.fill||t.stroke},rule:function(e,t,n,r){return e.isPointInStroke?(a(e,t),e.isPointInStroke(n,r)):!1},line:function(e,t,n,r){return e.isPointInStroke?(o(e,t),e.isPointInStroke(n,r)):!1},arc:function(t,n,r,i){return e(t,n),t.isPointInPath(r,i)},area:function(e,n,r,i){return t(e,n),e.isPointInPath(r,i)},path:function(e,t,n,i){return r(e,t),e.isPointInPath(n,i)},symbol:function(e,t,n,r){return i(e,t),e.isPointInPath(n,r)}};return{draw:{group:g,area:p(t),line:p(n),arc:d(e),path:d(r),symbol:d(i),rect:l,rule:c,text:h,image:f,drawOne:p,drawAll:d},pick:{group:y,area:x,line:w,arc:$(T.arc),path:$(T.path),symbol:$(T.symbol),rect:$(T.rect),rule:$(T.rule),text:$(T.text),image:$(T.image),pickAll:b}}}(),A.canvas.Renderer=function(){function t(e,t){var n=window.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,i=n/r;if(n!==r){var o=e.width,a=e.height;e.setAttribute("width",o*i),e.setAttribute("height",a*i),e.style.width=o+"px",e.style.height=a+"px"}return i}function n(e){if(!e.vgLineDash){var t=[];e.setLineDash?(e.vgLineDash=function(e){this.setLineDash(e||t)},e.vgLineDashOffset=function(e){this.lineDashOffset=e}):void 0!==e.webkitLineDash?(e.vgLineDash=function(e){this.webkitLineDash=e||t},e.vgLineDashOffset=function(e){this.webkitLineDashOffset=e}):void 0!==e.mozDash?(e.vgLineDash=function(e){this.mozDash=e},e.vgLineDashOffset=function(e){}):(e.vgLineDash=function(e){},e.vgLineDashOffset=function(e){})}}function r(e,t){for(var n=new A.Bounds(t);null!=(e=e.mark.group);)n.translate(e.x||0,e.y||0);return n}function i(e){return e?A.array(e).reduce(function(e,t){return e.union(r(t,t.bounds)).union(r(t,t["bounds:prev"]))},new A.Bounds):null}function o(e,t){var n=null;return t&&(n=new A.Bounds(t).round(),e.beginPath(),e.rect(n.x1,n.y1,n.width(),n.height()),e.clip()),n}var a=function(){this._ctx=null,this._el=null,this._bgcolor=null,this._imgload=0},s=a.prototype;return s.initialize=function(t,n,r,i,o){if(this._el=t,this.background(o),!t)return this;var a=e.select(t).selectAll("canvas.marks").data([1]);return a.enter().append("canvas").attr("class","marks"),a.exit().remove(),this.resize(n,r,i)},s.background=function(e){return this._bgcolor=e,this},s.resize=function(r,i,o){if(this._width=r,this._height=i,this._padding=o,this._el){var a=e.select(this._el).select("canvas.marks");a.attr("width",r+o.left+o.right).attr("height",i+o.top+o.bottom);var s;this._ctx=a.node().getContext("2d"),this._ctx._ratio=s=t(a.node(),this._ctx)||1,this._ctx.setTransform(s,0,0,s,s*o.left,s*o.top)}return n(this._ctx),this},s.context=function(e){return e?(this._ctx=e,this):this._ctx},s.element=function(){return this._el},s.pendingImages=function(){return this._imgload},s.render=function(e,t){var n,r=this._ctx,a=this._padding,s=this._width+a.left+a.right,u=this._height+a.top+a.bottom,l=null;this._scene=e,r.save(),l=o(r,i(t)),this.clear(-a.left,-a.top,s,u),this.draw(r,e,l),t&&(r.restore(),r.save(),n=o(r,i(t)),l.encloses(n)||(this.clear(-a.left,-a.top,s,u),this.draw(r,e,n))),r.restore(),this._scene=null},s.draw=function(e,t,n){var r=t.marktype,i=A.canvas.marks.draw[r];i.call(this,e,t,n)},s.clear=function(e,t,n,r){var i=this._ctx;i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))},s.renderAsync=function(e){var t=this;t._async_id&&clearTimeout(t._async_id),t._async_id=setTimeout(function(){t.render(e),delete t._async_id},50)},s.loadImage=function(e){var t,n=this,r=n._scene,i=null;if(A.config.isNode)n._imgload+=1,i=new(require("canvas").Image),A.data.load(e,function(t,r){return n._imgload-=1,t?void A.error(t):(A.log("LOAD IMAGE: "+e),i.src=r,void(i.loaded=!0))});else{if(i=new Image,t=A.data.load.sanitizeUrl(e),!t)return;n._imgload+=1,i.onload=function(){A.log("LOAD IMAGE: "+t),i.loaded=!0,n._imgload-=1,n.renderAsync(r)},i.src=t}return i},a}(),A.canvas.Handler=function(){function t(e){var t=e.indexOf(".");return 0>t?e:e.slice(0,t)}var n=function(e,t){this._active=null,this._down=null,this._handlers={},e&&this.initialize(e),t&&this.model(t)},r=n.prototype;r.initialize=function(t,n,o){this._el=e.select(t).node(),this._canvas=e.select(t).select("canvas.marks").node(),this._padding=n,this._obj=o||null;var a=this._canvas,s=this;return i.forEach(function(e){a.addEventListener(e,function(t){r[e].call(s,t)})}),this},r.padding=function(e){return this._padding=e,this},r.model=function(e){return arguments.length?(this._model=e,this):this._model},r.handlers=function(){var e=this._handlers;return A.keys(e).reduce(function(t,n){return e[n].reduce(function(e,t){return e.push(t),e},t)},[])};var i=["mouseup","dblclick","wheel","keydown","keypress","keyup","mousewheel"];return i.forEach(function(e){r[e]=function(t){this.fire(e,t)}}),i.push("mousedown"),i.push("mousemove"),i.push("mouseout"),i.push("click"),r.mousemove=function(e){var t=this._padding,n=e.target.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top,o=this._active,a=this.pick(this._model.scene(),r,i,r-t.left,i-t.top);return a===o?void this.fire("mousemove",e):(o&&this.fire("mouseout",e),this._active=a,void(a&&this.fire("mouseover",e)))},r.mouseout=function(e){this._active&&this.fire("mouseout",e),this._active=null},r.mousedown=function(e){this._down=this._active,this.fire("mousedown",e)},r.click=function(e){this._down===this._active&&(this.fire("click",e),this._down=null)},r.DOMMouseScroll=function(e){this.fire("mousewheel",e)},r.fire=function(e,t){var n=this._active,r=this._handlers[e];if(n&&r)for(var i=0,o=r.length;o>i;++i)r[i].handler.call(this._obj,t,n)},r.on=function(e,n){var r=t(e),i=this._handlers;return i=i[r]||(i[r]=[]),i.push({type:e,handler:n}),this},r.off=function(e,n){var r=t(e),i=this._handlers[r];if(i){for(var o=i.length;--o>=0;)i[o].type===e&&(n&&i[o].handler!==n||i.splice(o,1));return this}},r.context=function(){return this._canvas.getContext("2d")},r.pick=function(e,t,n,r,i){var o=this.context(),a=e.marktype,s=A.canvas.marks.pick[a];return s.call(this,o,e,t,n,r,i)},n}(),A.svg={},A.svg.marks=function(){function t(e){return e.x||0}function n(e){return e.y||0}function r(e){return e.x+e.width||0}function i(e){return e.y+e.height||0}function o(e){return null==e.size?100:e.size}function a(e){return e.shape||"circle"}function s(e){var t,n,r,i,o,a=e.mark?e:e.length?e[0]:null;if(null!==a)for(t=0,n=L.length;n>t;++t)r=L[t],i=N[r],o=a[r],null==o?"fill"===i?this.style.setProperty(i,"none",null):this.style.removeProperty(i):(o.id&&(A.svg._cur._defs.gradient[o.id]=o,o="url("+window.location.href+"#"+o.id+")"),this.style.setProperty(i,o+"",null))}function u(e){var t=e.x||0,n=e.y||0;this.setAttribute("transform","translate("+t+","+n+")"),this.setAttribute("d",_(e))}function l(e){if(e.length){var t=e[0],n="horizontal"===t.orient?C:S;n.interpolate(t.interpolate||"linear").tension(null==t.tension?.7:t.tension),this.setAttribute("d",n(e))}}function c(e){if(e.length){var t=e[0];E.interpolate(t.interpolate||"linear").tension(null==t.tension?.7:t.tension),this.setAttribute("d",E(e))}}function f(e){var t=e.x||0,n=e.y||0;this.setAttribute("transform","translate("+t+","+n+")"),null!=e.path&&this.setAttribute("d",e.path)}function h(e){this.setAttribute("x",e.x||0),this.setAttribute("y",e.y||0),this.setAttribute("width",e.width||0),this.setAttribute("height",e.height||0)}function d(e){var t=e.x||0,n=e.y||0;this.setAttribute("x1",t),this.setAttribute("y1",n),this.setAttribute("x2",null!=e.x2?e.x2:t),this.setAttribute("y2",null!=e.y2?e.y2:n)}function p(e){var t=e.x||0,n=e.y||0;this.setAttribute("transform","translate("+t+","+n+")"),this.setAttribute("d",M(e))}function g(e){var t=e.width||e.image&&e.image.width||0,n=e.height||e.image&&e.image.height||0,r=e.x-("center"===e.align?t/2:"right"===e.align?t:0),i=e.y-("middle"===e.baseline?n/2:"bottom"===e.baseline?n:0),o=A.data.load.sanitizeUrl(e.url);o&&this.setAttributeNS("http://www.w3.org/1999/xlink","href",o),this.setAttribute("x",r),this.setAttribute("y",i),this.setAttribute("width",t),this.setAttribute("height",n)}function m(e){var t=(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+(null!=e.fontSize?e.fontSize:A.config.render.fontSize)+"px "+(e.font||A.config.render.font);return t}function v(e){var t=e.x||0,n=e.y||0,r=e.dx||0,i=e.dy||0,o=e.angle||0,a=e.radius||0,s=D[e.align||"left"],u="top"===e.baseline?".9em":"middle"===e.baseline?".35em":0;if(a){var l=(e.theta||0)-Math.PI/2;t+=a*Math.cos(l),n+=a*Math.sin(l)}this.setAttribute("x",t+r),this.setAttribute("y",n+i),this.setAttribute("text-anchor",s),o?this.setAttribute("transform","rotate("+o+" "+t+","+n+")"):this.removeAttribute("transform"),u?this.setAttribute("dy",u):this.removeAttribute("dy"),this.textContent=e.text,this.style.setProperty("font",m(e),null)}function y(e){var t=e.x||0,n=e.y||0;if(this.setAttribute("transform","translate("+t+","+n+")"),e.clip){var r={width:e.width||0,height:e.height||0},i=e.clip_id||(e.clip_id="clip"+O++);A.svg._cur._defs.clipping[i]=r,this.setAttribute("clip-path","url(#"+i+")")}}function b(e){var t=e.width||0,n=e.height||0;this.setAttribute("width",t),this.setAttribute("height",n)}function x(e){var t="type-"+e.type;return e.name&&(t+=" "+e.name),t}function w(e,t,n){return function(r,i,o){$(r,i,o,e,t,n)}}function $(t,n,r,i,o,a){var u=a?[n.items]:n.items,l=n.interactive===!1?"none":null,c=t.node().childNodes,f="g"!==i,h=(h=c[r+1])?e.select(h):t.append("g").attr("id","g"+ ++T).attr("class",x(n.def)),d=h.attr("id"),p="#"+d+" > "+i,g=h.selectAll(p).data(u),m=g.enter().append(i);return f?(h.style("pointer-events",l),m.each(function(e){e.mark?e._svg=this:e.length&&(e[0]._svg=this)})):m.append("rect").attr("class","background").style("pointer-events",l),g.exit().remove(),g.each(o),f?g.each(s):h.selectAll(p+" > rect.background").each(b).each(s),h}function k(t,n,r){var i,o,a,s=$(t,n,r,"g",y),u=s.node().childNodes,l=u.length;for(i=0;l>i;++i){var c=u[i].__data__.items,f=u[i].__data__.legendItems||[],h=u[i].__data__.axisItems||[],d=e.select(u[i]),p=0;for(o=0,a=h.length;a>o;++o)"back"===h[o].def.layer&&k.call(this,d,h[o],p++);for(o=0,a=c.length;a>o;++o)this.draw(d,c[o],p++);for(o=0,a=h.length;a>o;++o)"back"!==h[o].def.layer&&k.call(this,d,h[o],p++);for(o=0,a=f.length;a>o;++o)k.call(this,d,f[o],p++)}}var _=e.svg.arc(),S=e.svg.area().x(t).y1(n).y0(i),C=e.svg.area().y(n).x0(r).x1(t),E=e.svg.line().x(t).y(n),M=e.svg.symbol().type(a).size(o),T=0,O=0,D={left:"start",center:"middle",right:"end"},N={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity",strokeCap:"stroke-linecap",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",opacity:"opacity"},L=A.keys(N);return{update:{group:h,area:l,line:c,arc:u,path:f,symbol:p,rect:h,rule:d,text:v,image:g},nested:{area:!0,line:!0},style:s,draw:{group:k,area:w("path",l,!0),line:w("path",c,!0),arc:w("path",u),path:w("path",f),symbol:w("path",p),rect:w("rect",h),rule:w("line",d),text:w("text",v),image:w("image",g),draw:w}}}(),A.svg.Renderer=function(){var t=function(){this._svg=null,this._ctx=null,this._el=null,this._defs={gradient:{},clipping:{}}},n=t.prototype;return n.initialize=function(t,n,r,i,o){return this._el=t,e.select(t).select("svg.marks").remove(),this._svg=e.select(t).append("svg").attr("class","marks"),null!=o&&this._svg.style("background-color",o),this._ctx=this._svg.append("g"),this.resize(n,r,i)},n.resize=function(e,t,n){return this._width=e,this._height=t,this._padding=n,this._svg.attr("width",e+n.left+n.right).attr("height",t+n.top+n.bottom),this._ctx.attr("transform","translate("+n.left+","+n.top+")"),this},n.context=function(){return this._ctx},n.element=function(){return this._el},n.updateDefs=function(){var t,n,r=this._svg,i=this._defs,o=A.keys(i.gradient),a=A.keys(i.clipping),s=r.select("defs");return 0===o.length&&0==a.length?void s.remove():(s.empty()&&(s=r.insert("defs",":first-child")),t=s.selectAll("linearGradient").data(o,A.identity),t.enter().append("linearGradient").attr("id",A.identity),t.exit().remove(),t.each(function(t){var n=i.gradient[t],r=e.select(this);r.attr({x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),stop=r.selectAll("stop").data(n.stops),stop.enter().append("stop"),stop.exit().remove(),stop.attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color})}),n=s.selectAll("clipPath").data(a,A.identity),n.enter().append("clipPath").attr("id",A.identity),n.exit().remove(),void n.each(function(t){var n=i.clipping[t],r=e.select(this).selectAll("rect").data([1]);r.enter().append("rect"),r.attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height)}))},n.render=function(e,t){A.svg._cur=this,t?this.renderItems(A.array(t)):this.draw(this._ctx,e,-1),this.updateDefs(),delete A.svg._cur},n.renderItems=function(e){var t,n,r,i,o,a=A.svg.marks;for(i=0,o=e.length;o>i;++i)t=e[i],n=t._svg,r=t.mark.marktype,t=a.nested[r]?t.mark.items:t,a.update[r].call(n,t),a.style.call(n,t)},n.draw=function(e,t,n){var r=t.marktype,i=A.svg.marks.draw[r];i.call(this,e,t,n)},t}(),A.svg.Handler=function(){function t(e){var t=this;return function(n){var r=n.target,i=r.__data__;i&&(i=i.mark?i:i[0],e.call(t._obj,n,i))}}function n(e){var t=e.indexOf(".");return 0>t?e:e.slice(0,t)}var r=function(e,t){this._active=null,this._handlers={},e&&this.initialize(e),t&&this.model(t)},i=r.prototype;return i.initialize=function(t,n,r){return this._el=e.select(t).node(),this._svg=e.select(t).select("svg.marks").node(),this._padding=n,this._obj=r||null,this},i.padding=function(e){return this._padding=e,this},i.model=function(e){return arguments.length?(this._model=e,this):this._model},i.handlers=function(){var e=this._handlers;return A.keys(e).reduce(function(t,n){return e[n].reduce(function(e,t){return e.push(t),e},t)},[])},i.on=function(r,i){var o=n(r),a=this._handlers,s=e.select(this._svg).node(),u={type:r,handler:i,svg:t.call(this,i)};return a=a[o]||(a[o]=[]),a.push(u),s.addEventListener(o,u.svg),this},i.off=function(t,r){var i=n(t),o=this._handlers[i],a=e.select(this._svg).node();if(o){for(var s=o.length;--s>=0;)o[s].type===t&&(r&&o[s].handler!==r||(a.removeEventListener(i,o[s].svg),o.splice(s,1)));return this}},r}(),A.data={},A.data.ingestAll=function(e){return A.isTree(e)?u(A.data.ingestTree(e[0],e.children)):e.map(A.data.ingest)},A.data.ingest=function(e,t){return{data:e,index:t}},A.data.ingestTree=function(e,t,n){var r,i,o=A.data.ingest(e,n||0),a=e[t];if(a&&(r=a.length))for(o.values=Array(r),i=0;r>i;++i)o.values[i]=A.data.ingestTree(a[i],t,i);return o},A.data.mapper=function(e){return function(t){return t.forEach(e),t}},A.data.size=function(e,t){return e=A.isArray(e)?e:[0,e],e=e.map(function(e){return"string"==typeof e?t[e]:e})},A.data.load=function(){function t(e){if(A.config.baseURL&&!a.test(e)&&(A.startsWith(e,"/")||"/"===A.config.baseURL[A.config.baseURL.length-1]||(e="/"+e),e=A.config.baseURL+e),A.config.isNode&&A.startsWith(e,"//")&&(e=A.config.defaultProtocol+e),A.config.domainWhiteList){var t,n;if(A.config.isNode){var r=require("url").parse(e);if(A.config.safeMode&&"http:"!==r.protocol&&"https:"!==r.protocol)return!1;t=r.hostname,n=null}else{var i=document.createElement("a");i.href=e,""==i.host&&(i.href=i.href),t=i.hostname.toLowerCase(),n=window.location.hostname}if(n!==t){var o=A.config.domainWhiteList.some(function(e){var n=t.length-e.length;return e===t||n>1&&"."===t[n-1]&&t.lastIndexOf(e)===n});o||(A.error("URL is not whitelisted: "+e),e=!1)}}return e}function n(e,t){var n=A.data.load.sanitizeUrl(e);n?A.config.isNode?A.startsWith(n,s)?i(n.slice(s.length),t):o(n,t):r(n,t):t("Bad URL",null)}function r(t,n){A.log("LOAD XHR: "+t);var r=e.xhr(t);A.config.dataHeaders&&A.keys(A.config.dataHeaders).forEach(function(e){r.header(e,A.config.dataHeaders[e])}),r.get(function(e,t){t&&(t=t.responseText),n(e,t)})}function i(e,t){A.log("LOAD FILE: "+e),require("fs").readFile(e,t)}function o(e,t){A.log("LOAD HTTP: "+e);var n={url:e,encoding:null,gzip:!0};A.config.dataHeaders&&(n.headers=A.config.dataHeaders),require("request").get(n,function(e,n,r){e||200!==n.statusCode?t(e,null):t(null,r)})}var a=/^([A-Za-z]+:)?\/\//,s="file://";return n.sanitizeUrl=t,n}(),A.data.read=function(){function n(e,t){var n=t&&t.type||"json";return e=o[n](e,t),t&&t.parse&&r(e,t.parse),e}function r(e,t){var n=A.keys(t),r=n.map(function(e){return a[t[e]]}),o=A.isTree(e);i(o?[e]:e,n,r,o)}function i(e,t,n,i){var o,a,s,u,l;for(a=0,u=e.length;u>a;++a){for(o=e[a],s=0,l=t.length;l>s;++s)o[t[s]]=n[s](o[t[s]]);i&&o.values&&r(o,t,n,!0)}}var o={},a={number:A.number,"boolean":A["boolean"],date:A.date};return o.json=function(e,t){var n=A.isObject(e)?e:JSON.parse(e);return t&&t.property&&(n=A.accessor(t.property)(n)),n},o.csv=function(t,n){var r=e.csv.parse(t);return r},o.tsv=function(t,n){var r=e.tsv.parse(t);return r},o.topojson=function(e,n){if(null==t)return A.error("TopoJSON library not loaded."),[];var r=A.isObject(e)?e:JSON.parse(e),i=[];return n&&n.feature?i=(i=r.objects[n.feature])?t.feature(r,i).features:(A.error("Invalid TopoJSON object: "+n.feature),[]):n&&n.mesh?i=(i=r.objects[n.mesh])?[t.mesh(r,r.objects[n.mesh])]:(A.error("Invalid TopoJSON object: "+n.mesh),[]):A.error("Missing TopoJSON feature or mesh parameter."),i},o.treejson=function(e,t){return e=A.isObject(e)?e:JSON.parse(e),A.tree(e,t.children)},n.formats=o,n.parse=r,n}(),A.data.aggregate=function(){function e(e){this.field=e,this.ops=[],this.flags=0,this.count=0}var t=1,n=2,r=4,o=8,a=16,s=32;return e.prototype.clone=function(){var t,n,r=new e(this.field);for(t in this)n=this[t],r[t]=A.isArray(n)?n.slice():n;return r},e.prototype.init=function(e){"sum"===e?(this.flags|=t,this.sum=0):"avg"===e?(this.flags|=n,this.avg=0):"var"===e||"std"===e?(this.flags|=r|n,this.avg=0,this.dev=0):"min"===e?(this.flags|=o,this.min=+(1/0)):"max"===e?(this.flags|=a,this.max=-(1/0)):"median"===e&&(this.flags|=s,this.vals=[]),this.ops.push(e)},e.prototype.update=function(e){var i,u=this,l=u.flags;u.count+=1,l&t&&(u.sum+=e),l&n&&(i=e-u.avg,u.avg+=i/u.count),l&r&&(u.dev+=i*(e-u.avg)),l&o&&(u.min=e<u.min?e:u.min),l&a&&(u.max=e>u.max?e:u.max),l&s&&u.vals.push(e)},e.prototype.value=function(e){switch(e){case"sum":return this.sum;case"avg":return this.avg;case"var":return this.dev/(this.count-1);case"std":return Math.sqrt(this.dev/(this.count-1));case"min":return this.min;case"max":return this.max;case"median":var t=this.vals,n=t.length,r=~~(n/2);return n?n%2?t[r]:.5*(t[r-1]+t[r]):0}},e.prototype.done=function(e){this.vals&&this.vals.sort(A.numcmp);for(var t=this.ops,n=0;n<t.length;++n)"count"===t[n]?e.count=this.count:e[t[n]+"_"+this.field]=this.value(t[n]);return e},function(){function t(e){var t=A.keystr(a.map(function(t){return t(e)}));return l[t]||(l[t]=n(e))}function n(e){var t=o.map(function(e){return e.clone()});for(t.data={},i=0;i<u.length;++i)t.data[u[i]]=a[i](e);return t}function r(e){var n,r,i,o,a;for(r=0;r<e.length;++r)for(o=e[r],a=t(o),i=0;i<a.length;++i)a[i].update(s[i](o));var u=[],c=0;for(n in l){for(a=l[n],r=0;r<a.length;++r)a[r].done(a.data);u.push({index:c++,data:a.data})}return l={},u}var o,a,s,u=[],l={};return r.fields=function(t){var n={};return s=[],o=A.array(t).reduce(function(t,r){var i,o=r.field;return n[o]||(s.push(A.accessor(o)),i=0===o.indexOf("data.")?o.slice(5):o,t.push(n[o]=new e(i))),n[o].init(r.op),t},[]),r},r.groupby=function(e){return u=A.array(e),a=u.map(function(e,t){return 0===e.indexOf("data.")&&(u[t]=e.slice(5)),A.accessor(e)}),r},r}}(),A.data.array=function(){function e(e){return e.map(function(e){for(var n=[],r=0,i=t.length;i>r;++r)n.push(t[r](e));return n})}var t=[];return e.fields=function(n){return t=A.array(n).map(A.accessor),e},e},A.data.bin=function(){function e(e){var t={min:null!=i?i:+(1/0),max:null!=o?o:-(1/0),step:null!=a?a:null,maxbins:s};(null==i||null==o)&&e.forEach(function(e){var r=n(e);null==i&&r>t.max&&(t.max=r),null==o&&r<t.min&&(t.min=r)});var u=A.bins(t);return e.forEach(function(e){var t=n(e);r(e,u.start+u.step*~~((t-u.start)/u.step))}),e}var t,n,r,i,o,a,s=20,u="bin";return e.min=function(t){return i=t,e},e.max=function(t){return o=t,e},e.step=function(t){return a=t,e},e.maxbins=function(t){return s=t,e},e.field=function(r){return t=r,n=A.accessor(r),e},e.output=function(t){return u=t,r=A.mutator(t),e},e},A.data.copy=function(){var e=A.accessor("data"),t=[],n=null,r=A.data.mapper(function(r){var i,o,a=e(r),s=n||t;for(i=0,o=t.length;o>i;++i)r[s[i]]=a[t[i]];return r});return r.from=function(t){return e=A.accessor(t),r},r.fields=function(e){return t=A.array(e),r},r.as=function(e){return n=A.array(e),r},r},A.data.cross=function(){function e(e){var i,o,a,s=[],u=t||e,l=e.length;for(o=0;l>o;++o)for(a=0;l>a;++a)n&&o===a||(i={},i[r.left]=e[o],i[r.right]=u[a],s.push(i));return s}var t=null,n=!1,r={left:"a",right:"b"};return e["with"]=function(n){return t=n,e},e.diagonal=function(t){return n=!t,e},e.output=function(t){return A.keys(r).forEach(function(e){void 0!==t[e]&&(r[e]=t[e])}),e},e},A.data.facet=function(){function e(e){var r,i,o,a,s,u={key:"",keys:[],values:[]},l={},c=u.values;if(0===t.length)return c.push(r={key:"",keys:[],index:0,values:n?e.slice():e}),n&&n(r.values),u;for(s=0,a=e.length;a>s;++s)i=t.map(function(t){return t(e[s])}),o=A.keystr(i),r=l[o],void 0===r&&c.push(r=l[o]={key:o,keys:i,index:c.length,values:[]}),r.values.push(e[s]);if(n)for(s=0,a=c.length;a>s;++s)n(c[s].values);return u}var t=[],n=null;return e.keys=function(n){return t=A.array(n).map(A.accessor),e},e.sort=function(t){return n=A.data.sort().by(t),e},e},A.data.filter=function(){function e(e){return t?e.filter(t):e}var t=null;return e.test=function(n){return t=A.isFunction(n)?n:A.parse.expr(n),e},e},A.data.flatten=function(){function e(e){return t(e,[])}function t(e,n){if(A.isArray(e.values))for(var r=0,i=e.values.length;i>r;++r)t(e.values[r],n);else n.push(e);return n}return e},A.data.fold=function(){function e(e){var i,o,a,s,u=[],l=t.length;for(o=0,s=e.length;s>o;++o)for(i=e[o],a=0;l>a;++a){var c={index:u.length,data:i.data};c[r.key]=t[a],c[r.value]=n[a](i),u.push(c)}return u}var t=[],n=[],r={key:"key",value:"value"};return e.fields=function(r){return t=A.array(r),n=t.map(A.accessor),e},e.output=function(t){return A.keys(r).forEach(function(e){void 0!==t[e]&&(r[e]=t[e])}),e},e},A.data.force=function(){function t(e,t,i){n.size(A.data.size(u,i)).nodes(e),r&&t[r]&&n.links(t[r]),n.start();for(var o=0;s>o;++o)n.tick();return n.stop(),e}var n=e.layout.force(),r=null,i=20,o=1,a=-30,s=500,u=["width","height"],l=["friction","theta","gravity","alpha"];return t.links=function(e){return r=e,t},t.size=function(e){return u=e,t},t.linkDistance=function(e){return i="number"==typeof e?e:A.accessor(e),n.linkDistance(i),t},t.linkStrength=function(e){return o="number"==typeof e?e:A.accessor(e),n.linkStrength(o),t},t.charge=function(e){return a="number"==typeof e?e:A.accessor(e),n.charge(a),t},t.iterations=function(e){return s=e,t},l.forEach(function(e){t[e]=function(r){return n[e](r),t}}),t},A.data.force.dependencies=["links"],A.data.formula=function(){return function(){var e,t=null,n=A.identity,r=A.data.mapper(function(r,i,o){return t&&e(r,n.call(null,r,i,o)),r});return r.field=function(n){return t=n,e=A.mutator(t),r},r.expr=function(e){return n=A.isFunction(e)?e:A.parse.expr(e),r},r}}(),A.data.geo=function(){function t(){var t={},r="mercator",i=e.geo[r](),o=A.identity,a=A.identity,s={x:"x",y:"y"},u=A.data.mapper(function(e){var t=[a(e),o(e)],n=i(t);return e[s.x]=n[0],e[s.y]=n[1],e});return u.func=function(){return i},u.projection=function(n){if(r!==n){r=n,i=e.geo[r]();for(var o in t)i[o](t[o])}return u},n.forEach(function(e){u[e]=function(n){return t[e]=n,i[e](n),u}}),u.lon=function(e){return a=A.accessor(e),u},u.lat=function(e){return o=A.accessor(e),u},u.output=function(e){return A.keys(s).forEach(function(t){void 0!==e[t]&&(s[t]=e[t])}),e},u}var n=["center","scale","translate","rotate","precision","clipAngle"];return t.params=n,t}(),A.data.geopath=function(){var t=e.geo.path().projection(e.geo.mercator()),n="mercator",r=A.identity,i={},o={path:"path"},a=A.data.mapper(function(e){return e[o.path]=t(r(e)),e});return a.projection=function(r){if(n!==r){n=r;var o=e.geo[n]();for(var s in i)o[s](i[s]);t.projection(o)}return a},A.data.geo.params.forEach(function(e){a[e]=function(n){return i[e]=n,t.projection()[e](n),a}}),a.value=function(e){return r=A.accessor(e),a},a.output=function(e){return A.keys(o).forEach(function(t){void 0!==e[t]&&(o[t]=e[t])}),e},a},A.data.link=function(){function e(e){var t=a(e),n=s(e);return"M"+t.x+","+t.y+"L"+n.x+","+n.y}function t(e){var t=a(e),n=s(e),r=n.x-t.x,i=n.y-t.y,o=u*(r+i),l=u*(i-r);return"M"+t.x+","+t.y+"C"+(t.x+o)+","+(t.y+l)+" "+(n.x+l)+","+(n.y-o)+" "+n.x+","+n.y}function n(e){var t=a(e),n=s(e),r=(t.x+n.x)/2;return"M"+t.x+","+t.y+"C"+r+","+t.y+" "+r+","+n.y+" "+n.x+","+n.y}function r(e){var t=a(e),n=s(e),r=(t.y+n.y)/2;return"M"+t.x+","+t.y+"C"+t.x+","+r+" "+n.x+","+r+" "+n.x+","+n.y}function i(e){var t=c[o];return e.forEach(function(e){e[l.path]=t(e)}),e}var o="line",a=A.accessor("source"),s=A.accessor("target"),u=.2,l={path:"path"},c={line:e,curve:t,diagonal:n,diagonalX:n,diagonalY:r};return i.shape=function(e){return o=e,i},i.tension=function(e){return u=e,i},i.source=function(e){return a=A.accessor(e),i},i.target=function(e){return s=A.accessor(e),i},i.output=function(e){return A.keys(l).forEach(function(t){void 0!==e[t]&&(l[t]=e[t])}),i},i},A.data.pie=function(){function t(t){var n=t.map(function(e,t){return+r(e)}),u=i,l=(o-i)/e.sum(n),c=e.range(t.length);

return a&&c.sort(function(e,t){return n[e]-n[t]}),c.forEach(function(e){var r;t[e].value=r=n[e],t[e][s.startAngle]=u,t[e][s.midAngle]=u+.5*r*l,t[e][s.endAngle]=u+=r*l}),t}var n=function(){return 1},r=n,i=0,o=2*Math.PI,a=!1,s={startAngle:"startAngle",endAngle:"endAngle",midAngle:"midAngle"};return t.sort=function(e){return a=e,t},t.value=function(e){return r=e?A.accessor(e):n,t},t.startAngle=function(e){return i=Math.PI*e/180,t},t.endAngle=function(e){return o=Math.PI*e/180,t},t.output=function(e){return A.keys(s).forEach(function(t){void 0!==e[t]&&(s[t]=e[t])}),t},t},A.data.slice=function(){function e(e){if(e=A.values(e),"min"===t)e=[e[A.minIndex(e,n)]];else if("max"===t)e=[e[A.maxIndex(e,n)]];else if("median"===t){var r=e.slice().sort(function(e,t){return e=n(e),t=n(t),t>e?-1:e>t?1:0});e=[e[~~(r.length/2)]]}else{var i=A.array(t);e=e.slice(i[0],i[1])}return e}var t=null,n=A.accessor("data");return e.by=function(n){return t=n,e},e.field=function(t){return n=A.accessor(t),e},e},A.data.sort=function(){function e(e){e=A.isArray(e)?e:e.values||[],e.sort(t);for(var n=0,r=e.length;r>n;++n)e[n].index=n;return e}var t=null;return e.by=function(n){return t=A.comparator(n),e},e},A.data.stack=function(){function t(e){var t=s.y0,i=s.y1,o=s.cy,a=n(e);return 0===a.length?e:(r.out(function(e,n,r){e.datum&&(e.datum[t]=n,e.datum[i]=r+n,e.datum[o]=n+r/2)})(a),e)}function n(e){var t,n,r,a,s,u,l,c,f=A.values(e),h=[],d=[];if(0===f.length)return d;for(n=0,r=f.length;r>n;++n){for(t=A.values(f[n]),a=0,s=t.length;s>a;++a)h.push({x:i(t[a]),y:o(t[a]),z:n,datum:t[a]});d.push([])}for(h.sort(function(e,t){return e.x<t.x?-1:e.x>t.x?1:e.z<t.z?-1:e.z>t.z?1:0}),c=h[0].x,n=0,a=0,u=0,r=h.length;r>u;++u){if(l=h[u],l.x!==c){for(;n<d.length;)d[n++].push({x:a,y:0});c=l.x,n=0,a+=1}for(;l.z>n;)d[n++].push({x:a,y:0});l.x=a,d[n++].push(l)}for(;n<d.length;)d[n++].push({x:a,y:0});return d}var r=e.layout.stack(),i=A.accessor("index"),o=A.accessor("data"),a=["offset","order"],s={y0:"y2",y1:"y",cy:"cy"};return t.point=function(e){return i=A.accessor(e),t},t.height=function(e){return o=A.accessor(e),t},a.forEach(function(e){t[e]=function(n){return r[e](n),t}}),t.output=function(n){return e.keys(s).forEach(function(e){void 0!==n[e]&&(s[e]=n[e])}),t},t},A.data.stats=function(){function e(e){var t,a,s,u,l=+(1/0),c=-(1/0),f=0,h=0,d=0,p=(A.isArray(e)?e:e.values||[]).map(n);for(t=0,a=p.length;a>t;++t)s=p[t],l>s&&(l=s),s>c&&(c=s),f+=s,u=s-h,h+=u/(t+1),d+=u*(s-h);d/=a-1;var g=A.isArray(e)?{}:e;if(i&&(p.sort(A.numcmp),t=p.length>>1,g[o.median]=p.length%2?p[t]:(p[t-1]+p[t])/2),g[o.count]=a,g[o.min]=l,g[o.max]=c,g[o.sum]=f,g[o.mean]=h,g[o.variance]=d,g[o.stdev]=Math.sqrt(d),r){for(p=A.isArray(e)?e:e.values,s={},s[o.count]=a,s[o.min]=l,s[o.max]=c,s[o.sum]=f,s[o.mean]=h,s[o.variance]=d,s[o.stdev]=Math.sqrt(d),i&&(s[o.median]=g[o.median]),t=0,a=p.length;a>t;++t)p[t].stats=s;A.isArray(e)&&(g=p)}return g}function t(t){return A.isArray(t)?e(t):(t.values||[]).map(e)}var n=A.accessor("data"),r=!1,i=!1,o={count:"count",min:"min",max:"max",sum:"sum",mean:"mean",variance:"variance",stdev:"stdev",median:"median"};return t.median=function(e){return i=e||!1,t},t.value=function(e){return n=A.accessor(e),t},t.assign=function(e){return r=e,t},t.output=function(e){return A.keys(o).forEach(function(t){void 0!==e[t]&&(o[t]=e[t])}),t},t},A.data.treemap=function(){function t(e,t,o){e=n.size(A.data.size(i,o)).value(r).nodes(A.isTree(e)?e:{values:e});var s=A.keys(a),u=s.length;return e.forEach(function(e){for(var t,n,r=0;u>r;++r)t=s[r],t!==a[t]&&(n=e[t],delete e[t],e[a[t]]=n)}),e}var n=e.layout.treemap().children(function(e){return e.values}),r=A.accessor("data"),i=["width","height"],o=["round","sticky","ratio","padding"],a={x:"x",y:"y",dx:"width",dy:"height"};return t.size=function(e){return i=e,t},t.value=function(e){return r=A.accessor(e),t},o.forEach(function(e){t[e]=function(r){return n[e](r),t}}),t.output=function(e){return A.keys(a).forEach(function(t){void 0!==e[t]&&(a[t]=e[t])}),t},t},A.data.truncate=function(){var e,t=A.accessor("data"),n="truncate",r="right",i="...",o=!0,a=100,s=A.data.mapper(function(n){var s=A.truncate(t(n),a,r,o,i);return e(n,s),n});return s.value=function(e){return t=A.accessor(e),s},s.output=function(t){return n=t,e=A.mutator(t),s},s.limit=function(e){return a=+e,s},s.position=function(e){return r=e,s},s.ellipsis=function(e){return i=e+"",s},s.wordbreak=function(e){return o=!!e,s},s},A.data.unique=function(){function e(e){return A.unique(e,t).map(function(e){var t={};return t[n]=e,t})}var t=null,n="field";return e.field=function(n){return t=A.accessor(n),e},e.as=function(t){return n=t,e},e},A.data.window=function(){function e(e){e=A.isArray(e)?e:e.values||[];var r,i,o,a=[],s=e.length-t;for(r=0;s>=r;r+=n){for(i=0,o=[];t>i;++i)o.push(e[r+i]);a.push({key:r,values:o})}return{values:a}}var t=2,n=1;return e.size=function(n){return t=n,e},e.step=function(t){return n=t,e},e},A.data.wordcloud=function(){function t(e,t,s){function l(t,r){var i,a,s,l,c,f=n.size(),h=f[0]/2,d=f[1]/2,p=A.keys(u),g=p.length;for(e.sort(function(e,t){return o(t)-o(e)}),s=0,l=t.length;l>s;++s)for(a=e[s],c=0;g>c;++c)i=p[c],a[u[i]]=t[s][i],"x"===i&&(a[u.x]+=h),"y"===i&&(a[u.y]+=d)}return n.size(A.data.size(i,s)).text(r).fontSize(o).rotate(a).words(e).on("end",l).start(),e}var n=e.layout.cloud().size([900,500]),r=A.accessor("data"),i=["width","height"],o=function(){return 14},a=function(){return 0},s=["font","fontStyle","fontWeight","padding"],u={x:"x",y:"y",size:"fontSize",font:"font",rotate:"angle"};return t.text=function(e){return r=A.accessor(e),t},t.size=function(e){return i=e,t},t.fontSize=function(e){return o=A.accessor(e),t},t.rotate=function(e){var n;return A.isObject(e)&&!Array.isArray(e)?void 0!==e.random?(n=(n=e.random)?A.array(n):[0],a=function(){return n[~~(Math.random()*n.length-1e-5)]}):void 0!==e.alternate&&(n=(n=e.alternate)?A.array(n):[0],a=function(e,t){return n[t%n.length]}):a=A.accessor(field),t},s.forEach(function(e){t[e]=function(r){return n[e](r),t}}),t.output=function(e){return A.keys(u).forEach(function(t){void 0!==e[t]&&(u[t]=e[t])}),t},t},A.data.zip=function(){function e(e,a){var s,u,l,c,f,h=a[n],d=h.length;for(o&&(f={},h.forEach(function(e){f[o(e)]=e})),l=0,c=e.length;c>l;++l)u=e[l],u[r]=f?null!=(s=f[i(u)])?s:t:h[l%d];return e}var t,n=null,r="zip",i=A.accessor("data"),o=null;return e["with"]=function(t){return n=t,e},e["default"]=function(n){return t=n,e},e.as=function(t){return r=t,e},e.key=function(t){return i=A.accessor(t),e},e.withKey=function(t){return o=A.accessor(t),e},e},A.data.zip.dependencies=["with"],A.expression={},A.expression.parse=function(e,t){return j.parse("("+e+")",t)},A.expression.code=function(e){return R(e)};var P={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},I=function(e){function t(t,n,r,i){var o=e(n[0]);return r&&(o=r+"("+o+")",A.startsWith(r,"new ")&&(o="("+o+")")),o+"."+t+(0>i?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}var n="new Date",r="String",i="RegExp";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",now:"Date.now",datetime:"new Date",date:function(e){return t("getDate",e,n,0)},day:function(e){return t("getDay",e,n,0)},year:function(e){return t("getFullYear",e,n,0)},month:function(e){return t("getMonth",e,n,0)},hours:function(e){return t("getHours",e,n,0)},minutes:function(e){return t("getMinutes",e,n,0)},seconds:function(e){return t("getSeconds",e,n,0)},milliseconds:function(e){return t("getMilliseconds",e,n,0)},time:function(e){return t("getTime",e,n,0)},timezoneoffset:function(e){return t("getTimezoneOffset",e,n,0)},utcdate:function(e){return t("getUTCDate",e,n,0)},utcday:function(e){return t("getUTCDay",e,n,0)},utcyear:function(e){return t("getUTCFullYear",e,n,0)},utcmonth:function(e){return t("getUTCMonth",e,n,0)},utchours:function(e){return t("getUTCHours",e,n,0)},utcminutes:function(e){return t("getUTCMinutes",e,n,0)},utcseconds:function(e){return t("getUTCSeconds",e,n,0)},utcmilliseconds:function(e){return t("getUTCMilliseconds",e,n,0)},length:function(e){return t("length",e,null,-1)},indexof:function(e){return t("indexOf",e,null)},lastindexof:function(e){return t("lastIndexOf",e,null)},parseFloat:"parseFloat",parseInt:"parseInt",upper:function(e){return t("toUpperCase",e,r,0)},lower:function(e){return t("toLowerCase",e,r,0)},slice:function(e){return t("slice",e,r)},substring:function(e){return t("substring",e,r)},test:function(e){return t("test",e,i)},"if":function(t){if(t.length<3)throw new Error("Missing arguments to if function.");if(t.length>3)throw new Error("Too many arguments to if function.");var n=t.map(e);return n[0]+"?"+n[1]+":"+n[2]}}},R=function(e){function t(e){if(e instanceof String)return e;var t=s[e.type];if(null==t)throw new Error("Unsupported type: "+e.type);return t(e)}e=e||{};var n=e.constants||P,r=(e.functions||I)(t),i=e.idWhiteList?A.toMap(e.idWhiteList):null,o=e.idBlackList?A.toMap(e.idBlackList):null,a=0,s={Literal:function(e){return e.raw},Identifier:function(e){var t=e.name;if(a>0)return t;if(n.hasOwnProperty(t))return n[t];if(i){if(i.hasOwnProperty(t))return t;throw new Error("Illegal identifier: "+t)}if(o&&o.hasOwnProperty(t))throw new Error("Illegal identifier: "+t);return t},Program:function(e){return e.body.map(t).join("\n")},MemberExpression:function(e){var n=!e.computed,r=t(e.object);n&&(a+=1);var i=t(e.property);return n&&(a-=1),r+(n?"."+i:"["+i+"]")},CallExpression:function(e){if("Identifier"!==e.callee.type)throw new Error("Illegal callee type: "+e.callee.type);var n=e.callee.name,i=e.arguments,o=r.hasOwnProperty(n)&&r[n];if(!o)throw new Error("Unrecognized function: "+n);return o instanceof Function?o(i):o+"("+i.map(t).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(t).join(",")+"]"},BinaryExpression:function(e){return"("+t(e.left)+e.operator+t(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+t(e.argument)+")"},UpdateExpression:function(e){return"("+(prefix?e.operator+t(e.argument):t(e.argument)+e.operator)+")"},ConditionalExpression:function(e){return"("+t(e.test)+"?"+t(e.consequent)+":"+t(e.alternate)+")"},LogicalExpression:function(e){return"("+t(e.left)+e.operator+t(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(t).join(",")+"}"},Property:function(e){a+=1;var n=t(e.key);return a-=1,n+":"+t(e.value)},ExpressionStatement:function(e){return t(e.expression)}};return t},j=function(){"use strict";function e(e,t){if(!e)throw new Error("ASSERT: "+t)}function t(e){return e>=48&&57>=e}function n(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function r(e){return"01234567".indexOf(e)>=0}function i(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function o(e){return 10===e||13===e||8232===e||8233===e}function a(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||92===e||e>=128&&_e.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function s(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e||92===e||e>=128&&_e.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function u(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function l(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function c(e){if(Ce&&l(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function f(){var e,t;for(t=0===Ee;Ae>Ee;)if(e=Se.charCodeAt(Ee),i(e))++Ee;else{if(!o(e))break;++Ee,13===e&&10===Se.charCodeAt(Ee)&&++Ee,++Me,Te=Ee,t=!0}}function h(e){var t,r,i,o=0;for(r="u"===e?4:2,t=0;r>t;++t){if(!(Ae>Ee&&n(Se[Ee])))return"";i=Se[Ee++],o=16*o+"0123456789abcdef".indexOf(i.toLowerCase())}return String.fromCharCode(o)}function d(){var e,t,r,i;for(e=Se[Ee],t=0,"}"===e&&F({},ke.UnexpectedToken,"ILLEGAL");Ae>Ee&&(e=Se[Ee++],n(e));)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&F({},ke.UnexpectedToken,"ILLEGAL"),65535>=t?String.fromCharCode(t):(r=(t-65536>>10)+55296,i=(t-65536&1023)+56320,String.fromCharCode(r,i))}function p(){var e,t;for(e=Se.charCodeAt(Ee++),t=String.fromCharCode(e),92===e&&(117!==Se.charCodeAt(Ee)&&F({},ke.UnexpectedToken,"ILLEGAL"),++Ee,e=h("u"),e&&"\\"!==e&&a(e.charCodeAt(0))||F({},ke.UnexpectedToken,"ILLEGAL"),t=e);Ae>Ee&&(e=Se.charCodeAt(Ee),s(e));)++Ee,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==Se.charCodeAt(Ee)&&F({},ke.UnexpectedToken,"ILLEGAL"),++Ee,e=h("u"),e&&"\\"!==e&&s(e.charCodeAt(0))||F({},ke.UnexpectedToken,"ILLEGAL"),t+=e);return t}function g(){var e,t;for(e=Ee++;Ae>Ee;){if(t=Se.charCodeAt(Ee),92===t)return Ee=e,p();if(!s(t))break;++Ee}return Se.slice(e,Ee)}function m(){var e,t,n;return e=Ee,t=92===Se.charCodeAt(Ee)?p():g(),n=1===t.length?be.Identifier:c(t)?be.Keyword:"null"===t?be.NullLiteral:"true"===t||"false"===t?be.BooleanLiteral:be.Identifier,{type:n,value:t,lineNumber:Me,lineStart:Te,start:e,end:Ee}}function v(){var e,t,n,r,i=Ee,o=Se.charCodeAt(Ee),a=Se[Ee];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ee,Ne.tokenize&&(40===o?Ne.openParenToken=Ne.tokens.length:123===o&&(Ne.openCurlyToken=Ne.tokens.length)),{type:be.Punctuator,value:String.fromCharCode(o),lineNumber:Me,lineStart:Te,start:i,end:Ee};default:if(e=Se.charCodeAt(Ee+1),61===e)switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ee+=2,{type:be.Punctuator,value:String.fromCharCode(o)+String.fromCharCode(e),lineNumber:Me,lineStart:Te,start:i,end:Ee};case 33:case 61:return Ee+=2,61===Se.charCodeAt(Ee)&&++Ee,{type:be.Punctuator,value:Se.slice(i,Ee),lineNumber:Me,lineStart:Te,start:i,end:Ee}}}return r=Se.substr(Ee,4),">>>="===r?(Ee+=4,{type:be.Punctuator,value:r,lineNumber:Me,lineStart:Te,start:i,end:Ee}):(n=r.substr(0,3),">>>"===n||"<<="===n||">>="===n?(Ee+=3,{type:be.Punctuator,value:n,lineNumber:Me,lineStart:Te,start:i,end:Ee}):(t=n.substr(0,2),a===t[1]&&"+-<>&|".indexOf(a)>=0||"=>"===t?(Ee+=2,{type:be.Punctuator,value:t,lineNumber:Me,lineStart:Te,start:i,end:Ee}):"<>=!+-*%&|^/".indexOf(a)>=0?(++Ee,{type:be.Punctuator,value:a,lineNumber:Me,lineStart:Te,start:i,end:Ee}):void F({},ke.UnexpectedToken,"ILLEGAL")))}function y(e){for(var t="";Ae>Ee&&n(Se[Ee]);)t+=Se[Ee++];return 0===t.length&&F({},ke.UnexpectedToken,"ILLEGAL"),a(Se.charCodeAt(Ee))&&F({},ke.UnexpectedToken,"ILLEGAL"),{type:be.NumericLiteral,value:parseInt("0x"+t,16),lineNumber:Me,lineStart:Te,start:e,end:Ee}}function b(e){for(var n="0"+Se[Ee++];Ae>Ee&&r(Se[Ee]);)n+=Se[Ee++];return(a(Se.charCodeAt(Ee))||t(Se.charCodeAt(Ee)))&&F({},ke.UnexpectedToken,"ILLEGAL"),{type:be.NumericLiteral,value:parseInt(n,8),octal:!0,lineNumber:Me,lineStart:Te,start:e,end:Ee}}function x(){var n,i,o;if(o=Se[Ee],e(t(o.charCodeAt(0))||"."===o,"Numeric literal must start with a decimal digit or a decimal point"),i=Ee,n="","."!==o){if(n=Se[Ee++],o=Se[Ee],"0"===n){if("x"===o||"X"===o)return++Ee,y(i);if(r(o))return b(i);o&&t(o.charCodeAt(0))&&F({},ke.UnexpectedToken,"ILLEGAL")}for(;t(Se.charCodeAt(Ee));)n+=Se[Ee++];o=Se[Ee]}if("."===o){for(n+=Se[Ee++];t(Se.charCodeAt(Ee));)n+=Se[Ee++];o=Se[Ee]}if("e"===o||"E"===o)if(n+=Se[Ee++],o=Se[Ee],("+"===o||"-"===o)&&(n+=Se[Ee++]),t(Se.charCodeAt(Ee)))for(;t(Se.charCodeAt(Ee));)n+=Se[Ee++];else F({},ke.UnexpectedToken,"ILLEGAL");return a(Se.charCodeAt(Ee))&&F({},ke.UnexpectedToken,"ILLEGAL"),{type:be.NumericLiteral,value:parseFloat(n),lineNumber:Me,lineStart:Te,start:i,end:Ee}}function w(){var t,n,i,a,s,u,l,c,f="",p=!1;for(l=Me,c=Te,t=Se[Ee],e("'"===t||'"'===t,"String literal must starts with a quote"),n=Ee,++Ee;Ae>Ee;){if(i=Se[Ee++],i===t){t="";break}if("\\"===i)if(i=Se[Ee++],i&&o(i.charCodeAt(0)))++Me,"\r"===i&&"\n"===Se[Ee]&&++Ee,Te=Ee;else switch(i){case"u":case"x":"{"===Se[Ee]?(++Ee,f+=d()):(u=Ee,s=h(i),s?f+=s:(Ee=u,f+=i));break;case"n":f+="\n";break;case"r":f+="\r";break;case"t":f+="	";break;case"b":f+="\b";break;case"f":f+="\f";break;case"v":f+="";break;default:r(i)?(a="01234567".indexOf(i),0!==a&&(p=!0),Ae>Ee&&r(Se[Ee])&&(p=!0,a=8*a+"01234567".indexOf(Se[Ee++]),"0123".indexOf(i)>=0&&Ae>Ee&&r(Se[Ee])&&(a=8*a+"01234567".indexOf(Se[Ee++]))),f+=String.fromCharCode(a)):f+=i}else{if(o(i.charCodeAt(0)))break;f+=i}}return""!==t&&F({},ke.UnexpectedToken,"ILLEGAL"),{type:be.StringLiteral,value:f,octal:p,startLineNumber:l,startLineStart:c,lineNumber:Me,lineStart:Te,start:n,end:Ee}}function $(e,t){var n,r=e;t.indexOf("u")>=0&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(e,t){return parseInt(t,16)<=1114111?"x":void F({},ke.InvalidRegExp)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{n=new RegExp(r)}catch(i){F({},ke.InvalidRegExp)}try{return new RegExp(e,t)}catch(o){return null}}function k(){var t,n,r,i,a;for(t=Se[Ee],e("/"===t,"Regular expression literal must start with a slash"),n=Se[Ee++],r=!1,i=!1;Ae>Ee;)if(t=Se[Ee++],n+=t,"\\"===t)t=Se[Ee++],o(t.charCodeAt(0))&&F({},ke.UnterminatedRegExp),n+=t;else if(o(t.charCodeAt(0)))F({},ke.UnterminatedRegExp);else if(r)"]"===t&&(r=!1);else{if("/"===t){i=!0;break}"["===t&&(r=!0)}return i||F({},ke.UnterminatedRegExp),a=n.substr(1,n.length-2),{value:a,literal:n}}function _(){var e,t,n,r;for(t="",n="";Ae>Ee&&(e=Se[Ee],s(e.charCodeAt(0)));)if(++Ee,"\\"===e&&Ae>Ee)if(e=Se[Ee],"u"===e){if(++Ee,r=Ee,e=h("u"))for(n+=e,t+="\\u";Ee>r;++r)t+=Se[r];else Ee=r,n+="u",t+="\\u";U({},ke.UnexpectedToken,"ILLEGAL")}else t+="\\",U({},ke.UnexpectedToken,"ILLEGAL");else n+=e,t+=e;return{value:n,literal:t}}function S(){var e,t,n,r;return Oe=null,f(),e=Ee,t=k(),n=_(),r=$(t.value,n.value),Ne.tokenize?{type:be.RegularExpression,value:r,regex:{pattern:t.value,flags:n.value},lineNumber:Me,lineStart:Te,start:e,end:Ee}:{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Ee}}function C(){var e,t,n,r;return f(),e=Ee,t={start:{line:Me,column:Ee-Te}},n=S(),t.end={line:Me,column:Ee-Te},Ne.tokenize||(Ne.tokens.length>0&&(r=Ne.tokens[Ne.tokens.length-1],r.range[0]===e&&"Punctuator"===r.type&&("/"===r.value||"/="===r.value)&&Ne.tokens.pop()),Ne.tokens.push({type:"RegularExpression",value:n.literal,regex:n.regex,range:[e,Ee],loc:t})),n}function E(e){return e.type===be.Identifier||e.type===be.Keyword||e.type===be.BooleanLiteral||e.type===be.NullLiteral}function M(){var e,t;if(e=Ne.tokens[Ne.tokens.length-1],!e)return C();if("Punctuator"===e.type){if("]"===e.value)return v();if(")"===e.value)return t=Ne.tokens[Ne.openParenToken-1],!t||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?v():C();if("}"===e.value){if(Ne.tokens[Ne.openCurlyToken-3]&&"Keyword"===Ne.tokens[Ne.openCurlyToken-3].type){if(t=Ne.tokens[Ne.openCurlyToken-4],!t)return v()}else{if(!Ne.tokens[Ne.openCurlyToken-4]||"Keyword"!==Ne.tokens[Ne.openCurlyToken-4].type)return v();if(t=Ne.tokens[Ne.openCurlyToken-5],!t)return C()}return v()}return C()}return"Keyword"===e.type&&"this"!==e.value?C():v()}function T(){var e;return f(),Ee>=Ae?{type:be.EOF,lineNumber:Me,lineStart:Te,start:Ee,end:Ee}:(e=Se.charCodeAt(Ee),a(e)?m():40===e||41===e||59===e?v():39===e||34===e?w():46===e?t(Se.charCodeAt(Ee+1))?x():v():t(e)?x():Ne.tokenize&&47===e?M():v())}function A(){var e,t,n,r;return f(),e={start:{line:Me,column:Ee-Te}},t=T(),e.end={line:Me,column:Ee-Te},t.type!==be.EOF&&(n=Se.slice(t.start,t.end),r={type:xe[t.type],value:n,range:[t.start,t.end],loc:e},t.regex&&(r.regex={pattern:t.regex.pattern,flags:t.regex.flags}),Ne.tokens.push(r)),t}function O(){var e;return e=Oe,Ee=e.end,Me=e.lineNumber,Te=e.lineStart,Oe="undefined"!=typeof Ne.tokens?A():T(),Ee=e.end,Me=e.lineNumber,Te=e.lineStart,e}function D(){var e,t,n;e=Ee,t=Me,n=Te,Oe="undefined"!=typeof Ne.tokens?A():T(),Ee=e,Me=t,Te=n}function N(){this.line=Me,this.column=Ee-Te}function L(){this.start=new N,this.end=null}function P(e){this.start=e.type===be.StringLiteral?{line:e.startLineNumber,column:e.start-e.startLineStart}:{line:e.lineNumber,column:e.start-e.lineStart},this.end=null}function I(){Ee=Oe.start,Oe.type===be.StringLiteral?(Me=Oe.startLineNumber,Te=Oe.startLineStart):(Me=Oe.lineNumber,Te=Oe.lineStart),Ne.range&&(this.range=[Ee,0]),Ne.loc&&(this.loc=new L)}function R(e){Ne.range&&(this.range=[e.start,0]),Ne.loc&&(this.loc=new P(e))}function j(){var e,t,n,r;return e=Ee,t=Me,n=Te,f(),r=Me!==t,Ee=e,Me=t,Te=n,r}function F(t,n){var r,i=Array.prototype.slice.call(arguments,2),o=n.replace(/%(\d)/g,function(t,n){return e(n<i.length,"Message reference must be in range"),i[n]});throw"number"==typeof t.lineNumber?(r=new Error("Line "+t.lineNumber+": "+o),r.index=t.start,r.lineNumber=t.lineNumber,r.column=t.start-Te+1):(r=new Error("Line "+Me+": "+o),r.index=Ee,r.lineNumber=Me,r.column=Ee-Te+1),r.description=o,r}function U(){try{F.apply(null,arguments)}catch(e){if(!Ne.errors)throw e;Ne.errors.push(e)}}function q(e){if(e.type===be.EOF&&F(e,ke.UnexpectedEOS),e.type===be.NumericLiteral&&F(e,ke.UnexpectedNumber),e.type===be.StringLiteral&&F(e,ke.UnexpectedString),e.type===be.Identifier&&F(e,ke.UnexpectedIdentifier),e.type===be.Keyword){if(u(e.value))F(e,ke.UnexpectedReserved);else if(Ce&&l(e.value))return void U(e,ke.StrictReservedWord);F(e,ke.UnexpectedToken,e.value)}F(e,ke.UnexpectedToken,e.value)}function z(e){var t=O();(t.type!==be.Punctuator||t.value!==e)&&q(t)}function H(e){if(Ne.errors){var t=Oe;t.type!==be.Punctuator&&t.value!==e?U(t,ke.UnexpectedToken,t.value):O()}else z(e)}function W(e){return Oe.type===be.Punctuator&&Oe.value===e}function B(e){return Oe.type===be.Keyword&&Oe.value===e}function V(){var e;return 59===Se.charCodeAt(Ee)||W(";")?void O():(e=Me,f(),void(Me===e&&(Oe.type===be.EOF||W("}")||q(Oe))))}function Y(){var e=[],t=new I;for(z("[");!W("]");)W(",")?(O(),e.push(null)):(e.push(le()),W("]")||z(","));return O(),t.finishArrayExpression(e)}function X(){var e,t=new I;return e=O(),e.type===be.StringLiteral||e.type===be.NumericLiteral?(Ce&&e.octal&&U(e,ke.StrictOctalLiteral),t.finishLiteral(e)):t.finishIdentifier(e.value)}function G(){var e,t,n,r,i=new I;return e=Oe,e.type===be.Identifier?(n=X(),z(":"),r=le(),i.finishProperty("init",n,r)):e.type!==be.EOF&&e.type!==be.Punctuator?(t=X(),z(":"),r=le(),i.finishProperty("init",t,r)):void q(e)}function K(){var e,t,n,r,i=[],o={},a=String,s=new I;for(z("{");!W("}");)e=G(),t=e.key.type===we.Identifier?e.key.name:a(e.key.value),r="init"===e.kind?$e.Data:"get"===e.kind?$e.Get:$e.Set,n="$"+t,Object.prototype.hasOwnProperty.call(o,n)?(o[n]===$e.Data?Ce&&r===$e.Data?U({},ke.StrictDuplicateProperty):r!==$e.Data&&U({},ke.AccessorDataProperty):r===$e.Data?U({},ke.AccessorDataProperty):o[n]&r&&U({},ke.AccessorGetSet),o[n]|=r):o[n]=r,i.push(e),W("}")||H(",");return z("}"),s.finishObjectExpression(i)}function Z(){var e;return z("("),++De.parenthesisCount,e=ce(),z(")"),e}function J(){var e,t,n,r;if(W("("))return Z();if(W("["))return Y();if(W("{"))return K();if(e=Oe.type,r=new I,e===be.Identifier||Le[Oe.value])n=r.finishIdentifier(O().value);else if(e===be.StringLiteral||e===be.NumericLiteral)Ce&&Oe.octal&&U(Oe,ke.StrictOctalLiteral),n=r.finishLiteral(O());else{if(e===be.Keyword)throw new Error("Disabled.");e===be.BooleanLiteral?(t=O(),t.value="true"===t.value,n=r.finishLiteral(t)):e===be.NullLiteral?(t=O(),t.value=null,n=r.finishLiteral(t)):W("/")||W("/=")?(n=r.finishLiteral("undefined"!=typeof Ne.tokens?C():S()),D()):q(O())}return n}function Q(){var e=[];if(z("("),!W(")"))for(;Ae>Ee&&(e.push(le()),!W(")"));)H(",");return z(")"),e}function ee(){var e,t=new I;return e=O(),E(e)||q(e),t.finishIdentifier(e.value)}function te(){return z("."),ee()}function ne(){var e;return z("["),e=ce(),z("]"),e}function re(){var e,t,n,r,i=De.allowIn;for(r=Oe,De.allowIn=!0,e=J();;)if(W("."))n=te(),e=new R(r).finishMemberExpression(".",e,n);else if(W("("))t=Q(),e=new R(r).finishCallExpression(e,t);else{if(!W("["))break;n=ne(),e=new R(r).finishMemberExpression("[",e,n)}return De.allowIn=i,e}function ie(){var e;if(e=re(),Oe.type===be.Punctuator&&(W("++")||W("--"))&&!j())throw new Error("Disabled.");return e}function oe(){var e,t,n;if(Oe.type!==be.Punctuator&&Oe.type!==be.Keyword)t=ie();else{if(W("++")||W("--"))throw new Error("Disabled.");if(W("+")||W("-")||W("~")||W("!"))n=Oe,e=O(),t=oe(),t=new R(n).finishUnaryExpression(e.value,t);else{if(B("delete")||B("void")||B("typeof"))throw new Error("Disabled.");t=ie()}}return t}function ae(e,t){var n=0;if(e.type!==be.Punctuator&&e.type!==be.Keyword)return 0;switch(e.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=t?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function se(){var e,t,n,r,i,o,a,s,u,l;if(e=Oe,u=oe(),r=Oe,i=ae(r,De.allowIn),0===i)return u;for(r.prec=i,O(),t=[e,Oe],a=oe(),o=[u,r,a];(i=ae(Oe,De.allowIn))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,u=o.pop(),t.pop(),n=new R(t[t.length-1]).finishBinaryExpression(s,u,a),o.push(n);r=O(),r.prec=i,o.push(r),t.push(Oe),n=oe(),o.push(n)}for(l=o.length-1,n=o[l],t.pop();l>1;)n=new R(t.pop()).finishBinaryExpression(o[l-1].value,o[l-2],n),l-=2;return n}function ue(){var e,t,n,r,i;return i=Oe,e=se(),W("?")&&(O(),t=De.allowIn,De.allowIn=!0,n=le(),De.allowIn=t,z(":"),r=le(),e=new R(i).finishConditionalExpression(e,n,r)),e}function le(){var e,t,n,r;return e=De.parenthesisCount,r=Oe,t=Oe,n=ue()}function ce(){var e;if(e=le(),W(","))throw new Error("Disabled.");return e}function fe(e){var t=ce();return V(),e.finishExpressionStatement(t)}function he(){var e,t,n=Oe.type;if(n===be.EOF&&q(Oe),n===be.Punctuator&&"{"===Oe.value)throw new Error("Disabled.");if(t=new I,n===be.Punctuator)switch(Oe.value){case";":throw new Error("Disabled.");case"(":return fe(t)}else if(n===be.Keyword)throw new Error("Disabled.");return e=ce(),V(),t.finishExpressionStatement(e)}function de(){if(Oe.type===be.Keyword)switch(Oe.value){case"const":case"let":throw new Error("Disabled.");case"function":throw new Error("Disabled.");default:return he()}return Oe.type!==be.EOF?he():void 0}function pe(){for(var e,t,n,r,i=[];Ae>Ee&&(t=Oe,t.type===be.StringLiteral)&&(e=de(),i.push(e),e.expression.type===we.Literal);)n=Se.slice(t.start+1,t.end-1),"use strict"===n?(Ce=!0,r&&U(r,ke.StrictOctalLiteral)):!r&&t.octal&&(r=t);for(;Ae>Ee&&(e=de(),"undefined"!=typeof e);)i.push(e);return i}function ge(){var e,t;return f(),D(),t=new I,Ce=!0,e=pe(),t.finishProgram(e)}function me(){var e,t,n,r=[];for(e=0;e<Ne.tokens.length;++e)t=Ne.tokens[e],n={type:t.type,value:t.value},t.regex&&(n.regex={pattern:t.regex.pattern,flags:t.regex.flags}),Ne.range&&(n.range=t.range),Ne.loc&&(n.loc=t.loc),r.push(n);Ne.tokens=r}function ve(e,t){var n,r;n=String,"string"==typeof e||e instanceof String||(e=n(e)),Se=e,Ee=0,Me=Se.length>0?1:0,Te=0,Ae=Se.length,Oe=null,De={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Ne={},t=t||{},t.tokens=!0,Ne.tokens=[],Ne.tokenize=!0,Ne.openParenToken=-1,Ne.openCurlyToken=-1,Ne.range="boolean"==typeof t.range&&t.range,Ne.loc="boolean"==typeof t.loc&&t.loc,"boolean"==typeof t.tolerant&&t.tolerant&&(Ne.errors=[]);try{if(D(),Oe.type===be.EOF)return Ne.tokens;for(O();Oe.type!==be.EOF;)try{O()}catch(i){if(Ne.errors){Ne.errors.push(i);break}throw i}me(),r=Ne.tokens,"undefined"!=typeof Ne.errors&&(r.errors=Ne.errors)}catch(o){throw o}finally{Ne={}}return r}function ye(e,t){var n,r;r=String,"string"==typeof e||e instanceof String||(e=r(e)),Se=e,Ee=0,Me=Se.length>0?1:0,Te=0,Ae=Se.length,Oe=null,De={allowIn:!0,labelSet:{},parenthesisCount:0,inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Ne={},"undefined"!=typeof t&&(Ne.range="boolean"==typeof t.range&&t.range,Ne.loc="boolean"==typeof t.loc&&t.loc,Ne.loc&&null!==t.source&&void 0!==t.source&&(Ne.source=r(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(Ne.tokens=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(Ne.errors=[]));try{n=ge(),"undefined"!=typeof Ne.tokens&&(me(),n.tokens=Ne.tokens),"undefined"!=typeof Ne.errors&&(n.errors=Ne.errors)}catch(i){throw i}finally{Ne={}}return n}var be,xe,we,$e,ke,_e,Se,Ce,Ee,Me,Te,Ae,Oe,De,Ne;be={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},xe={},xe[be.BooleanLiteral]="Boolean",xe[be.EOF]="<end>",xe[be.Identifier]="Identifier",xe[be.Keyword]="Keyword",xe[be.NullLiteral]="Null",xe[be.NumericLiteral]="Numeric",xe[be.Punctuator]="Punctuator",xe[be.StringLiteral]="String",xe[be.RegularExpression]="RegularExpression",we={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BinaryExpression:"BinaryExpression",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ExpressionStatement:"ExpressionStatement",Identifier:"Identifier",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression"},$e={Data:1,Get:2,Set:4},ke={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",
StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},_e={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԯԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠ-ࢲࣤ-ॣ०-९ॱ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧ᪰-᪽ᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶ᳸᳹ᴀ-᷵᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚝꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꧠ-ꧾꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︭︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},R.prototype=I.prototype={finish:function(){Ne.range&&(this.range[1]=Ee),Ne.loc&&(this.loc.end=new N,Ne.source&&(this.loc.source=Ne.source))},finishArrayExpression:function(e){return this.type=we.ArrayExpression,this.elements=e,this.finish(),this},finishAssignmentExpression:function(e,t,n){return this.type=we.AssignmentExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishBinaryExpression:function(e,t,n){return this.type="||"===e||"&&"===e?we.LogicalExpression:we.BinaryExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishCallExpression:function(e,t){return this.type=we.CallExpression,this.callee=e,this.arguments=t,this.finish(),this},finishConditionalExpression:function(e,t,n){return this.type=we.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n,this.finish(),this},finishExpressionStatement:function(e){return this.type=we.ExpressionStatement,this.expression=e,this.finish(),this},finishIdentifier:function(e){return this.type=we.Identifier,this.name=e,this.finish(),this},finishLiteral:function(e){return this.type=we.Literal,this.value=e.value,this.raw=Se.slice(e.start,e.end),e.regex&&("//"==this.raw&&(this.raw="/(?:)/"),this.regex=e.regex),this.finish(),this},finishMemberExpression:function(e,t,n){return this.type=we.MemberExpression,this.computed="["===e,this.object=t,this.property=n,this.finish(),this},finishObjectExpression:function(e){return this.type=we.ObjectExpression,this.properties=e,this.finish(),this},finishProgram:function(e){return this.type=we.Program,this.body=e,this.finish(),this},finishProperty:function(e,t,n){return this.type=we.Property,this.key=t,this.value=n,this.kind=e,this.finish(),this},finishUnaryExpression:function(e,t){return this.type="++"===e||"--"===e?we.UpdateExpression:we.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0,this.finish(),this}};var Le={"if":1,"this":1};return{tokenize:ve,parse:ye}}();A.parse={},A.parse.axes=function(){function e(e,n,r){(e||[]).forEach(function(e,i){n[i]=n[i]||A.scene.axis(),t(e,i,n[i],r)})}function t(e,t,r,i){void 0!==e.scale&&r.scale(i[e.scale]),r.orient(e.orient||n[e.type]),r.offset(e.offset||0),r.layer(e.layer||"front"),r.grid(e.grid||!1),r.title(e.title||null),r.titleOffset(null!=e.titleOffset?e.titleOffset:A.config.axis.titleOffset),r.tickValues(e.values||null),r.tickFormat(e.format||null),r.tickSubdivide(e.subdivide||0),r.tickPadding(e.tickPadding||A.config.axis.padding);var o=[];if(void 0!==e.tickSize)for(var a=0;3>a;++a)o.push(e.tickSize);else{var s=A.config.axis.tickSize;o=[s,s,s]}null!=e.tickSizeMajor&&(o[0]=e.tickSizeMajor),null!=e.tickSizeMinor&&(o[1]=e.tickSizeMinor),null!=e.tickSizeEnd&&(o[2]=e.tickSizeEnd),o.length&&r.tickSize.apply(r,o),r.tickCount(e.ticks||A.config.axis.ticks);var u=e.properties;u&&u.ticks?(r.majorTickProperties(u.majorTicks?A.extend({},u.ticks,u.majorTicks):u.ticks),r.minorTickProperties(u.minorTicks?A.extend({},u.ticks,u.minorTicks):u.ticks)):(r.majorTickProperties(u&&u.majorTicks||{}),r.minorTickProperties(u&&u.minorTicks||{})),r.tickLabelProperties(u&&u.labels||{}),r.titleProperties(u&&u.title||{}),r.gridLineProperties(u&&u.grid||{}),r.domainProperties(u&&u.axis||{})}var n={x:"bottom",y:"left",top:"top",bottom:"bottom",left:"left",right:"right"};return e}(),A.parse.background=function(t){return null==t?null:e.rgb(t)+""},A.parse.data=function(e,t){function n(e){return function(n,r){if(n)A.error("LOADING FAILED: "+e.url);else try{i.load[e.name]=A.data.read(r.toString(),e.format)}catch(a){A.error("UNABLE TO PARSE: "+e.url+" "+a.toString())}0===--o&&t()}}function r(e){1!==l[e]&&(l[e]||(l[e]=1,(i.source[e]||[]).forEach(r),(i.deps[e]||[]).forEach(r),l[e]=2,u.push(e)))}var i={defs:e,load:{},flow:{},deps:{},source:{},sorted:null},o=0;(e||[]).forEach(function(e){if(e.url?(o+=1,A.data.load(e.url,n(e))):e.values?i.load[e.name]=A.data.read(e.values,e.format):e.source&&(i.source[e.source]||(i.source[e.source]=[])).push(e.name),e.transform){var t=A.parse.dataflow(e);i.flow[e.name]=t,t.dependencies.forEach(function(t){(i.deps[t]||(i.deps[t]=[])).push(e.name)})}});for(var a,s=(e||[]).map(A.accessor("name")),u=[],l={};s.length;)2!==l[a=s.pop()]&&r(a);return i.sorted=u.reverse(),0===o&&setTimeout(t,1),i},A.parse.dataflow=function(e){var t=(e.transform||[]).map(A.parse.transform),n=t.length?function(e,n,r){return t.reduce(function(e,t){return t(e,n,r)},e)}:A.identity;return n.transforms=t,n.dependencies=A.keys((e.transform||[]).reduce(function(e,t){var n=A.data[t.type].dependencies;return n&&n.forEach(function(n){t[n]&&(e[t[n]]=1)}),e},{})),n},A.parse.expr=function(){var e=A.expression.parse,t=A.expression.code({idWhiteList:["d","index","data"]});return function(n){var r=t(e(n));return Function("d","index","data",'"use strict"; return ('+r+");")}}(),A.parse.legends=function(){function e(e,n,r){(e||[]).forEach(function(e,i){n[i]=n[i]||A.scene.legend(),t(e,i,n[i],r)})}function t(e,t,n,r){n.size(e.size?r[e.size]:null),n.shape(e.shape?r[e.shape]:null),n.fill(e.fill?r[e.fill]:null),n.stroke(e.stroke?r[e.stroke]:null),e.orient&&n.orient(e.orient),null!=e.offset&&n.offset(e.offset),n.title(e.title||null),n.values(e.values||null),n.format(void 0!==e.format?e.format:null);var i=e.properties;n.titleProperties(i&&i.title||{}),n.labelProperties(i&&i.labels||{}),n.legendProperties(i&&i.legend||{}),n.symbolProperties(i&&i.symbols||{}),n.gradientProperties(i&&i.gradient||{})}return e}(),A.parse.mark=function(e){var t=e.properties,n=e.marks;if(A.keys(t).forEach(function(n){t[n]=A.parse.properties(e.type,t[n])}),e.delay&&(e.delay=A.parse.properties(e.type,{delay:e.delay})),e.from){var r=e.from.data,i=A.parse.dataflow(e.from);e.from=function(e,t,n){var o=A.scene.data(r?e[r]:null,n);return i(o,e,t)}}return n&&(e.marks=n.map(A.parse.mark)),e},A.parse.marks=function(e,t,n){return{type:"group",width:t,height:n,scales:e.scales||[],axes:e.axes||[],legends:e.legends||[],marks:(e.marks||[]).map(A.parse.mark)}},A.parse.padding=function(e){if(null==e)return"auto";if(A.isString(e))return"strict"===e?"strict":"auto";if(A.isObject(e))return e;var t=A.isNumber(e)?e:20;return{top:t,left:t,right:t,bottom:t}},A.parse.properties=function(){function e(e,r){var i,o,a,s,u="",l=A.keys(r),c={};for(u+="var o = trans ? {} : item;\n",i=0,o=l.length;o>i;++i)s=r[a=l[i]],u+=i>0?"\n  ":"  ",u+="o."+a+" = "+n(a,s)+";",c[a]=!0;c.x2&&(c.x?(u+="\n  if (o.x > o.x2) { var t = o.x; o.x = o.x2; o.x2 = t; };",u+="\n  o.width = (o.x2 - o.x);"):u+=c.width?"\n  o.x = (o.x2 - o.width);":"\n  o.x = o.x2;"),c.xc&&(u+=c.width?"\n  o.x = (o.xc - o.width/2);":"\n  o.x = o.xc;"),c.y2&&(c.y?(u+="\n  if (o.y > o.y2) { var t = o.y; o.y = o.y2; o.y2 = t; };",u+="\n  o.height = (o.y2 - o.y);"):u+=c.height?"\n  o.y = (o.y2 - o.height);":"\n  o.y = o.y2;"),c.yc&&(u+=c.height?"\n  o.y = (o.yc - o.height/2);":"\n  o.y = o.yc;"),t(e,c)&&(u+="\n  item.touch();"),u+="\n  if (trans) trans.interpolate(item, o);";try{return Function("item","group","trans",u)}catch(f){A.error(f),A.log(u)}}function t(e,t){return t.path||("area"===e||"line"===e)&&(t.x||t.x2||t.width||t.y||t.y2||t.height||t.tension||t.interpolate)}function n(e,t){if(null==t)return null;var n="fill"===e||"stroke"===e;if(n){if(t.c)return r("hcl",t.h,t.c,t.l);if(t.h||t.s)return r("hsl",t.h,t.s,t.l);if(t.l||t.a)return r("lab",t.l,t.a,t.b);if(t.r||t.g||t.b)return r("rgb",t.r,t.g,t.b)}if(t.template)return A.parse.template.source(t.template,"item.datum");var o="item.datum.data";if(void 0!==t.value&&(o=A.str(t.value)),null!=t.group){var a="group.datum";A.isString(t.group)&&(a=i[t.group]?"group."+t.group:"group.datum["+A.field(t.group).map(A.str).join("][")+"]")}if(null!=t.field?A.isString(t.field)?(o="item.datum["+A.field(t.field).map(A.str).join("][")+"]",null!=t.group&&(o="this.accessor("+o+")("+a+")")):o="this.accessor(group.datum["+A.field(t.field.group).map(A.str).join("][")+"])(item.datum.data)":null!=t.group&&(o=a),null!=t.scale){var s=A.isString(t.scale)?A.str(t.scale):(t.scale.group?"group":"item")+".datum["+A.str(t.scale.group||t.scale.field)+"]";s="group.scales["+s+"]",o=s+(t.band?".rangeBand()":"("+o+")")}return o="("+(null!=t.mult?A.number(t.mult)+" * ":"")+o+")"+(t.offset?" + "+A.number(t.offset):"")}function r(e,t,r,i){var o=t?n("",t):A.config.color[e][0],a=r?n("",r):A.config.color[e][1],s=i?n("",i):A.config.color[e][2];return"(this.d3."+e+"("+[o,a,s].join(",")+') + "")'}var i={width:1,height:1,"mark.group.width":1,"mark.group.height":1};return e}(),A.parse.scales=function(){function t(e,t,r,i){return(e||[]).reduce(function(e,t){var o=t.name,a=o+":prev";return e[o]=n(t,e[o],r,i),e[a]=e[a]||e[o],e},t||{})}function n(e,t,n,a){var s=r(e,t),u=s.type===f?i:o,c=l(e,a),h=A.values(a.datum);return u(e,s,c,n,h),s}function r(t,n){var r=t.type||c;if(!n||r!==n.type){var i=A.config.scale[r]||e.scale[r];i||A.error("Unrecognized scale type: "+r),(n=i()).type=n.type||r,n.scaleName=t.name}return n}function i(e,t,n,r,i){var o,u,l,c,f=!1,h=e.padding||0,d=null==e.outerPadding?h:e.outerPadding;if(A.isObject(e.range)&&!A.isArray(e.range)&&(f=!0,c=e.range.fields||A.array(e.range),n=a(c,r,i)),u=e.sort&&!f,o=s(e,r,i,u),o&&t.domain(o),e.bandWidth){var p,g=e.bandWidth,m=o.length,v=e.points?h*g:h*g*(m-1)+2*d;n[0]>n[1]?(p=n[1]||0,n=[p+(g*m+v),p]):(p=n[0]||0,n=[p,p+(g*m+v)])}l="string"==typeof n[0],l||n.length>2||1===n.length||f?t.range(n):e.points&&(e.round||null==e.round)?t.rangeRoundPoints(n,h):e.points?t.rangePoints(n,h):e.round||null==e.round?t.rangeRoundBands(n,h,d):t.rangeBands(n,h,d)}function o(t,n,r,i,o){var a,l;a=t.type===g?s(t,i,o,!1):u(t,i,o),n.domain(a),"height"===t.range&&(r=r.reverse()),n[t.round&&n.rangeRound?"rangeRound":"range"](r),t.exponent&&t.type===d&&n.exponent(t.exponent),t.clamp&&n.clamp(!0),t.nice&&(t.type===p?(l=e.time[t.nice],l||A.error("Unrecognized interval: "+l),n.nice(l)):n.nice())}function a(e,t,n){return e.reduce(function(e,r){var i=A.values(t[r.data]||n),o=A.accessor(A.isString(r.field)?r.field:"data."+A.accessor(r.field.group)(n));return A.unique(i,o,e)},[])}function s(e,t,n,r){var i,o,s=e.domain;return A.isArray(s)?i=r?s.slice():s:A.isObject(s)&&(o=s.fields||A.array(s),i=a(o,t,n)),i&&r&&i.sort(A.cmp),i}function u(t,n,r){function i(t,i,o,a){var u=A.values(n[t.data]||r),l=A.array(t.field).map(function(e){return A.isString(e)?e:"data."+A.accessor(e.group)(r)});l.forEach(function(t,n){t=A.accessor(t),i&&(s[0]=e.min([s[0],e.min(u,t)])),o&&(s[a]=e.max([s[a],e.max(u,t)]))})}var o,a,s=[null,null];return void 0!==t.domain&&(A.isArray(t.domain)?s=t.domain.slice():A.isObject(t.domain)?(o=t.domain.fields||A.array(t.domain),o.forEach(function(e){i(e,1,1,1)})):s=t.domain),a=s.length-1,void 0!==t.domainMin&&(A.isObject(t.domainMin)?(s[0]=null,o=t.domainMin.fields||A.array(t.domainMin),o.forEach(function(e){i(e,1,0,a)})):s[0]=t.domainMin),void 0!==t.domainMax&&(A.isObject(t.domainMax)?(s[a]=null,o=t.domainMax.fields||A.array(t.domainMax),o.forEach(function(e){i(e,0,1,a)})):s[a]=t.domainMax),t.type===h||t.type===p||!t.zero&&void 0!==t.zero||(s[0]=Math.min(0,s[0]),s[a]=Math.max(0,s[a])),s}function l(e,t){var n=[null,null];if(void 0!==e.range)if("string"==typeof e.range)if(m[e.range])n=[0,t[e.range]];else{if(!A.config.range[e.range])return A.error("Unrecogized range: "+e.range),n;n=A.config.range[e.range]}else if(A.isArray(e.range))n=A.duplicate(e.range);else{if(A.isObject(e.range))return null;n=[0,e.range]}if(void 0!==e.rangeMin&&(n[0]=e.rangeMin),void 0!==e.rangeMax&&(n[n.length-1]=e.rangeMax),void 0!==e.reverse){var r=e.reverse;A.isObject(r)&&(r=A.accessor(r.field)(t.datum)),r&&(n=n.reverse())}return n}var c="linear",f="ordinal",h="log",d="pow",p="time",g="quantile",m={width:1,height:1};return t}(),A.parse.spec=function(t,n,r){function i(e){e=A.duplicate(e);var t=e.width||500,i=e.height||500,o=e.viewport||null,a={width:t,height:i,viewport:o,background:A.parse.background(e.background),padding:A.parse.padding(e.padding),marks:A.parse.marks(e,t,i),data:A.parse.data(e.data,function(){n(s)})},s=r(a)}r=r||A.ViewFactory,A.isObject(t)?i(t):e.json(t,function(e,t){e?A.error(e):i(t)})},A.parse.template=function(e){var t=A.parse.template.source(e,"d");t="var __t; return "+t+";";try{return new Function("d",t).bind(A)}catch(n){throw n.source=t,n}},A.parse.template.source=function(e,t){t=t||"obj";var n=0,r="'",i=U;return e.replace(i,function(i,o,a){return r+=e.slice(n,a).replace(z,H),n=a+i.length,o&&(r+="'\n+((__t=("+F(o,t)+"))==null?'':__t)+\n'"),i}),r+"'"};var F=function(t,n){function r(e){return e=e||"",a?(a=!1,s="String("+s+")"+e):s+=e,s}var i=t.split("|"),o=i.shift().trim(),a=!0,s=A.field(o).map(A.str).join("][");s=n+"["+s+"]";for(var u=0;u<i.length;++u){var l,c,f,h=i[u],d=null;switch((l=h.indexOf(":"))>0&&(h=h.slice(0,l),d=i[u].slice(l+1).split(",").map(function(e){return e.trim()})),h=h.trim()){case"length":r(".length");break;case"lower":r(".toLowerCase()");break;case"upper":r(".toUpperCase()");break;case"lower-locale":r(".toLocaleLowerCase()");break;case"upper-locale":r(".toLocaleUpperCase()");break;case"trim":r(".trim()");break;case"left":c=A.number(d[0]),r(".slice(0,"+c+")");break;case"right":c=A.number(d[0]),r(".slice(-"+c+")");break;case"mid":c=A.number(d[0]),f=c+A.number(d[1]),r(".slice(+"+c+","+f+")");break;case"slice":c=A.number(d[0]),r(".slice("+c+(d.length>1?","+A.number(d[1]):"")+")");break;case"truncate":c=A.number(d[0]),f=d[1],f="left"!==f&&"middle"!==f&&"center"!==f?"right":f,s="this.truncate("+r()+","+c+',"'+f+'")';break;case"number":c=V(d[0],e.format),a=!1,s="this.__formats["+c+"]("+s+")";break;case"time":c=V(d[0],e.time.format),a=!1,s="this.__formats["+c+"]("+s+")";break;default:throw Error("Unrecognized template filter: "+h)}}return s},U=/\{\{(.+?)\}\}|$/g,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g,H=function(e){return"\\"+q[e]},W=[],B={},V=function(e,t){if(!("'"===e[0]&&"'"===e[e.length-1]||'"'!==e[0]&&'"'===e[e.length-1]))throw Error("Format pattern must be quoted: "+e);if(e=e.slice(1,-1),!B[e]){var n=t(e),r=W.length;W.push(n),B[e]=r}return B[e]};A.__formats=W,A.parse.transform=function(e){var t=A.data[e.type]();return A.keys(e).forEach(function(n){"type"!==n&&t[n](e[n])}),t},A.scene={},A.scene.GROUP="group",A.scene.ENTER=0,A.scene.UPDATE=1,A.scene.EXIT=2,A.scene.DEFAULT_DATA={sentinel:1},A.scene.data=function(e,t){var n=A.scene.DEFAULT_DATA;return e=A.values(e||t||[n]),e===n&&(e=[n]),e},A.scene.fontString=function(e){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+(null!=e.fontSize?e.fontSize:A.config.render.fontSize)+"px "+(e.font||A.config.render.font)},A.scene.Item=function(){function e(e){this.mark=e}var t=e.prototype;return t.hasPropertySet=function(e){var t=this.mark.def.properties;return t&&null!=t[e]},t.cousin=function(e,t){if(0===e)return this;e=e||-1;var n=this.mark,r=n.group,i=null==t?n.items.indexOf(this):t,o=r.items.indexOf(n)+e;return r.items[o].items[i]},t.sibling=function(e){if(0===e)return this;e=e||-1;var t=this.mark,n=t.items.indexOf(this)+e;return t.items[n]},t.remove=function(){var e=this,t=e.mark.items,n=t.indexOf(e);return n>=0&&(n===t.length-1?t.pop():t.splice(n,1)),e},t.touch=function(){this.pathCache&&(this.pathCache=null),this.mark.pathCache&&(this.mark.pathCache=null)},e}(),A.scene.item=function(e){return new A.scene.Item(e)},A.scene.visit=function(e,t){var n,r,i,o,a;if(t(e))return!0;var s=["items","axisItems","legendItems"];for(i=0,o=s.length;o>i;++i)if(a=e[s[i]])for(n=0,r=a.length;r>n;++n)if(A.scene.visit(a[n],t))return!0},A.scene.build=function(){function t(e,t,a,u,l){var c=A.scene.data(e.from?e.from(t,a,u):null,u);return a=n(e,a),a.items=r(e,c,a),o(e,a),e.type===s&&i(e,t,a,l),a}function n(e,t){return t=t||{},t.def=e,t.marktype=e.type,t.interactive=e.interactive!==!1,t}function r(e,t,n){var r,i,o,s,f,h,d=a(e.key),p=n.items||[],g=[],m={};for(r=0,o=p.length;o>r;++r)s=p[r],s.status=c,d&&(m[s.key]=s);for(r=0,o=t.length;o>r;++r)f=t[r],i=r,s=d?m[i=d(f)]:p[r],h=s?!1:(s=A.scene.item(n),!0),s.status=h?u:l,s.datum=f,s.key=i,g.push(s);for(r=0,o=p.length;o>r;++r)s=p[r],s.status===c&&(s.key=d?s.key:g.length,g.splice(s.index,0,s));return g}function i(e,n,r,i){var o,a,s,u,l,c,f=r.items,h=e.marks;for(o=0,a=f.length;a>o;++o){if(c=f[o],!i&&c.scales)for(l in c.scales)l.indexOf(":prev")<0&&(c.scales[l+":prev"]=c.scales[l].copy());for(c.items=c.items||[],s=0,u=h.length;u>s;++s)c.items[s]=t(h[s],n,c.items[s],c.datum),c.items[s].group=c}}function o(t,n){if(t.duration&&(n.duration=t.duration),t.ease&&(n.ease=e.ease(t.ease)),t.delay){var r,i=n.items,o=n.group,a=i.length;for(r=0;a>r;++r)t.delay.call(this,i[r],o)}}function a(e){if(null==e)return null;var t=A.array(e).map(A.accessor);return function(e){for(var n="",r=0,i=t.length;i>r;++r)r>0&&(n+="|"),n+=String(t[r](e));return n}}var s=A.scene.GROUP,u=A.scene.ENTER,l=A.scene.UPDATE,c=A.scene.EXIT;return t}(),A.scene.bounds=function(){function t(){return $||($=(A.config.isNode?new(require("canvas"))(1,1):e.select("body").append("canvas").attr("class","vega_hidden").attr("width",1).attr("height",1).style("display","none").node()).getContext("2d"))}function n(e,t,n){return null==t?n.set(0,0,0,0):(m(t,n),e.stroke&&0!==e.opacity&&e.strokeWidth>0&&n.expand(e.strokeWidth)),n}function r(e,t){var r=e.path?e.pathCache||(e.pathCache=g(e.path)):null;return n(e,r,t)}function i(e,t){var r=e.mark.items,e=r[0],i=e.pathCache||(e.pathCache=g(v(r)));return n(r[0],i,t)}function o(e,t){var r=e.mark.items,e=r[0],i=e.pathCache||(e.pathCache=g(y(r)));return n(r[0],i,t)}function a(e,t){var n=e.x||0,r=e.y||0,i=n+e.width||0,o=r+e.height||0;return t.set(n,r,i,o),e.stroke&&0!==e.opacity&&e.strokeWidth>0&&t.expand(e.strokeWidth),t}function s(e,t){var n=e.width||0,r=e.height||0,i=(e.x||0)-("center"===e.align?n/2:"right"===e.align?n:0),o=(e.y||0)-("middle"===e.baseline?r/2:"bottom"===e.baseline?r:0);return t.set(i,o,i+n,o+r)}function u(e,t){var n,r;return t.set(n=e.x||0,r=e.y||0,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r),e.stroke&&0!==e.opacity&&e.strokeWidth>0&&t.expand(e.strokeWidth),t}function l(e,t){var n,r,i,o,a,s,u,l,c,f=e.x||0,h=e.y||0,d=e.innerRadius||0,p=e.outerRadius||0,g=(e.startAngle||0)-b,m=(e.endAngle||0)-b,v=1/0,y=-(1/0),x=1/0,w=-(1/0),$=[g,m],k=g-g%b;for(r=0;4>r&&m>k;++r,k+=b)$.push(k);for(r=0,i=$.length;i>r;++r)n=$[r],o=Math.cos(n),s=d*o,l=p*o,a=Math.sin(n),u=d*a,c=p*a,v=Math.min(v,s,l),y=Math.max(y,s,l),x=Math.min(x,u,c),w=Math.max(w,u,c);return t.set(f+v,h+x,f+y,h+w),e.stroke&&0!==e.opacity&&e.strokeWidth>0&&t.expand(e.strokeWidth),t}function c(e,t){var n,r,i,o,a=null!=e.size?e.size:100,s=e.x||0,u=e.y||0;switch(e.shape){case"cross":n=Math.sqrt(a/5)/2,r=3*n,t.set(s-r,u-n,s+r,u+n);break;case"diamond":o=Math.sqrt(a/(2*w)),i=o*w,t.set(s-i,u-o,s+i,u+o);break;case"square":r=Math.sqrt(a),n=r/2,t.set(s-n,u-n,s+n,u+n);break;case"triangle-down":i=Math.sqrt(a/x),o=i*x/2,t.set(s-i,u-o,s+i,u+o);break;case"triangle-up":i=Math.sqrt(a/x),o=i*x/2,t.set(s-i,u-o,s+i,u+o);break;default:n=Math.sqrt(a/Math.PI),t.set(s-n,u-n,s+n,u+n)}return e.stroke&&0!==e.opacity&&e.strokeWidth>0&&t.expand(e.strokeWidth),t}function f(e,n,r){var i,o,a=(e.x||0)+(e.dx||0),s=(e.y||0)+(e.dy||0),u=e.fontSize||A.config.render.fontSize,l=e.align,c=e.baseline,f=e.radius||0,h=t();return h.font=A.scene.fontString(e),h.textAlign=l||"left",h.textBaseline=c||"alphabetic",i=h.measureText(e.text||"").width,f&&(o=(e.theta||0)-Math.PI/2,a+=f*Math.cos(o),s+=f*Math.sin(o)),"center"===l?a-=i/2:"right"===l&&(a-=i),"top"===c?s+=u/5:"bottom"===c?s-=u:"middle"===c?s=s-u/2+u/10:s-=4*u/5,n.set(a,s,a+i,s+u),e.angle&&!r&&n.rotate(e.angle*Math.PI/180,e.x||0,e.y||0),n.expand(r?0:1)}function h(e,t,n){var r,i,o=e.axisItems||[],a=e.legendItems||[];for(r=0,i=o.length;i>r;++r)t.union(o[r].bounds);for(r=0,i=e.items.length;i>r;++r)t.union(e.items[r].bounds);if(n){for(r=0,i=a.length;i>r;++r)t.union(a[r].bounds);null!=e.width&&null!=e.height&&t.add(e.width,e.height),null!=e.x&&null!=e.y&&t.add(0,0)}return t.translate(e.x||0,e.y||0),t}function d(e,t,n){t=t||k[e.mark.marktype],e.bounds_prev||(e["bounds:prev"]=new A.Bounds);var r=e.bounds,i=e["bounds:prev"];return r&&i.clear().union(r),e.bounds=t(e,r?r.clear():new A.Bounds,n),r||i.clear().union(e.bounds),e.bounds}function p(e,t,n){t=t||e.bounds&&e.bounds.clear()||new A.Bounds;var r,i,o=e.marktype,a=k[o],s=e.items;if("area"===o||"line"===o)s.length&&(s[0].bounds=a(s[0],t));else for(r=0,i=s.length;i>r;++r)t.union(d(s[r],a,n));e.bounds=t}var g=A.canvas.path.parse,m=A.canvas.path.bounds,v=A.canvas.path.area,y=A.canvas.path.line,b=Math.PI/2,x=Math.sqrt(3),w=Math.tan(30*Math.PI/180),$=null,k={group:h,symbol:c,image:s,rect:a,rule:u,arc:l,text:f,path:r,area:i,line:o};return{mark:p,item:d,text:f,group:h}}(),A.scene.encode=function(){function e(e,r,i,o,a){return o&&a?t.call(this,e,r,i,o,a):n.call(this,e,e,r,i,o),e}function t(e,t,n,r,i){i=A.array(i);var o,a,s,u,l,c;for(o=0,a=i.length;a>o;++o)s=i[o],u=s.mark.group||null,l=s.mark.def.properties,c=l&&l[r],c&&(c.call(A,s,u,n),A.scene.bounds.item(s))}function n(e,t,n,r,s){o.call(this,e,t.items,n,r,s),t.marktype===a?i.call(this,t,n,e,r,s):A.scene.bounds.mark(t)}function r(e,t,n,r,a){i.call(this,t,n,e,r,a),o.call(this,e,t.items,n,r,a),A.scene.bounds.mark(t,null,!0)}function i(e,t,i,o,a){var s,u,l,c,f,h,d,p,g,m,v,y;for(s=0,u=e.items.length;u>s;++s)for(f=e.items[s],h=f.scales||(f.scales=t.scales?A.extend({},i.scales):i.scales),t.scales&&A.parse.scales(t.scales,h,this._data,f),t.axes&&(d=f.axes||(f.axes=[]),p=f.axisItems||(f.axisItems=[]),A.parse.axes(t.axes,d,f.scales),d.forEach(function(e,t){g=e.def(),p[t]=A.scene.build(g,this._data,p[t],null,1),p[t].group=f,n.call(this,f,f.axisItems[t],g,o)})),l=0,c=f.items.length;c>l;++l)n.call(this,f,f.items[l],t.marks[l],o,a);if(A.scene.bounds.mark(e,null,!t.legends),t.legends){for(s=0,u=e.items.length;u>s;++s)f=e.items[s],m=f.legends||(f.legends=[]),v=f.legendItems||(f.legendItems=[]),A.parse.legends(t.legends,m,f.scales),m.forEach(function(e,t){y=e.def(),v[t]=A.scene.build(y,this._data,v[t],null,1),v[t].group=f,r.call(this,f,f.legendItems[t],y,o)});A.scene.bounds.mark(e,null,!0)}}function o(e,t,n,r,i){var o,a,f,h,d=n.properties||c,p=d.enter,g=d.update,m=d.exit;if(i){if(h=d[i])for(o=0,a=t.length;a>o;++o)h.call(A,t[o],e,r)}else for(o=0;o<t.length;++o)f=t[o],f.status===s&&(p&&p.call(A,f,e),f.status=u),f.status!==l&&g&&g.call(A,f,e,r),f.status===l&&(m&&m.call(A,f,e,r),r&&!m?r.interpolate(f,c):r||t[o--].remove())}var a=A.scene.GROUP,s=A.scene.ENTER,u=A.scene.UPDATE,l=A.scene.EXIT,c={};return e}(),A.scene.Transition=function(){function t(t,n){this.duration=t||500,this.ease=n&&e.ease(n)||e.ease("cubic-in-out"),this.updates={next:null}}function n(e){for(var t,n,r,i,o,a,s=this.updates,u=s,l=u.next,c=this.duration,f=!0;null!=l;u=l,l=u.next)if(t=l.item,n=t.delay||0,r=(e-n)/c,0>r)f=!1;else{for(r>1&&(r=1),i=l.ease(r),o=0,a=l.length;a>o;++o)t[l[o].property]=l[o](i);t.touch(),A.scene.bounds.item(t),1===r?(l.remove&&t.remove(),u.next=l.next,l=u):f=!1}return this.callback(),f}var r=t.prototype,i={text:1,url:1};return r.interpolate=function(t,n){var r,o,a,s,u=null;for(r in n)o=t[r],a=n[r],o!==a&&(i[r]||void 0===o?t[r]=a:"number"!=typeof o||isFinite(o)?(s=e.interpolate(o,a),s.property=r,(u||(u=[])).push(s)):t[r]=a);return null===u&&t.status===A.scene.EXIT&&(u=[]),null!=u&&(u.item=t,u.ease=t.mark.ease||this.ease,u.next=this.updates.next,this.updates.next=u),this},r.start=function(t){for(var r=this,i=r.updates,o=i.next;null!=o;i=o,o=i.next)o.item.status===A.scene.EXIT&&(o.remove=!0);r.callback=t,e.timer(function(e){return n.call(r,e)})},t}(),A.scene.transition=function(e,t){return new A.scene.Transition(e,t)},A.scene.axis=function(){function t(){c=null}function n(){return O||("log"===a.type?".1s":null)}function r(){var t=n();return a.tickFormat?a.tickFormat(N,t):t?"time"===a.type?e.time.format(t):e.format(t):String}function i(e){var t={major:T,minor:null};return null==t.major&&(t.major=a.ticks?a.ticks(N):a.domain()),t.minor=f(a,t.major,D).map(A.data.ingest),t.major=t.major.map(function(t){return t=A.data.ingest(t),t.label=e(t.data),t}),t}function o(e){var t,n,r;"ordinal"===e.type?(t={scale:e.scaleName,offset:.5+e.rangeBand()/2},n=t):(t={scale:e.scaleName,offset:.5},n={scale:e.scaleName+":prev",offset:.5}),r=d(e);var i=b(),o=b(),a=b(),u=x(),c=$(),f=w();i.properties.enter.stroke={value:A.config.axis.gridColor},g(s,i,n,t,1/0),g(s,o,n,t,S),g(s,a,n,t,C),p(s,u,n,t,S,M),v(s,c,r,E),m(s,f,r,l),A.extend(i.properties.update,L),A.extend(o.properties.update,I),A.extend(a.properties.update,R),A.extend(u.properties.update,P),A.extend(c.properties.update,F),A.extend(f.properties.update,j);var h=[i,o,a,u,c,f];return{type:"group",interactive:!1,properties:{enter:y,update:y},marks:h.map(A.parse.mark)}}var a,s=A.config.axis.orient,u=0,l=A.config.axis.titleOffset,c=null,h="front",k=!1,_=null,S=A.config.axis.tickSize,C=A.config.axis.tickSize,E=A.config.axis.tickSize,M=A.config.axis.padding,T=null,O=null,D=0,N=A.config.axis.ticks,L={},P={},I={},R={},j={},F={},U={};return U.def=function(){var e=c?c:c=o(a),t=r(),n=i(t),l=_?[_].map(A.data.ingest):[];return e.marks[0].from=function(){return k?n.major:[]},e.marks[1].from=function(){return n.major},e.marks[2].from=function(){return n.minor},e.marks[3].from=e.marks[1].from,e.marks[4].from=function(){return[1]},e.marks[5].from=function(){return l},e.offset=u,e.orient=s,e.layer=h,e},U.scale=function(e){return arguments.length?(a!==e&&(a=e,t()),U):a},U.orient=function(e){return arguments.length?(s!==e&&(s=e in Y?e+"":A.config.axis.orient,t()),U):s},U.title=function(e){return arguments.length?(_!==e&&(_=e,t()),U):_},U.tickCount=function(e){return arguments.length?(N=e,U):N},U.tickValues=function(e){return arguments.length?(T=e,U):T},U.tickFormat=function(e){return arguments.length?(O!==e&&(O=e,t()),U):O},U.tickSize=function(e,n){if(!arguments.length)return S;var r=arguments.length-1,i=+e,o=r>1?+n:S,a=r>0?+arguments[r]:S;return(S!==i||C!==o||E!==a)&&t(),S=i,C=o,E=a,U},U.tickSubdivide=function(e){return arguments.length?(D=+e,U):D},U.offset=function(e){return arguments.length?(u=A.isObject(e)?e:+e,U):u},U.tickPadding=function(e){return arguments.length?(M!==+e&&(M=+e,t()),U):M},U.titleOffset=function(e){return arguments.length?(l!==+e&&(l=+e,t()),U):l},U.layer=function(e){return arguments.length?(h!==e&&(h=e,t()),U):h},U.grid=function(e){return arguments.length?(k!==e&&(k=e,t()),U):k},U.gridLineProperties=function(e){return arguments.length?(L!==e&&(L=e),U):L},U.majorTickProperties=function(e){return arguments.length?(I!==e&&(I=e),U):I},U.minorTickProperties=function(e){return arguments.length?(R!==e&&(R=e),U):R},U.tickLabelProperties=function(e){return arguments.length?(P!==e&&(P=e),U):P},U.titleProperties=function(e){return arguments.length?(j!==e&&(j=e),U):j},U.domainProperties=function(e){return arguments.length?(F!==e&&(F=e),U):F},U.reset=function(){t()},U};var Y={top:1,right:1,bottom:1,left:1},X={bottom:"center",top:"center",left:"right",right:"left"},G={bottom:"top",top:"bottom",left:"middle",right:"middle"};A.scene.legend=function(){function t(){u=null}function n(e){return"ordinal"===e||"quantize"===e||"quantile"===e||"threshold"===e}function r(t){var n,r,o,a=i(l,c,f,h),u=(null==p?t.ticks?t.ticks.apply(t,x):t.domain():p).map(A.data.ingest),m=null==g?t.tickFormat?t.tickFormat.apply(t,x):String:g,v=5,y=e.range(u.length);l?(r=u.map(function(e){return Math.sqrt(l(e.data))}),o=e.max(r),r=r.reduce(function(e,t,n,r){return n>0&&(e[n]=e[n-1]+r[n-1]/2+v),e[n]+=t/2,e},[0]).map(Math.round)):(o=Math.round(Math.sqrt(A.config.legend.symbolSize)),r=d||(n=N.fontSize)&&n.value+v||A.config.legend.labelFontSize+v,r=y.map(function(e,t){return Math.round(o/2+t*r)}));var w,$=b;s&&(w=D.fontSize,$+=5+(w&&w.value||A.config.legend.titleFontSize));for(var k=0,_=r.length;_>k;++k)r[k]+=$;var t={name:"legend",type:"ordinal",points:!0,domain:y,range:r},S=(s?[s]:[]).map(A.data.ingest);return u.forEach(function(e){e.label=m(e.data),e.offset=o}),a.scales=[t],a.marks[0].from=function(){return S},a.marks[1].from=function(){return u},a.marks[2].from=a.marks[1].from,a}function i(e,t,n,r){var i=S(),o=C(),a=E();return _(o,e,t,n,r),A.extend(i.properties.update,D),A.extend(o.properties.update,$),A.extend(a.properties.update,N),i.properties.enter.x.value+=b,i.properties.enter.y.value+=b,a.properties.enter.x.offset+=b+1,o.properties.enter.x.offset=b+1,a.properties.update.x.offset+=b+1,o.properties.update.x.offset=b+1,{type:"group",interactive:!1,properties:{enter:A.parse.properties("group",w),update:k},marks:[i,o,a].map(A.parse.mark)}}function o(e){var t=a(e),n=e.domain(),r=n.map(A.data.ingest),i=O.width&&O.width.value||A.config.legend.gradientWidth,o=null==g?e.tickFormat?e.tickFormat.apply(e,x):String:g,u={name:"legend",type:e.type,round:!0,zero:!1,domain:[n[0],n[n.length-1]],range:[b,i+b]};"pow"===e.type&&(u.exponent=e.exponent());var l=(s?[s]:[]).map(A.data.ingest);return r.forEach(function(e,t){e.label=o(e.data),e.align=t==r.length-1?"right":0==t?"left":"center"}),t.scales=[u],t.marks[0].from=function(){return l},t.marks[1].from=function(){return[1]},t.marks[2].from=function(){return r},t}function a(e){var t=S(),n=M(),r=T(),i=new A.Gradient,o=e.domain(),a=o[0],u=o[o.length-1],l=e.copy().domain([a,u]).range([0,1]),c="linear"!==e.type&&e.ticks?e.ticks.call(e,15):o;a!==c[0]&&c.unshift(a),u!==c[c.length-1]&&c.push(u);for(var f=0,h=c.length;h>f;++f)i.stop(l(c[f]),e(c[f]));n.properties.enter.fill={value:i},A.extend(t.properties.update,D),A.extend(n.properties.update,O),A.extend(r.properties.update,N);var d=n.properties,p=O.height,g=p&&p.value||d.enter.height.value;if(r.properties.enter.y.value=g,r.properties.update.y.value=g,s){var m=t.properties,v=D.fontSize,y=4+(v&&v.value||m.enter.fontSize.value);n.properties.enter.y.value+=y,r.properties.enter.y.value+=y,
n.properties.update.y.value+=y,r.properties.update.y.value+=y}return t.properties.enter.x.value+=b,t.properties.enter.y.value+=b,n.properties.enter.x.value+=b,n.properties.enter.y.value+=b,r.properties.enter.y.value+=b,n.properties.update.x.value+=b,n.properties.update.y.value+=b,r.properties.update.y.value+=b,{type:"group",interactive:!1,properties:{enter:A.parse.properties("group",w),update:k},marks:[t,n,r].map(A.parse.mark)}}var s,u,l=null,c=null,f=null,h=null,d=null,p=null,g=null,m=null,v="right",y=A.config.legend.offset,b=A.config.legend.padding,x=[5],w={},$={},O={},D={},N={},L={},u=null;return L.def=function(){var t=l||c||f||h;return g=m?"time"===t.type?e.time.format(m):e.format(m):null,u||(u=t!==f&&t!==h||n(t.type)?r(t):o(t)),u.orient=v,u.offset=y,u.padding=b,u},L.size=function(e){return arguments.length?(l!==e&&(l=e,t()),L):l},L.shape=function(e){return arguments.length?(c!==e&&(c=e,t()),L):c},L.fill=function(e){return arguments.length?(f!==e&&(f=e,t()),L):f},L.stroke=function(e){return arguments.length?(h!==e&&(h=e,t()),L):h},L.title=function(e){return arguments.length?(s!==e&&(s=e,t()),L):s},L.format=function(e){return arguments.length?(m!==e&&(m=e,t()),L):m},L.spacing=function(e){return arguments.length?(d!==+e&&(d=+e,t()),L):d},L.orient=function(e){return arguments.length?(v=e in K?e+"":A.config.legend.orient,L):v},L.offset=function(e){return arguments.length?(y=+e,L):y},L.values=function(e){return arguments.length?(p=e,L):p},L.legendProperties=function(e){return arguments.length?(w=e,L):w},L.symbolProperties=function(e){return arguments.length?($=e,L):$},L.gradientProperties=function(e){return arguments.length?(O=e,L):O},L.labelProperties=function(e){return arguments.length?(N=e,L):N},L.titleProperties=function(e){return arguments.length?(D=e,L):D},L.reset=function(){t()},L};var K={right:1,left:1};return A.Model=function(){function e(){this._defs=null,this._data={},this._scene=null,this._reset={axes:!1,legends:!1}}var t=e.prototype;return t.defs=function(e){return arguments.length?(this._defs=e,this):this._defs},t.data=function(e){function t(e){(s[e]||[]).forEach(function(n){o[n]=e,t(n)})}if(!arguments.length)return this._data;var n,r,i,o={},a=this._defs,s=a.data.source,l=a.data.flow||{},f=a.data.sorted,h=f.length;for(A.keys(e).forEach(t),n=0;h>n;++n){if(e[r=f[n]])i=e[r];else{if(!o[r])continue;i=c(this._data[o[r]]),A.isTree(e)&&u(i)}this._data[r]=l[r]?l[r](i,this._data,a.marks):i}return this._reset.legends=!0,this},t.width=function(e){return this._defs&&(this._defs.width=e),this._defs&&this._defs.marks&&(this._defs.marks.width=e),this._scene&&(this._scene.items[0].width=e),this._reset.axes=!0,this},t.height=function(e){return this._defs&&(this._defs.height=e),this._defs&&this._defs.marks&&(this._defs.marks.height=e),this._scene&&(this._scene.items[0].height=e),this._reset.axes=!0,this},t.scene=function(e){return arguments.length?(this._scene=e,this):this._scene},t.build=function(){var e=this,t=e._data,n=e._defs.marks;return e._scene=A.scene.build.call(e,n,t,e._scene),e._scene.items[0].width=n.width,e._scene.items[0].height=n.height,e._scene.interactive=!1,this},t.encode=function(e,t,n){this.reset();var r=this,i=r._scene,o=r._defs;return A.scene.encode.call(r,i,o.marks,e,t,n),this},t.reset=function(){return this._scene&&this._reset.axes&&(A.scene.visit(this._scene,function(e){e.axes&&e.axes.forEach(function(e){e.reset()})}),this._reset.axes=!1),this._scene&&this._reset.legends&&(A.scene.visit(this._scene,function(e){e.legends&&e.legends.forEach(function(e){e.reset()})}),this._reset.legends=!1),this},e}(),A.View=function(){var t=function(e,t,n){this._el=null,this._build=!1,this._model=new A.Model,this._width=this.__width=t||500,this._height=this.__height=n||500,this._bgcolor=null,this._autopad=1,this._padding={top:0,left:0,bottom:0,right:0},this._viewport=null,this._renderer=null,this._handler=null,this._io=A.canvas,e&&this.initialize(e)},n=t.prototype;return n.width=function(e){return arguments.length?(this.__width!==e&&(this._width=this.__width=e,this._el&&this.initialize(this._el.parentNode),this._model.width(e),this._strict&&(this._autopad=1)),this):this.__width},n.height=function(e){return arguments.length?(this.__height!==e&&(this._height=this.__height=e,this._el&&this.initialize(this._el.parentNode),this._model.height(this._height),this._strict&&(this._autopad=1)),this):this.__height},n.background=function(e){return arguments.length?(this._bgcolor!==e&&(this._bgcolor=e,this._el&&this.initialize(this._el.parentNode)),this):this._bgcolor},n.padding=function(e){return arguments.length?(this._padding!==e&&(A.isString(e)?(this._autopad=1,this._padding={top:0,left:0,bottom:0,right:0},this._strict="strict"===e):(this._autopad=0,this._padding=e,this._strict=!1),this._el&&(this._renderer.resize(this._width,this._height,e),this._handler.padding(e))),this):this._padding},n.autopad=function(e){if(this._autopad<1)return this;this._autopad=0;var t=this._padding,n=this.model().scene().bounds,r=A.config.autopadInset,i=n.x1<0?Math.ceil(-n.x1)+r:0,o=n.y1<0?Math.ceil(-n.y1)+r:0,a=n.x2>this._width?Math.ceil(+n.x2-this._width)+r:0,n=n.y2>this._height?Math.ceil(+n.y2-this._height)+r:0;return t={left:i,top:o,right:a,bottom:n},this._strict?(this._autopad=0,this._padding=t,this._width=Math.max(0,this.__width-(i+a)),this._height=Math.max(0,this.__height-(o+n)),this._model.width(this._width),this._model.height(this._height),this._el&&this.initialize(this._el.parentNode),this.update({props:"enter"}).update({props:"update"})):this.padding(t).update(e),this},n.viewport=function(e){return arguments.length?(this._viewport!==e&&(this._viewport=e,this._el&&this.initialize(this._el.parentNode)),this):this._viewport},n.renderer=function(e){return arguments.length?("canvas"===e&&(e=A.canvas),"svg"===e&&(e=A.svg),this._io!==e&&(this._io=e,this._renderer=null,this._el&&this.initialize(this._el.parentNode),this._build&&this.render()),this):this._io},n.defs=function(e){return arguments.length?(this._model.defs(e),this):this._model.defs()},n.data=function(e){if(!arguments.length)return this._model.data();var t=A.keys(e).reduce(function(t,n){return t[n]=A.data.ingestAll(e[n]),t},{});return this._model.data(t),this._build=!1,this},n.model=function(e){return arguments.length?(this._model!==e&&(this._model=e,this._handler&&this._handler.model(e)),this):this._model},n.initialize=function(t){var n,r=this,i=r._width,o=r._height,a=r._bgcolor,s=r._padding;return e.select(t).select("div.vega").remove(),this._el=t=e.select(t).append("div").attr("class","vega").style("position","relative").node(),r._viewport&&e.select(t).style("width",(r._viewport[0]||i)+"px").style("height",(r._viewport[1]||o)+"px").style("overflow","auto"),r._renderer=(r._renderer||new this._io.Renderer).initialize(t,i,o,s,a),n=r._handler,r._handler=(new this._io.Handler).initialize(t,s,r).model(r._model),n&&n.handlers().forEach(function(e){r._handler.on(e.type,e.handler)}),this},n.render=function(e){return this._renderer.render(this._model.scene(),e),this},n.on=function(){return this._handler.on.apply(this._handler,arguments),this},n.off=function(){return this._handler.off.apply(this._handler,arguments),this},n.update=function(e){e=e||{};var t=this,n=e.duration?A.scene.transition(e.duration,e.ease):null;return t._build=t._build||(t._model.build(),!0),t._model.encode(n,e.props,e.items),n?n.start(function(e){t._renderer.render(t._model.scene(),e)}):t.render(e.items),t.autopad(e)},t}(),A.ViewFactory=function(e){return function(t){t=t||{};var n=(new A.View).width(e.width).height(e.height).background(e.background).padding(e.padding).viewport(e.viewport).renderer(t.renderer||"canvas").defs(e);return e.data.load&&n.data(e.data.load),t.data&&n.data(t.data),t.el&&n.initialize(t.el),t.hover!==!1&&n.on("mouseover",function(e,t){t.hasPropertySet("hover")&&this.update({props:"hover",items:t})}).on("mouseout",function(e,t){t.hasPropertySet("hover")&&this.update({props:"update",items:t})}),n}},A.Spec=function(){var e=function(e){this.spec={width:500,height:500,padding:0,data:[],scales:[],axes:[],marks:[]},e&&A.extend(this.spec,e)},t=e.prototype;return t.width=function(e){return this.spec.width=e,this},t.height=function(e){return this.spec.height=e,this},t.padding=function(e){return this.spec.padding=e,this},t.viewport=function(e){return this.spec.viewport=e,this},t.data=function(e,t){return t?t.name=e:t=A.isString(e)?{name:e}:e,this.spec.data.push(t),this},t.scale=function(e,t){return t?t.name=e:t=A.isString(e)?{name:e}:e,this.spec.scales.push(t),this},t.axis=function(e){return this.spec.axes.push(e),this},t.mark=function(e,t){t?t.type=e:t={type:e},t.properties={},this.spec.marks.push(t);var n=this;return{from:function(e,n){return t.from=n?(n.data=e,n):A.isString(e)?{data:e}:e,this},prop:function(e,n){return t.properties[e]=A.keys(n).reduce(function(e,t){var r=n[t];return e[t]=A.isObject(r)?r:{value:r},e},{}),this},done:function(){return n}}},t.parse=function(e){A.parse.spec(this.spec,e)},t.json=function(){return this.spec},e}(),A.spec=function(e){return new A.Spec(e)},A.headless={},A.headless.canvas=A.canvas.Renderer,A.headless.svg=function(){function t(e,t,n){var r="<"+e;if(t)for(var i in t){var o=t[i];null!=o&&(r+=" "+i+'="'+o+'"')}return n&&(r+=" "+n),r+">"}function n(e){return"</"+e+">"}function r(e){return e=null==e?"":String(e),e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(e){return String(e).replace(/\"/g,"'")}function o(e){var r=e.width||0,i=e.height||0;return 0===r&&0===i?"":t("rect",{"class":"background",width:r,height:i},k(e,"rect"))+n("rect")}function a(e,t){var n=e.x||0,r=e.y||0,i={transform:"translate("+n+","+r+")"};if(e.clip){var o={width:e.width||0,height:e.height||0},a=e.clip_id||(e.clip_id="clip"+L++);t.clipping[a]=o,i["clip-path"]="url(#"+a+")"}return i}function s(e){var t=e.x||0,n=e.y||0;return{transform:"translate("+t+","+n+")",d:M(e)}}function u(e){if(e.length){var t=e[0],n="horizontal"===t.orient?O:T;return n.interpolate(t.interpolate||"linear").tension(null==t.tension?.7:t.tension),{d:n(e)}}}function l(e){if(e.length){var t=e[0];return D.interpolate(t.interpolate||"linear").tension(null==t.tension?.7:t.tension),{d:D(e)}}}function c(e){var t=e.x||0,n=e.y||0;return{transform:"translate("+t+","+n+")",d:e.path}}function f(e){return{x:e.x||0,y:e.y||0,width:e.width||0,height:e.height||0}}function h(e){var t=e.x||0,n=e.y||0;return{x1:t,y1:n,x2:null!=e.x2?e.x2:t,y2:null!=e.y2?e.y2:n}}function d(e){var t=e.x||0,n=e.y||0;return{transform:"translate("+t+","+n+")",d:N(e)}}function p(e){var t=e.width||e.image&&e.image.width||0,n=e.height||e.image&&e.image.height||0,r=e.x-("center"===e.align?t/2:"right"===e.align?t:0),i=e.y-("middle"===e.baseline?n/2:"bottom"===e.baseline?n:0),o=A.config.baseURL+e.url;return{"xlink:href":o,x:r,y:i,width:t,height:n}}function g(e){var t=e.x||0,n=e.y||0,r=e.dx||0,i=e.dy||0,o=e.angle||0,a=e.radius||0,s=P[e.align||"left"],u="top"===e.baseline?".9em":"middle"===e.baseline?".35em":0;if(a){var l=(e.theta||0)-Math.PI/2;t+=a*Math.cos(l),n+=a*Math.sin(l)}return{x:t+r,y:n+i,"text-anchor":s,transform:o?"rotate("+o+" "+t+","+n+")":null,dy:u?u:null}}function m(e){var t="type-"+e.type;return e.name&&(t+=" "+e.name),t}function v(e){return e.x||0}function y(e){return e.y||0}function b(e){return e.x+e.width||0}function x(e){return e.y+e.height||0}function w(e){return null==e.size?100:e.size}function $(e){return e.shape||"circle"}function k(e,t,n){var r,i,o,a,s,u=e.mark?e:e.length?e[0]:null;if(null===u)return null;var l="";for(r=0,i=R.length;i>r;++r)o=R[r],a=I[o],s=u[o],null==s?"fill"===a&&(l+="fill:none;"):(s.id&&(n.gradient[s.id]=s,s="url("+window.location.href+"#"+s.id+")"),l+=a+":"+s+";");return"text"===t&&(l+="font:"+_(u)),l.length?'style="'+l+'"':null}function _(e){var t=(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+(null!=e.fontSize?e.fontSize:A.config.render.fontSize)+"px "+(e.font&&i(e.font)||A.config.render.font);return t}var S=function(){this._text={head:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}},C=S.prototype;C.initialize=function(e,r,i,o,a){var s=this._text,u={width:r,height:i};null!=a&&(u.style="background-color:"+a+";"),s.head=t("svg",u,A.config.svgNamespace),s.root=t("g",{transform:"translate("+o.left+","+o.top+")"}),s.foot=n("g")+n("svg")},C.svg=function(){var e=this._text;return e.head+e.defs+e.root+e.body+e.foot},C.buildDefs=function(){var e,r,i=this._defs,o=A.keys(i.gradient),a=A.keys(i.clipping),s="";for(e=0;e<o.length;++e){var u=o[e],l=i.gradient[u],c=l.stops;for(s+=t("linearGradient",{id:u,x1:l.x1,x2:l.x2,y1:l.y1,y2:l.y2}),r=0;r<c.length;++r)s+=t("stop",{offset:c[r].offset,"stop-color":c[r].color})+n("stop");s+=n("linearGradient")}for(e=0;e<a.length;++e){var u=a[e],l=i.clipping[u];s+=t("clipPath",{id:u}),s+=t("rect",{x:0,y:0,width:l.width,height:l.height})+n("rect"),s+=n("clipPath")}return s},C.render=function(e){this._text.body=this.draw(e),this._text.defs=this.buildDefs()},C.draw=function(e){var i,o,a=E[e.marktype],s=a[0],u=a[1],l=a[2]||!1,c=l?[e.items]:e.items,f=this._defs,h="";for(h+=t("g",{"class":m(e.def)}),i=0;i<c.length;++i)o="g"===s?null:k(c[i],s,f),h+=t(s,u(c[i],f),o),"text"===s&&(h+=r(c[i].text)),"g"===s&&(h+=this.drawGroup(c[i])),h+=n(s);return h+n("g")};var E={group:["g",a],area:["path",u,!0],line:["path",l,!0],arc:["path",s],path:["path",c],symbol:["path",d],rect:["rect",f],rule:["line",h],text:["text",g],image:["image",p]};C.drawGroup=function(e){var t,n,r="",i=e.axisItems||[],a=e.items,s=e.legendItems||[];for(r+=o(e),t=0,n=i.length;n>t;++t)"back"===i[t].def.layer&&(r+=this.draw(i[t]));for(t=0,n=a.length;n>t;++t)r+=this.draw(a[t]);for(t=0,n=i.length;n>t;++t)"back"!==i[t].def.layer&&(r+=this.draw(i[t]));for(t=0,n=s.length;n>t;++t)r+=this.draw(s[t]);return r};var M=e.svg.arc(),T=e.svg.area().x(v).y1(y).y0(x),O=e.svg.area().y(y).x0(b).x1(v),D=e.svg.line().x(v).y(y),N=e.svg.symbol().type($).size(w),L=0,P={left:"start",center:"middle",right:"end"},I={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity",strokeCap:"stroke-linecap",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",opacity:"opacity"},R=A.keys(I);return S}(),A.headless.View=function(){var e=function(e,t,n,r,i,o){this._canvas=null,this._type=i,this._el="body",this._build=!1,this._model=new A.Model,this._width=this.__width=e||500,this._height=this.__height=t||500,this._bgcolor=r||null,this._padding=n||{top:0,left:0,bottom:0,right:0},this._autopad=A.isString(this._padding)?1:0,this._renderer=new A.headless[i],this._viewport=o||null,this.initialize()},t=e.prototype;return t.el=function(e){return arguments.length?(this._el!==e&&(this._el=e,this.initialize()),this):this._el},t.model=function(){return this._model},t.width=function(e){return arguments.length?(this._width!==e&&(this._width=e,this.initialize(),this._model.width(e)),this):this._width},t.height=function(e){return arguments.length?(this._height!==e&&(this._height=e,this.initialize(),this._model.height(this._height)),this):this._height},t.background=function(e){return arguments.length?(this._bgcolor!==e&&(this._bgcolor=e,this.initialize()),this):this._bgcolor},t.padding=function(e){return arguments.length?(this._padding!==e&&(A.isString(e)?(this._autopad=1,this._padding={top:0,left:0,bottom:0,right:0},this._strict="strict"===e):(this._autopad=0,this._padding=e,this._strict=!1),this.initialize()),this):this._padding},t.autopad=function(e){if(this._autopad<1)return this;this._autopad=0;var t=this._padding,n=this._model.scene().bounds,r=A.config.autopadInset,i=n.x1<0?Math.ceil(-n.x1)+r:0,o=n.y1<0?Math.ceil(-n.y1)+r:0,a=n.x2>this._width?Math.ceil(+n.x2-this._width)+r:0,n=n.y2>this._height?Math.ceil(+n.y2-this._height)+r:0;return t={left:i,top:o,right:a,bottom:n},this._strict?(this._autopad=0,this._padding=t,this._width=Math.max(0,this.__width-(i+a)),this._height=Math.max(0,this.__height-(o+n)),this._model.width(this._width),this._model.height(this._height),this._el&&this.initialize(),this.update({props:"enter"}).update({props:"update"})):this.padding(t).update(e),this},t.viewport=function(e){return arguments.length?(this._viewport=e,this.initialize(),this):_viewport},t.defs=function(e){return arguments.length?(this._model.defs(e),this):this._model.defs()},t.data=function(e){if(!arguments.length)return this._model.data();var t=A.keys(e).reduce(function(t,n){return t[n]=A.data.ingestAll(e[n]),t},{});return this._model.data(t),this._build=!1,this},t.renderer=function(){return this._renderer},t.canvas=function(){return this._canvas},t.canvasAsync=function(e){function t(){0===n.pendingImages()?(r.render(),e(r._canvas)):setTimeout(t,10)}var n=this._renderer,r=this;n.pendingImages()>0?t():e(this._canvas)},t.svg=function(){return"svg"===this._type?this._renderer.svg():null},t.initialize=function(){var e=this._width,t=this._height,n=this._bgcolor,r=this._padding;return this._viewport&&(e=this._viewport[0]-(r?r.left+r.right:0),t=this._viewport[1]-(r?r.top+r.bottom:0)),"svg"===this._type?this.initSVG(e,t,r,n):this.initCanvas(e,t,r,n),this},t.initCanvas=function(e,t,n,r){var i=require("canvas"),o=e+(n?n.left+n.right:0),a=t+(n?n.top+n.bottom:0),s=this._canvas=new i(o,a),u=s.getContext("2d");u.setTransform(1,0,0,1,n.left,n.top),this._renderer.context(u),this._renderer.resize(e,t,n),this._renderer.background(r)},t.initSVG=function(e,t,n,r){var i=e+(n?n.left+n.right:0),o=t+(n?n.top+n.bottom:0);this._renderer.initialize(this._el,i,o,n,r)},t.render=function(e){return this._renderer.render(this._model.scene(),e),this},t.update=function(e){e=e||{};var t=this;return t._build=t._build||(t._model.build(),!0),t._model.encode(null,e.props,e.items),t.render(e.items),t.autopad(e)},e}(),A.headless.View.Factory=function(e){return function(t){t=t||{};var n=e.width,r=e.height,i=e.padding,o=e.background,a=e.viewport,s=t.renderer||"canvas",u=new A.headless.View(n,r,i,o,s,a).defs(e);return e.data.load&&u.data(e.data.load),t.data&&u.data(t.data),u}},A.headless.render=function(e,t){function n(n){try{var r=n({data:e.data,renderer:e.renderer}).update();"svg"===e.renderer?t(null,{svg:r.svg(),view:r}):r.canvasAsync(function(e){t(null,{canvas:e,view:r})})}catch(i){t(i,null)}}A.parse.spec(e.spec,n,A.headless.View.Factory)},A}),/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.11.2 - 2015-03-17T04:08:46.474Z
 * License: MIT
 */
function(){"use strict";var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var n=t.which;switch(n){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var t=0,n=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,generateId:function(){return t++},appendToBody:!1}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,r,i){i(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?t.replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);n.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(e,t,n,r){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme;return n+"/choices.tpl.html"},compile:function(i,o){if(!o.repeat)throw n("repeat","Expected 'repeat' expression.");return function(i,o,a,s,u){var l=a.groupBy;if(s.parseRepeatAttr(a.repeat,l),s.disableChoiceExpression=a.uiDisableChoice,s.onHighlightCallback=a.onHighlight,l){var c=o.querySelectorAll(".ui-select-choices-group");if(1!==c.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",c.length);c.attr("ng-repeat",t.getGroupNgRepeatExpression())}var f=o.querySelectorAll(".ui-select-choices-row");if(1!==f.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",f.length);f.attr("ng-repeat",t.getNgRepeatExpression(s.parserResult.itemName,"$select.items",s.parserResult.trackByExp,l)).attr("ng-if","$select.open").attr("ng-mouseenter","$select.setActiveItem("+s.parserResult.itemName+")").attr("ng-click","$select.select("+s.parserResult.itemName+",false,$event)");var h=o.querySelectorAll(".ui-select-choices-row-inner");if(1!==h.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",h.length);h.attr("uis-transclude-append",""),r(o,u)(i),i.$watch("$select.search",function(e){e&&!s.open&&s.multiple&&s.activate(!1,!0),s.activeIndex=s.tagging.isActivated?-1:0,s.refresh(a.refresh)}),a.$observe("refreshDelay",function(){var t=i.$eval(a.refreshDelay);s.refreshDelay=void 0!==t?t:e.refreshDelay})}}}}]),n.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig",function(t,n,r,i,o,a,s){function u(){(f.resetSearchInput||void 0===f.resetSearchInput&&s.resetSearchInput)&&(f.search=h,f.selected&&f.items.length&&!f.multiple&&(f.activeIndex=f.items.indexOf(f.selected)))}function l(t){var n=!0;switch(t){case e.DOWN:!f.open&&f.multiple?f.activate(!1,!0):f.activeIndex<f.items.length-1&&f.activeIndex++;break;case e.UP:!f.open&&f.multiple?f.activate(!1,!0):(f.activeIndex>0||0===f.search.length&&f.tagging.isActivated&&f.activeIndex>-1)&&f.activeIndex--;break;case e.TAB:(!f.multiple||f.open)&&f.select(f.items[f.activeIndex],!0);break;case e.ENTER:f.open&&f.activeIndex>=0?f.select(f.items[f.activeIndex]):f.activate(!1,!0);break;case e.ESC:f.close();break;default:n=!1}return n}function c(){var e=n.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw a("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(f.activeIndex<0)){var r=t[f.activeIndex],i=r.offsetTop+r.clientHeight-e[0].scrollTop,o=e[0].offsetHeight;i>o?e[0].scrollTop+=i-o:i<r.clientHeight&&(f.isGrouped&&0===f.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=r.clientHeight-i)}}var f=this,h="";if(f.placeholder=s.placeholder,f.searchEnabled=s.searchEnabled,f.sortable=s.sortable,f.refreshDelay=s.refreshDelay,f.removeSelected=!1,f.closeOnSelect=!0,f.search=h,f.activeIndex=0,f.items=[],f.open=!1,f.focus=!1,f.disabled=!1,f.selected=void 0,f.focusser=void 0,f.resetSearchInput=!0,f.multiple=void 0,f.disableChoiceExpression=void 0,f.tagging={isActivated:!1,fct:void 0},f.taggingTokens={isActivated:!1,tokens:void 0},f.lockChoiceExpression=void 0,f.clickTriggeredSelect=!1,f.$filter=i,f.searchInput=n.querySelectorAll("input.ui-select-search"),1!==f.searchInput.length)throw a("searchInput","Expected 1 input.ui-select-search but got '{0}'.",f.searchInput.length);f.isEmpty=function(){return angular.isUndefined(f.selected)||null===f.selected||""===f.selected},f.activate=function(e,n){f.disabled||f.open||(n||u(),t.$broadcast("uis:activate"),f.open=!0,f.activeIndex=f.activeIndex>=f.items.length?0:f.activeIndex,-1===f.activeIndex&&f.taggingLabel!==!1&&(f.activeIndex=0),r(function(){f.search=e||f.search,f.searchInput[0].focus()}))},f.findGroupByName=function(e){return f.groups&&f.groups.filter(function(t){return t.name===e})[0]},f.parseRepeatAttr=function(e,n){function r(e){f.groups=[],angular.forEach(e,function(e){var r=t.$eval(n),i=angular.isFunction(r)?r(e):e[r],o=f.findGroupByName(i);o?o.items.push(e):f.groups.push({name:i,items:[e]})}),f.items=[],f.groups.forEach(function(e){f.items=f.items.concat(e.items)})}function i(e){f.items=e}f.setItemsFn=n?r:i,f.parserResult=o.parse(e),f.isGrouped=!!n,f.itemProperty=f.parserResult.itemName,f.refreshItems=function(e){e=e||f.parserResult.source(t);var n=f.selected;if(angular.isArray(n)&&!n.length||!f.removeSelected)f.setItemsFn(e);else if(void 0!==e){var r=e.filter(function(e){return n.indexOf(e)<0});f.setItemsFn(r)}},t.$watchCollection(f.parserResult.source,function(e){if(void 0===e||null===e)f.items=[];else{if(!angular.isArray(e))throw a("items","Expected an array but got '{0}'.",e);f.refreshItems(e),f.ngModel.$modelValue=null}})};var d;f.refresh=function(e){void 0!==e&&(d&&r.cancel(d),d=r(function(){t.$eval(e)},f.refreshDelay))},f.setActiveItem=function(e){f.activeIndex=f.items.indexOf(e)},f.isActive=function(e){if(!f.open)return!1;var t=f.items.indexOf(e[f.itemProperty]),n=t===f.activeIndex;return!n||0>t&&f.taggingLabel!==!1||0>t&&f.taggingLabel===!1?!1:(n&&!angular.isUndefined(f.onHighlightCallback)&&e.$eval(f.onHighlightCallback),n)},f.isDisabled=function(e){if(f.open){var t,n=f.items.indexOf(e[f.itemProperty]),r=!1;return n>=0&&!angular.isUndefined(f.disableChoiceExpression)&&(t=f.items[n],r=!!e.$eval(f.disableChoiceExpression),t._uiSelectChoiceDisabled=r),r}},f.select=function(e,n,i){if(void 0===e||!e._uiSelectChoiceDisabled){if(!f.items&&!f.search)return;if(!e||!e._uiSelectChoiceDisabled){if(f.tagging.isActivated){if(f.taggingLabel===!1)if(f.activeIndex<0){if(e=void 0!==f.tagging.fct?f.tagging.fct(f.search):f.search,!e||angular.equals(f.items[0],e))return}else e=f.items[f.activeIndex];else if(0===f.activeIndex){if(void 0===e)return;if(void 0!==f.tagging.fct&&"string"==typeof e){if(e=f.tagging.fct(f.search),!e)return}else"string"==typeof e&&(e=e.replace(f.taggingLabel,"").trim())}if(f.selected&&angular.isArray(f.selected)&&f.selected.filter(function(t){return angular.equals(t,e)}).length>0)return void f.close(n)}t.$broadcast("uis:select",e);var o={};o[f.parserResult.itemName]=e,r(function(){f.onSelectCallback(t,{$item:e,$model:f.parserResult.modelMapper(t,o)})}),f.closeOnSelect&&f.close(n),i&&"click"===i.type&&(f.clickTriggeredSelect=!0)}}},f.close=function(e){f.open&&(f.ngModel&&f.ngModel.$setTouched&&f.ngModel.$setTouched(),u(),f.open=!1,t.$broadcast("uis:close",e))},f.setFocus=function(){f.focus||f.focusInput[0].focus()},f.clear=function(e){f.select(void 0),e.stopPropagation(),f.focusser[0].focus()},f.toggle=function(e){f.open?(f.close(),e.preventDefault(),e.stopPropagation()):f.activate()},f.isLocked=function(e,t){var n,r=f.selected[t];return r&&!angular.isUndefined(f.lockChoiceExpression)&&(n=!!e.$eval(f.lockChoiceExpression),r._uiSelectChoiceLocked=n),n};var p=null;f.sizeSearchInput=function(){var e=f.searchInput[0],n=f.searchInput.parent().parent()[0],i=function(){return n.clientWidth*!!e.offsetParent},o=function(t){if(0===t)return!1;var n=t-e.offsetLeft-10;return 50>n&&(n=t),f.searchInput.css("width",n+"px"),!0};f.searchInput.css("width","10px"),r(function(){null!==p||o(i())||(p=t.$watch(i,function(e){o(e)&&(p(),p=null)}))})},f.searchInput.on("keydown",function(n){var i=n.which;t.$apply(function(){var t=!1;if((f.items.length>0||f.tagging.isActivated)&&(l(i),f.taggingTokens.isActivated)){for(var o=0;o<f.taggingTokens.tokens.length;o++)f.taggingTokens.tokens[o]===e.MAP[n.keyCode]&&f.search.length>0&&(t=!0);t&&r(function(){f.searchInput.triggerHandler("tagged");var t=f.search.replace(e.MAP[n.keyCode],"").trim();f.tagging.fct&&(t=f.tagging.fct(t)),t&&f.select(t,!0)})}}),e.isVerticalMovement(i)&&f.items.length>0&&c()}),f.searchInput.on("paste",function(e){var t=e.originalEvent.clipboardData.getData("text/plain");if(t&&t.length>0&&f.taggingTokens.isActivated&&f.tagging.fct){var n=t.split(f.taggingTokens.tokens[0]);n&&n.length>0&&(angular.forEach(n,function(e){var t=f.tagging.fct(e);t&&f.select(t,!0)}),e.preventDefault(),e.stopPropagation())}}),f.searchInput.on("tagged",function(){r(function(){u()})}),t.$on("$destroy",function(){f.searchInput.off("keyup keydown tagged blur paste")})}]),n.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,r,i,o,a){return{restrict:"EA",templateUrl:function(e,n){var r=n.theme||t.theme;return r+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(i,s){return angular.isDefined(s.multiple)?i.append("<ui-select-multiple/>").removeAttr("multiple"):i.append("<ui-select-single/>"),function(i,s,u,l,c){function f(e){if(p.open){var t=!1;if(t=window.jQuery?window.jQuery.contains(s[0],e.target):s[0].contains(e.target),!t&&!p.clickTriggeredSelect){var n=["input","button","textarea"],r=angular.element(e.target).scope(),o=r&&r.$select&&r.$select!==p;o||(o=~n.indexOf(e.target.tagName.toLowerCase())),p.close(o),i.$digest()}p.clickTriggeredSelect=!1}}function h(){var t=r(s);v=angular.element('<div class="ui-select-placeholder"></div>'),v[0].style.width=t.width+"px",v[0].style.height=t.height+"px",s.after(v),y=s[0].style.width,e.find("body").append(s),s[0].style.position="absolute",s[0].style.left=t.left+"px",s[0].style.top=t.top+"px",s[0].style.width=t.width+"px"}function d(){null!==v&&(v.replaceWith(s),v=null,s[0].style.position="",s[0].style.left="",s[0].style.top="",s[0].style.width=y)}var p=l[0],g=l[1];p.generatedId=t.generateId(),p.baseTitle=u.title||"Select box",p.focusserTitle=p.baseTitle+" focus",p.focusserId="focusser-"+p.generatedId,p.closeOnSelect=function(){return angular.isDefined(u.closeOnSelect)?o(u.closeOnSelect)():t.closeOnSelect}(),p.onSelectCallback=o(u.onSelect),p.onRemoveCallback=o(u.onRemove),p.ngModel=g,p.choiceGrouped=function(e){return p.isGrouped&&e&&e.name},u.tabindex&&u.$observe("tabindex",function(e){p.focusInput.attr("tabindex",e),s.removeAttr("tabindex")}),i.$watch("searchEnabled",function(){var e=i.$eval(u.searchEnabled);p.searchEnabled=void 0!==e?e:t.searchEnabled}),i.$watch("sortable",function(){var e=i.$eval(u.sortable);p.sortable=void 0!==e?e:t.sortable}),u.$observe("disabled",function(){p.disabled=void 0!==u.disabled?u.disabled:!1}),u.$observe("resetSearchInput",function(){var e=i.$eval(u.resetSearchInput);p.resetSearchInput=void 0!==e?e:!0}),u.$observe("tagging",function(){if(void 0!==u.tagging){var e=i.$eval(u.tagging);p.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else p.tagging={isActivated:!1,fct:void 0}}),u.$observe("taggingLabel",function(){void 0!==u.tagging&&(p.taggingLabel="false"===u.taggingLabel?!1:void 0!==u.taggingLabel?u.taggingLabel:"(new)")}),u.$observe("taggingTokens",function(){if(void 0!==u.tagging){var e=void 0!==u.taggingTokens?u.taggingTokens.split("|"):[",","ENTER"];p.taggingTokens={isActivated:!0,tokens:e}}}),angular.isDefined(u.autofocus)&&a(function(){p.setFocus()}),angular.isDefined(u.focusOn)&&i.$on(u.focusOn,function(){a(function(){p.setFocus()})}),e.on("click",f),i.$on("$destroy",function(){e.off("click",f)}),c(i,function(e){var t=angular.element("<div>").append(e),r=t.querySelectorAll(".ui-select-match");if(r.removeAttr("ui-select-match"),r.removeAttr("data-ui-select-match"),1!==r.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",r.length);s.querySelectorAll(".ui-select-match").replaceWith(r);var i=t.querySelectorAll(".ui-select-choices");if(i.removeAttr("ui-select-choices"),i.removeAttr("data-ui-select-choices"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",i.length);s.querySelectorAll(".ui-select-choices").replaceWith(i)});var m=i.$eval(u.appendToBody);(void 0!==m?m:t.appendToBody)&&(i.$watch("$select.open",function(e){e?h():d()}),i.$on("$destroy",function(){d()}));var v=null,y=""}}}}]),n.directive("uiSelectMatch",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme,r=t.parent().attr("multiple");return n+(r?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,r,i){function o(e){i.allowClear=angular.isDefined(e)?""===e?!0:"true"===e.toLowerCase():!1}i.lockChoiceExpression=r.uiLockChoice,r.$observe("placeholder",function(t){i.placeholder=void 0!==t?t:e.placeholder}),r.$observe("allowClear",o),o(r.allowClear),i.multiple&&i.sizeSearchInput()}}}]),n.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,r=this,i=e.$select;e.$evalAsync(function(){n=e.ngModel}),r.activeMatchIndex=-1,r.updateModel=function(){n.$setViewValue(Date.now()),r.refreshComponent()},r.refreshComponent=function(){i.refreshItems(),i.sizeSearchInput()},r.removeChoice=function(n){var o=i.selected[n];if(!o._uiSelectChoiceLocked){var a={};a[i.parserResult.itemName]=o,i.selected.splice(n,1),r.activeMatchIndex=-1,i.sizeSearchInput(),t(function(){i.onRemoveCallback(e,{$item:o,$model:i.parserResult.modelMapper(e,a)})}),r.updateModel()}},r.getPlaceholder=function(){return i.selected.length?void 0:i.placeholder}}],controllerAs:"$selectMultiple",link:function(r,i,o,a){function s(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function u(t){function n(){switch(t){case e.LEFT:return~d.activeMatchIndex?c:a;case e.RIGHT:return~d.activeMatchIndex&&u!==a?l:(f.activate(),!1);case e.BACKSPACE:return~d.activeMatchIndex?(d.removeChoice(u),c):a;case e.DELETE:return~d.activeMatchIndex?(d.removeChoice(d.activeMatchIndex),u):!1}}var r=s(f.searchInput[0]),i=f.selected.length,o=0,a=i-1,u=d.activeMatchIndex,l=d.activeMatchIndex+1,c=d.activeMatchIndex-1,h=u;return r>0||f.search.length&&t==e.RIGHT?!1:(f.close(),h=n(),d.activeMatchIndex=f.selected.length&&h!==!1?Math.min(a,Math.max(o,h)):-1,!0)}function l(e){if(void 0===e||void 0===f.search)return!1;var t=e.filter(function(e){return void 0===f.search.toUpperCase()||void 0===e?!1:e.toUpperCase()===f.search.toUpperCase()}).length>0;return t}function c(e,t){var n=-1;if(angular.isArray(e))for(var r=angular.copy(e),i=0;i<r.length;i++)if(void 0===f.tagging.fct)r[i]+" "+f.taggingLabel===t&&(n=i);else{var o=r[i];o.isTag=!0,angular.equals(o,t)&&(n=i)}return n}var f=a[0],h=r.ngModel=a[1],d=r.$selectMultiple;f.multiple=!0,f.removeSelected=!0,f.focusInput=f.searchInput,h.$parsers.unshift(function(){for(var e,t={},n=[],i=f.selected.length-1;i>=0;i--)t={},t[f.parserResult.itemName]=f.selected[i],e=f.parserResult.modelMapper(r,t),n.unshift(e);return n}),h.$formatters.unshift(function(e){var t,n=f.parserResult.source(r,{$select:{search:""}}),i={};if(!n)return e;var o=[],a=function(e,n){if(e&&e.length){for(var a=e.length-1;a>=0;a--){if(i[f.parserResult.itemName]=e[a],t=f.parserResult.modelMapper(r,i),f.parserResult.trackByExp){var s=/\.(.+)/.exec(f.parserResult.trackByExp);if(s.length>0&&t[s[1]]==n[s[1]])return o.unshift(e[a]),!0}if(angular.equals(t,n))return o.unshift(e[a]),!0}return!1}};if(!e)return o;for(var s=e.length-1;s>=0;s--)a(f.selected,e[s])||a(n,e[s])||o.unshift(e[s]);return o}),r.$watchCollection(function(){return h.$modelValue},function(e,t){t!=e&&(h.$modelValue=null,d.refreshComponent())}),h.$render=function(){if(!angular.isArray(h.$viewValue)){if(!angular.isUndefined(h.$viewValue)&&null!==h.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",h.$viewValue);f.selected=[]}f.selected=h.$viewValue,r.$evalAsync()},r.$on("uis:select",function(e,t){f.selected.push(t),d.updateModel()}),r.$on("uis:activate",function(){d.activeMatchIndex=-1}),r.$watch("$select.disabled",function(e,t){t&&!e&&f.sizeSearchInput()}),f.searchInput.on("keydown",function(t){var n=t.which;r.$apply(function(){var r=!1;e.isHorizontalMovement(n)&&(r=u(n)),r&&n!=e.TAB&&(t.preventDefault(),t.stopPropagation())})}),f.searchInput.on("keyup",function(t){if(e.isVerticalMovement(t.which)||r.$evalAsync(function(){f.activeIndex=f.taggingLabel===!1?-1:0}),f.tagging.isActivated&&f.search.length>0){if(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||e.isVerticalMovement(t.which))return;if(f.activeIndex=f.taggingLabel===!1?-1:0,f.taggingLabel===!1)return;var n,i,o,a,s=angular.copy(f.items),u=angular.copy(f.items),h=!1,d=-1;if(void 0!==f.tagging.fct){if(o=f.$filter("filter")(s,{isTag:!0}),o.length>0&&(a=o[0]),s.length>0&&a&&(h=!0,s=s.slice(1,s.length),u=u.slice(1,u.length)),n=f.tagging.fct(f.search),n.isTag=!0,u.filter(function(e){return angular.equals(e,f.tagging.fct(f.search))}).length>0)return;n.isTag=!0}else{if(o=f.$filter("filter")(s,function(e){return e.match(f.taggingLabel)}),o.length>0&&(a=o[0]),i=s[0],void 0!==i&&s.length>0&&a&&(h=!0,s=s.slice(1,s.length),u=u.slice(1,u.length)),n=f.search+" "+f.taggingLabel,c(f.selected,f.search)>-1)return;if(l(u.concat(f.selected)))return void(h&&(s=u,r.$evalAsync(function(){f.activeIndex=0,f.items=s})));if(l(u))return void(h&&(f.items=u.slice(1,u.length)))}h&&(d=c(f.selected,n)),d>-1?s=s.slice(d+1,s.length-1):(s=[],s.push(n),s=s.concat(u)),r.$evalAsync(function(){f.activeIndex=0,f.items=s})}}),f.searchInput.on("blur",function(){n(function(){d.activeMatchIndex=-1})})}}}]),n.directive("uiSelectSingle",["$timeout","$compile",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(r,i,o,a){var s=a[0],u=a[1];u.$parsers.unshift(function(e){var t,n={};return n[s.parserResult.itemName]=e,t=s.parserResult.modelMapper(r,n)}),u.$formatters.unshift(function(e){var t,n=s.parserResult.source(r,{$select:{search:""}}),i={};if(n){var o=function(n){return i[s.parserResult.itemName]=n,t=s.parserResult.modelMapper(r,i),t==e};if(s.selected&&o(s.selected))return s.selected;for(var a=n.length-1;a>=0;a--)if(o(n[a]))return n[a]}return e}),r.$watch("$select.selected",function(e){u.$viewValue!==e&&u.$setViewValue(e)}),u.$render=function(){s.selected=u.$viewValue},r.$on("uis:select",function(e,t){s.selected=t}),r.$on("uis:close",function(e,n){t(function(){s.focusser.prop("disabled",!1),n||s.focusser[0].focus()},0,!1)}),r.$on("uis:activate",function(){l.prop("disabled",!0)});var l=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");n(l)(r),s.focusser=l,s.focusInput=l,i.parent().append(l),l.bind("focus",function(){r.$evalAsync(function(){s.focus=!0})}),l.bind("blur",function(){r.$evalAsync(function(){s.focus=!1})}),l.bind("keydown",function(t){return t.which===e.BACKSPACE?(t.preventDefault(),t.stopPropagation(),s.select(void 0),void r.$apply()):void(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||((t.which==e.DOWN||t.which==e.UP||t.which==e.ENTER||t.which==e.SPACE)&&(t.preventDefault(),t.stopPropagation(),s.activate()),r.$digest()))}),l.bind("keyup input",function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(s.activate(l.val()),l.val(""),r.$digest())})}}}]),n.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:"^uiSelect",link:function(t,r,i,o){if(null===t[i.uiSelectSort])throw n("sort","Expected a list to sort");var a=angular.extend({axis:"horizontal"},t.$eval(i.uiSelectSortOptions)),s=a.axis,u="dragging",l="dropping",c="dropping-before",f="dropping-after";t.$watch(function(){return o.sortable},function(e){e?r.attr("draggable",!0):r.removeAttr("draggable")}),r.on("dragstart",function(e){r.addClass(u),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text/plain",t.$index)}),r.on("dragend",function(){r.removeClass(u)});var h,d=function(e,t){this.splice(t,0,this.splice(e,1)[0])},p=function(e){e.preventDefault();var t="vertical"===s?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===s?"offsetHeight":"offsetWidth"]/2?(r.removeClass(f),r.addClass(c)):(r.removeClass(c),r.addClass(f))},g=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text/plain"),10);e.cancel(h),h=e(function(){m(n)},20)},m=function(e){var n=t.$eval(i.uiSelectSort),o=n[e],a=null;a=r.hasClass(c)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,d.apply(n,[e,a]),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:o,from:e,to:a})}),r.removeClass(l),r.removeClass(c),r.removeClass(f),r.off("drop",g)};r.on("dragenter",function(){r.hasClass(u)||(r.addClass(l),r.on("dragover",p),r.on("drop",g))}),r.on("dragleave",function(e){e.target==r&&(r.removeClass(l),r.removeClass(c),r.removeClass(f),r.off("dragover",p),r.off("drop",g))})}}}]),n.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var r=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!r)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);return{itemName:r[2],source:t(r[3]),trackByExp:r[4],modelMapper:t(r[1]||r[2])}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups"},n.getNgRepeatExpression=function(e,t,n,r){var i=e+" in "+(r?"$group.items":t);return n&&(i+=" track by "+n),i}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),e.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),
e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}]),/**
 * sifter.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(e=r(String(e||"").toLowerCase()),!e||!e.length)return[];var t,n,o,s,u=[],l=e.split(/ +/);for(t=0,n=l.length;n>t;t++){if(o=i(l[t]),this.settings.diacritics)for(s in a)a.hasOwnProperty(s)&&(o=o.replace(new RegExp(s,"g"),a[s]));u.push({string:l[t],regex:new RegExp(o,"i")})}return u},e.prototype.iterator=function(e,t){var n;n=o(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;n>t;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},n.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var n,r,i,o;n=this,e=n.prepareSearch(e,t),i=e.tokens,r=e.options.fields,o=i.length;var a=function(e,t){var n,r;return e?(e=String(e||""),r=e.search(t.regex),-1===r?0:(n=t.string.length/e.length,0===r&&(n+=.5),n)):0},s=function(){var e=r.length;return e?1===e?function(e,t){return a(t[r[0]],e)}:function(t,n){for(var i=0,o=0;e>i;i++)o+=a(n[r[i]],t);return o/e}:function(){return 0}}();return o?1===o?function(e){return s(i[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,r=0;o>n;n++){if(t=s(i[n],e),0>=t)return 0;r+=t}return r/o}:function(e){for(var t=0,n=0;o>t;t++)n+=s(i[t],e);return n/o}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var r,i,o,a,s,u,l,c,f,h,d;if(o=this,e=o.prepareSearch(e,n),d=!e.query&&n.sort_empty||n.sort,f=function(e,t){return"$score"===e?t.score:o.items[t.id][e]},s=[],d)for(r=0,i=d.length;i>r;r++)(e.query||"$score"!==d[r].field)&&s.push(d[r]);if(e.query){for(h=!0,r=0,i=s.length;i>r;r++)if("$score"===s[r].field){h=!1;break}h&&s.unshift({field:"$score",direction:"desc"})}else for(r=0,i=s.length;i>r;r++)if("$score"===s[r].field){s.splice(r,1);break}for(c=[],r=0,i=s.length;i>r;r++)c.push("desc"===s[r].direction?-1:1);return u=s.length,u?1===u?(a=s[0].field,l=c[0],function(e,n){return l*t(f(a,e),f(a,n))}):function(e,n){var r,i,o;for(r=0;u>r;r++)if(o=s[r].field,i=c[r]*t(f(o,e),f(o,n)))return i;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;t=n({},t);var r=t.fields,i=t.sort,a=t.sort_empty;return r&&!o(r)&&(t.fields=[r]),i&&!o(i)&&(t.sort=[i]),a&&!o(a)&&(t.sort_empty=[a]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var n,r,i,o,a=this;return r=this.prepareSearch(e,t),t=r.options,e=r.query,o=t.score||a.getScoreFunction(r),e.length?a.iterator(a.items,function(e,i){n=o(e),(t.filter===!1||n>0)&&r.items.push({score:n,id:i})}):a.iterator(a.items,function(e,t){r.items.push({score:1,id:t})}),i=a.getSortFunction(r,t),i&&r.items.sort(i),r.total=r.items.length,"number"==typeof t.limit&&(r.items=r.items.slice(0,t.limit)),r};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:t>e?-1:0:(e=s(String(e||"")),t=s(String(t||"")),e>t?1:t>e?-1:0)},n=function(e,t){var n,r,i,o;for(n=1,r=arguments.length;r>n;n++)if(o=arguments[n])for(i in o)o.hasOwnProperty(i)&&(e[i]=o[i]);return e},r=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},i=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},o=Array.isArray||$&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a={a:"[aÀÁÂÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌÍÎÏìíîïĪī]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[sŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},s=function(){var e,t,n,r,i="",o={};for(n in a)if(a.hasOwnProperty(n))for(r=a[n].substring(2,a[n].length-1),i+=r,e=0,t=r.length;t>e;e++)o[r.charAt(e)]=n;var s=new RegExp("["+i+"]","g");return function(e){return e.replace(s,function(e){return o[e]}).toLowerCase()}}();return e}),/**
 * microplugin.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,r,i,o=this,a=[];if(o.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,r=e.length;r>n;n++)"string"==typeof e[n]?a.push(e[n]):(o.plugins.settings[e[n].name]=e[n].options,a.push(e[n].name));else if(e)for(i in e)e.hasOwnProperty(i)&&(o.plugins.settings[i]=e[i],a.push(i));for(;a.length;)o.require(a.shift())},e.prototype.loadPlugin=function(t){var n=this,r=n.plugins,i=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');r.requested[t]=!0,r.loaded[t]=i.fn.apply(n,[n.plugins.settings[t]||{}]),r.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),/**
 * selectize.js (v0.12.1)
 * Copyright (c) 2013–2015 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(e,t){"function"==typeof define&&define.amd?define(["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(e,t,n){"use strict";var r=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,r=function(e){var t=0;if(3===e.nodeType){var i=e.data.search(n);if(i>=0&&e.data.length>0){var o=e.data.match(n),a=document.createElement("span");a.className="highlight";var s=e.splitText(i),u=(s.splitText(o[0].length),s.cloneNode(!0));a.appendChild(u),s.parentNode.replaceChild(a,s),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var l=0;l<e.childNodes.length;++l)l+=r(e.childNodes[l]);return t};return e.each(function(){r(this)})}},i=function(){};i.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=i.prototype[t[n]]};var o=/Mac/.test(navigator.userAgent),a=65,s=13,u=27,l=37,c=38,f=80,h=39,d=40,p=78,g=8,m=46,v=16,y=o?91:17,b=o?18:17,x=9,w=1,$=2,k=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,_=function(e){return"undefined"!=typeof e},S=function(e){return"undefined"==typeof e||null===e?null:"boolean"==typeof e?e?"1":"0":e+""},C=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},E=function(e){return(e+"").replace(/\$/g,"$$$$")},M={};M.before=function(e,t,n){var r=e[t];e[t]=function(){return n.apply(e,arguments),r.apply(e,arguments)}},M.after=function(e,t,n){var r=e[t];e[t]=function(){var t=r.apply(e,arguments);return n.apply(e,arguments),t}};var T=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},A=function(e,t){var n;return function(){var r=this,i=arguments;window.clearTimeout(n),n=window.setTimeout(function(){e.apply(r,i)},t)}},O=function(e,t,n){var r,i=e.trigger,o={};e.trigger=function(){var n=arguments[0];return-1===t.indexOf(n)?i.apply(e,arguments):void(o[n]=arguments)},n.apply(e,[]),e.trigger=i;for(r in o)o.hasOwnProperty(r)&&i.apply(e,o[r])},D=function(e,t,n,r){e.on(t,n,function(t){for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;return t.currentTarget=n,r.apply(this,[t])})},N=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),r=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-r,t.length=r}return t},L=function(e,t,n){var r,i,o={};if(n)for(r=0,i=n.length;i>r;r++)o[n[r]]=e.css(n[r]);else o=e.css();t.css(o)},P=function(t,n){if(!t)return 0;var r=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");L(n,r,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var i=r.width();return r.remove(),i},I=function(e){var t=null,n=function(n,r){var i,o,a,s,u,l,c,f;n=n||window.event||{},r=r||{},n.metaKey||n.altKey||(r.force||e.data("grow")!==!1)&&(i=e.val(),n.type&&"keydown"===n.type.toLowerCase()&&(o=n.keyCode,a=o>=97&&122>=o||o>=65&&90>=o||o>=48&&57>=o||32===o,o===m||o===g?(f=N(e[0]),f.length?i=i.substring(0,f.start)+i.substring(f.start+f.length):o===g&&f.start?i=i.substring(0,f.start-1)+i.substring(f.start+1):o===m&&"undefined"!=typeof f.start&&(i=i.substring(0,f.start)+i.substring(f.start+1))):a&&(l=n.shiftKey,c=String.fromCharCode(n.keyCode),c=l?c.toUpperCase():c.toLowerCase(),i+=c)),s=e.attr("placeholder"),!i&&s&&(i=s),u=P(i,e)+4,u!==t&&(t=u,e.width(u),e.triggerHandler("resize")))};e.on("keydown keyup update blur",n),n()},R=function(n,r){var i,o,a,s,u=this;s=n[0],s.selectize=u;var l=window.getComputedStyle&&window.getComputedStyle(s,null);if(a=l?l.getPropertyValue("direction"):s.currentStyle&&s.currentStyle.direction,a=a||n.parents("[dir]:first").attr("dir")||"",e.extend(u,{order:0,settings:r,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===s.tagName.toLowerCase()?w:$,rtl:/rtl/i.test(a),eventNS:".selectize"+ ++R.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===r.loadThrottle?u.onSearchChange:A(u.onSearchChange,r.loadThrottle)}),u.sifter=new t(this.options,{diacritics:r.diacritics}),u.settings.options){for(i=0,o=u.settings.options.length;o>i;i++)u.registerOption(u.settings.options[i]);delete u.settings.options}if(u.settings.optgroups){for(i=0,o=u.settings.optgroups.length;o>i;i++)u.registerOptionGroup(u.settings.optgroups[i]);delete u.settings.optgroups}u.settings.mode=u.settings.mode||(1===u.settings.maxItems?"single":"multi"),"boolean"!=typeof u.settings.hideSelected&&(u.settings.hideSelected="multi"===u.settings.mode),u.initializePlugins(u.settings.plugins),u.setupCallbacks(),u.setupTemplates(),u.setup()};return i.mixin(R),n.mixin(R),e.extend(R.prototype,{setup:function(){var t,n,r,i,a,s,u,l,c,f=this,h=f.settings,d=f.eventNS,p=e(window),g=e(document),m=f.$input;if(u=f.settings.mode,l=m.attr("class")||"",t=e("<div>").addClass(h.wrapperClass).addClass(l).addClass(u),n=e("<div>").addClass(h.inputClass).addClass("items").appendTo(t),r=e('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",m.is(":disabled")?"-1":f.tabIndex),s=e(h.dropdownParent||t),i=e("<div>").addClass(h.dropdownClass).addClass(u).hide().appendTo(s),a=e("<div>").addClass(h.dropdownContentClass).appendTo(i),f.settings.copyClassesToDropdown&&i.addClass(l),t.css({width:m[0].style.width}),f.plugins.names.length&&(c="plugin-"+f.plugins.names.join(" plugin-"),t.addClass(c),i.addClass(c)),(null===h.maxItems||h.maxItems>1)&&f.tagType===w&&m.attr("multiple","multiple"),f.settings.placeholder&&r.attr("placeholder",h.placeholder),!f.settings.splitOn&&f.settings.delimiter){var x=f.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");f.settings.splitOn=new RegExp("\\s*"+x+"+\\s*")}m.attr("autocorrect")&&r.attr("autocorrect",m.attr("autocorrect")),m.attr("autocapitalize")&&r.attr("autocapitalize",m.attr("autocapitalize")),f.$wrapper=t,f.$control=n,f.$control_input=r,f.$dropdown=i,f.$dropdown_content=a,i.on("mouseenter","[data-selectable]",function(){return f.onOptionHover.apply(f,arguments)}),i.on("mousedown click","[data-selectable]",function(){return f.onOptionSelect.apply(f,arguments)}),D(n,"mousedown","*:not(input)",function(){return f.onItemSelect.apply(f,arguments)}),I(r),n.on({mousedown:function(){return f.onMouseDown.apply(f,arguments)},click:function(){return f.onClick.apply(f,arguments)}}),r.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return f.onKeyDown.apply(f,arguments)},keyup:function(){return f.onKeyUp.apply(f,arguments)},keypress:function(){return f.onKeyPress.apply(f,arguments)},resize:function(){f.positionDropdown.apply(f,[])},blur:function(){return f.onBlur.apply(f,arguments)},focus:function(){return f.ignoreBlur=!1,f.onFocus.apply(f,arguments)},paste:function(){return f.onPaste.apply(f,arguments)}}),g.on("keydown"+d,function(e){f.isCmdDown=e[o?"metaKey":"ctrlKey"],f.isCtrlDown=e[o?"altKey":"ctrlKey"],f.isShiftDown=e.shiftKey}),g.on("keyup"+d,function(e){e.keyCode===b&&(f.isCtrlDown=!1),e.keyCode===v&&(f.isShiftDown=!1),e.keyCode===y&&(f.isCmdDown=!1)}),g.on("mousedown"+d,function(e){if(f.isFocused){if(e.target===f.$dropdown[0]||e.target.parentNode===f.$dropdown[0])return!1;f.$control.has(e.target).length||e.target===f.$control[0]||f.blur(e.target)}}),p.on(["scroll"+d,"resize"+d].join(" "),function(){f.isOpen&&f.positionDropdown.apply(f,arguments)}),p.on("mousemove"+d,function(){f.ignoreHover=!1}),this.revertSettings={$children:m.children().detach(),tabindex:m.attr("tabindex")},m.attr("tabindex",-1).hide().after(f.$wrapper),e.isArray(h.items)&&(f.setValue(h.items),delete h.items),k&&m.on("invalid"+d,function(e){e.preventDefault(),f.isInvalid=!0,f.refreshState()}),f.updateOriginalInput(),f.refreshItems(),f.refreshState(),f.updatePlaceholder(),f.isSetup=!0,m.is(":disabled")&&f.disable(),f.on("change",this.onChange),m.data("selectize",f),m.addClass("selectized"),f.trigger("initialize"),h.preload===!0&&f.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,r=t.settings.optgroupLabelField,i={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[r])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},i,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]],t&&this.on(e,t))},onClick:function(e){var t=this;t.isFocused||(t.focus(),e.preventDefault())},onMouseDown:function(t){{var n=this,r=t.isDefaultPrevented();e(t.target)}if(n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():r||n.setActiveItem(null),!1}else r||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var n=this;n.isFull()||n.isInputHidden||n.isLocked?t.preventDefault():n.settings.splitOn&&setTimeout(function(){for(var t=e.trim(n.$control_input.val()||"").split(n.settings.splitOn),r=0,i=t.length;i>r;r++)n.createItem(t[r])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t=(e.target===this.$control_input[0],this);if(t.isLocked)return void(e.keyCode!==x&&e.preventDefault());switch(e.keyCode){case a:if(t.isCmdDown)return void t.selectAll();break;case u:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case p:if(!e.ctrlKey||e.altKey)break;case d:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case f:if(!e.ctrlKey||e.altKey)break;case c:if(t.$activeOption){t.ignoreHover=!0;var r=t.getAdjacentOption(t.$activeOption,-1);r.length&&t.setActiveOption(r,!0,!0)}return void e.preventDefault();case s:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case l:return void t.advanceSelection(-1,e);case h:return void t.advanceSelection(1,e);case x:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case g:case m:return void t.deleteSelection(e)}return!t.isFull()&&!t.isInputHidden||(o?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(r){n.apply(t,[e,r])})))},onFocus:function(e){var t=this,n=t.isFocused;return t.isDisabled?(t.blur(),e&&e.preventDefault(),!1):void(t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()))},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);var r=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(t||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,r):r()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,r,i=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),r=e(t.currentTarget),r.hasClass("create")?i.createItem(null,function(){i.settings.closeAfterSelect&&i.close()}):(n=r.attr("data-value"),"undefined"!=typeof n&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(n),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&i.setActiveOption(i.getOption(n))))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input,n=t.val()!==e;n&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return this.tagType===w&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){var n=t?[]:["change"];O(this,n,function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(t,n){var r,i,o,a,s,u,l,c,f=this;if("single"!==f.settings.mode){if(t=e(t),!t.length)return e(f.$activeItems).removeClass("active"),f.$activeItems=[],void(f.isFocused&&f.showInput());if(r=n&&n.type.toLowerCase(),"mousedown"===r&&f.isShiftDown&&f.$activeItems.length){for(c=f.$control.children(".active:last"),a=Array.prototype.indexOf.apply(f.$control[0].childNodes,[c[0]]),s=Array.prototype.indexOf.apply(f.$control[0].childNodes,[t[0]]),a>s&&(l=a,a=s,s=l),i=a;s>=i;i++)u=f.$control[0].childNodes[i],-1===f.$activeItems.indexOf(u)&&(e(u).addClass("active"),f.$activeItems.push(u));n.preventDefault()}else"mousedown"===r&&f.isCtrlDown||"keydown"===r&&this.isShiftDown?t.hasClass("active")?(o=f.$activeItems.indexOf(t[0]),f.$activeItems.splice(o,1),t.removeClass("active")):f.$activeItems.push(t.addClass("active")[0]):(e(f.$activeItems).removeClass("active"),f.$activeItems=[t.addClass("active")[0]]);f.hideInput(),this.isFocused||f.focus()}},setActiveOption:function(t,n,r){var i,o,a,s,u,l=this;l.$activeOption&&l.$activeOption.removeClass("active"),l.$activeOption=null,t=e(t),t.length&&(l.$activeOption=t.addClass("active"),(n||!_(n))&&(i=l.$dropdown_content.height(),o=l.$activeOption.outerHeight(!0),n=l.$dropdown_content.scrollTop()||0,a=l.$activeOption.offset().top-l.$dropdown_content.offset().top+n,s=a,u=a-i+o,a+o>i+n?l.$dropdown_content.stop().animate({scrollTop:u},r?l.settings.scrollDuration:0):n>a&&l.$dropdown_content.stop().animate({scrollTop:s},r?l.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var n,r,i,o=this,a=o.settings,s=this.getSearchOptions();if(a.score&&(i=o.settings.score.apply(this,[t]),"function"!=typeof i))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==o.lastQuery?(o.lastQuery=t,r=o.sifter.search(t,e.extend(s,{score:i})),o.currentResults=r):r=e.extend(!0,{},o.currentResults),a.hideSelected)for(n=r.items.length-1;n>=0;n--)-1!==o.items.indexOf(S(r.items[n].id))&&r.items.splice(n,1);return r},refreshOptions:function(t){var n,i,o,a,s,u,l,c,f,h,d,p,g,m,v,y;"undefined"==typeof t&&(t=!0);var b=this,x=e.trim(b.$control_input.val()),w=b.search(x),$=b.$dropdown_content,k=b.$activeOption&&S(b.$activeOption.attr("data-value"));for(a=w.items.length,"number"==typeof b.settings.maxOptions&&(a=Math.min(a,b.settings.maxOptions)),s={},u=[],n=0;a>n;n++)for(l=b.options[w.items[n].id],c=b.render("option",l),f=l[b.settings.optgroupField]||"",h=e.isArray(f)?f:[f],i=0,o=h&&h.length;o>i;i++)f=h[i],b.optgroups.hasOwnProperty(f)||(f=""),s.hasOwnProperty(f)||(s[f]=[],u.push(f)),s[f].push(c);for(this.settings.lockOptgroupOrder&&u.sort(function(e,t){var n=b.optgroups[e].$order||0,r=b.optgroups[t].$order||0;return n-r}),d=[],n=0,a=u.length;a>n;n++)f=u[n],b.optgroups.hasOwnProperty(f)&&s[f].length?(p=b.render("optgroup_header",b.optgroups[f])||"",p+=s[f].join(""),d.push(b.render("optgroup",e.extend({},b.optgroups[f],{html:p})))):d.push(s[f].join(""));if($.html(d.join("")),b.settings.highlight&&w.query.length&&w.tokens.length)for(n=0,a=w.tokens.length;a>n;n++)r($,w.tokens[n].regex);if(!b.settings.hideSelected)for(n=0,a=b.items.length;a>n;n++)b.getOption(b.items[n]).addClass("selected");g=b.canCreate(x),g&&($.prepend(b.render("option_create",{input:x})),y=e($[0].childNodes[0])),b.hasOptions=w.items.length>0||g,b.hasOptions?(w.items.length>0?(v=k&&b.getOption(k),v&&v.length?m=v:"single"===b.settings.mode&&b.items.length&&(m=b.getOption(b.items[0])),m&&m.length||(m=y&&!b.settings.addPrecedence?b.getAdjacentOption(y,1):$.find("[data-selectable]:first"))):m=y,b.setActiveOption(m),t&&!b.isOpen&&b.open()):(b.setActiveOption(null),t&&b.isOpen&&b.close())},addOption:function(t){var n,r,i,o=this;if(e.isArray(t))for(n=0,r=t.length;r>n;n++)o.addOption(t[n]);else(i=o.registerOption(t))&&(o.userOptions[i]=!0,o.lastQuery=null,o.trigger("option_add",i,t))},registerOption:function(e){var t=S(e[this.settings.valueField]);return!t||this.options.hasOwnProperty(t)?!1:(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=S(e[this.settings.optgroupValueField]);return t?(e.$order=e.$order||++this.order,this.optgroups[t]=e,t):!1},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var r,i,o,a,s,u,l,c=this;if(t=S(t),o=S(n[c.settings.valueField]),null!==t&&c.options.hasOwnProperty(t)){if("string"!=typeof o)throw new Error("Value must be set in option data");l=c.options[t].$order,o!==t&&(delete c.options[t],a=c.items.indexOf(t),-1!==a&&c.items.splice(a,1,o)),n.$order=n.$order||l,c.options[o]=n,s=c.renderCache.item,u=c.renderCache.option,s&&(delete s[t],delete s[o]),u&&(delete u[t],delete u[o]),-1!==c.items.indexOf(o)&&(r=c.getItem(t),i=e(c.render("item",n)),r.hasClass("active")&&i.addClass("active"),r.replaceWith(i)),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=S(e);var r=n.renderCache.item,i=n.renderCache.option;r&&delete r[e],i&&delete i[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,n){var r=this.$dropdown.find("[data-selectable]"),i=r.index(t)+n;return i>=0&&i<r.length?r.eq(i):e()},getElementWithValue:function(t,n){if(t=S(t),"undefined"!=typeof t&&null!==t)for(var r=0,i=n.length;i>r;r++)if(n[r].getAttribute("data-value")===t)return e(n[r]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,n){for(var r=e.isArray(t)?t:[t],i=0,o=r.length;o>i;i++)this.isPending=o-1>i,this.addItem(r[i],n)},addItem:function(t,n){var r=n?[]:["change"];O(this,r,function(){var r,i,o,a,s,u=this,l=u.settings.mode;return t=S(t),-1!==u.items.indexOf(t)?void("single"===l&&u.close()):void(u.options.hasOwnProperty(t)&&("single"===l&&u.clear(n),"multi"===l&&u.isFull()||(r=e(u.render("item",u.options[t])),s=u.isFull(),u.items.splice(u.caretPos,0,t),u.insertAtCaret(r),(!u.isPending||!s&&u.isFull())&&u.refreshState(),u.isSetup&&(o=u.$dropdown_content.find("[data-selectable]"),u.isPending||(i=u.getOption(t),a=u.getAdjacentOption(i,1).attr("data-value"),u.refreshOptions(u.isFocused&&"single"!==l),a&&u.setActiveOption(u.getOption(a))),!o.length||u.isFull()?u.close():u.positionDropdown(),u.updatePlaceholder(),u.trigger("item_add",t,r),u.updateOriginalInput({silent:n})))))})},removeItem:function(e,t){var n,r,i,o=this;n="object"==typeof e?e:o.getItem(e),e=S(n.attr("data-value")),r=o.items.indexOf(e),-1!==r&&(n.remove(),n.hasClass("active")&&(i=o.$activeItems.indexOf(n[0]),o.$activeItems.splice(i,1)),o.items.splice(r,1),o.lastQuery=null,!o.settings.persist&&o.userOptions.hasOwnProperty(e)&&o.removeOption(e,t),r<o.caretPos&&o.setCaret(o.caretPos-1),o.refreshState(),o.updatePlaceholder(),o.updateOriginalInput({silent:t}),o.positionDropdown(),o.trigger("item_remove",e,n))},createItem:function(t,n){var r=this,i=r.caretPos;t=t||e.trim(r.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof n&&(n=!0),!r.canCreate(t))return o(),!1;r.lock();var a="function"==typeof r.settings.create?this.settings.create:function(e){var t={};return t[r.settings.labelField]=e,t[r.settings.valueField]=e,t},s=T(function(e){if(r.unlock(),!e||"object"!=typeof e)return o();var t=S(e[r.settings.valueField]);return"string"!=typeof t?o():(r.setTextboxValue(""),r.addOption(e),r.setCaret(i),r.addItem(t),r.refreshOptions(n&&"single"!==r.settings.mode),void o(e))}),u=a.apply(this,[t,s]);return"undefined"!=typeof u&&s(u),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var e,t=this;t.isRequired&&(t.items.length&&(t.isInvalid=!1),t.$control_input.prop("required",e)),t.refreshClasses()},refreshClasses:function(){var t=this,n=t.isFull(),r=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",r).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!r)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,r,i,o=this;if(e=e||{},o.tagType===w){for(r=[],t=0,n=o.items.length;n>t;t++)i=o.options[o.items[t]][o.settings.labelField]||"",r.push('<option value="'+C(o.items[t])+'" selected="selected">'+C(i)+"</option>");r.length||this.$input.attr("multiple")||r.push('<option value="" selected="selected"></option>'),o.$input.html(r.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&(e.silent||o.trigger("change",o.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(t):e(this.$control[0].childNodes[n]).before(t),this.setCaret(n+1)},deleteSelection:function(t){var n,r,i,o,a,s,u,l,c,f=this;if(i=t&&t.keyCode===g?-1:1,o=N(f.$control_input[0]),f.$activeOption&&!f.settings.hideSelected&&(u=f.getAdjacentOption(f.$activeOption,-1).attr("data-value")),a=[],f.$activeItems.length){for(c=f.$control.children(".active:"+(i>0?"last":"first")),s=f.$control.children(":not(input)").index(c),i>0&&s++,n=0,r=f.$activeItems.length;r>n;n++)a.push(e(f.$activeItems[n]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(f.isFocused||"single"===f.settings.mode)&&f.items.length&&(0>i&&0===o.start&&0===o.length?a.push(f.items[f.caretPos-1]):i>0&&o.start===f.$control_input.val().length&&a.push(f.items[f.caretPos]));if(!a.length||"function"==typeof f.settings.onDelete&&f.settings.onDelete.apply(f,[a])===!1)return!1;for("undefined"!=typeof s&&f.setCaret(s);a.length;)f.removeItem(a.pop());return f.showInput(),f.positionDropdown(),f.refreshOptions(!0),u&&(l=f.getOption(u),l.length&&f.setActiveOption(l)),!0},advanceSelection:function(e,t){var n,r,i,o,a,s,u=this;0!==e&&(u.rtl&&(e*=-1),n=e>0?"last":"first",r=N(u.$control_input[0]),u.isFocused&&!u.isInputHidden?(o=u.$control_input.val().length,a=0>e?0===r.start&&0===r.length:r.start===o,a&&!o&&u.advanceCaret(e,t)):(s=u.$control.children(".active:"+n),s.length&&(i=u.$control.children(":not(input)").index(s),u.setActiveItem(null),u.setCaret(e>0?i+1:i))))},advanceCaret:function(e,t){var n,r,i=this;0!==e&&(n=e>0?"next":"prev",i.isShiftDown?(r=i.$control_input[n](),r.length&&(i.hideInput(),i.setActiveItem(r),t&&t.preventDefault())):i.setCaret(i.caretPos+e))},setCaret:function(t){var n=this;if(t="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,t)),!n.isPending){var r,i,o,a;for(o=n.$control.children(":not(input)"),r=0,i=o.length;i>r;r++)a=e(o[r]).detach(),t>r?n.$control_input.before(a):n.$control.append(a)}n.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,r=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(r.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:r.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(e,t){var n,r,i="",o=!1,a=this,s=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return("option"===e||"item"===e)&&(n=S(t[a.settings.valueField]),o=!!n),o&&(_(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(n))?a.renderCache[e][n]:(i=a.settings.render[e].apply(this,[t,C]),("option"===e||"option_create"===e)&&(i=i.replace(s,"<$1 data-selectable")),"optgroup"===e&&(r=t[a.settings.optgroupValueField]||"",i=i.replace(s,'<$1 data-group="'+E(C(r))+'"')),("option"===e||"item"===e)&&(i=i.replace(s,'<$1 data-value="'+E(C(n||""))+'"')),o&&(a.renderCache[e][n]=i),i)},clearCache:function(e){var t=this;"undefined"==typeof e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return!(!e.length||"function"==typeof n&&!n.apply(t,[e])||"string"==typeof n&&!new RegExp(n).test(e)||n instanceof RegExp&&!n.test(e))}}),R.count=0,R.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var n=e.fn.selectize.defaults,r=e.extend({},n,t),i=r.dataAttr,o=r.labelField,a=r.valueField,s=r.optgroupField,u=r.optgroupLabelField,l=r.optgroupValueField,c=function(t,n){var s,u,l,c,f=t.attr(i);if(f)for(n.options=JSON.parse(f),s=0,u=n.options.length;u>s;s++)n.items.push(n.options[s][a]);else{var h=e.trim(t.val()||"");if(!r.allowEmptyOption&&!h.length)return;for(l=h.split(r.delimiter),s=0,u=l.length;u>s;s++)c={},c[o]=l[s],c[a]=l[s],n.options.push(c);n.items=l}},f=function(t,n){var c,f,h,d,p=n.options,g={},m=function(e){var t=i&&e.attr(i);return"string"==typeof t&&t.length?JSON.parse(t):null},v=function(t,i){t=e(t);var u=S(t.attr("value"));if(u||r.allowEmptyOption)if(g.hasOwnProperty(u)){if(i){var l=g[u][s];l?e.isArray(l)?l.push(i):g[u][s]=[l,i]:g[u][s]=i}}else{var c=m(t)||{};c[o]=c[o]||t.text(),c[a]=c[a]||u,c[s]=c[s]||i,g[u]=c,p.push(c),t.is(":selected")&&n.items.push(u);

}},y=function(t){var r,i,o,a,s;for(t=e(t),o=t.attr("label"),o&&(a=m(t)||{},a[u]=o,a[l]=o,n.optgroups.push(a)),s=e("option",t),r=0,i=s.length;i>r;r++)v(s[r],o)};for(n.maxItems=t.attr("multiple")?null:1,d=t.children(),c=0,f=d.length;f>c;c++)h=d[c].tagName.toLowerCase(),"optgroup"===h?y(d[c]):"option"===h&&v(d[c])};return this.each(function(){if(!this.selectize){var i,o=e(this),a=this.tagName.toLowerCase(),s=o.attr("placeholder")||o.attr("data-placeholder");s||r.allowEmptyOption||(s=o.children('option[value=""]').text());var u={placeholder:s,options:[],optgroups:[],items:[]};"select"===a?f(o,u):c(o,u),i=new R(o,e.extend(!0,{},n,u,t))}})},e.fn.selectize.defaults=R.defaults,e.fn.selectize.support={validity:k},R.define("drag_drop",function(t){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=function(){var e=n.lock;return function(){var t=n.$control.data("sortable");return t&&t.disable(),e.apply(n,arguments)}}(),n.unlock=function(){var e=n.unlock;return function(){var t=n.$control.data("sortable");return t&&t.enable(),e.apply(n,arguments)}}(),n.setup=function(){var t=n.setup;return function(){t.apply(this,arguments);var r=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),r.css({overflow:"visible"})},stop:function(){r.css({overflow:"hidden"});var t=n.$activeItems?n.$activeItems.slice():null,i=[];r.children("[data-value]").each(function(){i.push(e(this).attr("data-value"))}),n.setValue(i),n.setActiveItem(t)}})}}()}}),R.define("dropdown_header",function(t){var n=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),n.setup=function(){var r=n.setup;return function(){r.apply(n,arguments),n.$dropdown_header=e(t.html(t)),n.$dropdown.prepend(n.$dropdown_header)}}()}),R.define("optgroup_columns",function(t){var n=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,n){var r=t.closest("[data-group]").find("[data-selectable]"),i=r.index(t)+n;return i>=0&&i<r.length?r.eq(i):e()},this.onKeyDown=function(){var e=n.onKeyDown;return function(t){var r,i,o,a;return!this.isOpen||t.keyCode!==l&&t.keyCode!==h?e.apply(this,arguments):(n.ignoreHover=!0,a=this.$activeOption.closest("[data-group]"),r=a.find("[data-selectable]").index(this.$activeOption),a=t.keyCode===l?a.prev("[data-group]"):a.next("[data-group]"),o=a.find("[data-selectable]"),i=o.eq(Math.min(o.length-1,r)),void(i.length&&this.setActiveOption(i)))}}();var r=function(){var e,t=r.width,n=document;return"undefined"==typeof t&&(e=n.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=r.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t},i=function(){var i,o,a,s,u,l,c;if(c=e("[data-group]",n.$dropdown_content),o=c.length,o&&n.$dropdown_content.width()){if(t.equalizeHeight){for(a=0,i=0;o>i;i++)a=Math.max(a,c.eq(i).height());c.css({height:a})}t.equalizeWidth&&(l=n.$dropdown_content.innerWidth()-r(),s=Math.round(l/o),c.css({width:s}),o>1&&(u=l-s*(o-1),c.eq(o-1).css({width:u})))}};(t.equalizeHeight||t.equalizeWidth)&&(M.after(this,"positionDropdown",i),M.after(this,"refreshOptions",i))}),R.define("remove_button",function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n=this,r='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+C(t.title)+'">'+t.label+"</a>",i=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};this.setup=function(){var o=n.setup;return function(){if(t.append){var a=n.settings.render.item;n.settings.render.item=function(e){return i(a.apply(this,arguments),r)}}o.apply(this,arguments),this.$control.on("click","."+t.className,function(t){if(t.preventDefault(),!n.isLocked){var r=e(t.currentTarget).parent();n.setActiveItem(r),n.deleteSelection()&&n.setCaret(n.items.length)}})}}()}}),R.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var n=t.onKeyDown;return function(t){var r,i;return t.keyCode===g&&""===this.$control_input.val()&&!this.$activeItems.length&&(r=this.caretPos-1,r>=0&&r<this.items.length)?(i=this.options[this.items[r]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[i])),this.refreshOptions(!0)),void t.preventDefault()):n.apply(this,arguments)}}()}),R});